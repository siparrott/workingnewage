const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CLgqEfdi.js","assets/vendor-DZkXyRe8.js","assets/router-5hN9ru4p.js"])))=>i.map(i=>d[i]);
var LG=Object.defineProperty;var xA=e=>{throw TypeError(e)};var IG=(e,t,n)=>t in e?LG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fn=(e,t,n)=>IG(e,typeof t!="symbol"?t+"":t,n),aN=(e,t,n)=>t.has(e)||xA("Cannot "+n);var Ee=(e,t,n)=>(aN(e,t,"read from private field"),n?n.call(e):t.get(e)),zt=(e,t,n)=>t.has(e)?xA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),bt=(e,t,n,s)=>(aN(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),wr=(e,t,n)=>(aN(e,t,"access private method"),n);var Yv=(e,t,n,s)=>({set _(a){bt(e,t,a,n)},get _(){return Ee(e,t,s)}});import{r as j,a as Wy,c as Uo,g as en,b as xe,R as nM,d as MG}from"./vendor-DZkXyRe8.js";import{u as Vy,L as Vt,a as un,b as DG,c as Ri,N as U4,B as RG,R as FG,d as ht}from"./router-5hN9ru4p.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var sM={exports:{}},Gw={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $G=j,BG=Symbol.for("react.element"),zG=Symbol.for("react.fragment"),UG=Object.prototype.hasOwnProperty,qG=$G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WG={key:!0,ref:!0,__self:!0,__source:!0};function aM(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)UG.call(t,s)&&!WG.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:BG,type:e,key:i,ref:o,props:a,_owner:qG.current}}Gw.Fragment=zG;Gw.jsx=aM;Gw.jsxs=aM;sM.exports=Gw;var r=sM.exports,iM,yA=Wy;iM=yA.createRoot,yA.hydrateRoot;var Bg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vf=typeof window>"u"||"Deno"in globalThis;function hi(){}function VG(e,t){return typeof e=="function"?e(t):e}function q5(e){return typeof e=="number"&&e>=0&&e!==1/0}function oM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qu(e,t){return typeof e=="function"?e(t):e}function zo(e,t){return typeof e=="function"?e(t):e}function vA(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==q4(o,t.options))return!1}else if(!$0(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function bA(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Hf(t.options.mutationKey)!==Hf(i))return!1}else if(!$0(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function q4(e,t){return(t?.queryKeyHashFn||Hf)(e)}function Hf(e){return JSON.stringify(e,(t,n)=>W5(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function $0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>$0(e[n],t[n])):!1}function lM(e,t){if(e===t)return e;const n=wA(e)&&wA(t);if(n||W5(e)&&W5(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=lM(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function s1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function wA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W5(e){if(!jA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!jA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jA(e){return Object.prototype.toString.call(e)==="[object Object]"}function HG(e){return new Promise(t=>{setTimeout(t,e)})}function V5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lM(e,t):t}function GG(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function KG(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var W4=Symbol();function cM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===W4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function dM(e,t){return typeof e=="function"?e(...t):!!e}var Ef,Fu,zp,GI,YG=(GI=class extends Bg{constructor(){super();zt(this,Ef);zt(this,Fu);zt(this,zp);bt(this,zp,t=>{if(!Vf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ee(this,Fu)||this.setEventListener(Ee(this,zp))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,Fu))==null||t.call(this),bt(this,Fu,void 0))}setEventListener(t){var n;bt(this,zp,t),(n=Ee(this,Fu))==null||n.call(this),bt(this,Fu,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Ee(this,Ef)!==t&&(bt(this,Ef,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){return typeof Ee(this,Ef)=="boolean"?Ee(this,Ef):globalThis.document?.visibilityState!=="hidden"}},Ef=new WeakMap,Fu=new WeakMap,zp=new WeakMap,GI),V4=new YG,Up,$u,qp,KI,ZG=(KI=class extends Bg{constructor(){super();zt(this,Up,!0);zt(this,$u);zt(this,qp);bt(this,qp,t=>{if(!Vf&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){Ee(this,$u)||this.setEventListener(Ee(this,qp))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,$u))==null||t.call(this),bt(this,$u,void 0))}setEventListener(t){var n;bt(this,qp,t),(n=Ee(this,$u))==null||n.call(this),bt(this,$u,t(this.setOnline.bind(this)))}setOnline(t){Ee(this,Up)!==t&&(bt(this,Up,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Ee(this,Up)}},Up=new WeakMap,$u=new WeakMap,qp=new WeakMap,KI),a1=new ZG;function H5(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function XG(e){return Math.min(1e3*2**e,3e4)}function uM(e){return(e??"online")==="online"?a1.isOnline():!0}var hM=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function fM(e){let t=!1,n=0,s;const a=H5(),i=()=>a.status!=="pending",o=g=>{i()||(p(new hM(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>V4.isFocused()&&(e.networkMode==="always"||a1.isOnline())&&e.canRun(),u=()=>uM(e.networkMode)&&e.canRun(),h=g=>{i()||(s?.(),a.resolve(g))},p=g=>{i()||(s?.(),a.reject(g))},f=()=>new Promise(g=>{s=v=>{(i()||d())&&g(v)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),x=()=>{if(i())return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{if(i())return;const _=e.retry??(Vf?0:3),w=e.retryDelay??XG,S=typeof w=="function"?w(n,b):w,A=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(t||!A){p(b);return}n++,e.onFail?.(n,b),HG(S).then(()=>d()?void 0:f()).then(()=>{t?p(b):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s?.(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():f().then(x),a)}}var JG=e=>setTimeout(e,0);function QG(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=JG;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Qs=QG(),Tf,YI,mM=(YI=class{constructor(){zt(this,Tf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),q5(this.gcTime)&&bt(this,Tf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vf?1/0:5*60*1e3))}clearGcTimeout(){Ee(this,Tf)&&(clearTimeout(Ee(this,Tf)),bt(this,Tf,void 0))}},Tf=new WeakMap,YI),Wp,Vp,Bo,Of,ha,By,Lf,Nl,od,ZI,eK=(ZI=class extends mM{constructor(t){super();zt(this,Nl);zt(this,Wp);zt(this,Vp);zt(this,Bo);zt(this,Of);zt(this,ha);zt(this,By);zt(this,Lf);bt(this,Lf,!1),bt(this,By,t.defaultOptions),this.setOptions(t.options),this.observers=[],bt(this,Of,t.client),bt(this,Bo,Ee(this,Of).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,bt(this,Wp,tK(this.options)),this.state=t.state??Ee(this,Wp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Ee(this,ha)?.promise}setOptions(t){this.options={...Ee(this,By),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ee(this,Bo).remove(this)}setData(t,n){const s=V5(this.state.data,t,this.options);return wr(this,Nl,od).call(this,{data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(t,n){wr(this,Nl,od).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){const n=Ee(this,ha)?.promise;return Ee(this,ha)?.cancel(t),n?n.then(hi).catch(hi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,Wp))}isActive(){return this.observers.some(t=>zo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!oM(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Ee(this,ha)?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Ee(this,ha)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ee(this,Bo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Ee(this,ha)&&(Ee(this,Lf)?Ee(this,ha).cancel({revert:!0}):Ee(this,ha).cancelRetry()),this.scheduleGc()),Ee(this,Bo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wr(this,Nl,od).call(this,{type:"invalidate"})}async fetch(t,n){if(this.state.fetchStatus!=="idle"&&Ee(this,ha)?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(Ee(this,ha))return Ee(this,ha).continueRetry(),Ee(this,ha).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const s=new AbortController,a=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(bt(this,Lf,!0),s.signal)})},i=()=>{const c=cM(this.options,n),u=(()=>{const h={client:Ee(this,Of),queryKey:this.queryKey,meta:this.meta};return a(h),h})();return bt(this,Lf,!1),this.options.persister?this.options.persister(c,u,this):c(u)},l=(()=>{const c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ee(this,Of),state:this.state,fetchFn:i};return a(c),c})();this.options.behavior?.onFetch(l,this),bt(this,Vp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&wr(this,Nl,od).call(this,{type:"fetch",meta:l.fetchOptions?.meta}),bt(this,ha,fM({initialPromise:n?.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onFail:(c,d)=>{wr(this,Nl,od).call(this,{type:"failed",failureCount:c,error:d})},onPause:()=>{wr(this,Nl,od).call(this,{type:"pause"})},onContinue:()=>{wr(this,Nl,od).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const c=await Ee(this,ha).start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),Ee(this,Bo).config.onSuccess?.(c,this),Ee(this,Bo).config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof hM){if(c.silent)return Ee(this,ha).promise;if(c.revert){if(this.setState({...Ee(this,Vp),fetchStatus:"idle"}),this.state.data===void 0)throw c;return this.state.data}}throw wr(this,Nl,od).call(this,{type:"error",error:c}),Ee(this,Bo).config.onError?.(c,this),Ee(this,Bo).config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}},Wp=new WeakMap,Vp=new WeakMap,Bo=new WeakMap,Of=new WeakMap,ha=new WeakMap,By=new WeakMap,Lf=new WeakMap,Nl=new WeakSet,od=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...pM(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return bt(this,Vp,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Qs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ee(this,Bo).notify({query:this,type:"updated",action:t})})},ZI);function pM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cc,XI,rK=(XI=class extends Bg{constructor(t={}){super();zt(this,cc);this.config=t,bt(this,cc,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??q4(a,n);let o=this.get(i);return o||(o=new eK({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Ee(this,cc).has(t.queryHash)||(Ee(this,cc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ee(this,cc).get(t.queryHash);n&&(t.destroy(),n===t&&Ee(this,cc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ee(this,cc).get(t)}getAll(){return[...Ee(this,cc).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>vA(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>vA(t,s)):n}notify(t){Qs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cc=new WeakMap,XI),dc,ci,If,uc,Pu,JI,nK=(JI=class extends mM{constructor(t){super();zt(this,uc);zt(this,dc);zt(this,ci);zt(this,If);this.mutationId=t.mutationId,bt(this,ci,t.mutationCache),bt(this,dc,[]),this.state=t.state||gM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ee(this,dc).includes(t)||(Ee(this,dc).push(t),this.clearGcTimeout(),Ee(this,ci).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){bt(this,dc,Ee(this,dc).filter(n=>n!==t)),this.scheduleGc(),Ee(this,ci).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ee(this,dc).length||(this.state.status==="pending"?this.scheduleGc():Ee(this,ci).remove(this))}continue(){return Ee(this,If)?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{wr(this,uc,Pu).call(this,{type:"continue"})};bt(this,If,fM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{wr(this,uc,Pu).call(this,{type:"failed",failureCount:i,error:o})},onPause:()=>{wr(this,uc,Pu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,ci).canRun(this)}));const s=this.state.status==="pending",a=!Ee(this,If).canStart();try{if(s)n();else{wr(this,uc,Pu).call(this,{type:"pending",variables:t,isPaused:a}),await Ee(this,ci).config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&wr(this,uc,Pu).call(this,{type:"pending",context:o,variables:t,isPaused:a})}const i=await Ee(this,If).start();return await Ee(this,ci).config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await Ee(this,ci).config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),wr(this,uc,Pu).call(this,{type:"success",data:i}),i}catch(i){try{throw await Ee(this,ci).config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await Ee(this,ci).config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{wr(this,uc,Pu).call(this,{type:"error",error:i})}}finally{Ee(this,ci).runNext(this)}}},dc=new WeakMap,ci=new WeakMap,If=new WeakMap,uc=new WeakSet,Pu=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qs.batch(()=>{Ee(this,dc).forEach(s=>{s.onMutationUpdate(t)}),Ee(this,ci).notify({mutation:this,type:"updated",action:t})})},JI);function gM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hd,Sl,zy,QI,sK=(QI=class extends Bg{constructor(t={}){super();zt(this,hd);zt(this,Sl);zt(this,zy);this.config=t,bt(this,hd,new Set),bt(this,Sl,new Map),bt(this,zy,0)}build(t,n,s){const a=new nK({mutationCache:this,mutationId:++Yv(this,zy)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){Ee(this,hd).add(t);const n=Zv(t);if(typeof n=="string"){const s=Ee(this,Sl).get(n);s?s.push(t):Ee(this,Sl).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ee(this,hd).delete(t)){const n=Zv(t);if(typeof n=="string"){const s=Ee(this,Sl).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&Ee(this,Sl).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Zv(t);if(typeof n=="string"){const a=Ee(this,Sl).get(n)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const n=Zv(t);return typeof n=="string"?Ee(this,Sl).get(n)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Qs.batch(()=>{Ee(this,hd).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ee(this,hd).clear(),Ee(this,Sl).clear()})}getAll(){return Array.from(Ee(this,hd))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>bA(n,s))}findAll(t={}){return this.getAll().filter(n=>bA(t,n))}notify(t){Qs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qs.batch(()=>Promise.all(t.map(n=>n.continue().catch(hi))))}},hd=new WeakMap,Sl=new WeakMap,zy=new WeakMap,QI);function Zv(e){return e.options.scope?.id}function NA(e){return{onFetch:(t,n)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=cM(t.options,t.fetchOptions),f=async(x,g,v)=>{if(u)return Promise.reject();if(g==null&&x.pages.length)return Promise.resolve(x);const _=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return h(L),L})(),w=await p(_),{maxPages:S}=t.options,A=v?KG:GG;return{pages:A(x.pages,w,S),pageParams:A(x.pageParams,g,S)}};if(a&&i.length){const x=a==="backward",g=x?aK:SA,v={pages:i,pageParams:o},b=g(s,v);l=await f(v,b,x)}else{const x=e??i.length;do{const g=c===0?o[0]??s.initialPageParam:SA(s,l);if(c>0&&g==null)break;l=await f(l,g),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function SA(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function aK(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var ps,Bu,zu,Hp,Gp,Uu,Kp,Yp,eM,iK=(eM=class{constructor(e={}){zt(this,ps);zt(this,Bu);zt(this,zu);zt(this,Hp);zt(this,Gp);zt(this,Uu);zt(this,Kp);zt(this,Yp);bt(this,ps,e.queryCache||new rK),bt(this,Bu,e.mutationCache||new sK),bt(this,zu,e.defaultOptions||{}),bt(this,Hp,new Map),bt(this,Gp,new Map),bt(this,Uu,0)}mount(){Yv(this,Uu)._++,Ee(this,Uu)===1&&(bt(this,Kp,V4.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ee(this,ps).onFocus())})),bt(this,Yp,a1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ee(this,ps).onOnline())})))}unmount(){var e,t;Yv(this,Uu)._--,Ee(this,Uu)===0&&((e=Ee(this,Kp))==null||e.call(this),bt(this,Kp,void 0),(t=Ee(this,Yp))==null||t.call(this),bt(this,Yp,void 0))}isFetching(e){return Ee(this,ps).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ee(this,Bu).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return Ee(this,ps).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ee(this,ps).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qu(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Ee(this,ps).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=Ee(this,ps).get(s.queryHash)?.state.data,o=VG(t,i);if(o!==void 0)return Ee(this,ps).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Qs.batch(()=>Ee(this,ps).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return Ee(this,ps).get(t.queryHash)?.state}removeQueries(e){const t=Ee(this,ps);Qs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ee(this,ps);return Qs.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Qs.batch(()=>Ee(this,ps).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(hi).catch(hi)}invalidateQueries(e,t={}){return Qs.batch(()=>(Ee(this,ps).findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Qs.batch(()=>Ee(this,ps).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(hi)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(hi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ee(this,ps).build(this,t);return n.isStaleByTime(Qu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(hi).catch(hi)}fetchInfiniteQuery(e){return e.behavior=NA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(hi).catch(hi)}ensureInfiniteQueryData(e){return e.behavior=NA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return a1.isOnline()?Ee(this,Bu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,ps)}getMutationCache(){return Ee(this,Bu)}getDefaultOptions(){return Ee(this,zu)}setDefaultOptions(e){bt(this,zu,e)}setQueryDefaults(e,t){Ee(this,Hp).set(Hf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ee(this,Hp).values()],n={};return t.forEach(s=>{$0(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){Ee(this,Gp).set(Hf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ee(this,Gp).values()],n={};return t.forEach(s=>{$0(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ee(this,zu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=q4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===W4&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...Ee(this,zu).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ee(this,ps).clear(),Ee(this,Bu).clear()}},ps=new WeakMap,Bu=new WeakMap,zu=new WeakMap,Hp=new WeakMap,Gp=new WeakMap,Uu=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,eM),Ci,$r,Uy,di,Mf,Zp,fd,qu,qy,Xp,Jp,Df,Rf,Wu,Qp,cn,d0,G5,K5,Y5,Z5,X5,J5,Q5,xM,tM,oK=(tM=class extends Bg{constructor(t,n){super();zt(this,cn);zt(this,Ci);zt(this,$r);zt(this,Uy);zt(this,di);zt(this,Mf);zt(this,Zp);zt(this,fd);zt(this,qu);zt(this,qy);zt(this,Xp);zt(this,Jp);zt(this,Df);zt(this,Rf);zt(this,Wu);zt(this,Qp,new Set);this.options=n,bt(this,Ci,t),bt(this,qu,null),bt(this,fd,H5()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ee(this,$r).addObserver(this),_A(Ee(this,$r),this.options)?wr(this,cn,d0).call(this):this.updateResult(),wr(this,cn,Z5).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eS(Ee(this,$r),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eS(Ee(this,$r),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,wr(this,cn,X5).call(this),wr(this,cn,J5).call(this),Ee(this,$r).removeObserver(this)}setOptions(t){const n=this.options,s=Ee(this,$r);if(this.options=Ee(this,Ci).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zo(this.options.enabled,Ee(this,$r))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");wr(this,cn,Q5).call(this),Ee(this,$r).setOptions(this.options),n._defaulted&&!s1(this.options,n)&&Ee(this,Ci).getQueryCache().notify({type:"observerOptionsUpdated",query:Ee(this,$r),observer:this});const a=this.hasListeners();a&&kA(Ee(this,$r),s,this.options,n)&&wr(this,cn,d0).call(this),this.updateResult(),a&&(Ee(this,$r)!==s||zo(this.options.enabled,Ee(this,$r))!==zo(n.enabled,Ee(this,$r))||Qu(this.options.staleTime,Ee(this,$r))!==Qu(n.staleTime,Ee(this,$r)))&&wr(this,cn,G5).call(this);const i=wr(this,cn,K5).call(this);a&&(Ee(this,$r)!==s||zo(this.options.enabled,Ee(this,$r))!==zo(n.enabled,Ee(this,$r))||i!==Ee(this,Wu))&&wr(this,cn,Y5).call(this,i)}getOptimisticResult(t){const n=Ee(this,Ci).getQueryCache().build(Ee(this,Ci),t),s=this.createResult(n,t);return cK(this,s)&&(bt(this,di,s),bt(this,Zp,this.options),bt(this,Mf,Ee(this,$r).state)),s}getCurrentResult(){return Ee(this,di)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&Ee(this,fd).status==="pending"&&Ee(this,fd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){Ee(this,Qp).add(t)}getCurrentQuery(){return Ee(this,$r)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Ee(this,Ci).defaultQueryOptions(t),s=Ee(this,Ci).getQueryCache().build(Ee(this,Ci),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return wr(this,cn,d0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ee(this,di)))}createResult(t,n){const s=Ee(this,$r),a=this.options,i=Ee(this,di),o=Ee(this,Mf),l=Ee(this,Zp),d=t!==s?t.state:Ee(this,Uy),{state:u}=t;let h={...u},p=!1,f;if(n._optimisticResults){const C=this.hasListeners(),R=!C&&_A(t,n),E=C&&kA(t,s,n,a);(R||E)&&(h={...h,...pM(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:v}=h;f=h.data;let b=!1;if(n.placeholderData!==void 0&&f===void 0&&v==="pending"){let C;i?.isPlaceholderData&&n.placeholderData===l?.placeholderData?(C=i.data,b=!0):C=typeof n.placeholderData=="function"?n.placeholderData(Ee(this,Jp)?.state.data,Ee(this,Jp)):n.placeholderData,C!==void 0&&(v="success",f=V5(i?.data,C,n),p=!0)}if(n.select&&f!==void 0&&!b)if(i&&f===o?.data&&n.select===Ee(this,qy))f=Ee(this,Xp);else try{bt(this,qy,n.select),f=n.select(f),f=V5(i?.data,f,n),bt(this,Xp,f),bt(this,qu,null)}catch(C){bt(this,qu,C)}Ee(this,qu)&&(x=Ee(this,qu),f=Ee(this,Xp),g=Date.now(),v="error");const _=h.fetchStatus==="fetching",w=v==="pending",S=v==="error",A=w&&_,L=f!==void 0,k={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:v==="success",isError:S,isInitialLoading:A,isLoading:A,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:S&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&L,isStale:H4(t,n),refetch:this.refetch,promise:Ee(this,fd),isEnabled:zo(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=I=>{k.status==="error"?I.reject(k.error):k.data!==void 0&&I.resolve(k.data)},R=()=>{const I=bt(this,fd,k.promise=H5());C(I)},E=Ee(this,fd);switch(E.status){case"pending":t.queryHash===s.queryHash&&C(E);break;case"fulfilled":(k.status==="error"||k.data!==E.value)&&R();break;case"rejected":(k.status!=="error"||k.error!==E.reason)&&R();break}}return k}updateResult(){const t=Ee(this,di),n=this.createResult(Ee(this,$r),this.options);if(bt(this,Mf,Ee(this,$r).state),bt(this,Zp,this.options),Ee(this,Mf).data!==void 0&&bt(this,Jp,Ee(this,$r)),s1(n,t))return;bt(this,di,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Ee(this,Qp).size)return!0;const o=new Set(i??Ee(this,Qp));return this.options.throwOnError&&o.add("error"),Object.keys(Ee(this,di)).some(l=>{const c=l;return Ee(this,di)[c]!==t[c]&&o.has(c)})};wr(this,cn,xM).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&wr(this,cn,Z5).call(this)}},Ci=new WeakMap,$r=new WeakMap,Uy=new WeakMap,di=new WeakMap,Mf=new WeakMap,Zp=new WeakMap,fd=new WeakMap,qu=new WeakMap,qy=new WeakMap,Xp=new WeakMap,Jp=new WeakMap,Df=new WeakMap,Rf=new WeakMap,Wu=new WeakMap,Qp=new WeakMap,cn=new WeakSet,d0=function(t){wr(this,cn,Q5).call(this);let n=Ee(this,$r).fetch(this.options,t);return t?.throwOnError||(n=n.catch(hi)),n},G5=function(){wr(this,cn,X5).call(this);const t=Qu(this.options.staleTime,Ee(this,$r));if(Vf||Ee(this,di).isStale||!q5(t))return;const s=oM(Ee(this,di).dataUpdatedAt,t)+1;bt(this,Df,setTimeout(()=>{Ee(this,di).isStale||this.updateResult()},s))},K5=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ee(this,$r)):this.options.refetchInterval)??!1},Y5=function(t){wr(this,cn,J5).call(this),bt(this,Wu,t),!(Vf||zo(this.options.enabled,Ee(this,$r))===!1||!q5(Ee(this,Wu))||Ee(this,Wu)===0)&&bt(this,Rf,setInterval(()=>{(this.options.refetchIntervalInBackground||V4.isFocused())&&wr(this,cn,d0).call(this)},Ee(this,Wu)))},Z5=function(){wr(this,cn,G5).call(this),wr(this,cn,Y5).call(this,wr(this,cn,K5).call(this))},X5=function(){Ee(this,Df)&&(clearTimeout(Ee(this,Df)),bt(this,Df,void 0))},J5=function(){Ee(this,Rf)&&(clearInterval(Ee(this,Rf)),bt(this,Rf,void 0))},Q5=function(){const t=Ee(this,Ci).getQueryCache().build(Ee(this,Ci),this.options);if(t===Ee(this,$r))return;const n=Ee(this,$r);bt(this,$r,t),bt(this,Uy,t.state),this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))},xM=function(t){Qs.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Ee(this,di))}),Ee(this,Ci).getQueryCache().notify({query:Ee(this,$r),type:"observerResultsUpdated"})})},tM);function lK(e,t){return zo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _A(e,t){return lK(e,t)||e.state.data!==void 0&&eS(e,t,t.refetchOnMount)}function eS(e,t,n){if(zo(t.enabled,e)!==!1&&Qu(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&H4(e,t)}return!1}function kA(e,t,n,s){return(e!==t||zo(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&H4(e,n)}function H4(e,t){return zo(t.enabled,e)!==!1&&e.isStaleByTime(Qu(t.staleTime,e))}function cK(e,t){return!s1(e.getCurrentResult(),t)}var Vu,Hu,Pi,md,Sd,$b,tS,rM,dK=(rM=class extends Bg{constructor(n,s){super();zt(this,Sd);zt(this,Vu);zt(this,Hu);zt(this,Pi);zt(this,md);bt(this,Vu,n),this.setOptions(s),this.bindMethods(),wr(this,Sd,$b).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const s=this.options;this.options=Ee(this,Vu).defaultMutationOptions(n),s1(this.options,s)||Ee(this,Vu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ee(this,Pi),observer:this}),s?.mutationKey&&this.options.mutationKey&&Hf(s.mutationKey)!==Hf(this.options.mutationKey)?this.reset():Ee(this,Pi)?.state.status==="pending"&&Ee(this,Pi).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Ee(this,Pi)?.removeObserver(this)}onMutationUpdate(n){wr(this,Sd,$b).call(this),wr(this,Sd,tS).call(this,n)}getCurrentResult(){return Ee(this,Hu)}reset(){Ee(this,Pi)?.removeObserver(this),bt(this,Pi,void 0),wr(this,Sd,$b).call(this),wr(this,Sd,tS).call(this)}mutate(n,s){return bt(this,md,s),Ee(this,Pi)?.removeObserver(this),bt(this,Pi,Ee(this,Vu).getMutationCache().build(Ee(this,Vu),this.options)),Ee(this,Pi).addObserver(this),Ee(this,Pi).execute(n)}},Vu=new WeakMap,Hu=new WeakMap,Pi=new WeakMap,md=new WeakMap,Sd=new WeakSet,$b=function(){const n=Ee(this,Pi)?.state??gM();bt(this,Hu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tS=function(n){Qs.batch(()=>{if(Ee(this,md)&&this.hasListeners()){const s=Ee(this,Hu).variables,a=Ee(this,Hu).context;n?.type==="success"?(Ee(this,md).onSuccess?.(n.data,s,a),Ee(this,md).onSettled?.(n.data,null,s,a)):n?.type==="error"&&(Ee(this,md).onError?.(n.error,s,a),Ee(this,md).onSettled?.(void 0,n.error,s,a))}this.listeners.forEach(s=>{s(Ee(this,Hu))})})},rM),yM=j.createContext(void 0),Kw=e=>{const t=j.useContext(yM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uK=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(yM.Provider,{value:e,children:t})),vM=j.createContext(!1),hK=()=>j.useContext(vM);vM.Provider;function fK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mK=j.createContext(fK()),pK=()=>j.useContext(mK),gK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xK=e=>{j.useEffect(()=>{e.clearReset()},[e])},yK=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||dM(n,[e.error,s])),vK=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>t(n(...s)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bK=(e,t)=>e.isLoading&&e.isFetching&&!t,wK=(e,t)=>e?.suspense&&t.isPending,AA=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function jK(e,t,n){const s=hK(),a=pK(),i=Kw(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",vK(o),gK(o,a),xK(a);const l=!i.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!s&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(h=>{const p=u?c.subscribe(Qs.batchCalls(h)):hi;return c.updateResult(),p},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),wK(o,d))throw AA(o,c,a);if(yK({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Vf&&bK(d,s)&&(l?AA(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(hi).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function v0(e,t){return jK(e,oK)}function _p(e,t){const n=Kw(),[s]=j.useState(()=>new dK(n,e));j.useEffect(()=>{s.setOptions(e)},[s,e]);const a=j.useSyncExternalStore(j.useCallback(o=>s.subscribe(Qs.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=j.useCallback((o,l)=>{s.mutate(o,l).catch(hi)},[s]);if(a.error&&dM(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const NK=new iK({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),SK=async(e,t)=>{const n=await fetch(e,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!n.ok){const s=await n.json().catch(()=>({message:"Request failed"}));throw new Error(s.message||`HTTP ${n.status}`)}return n.json()},iN=[{id:"1",title:"New Age Fotografie",logo:"https://imgur.com/jvVH1ja.jpg",description:"Professionelle Fotoshootings für jeden Anlass."},{id:"2",title:"Dreams Hotel",logo:"https://imgur.com/gTX0qyn.jpg",description:"Luxuriöse Unterkünfte für Ihren perfekten Aufenthalt."},{id:"3",title:"EventWorks",logo:"https://imgur.com/2EsZmcP.jpg",description:"Full-Service Eventplanung und Management."}],_K=["Familie","Baby","Hochzeit","Business","Event"],u0=[{id:"1",title:"Vatertag Spezial Familienshooting",category:"Familie",partner:iN[0],description:"Spezielles Vatertag-Fotoshooting, das die besondere Bindung zwischen Vätern und ihren Kindern feiert. Inklusive Outdoor-Location mit natürlichem Licht und authentischen Momenten.",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/EOgBzhL.jpg",terms:"2 Jahre ab Kaufdatum gültig. Vatertag-Spezialpaket beinhaltet 15 bearbeitete Fotos und einen Premium-Print.",stock:20,slug:"vatertag-spezial"},{id:"2",title:"Babybauch bis Baby Paket",category:"Baby",partner:iN[0],description:"Begleiten Sie Ihre Reise von der Schwangerschaft bis zum Neugeborenen mit zwei professionellen Fotoshootings. Beinhaltet ein Schwangerschaftsshooting (32.-36. Woche) und ein Neugeborenen-Shooting (innerhalb der ersten 14 Tage).",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/QcHVj4A.jpg",terms:"18 Monate ab Kaufdatum gültig. Beinhaltet sowohl Schwangerschafts- als auch Neugeborenen-Shooting mit je 20 bearbeiteten Fotos.",stock:15,slug:"babybauch-bis-baby"},{id:"3",title:"Erster Geburtstag & Großeltern Spezial",category:"Baby",partner:iN[0],description:"Feiern Sie den ersten Geburtstag Ihres Kleinen mit einem besonderen Fotoshooting zusammen mit den Großeltern. Perfekt um drei Generationen und diese kostbaren Meilenstein-Momente festzuhalten.",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/puVF0cD.jpg",terms:"2 Jahre ab Kaufdatum gültig. Beinhaltet Cake-Smash-Setup und Familienporträts mit Großeltern. 25 bearbeitete Fotos inklusive.",stock:25,slug:"erster-geburtstag-grosseltern"}],kK=[{id:"1",voucher:u0[0],quantity:1,totalPrice:u0[0].discountPrice,purchaserName:"John Doe",purchaserEmail:"john@example.com",status:"paid",voucherCode:"FAM12345",createdAt:"2025-01-15"},{id:"2",voucher:u0[1],quantity:1,totalPrice:u0[1].discountPrice,purchaserName:"Jane Smith",purchaserEmail:"jane@example.com",status:"pending",voucherCode:"ROM67890",createdAt:"2025-01-20"}],AK={id:"1",email:"user@example.com",name:"Demo User"},bM=j.createContext(void 0),CK=({children:e})=>{const[t]=j.useState(u0),[n,s]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState([]),u=n?t.filter(_=>_.category===n):t,h=_=>t.find(w=>w.slug===_),p=_=>t.find(w=>w.id===_),f=_=>{const w={..._,id:`order-${Date.now()}`,voucherCode:x(_.voucher.category),createdAt:new Date().toISOString().split("T")[0]};return d(S=>[...S,w]),w},x=_=>{const w=_.substring(0,3).toUpperCase(),S=Math.random().toString(36).substring(2,8).toUpperCase();return`${w}-${S}`},b={vouchers:t,filteredVouchers:u,categories:_K,selectedCategory:n,setSelectedCategory:s,user:a,orders:c,getVoucherBySlug:h,getVoucherById:p,addOrder:f,isLoggedIn:o,login:()=>{i(AK),l(!0),d(kK)},logout:()=>{i(null),l(!1),d([])}};return r.jsx(bM.Provider,{value:b,children:e})},zg=()=>{const e=j.useContext(bM);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e},Fs={auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),getUser:()=>Promise.resolve({data:{user:null},error:null}),signInWithPassword:()=>Promise.resolve({data:null,error:{message:"Supabase auth disabled - use Express sessions"}}),signOut:()=>Promise.resolve({error:null}),onAuthStateChange:e=>(e("SIGNED_OUT",null),{data:{subscription:{unsubscribe:()=>{}}},error:null})},from:e=>({select:t=>({eq:()=>Promise.resolve({data:[],error:null}),filter:()=>Promise.resolve({data:[],error:null}),order:()=>Promise.resolve({data:[],error:null}),limit:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:null}),then:n=>n({data:[],error:null})}),insert:t=>({select:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:null})}),update:t=>({eq:()=>({select:()=>Promise.resolve({data:[],error:null})})}),delete:()=>({eq:()=>Promise.resolve({data:null,error:null})}),upsert:t=>({select:()=>Promise.resolve({data:[],error:null})})}),storage:{from:e=>({upload:()=>Promise.resolve({data:null,error:{message:"Supabase storage disabled - use local file storage"}}),getPublicUrl:t=>({data:{publicUrl:""}}),list:()=>Promise.resolve({data:[],error:null}),remove:()=>Promise.resolve({data:null,error:null})})},functions:{invoke:(e,t)=>Promise.resolve({data:null,error:{message:`Supabase Edge Function '${e}' disabled - migrate to internal API`}})}},CA=async()=>({active:!1,error:"Supabase project status disabled - app uses Neon database only",statusCode:0}),oN=e=>!1,wM=j.createContext(void 0),PK=({children:e})=>{const[t,n]=j.useState(null),[s,a]=j.useState(!1),[i,o]=j.useState(!0);j.useEffect(()=>{Fs.auth.getSession().then(({data:{session:p},error:f})=>{n(p?.user??null),l(p?.user??null),o(!1)});const{data:{subscription:h}}=Fs.auth.onAuthStateChange((p,f)=>{n(f?.user??null),l(f?.user??null),o(!1)});return()=>h.unsubscribe()},[]);const l=async h=>{if(!h){a(!1);return}try{const{data:p,error:f}=await Fs.from("admin_users").select("is_admin").eq("user_id",h.id).single();if(f){a(!1);return}a(p?.is_admin??!1)}catch{a(!1)}},c=async(h,p)=>{if(!h||!p)throw new Error("Email and password are required");try{const f=await CA();if(!f?.active)throw new Error(f?.error||"Supabase project is not accessible");const{data:x,error:g}=await Fs.auth.signInWithPassword({email:h,password:p});if(g){if(g.message&&oN({message:g.message}))throw new Error(`Your Supabase project appears to be paused or experiencing database issues. Please:

1. Visit your Supabase dashboard (https://supabase.com/dashboard)
2. Check if your project is paused due to inactivity
3. If paused, click "Resume" to reactivate your project
4. Verify your project is on an active billing plan
5. Check the project logs for any specific error details

Once your project is active, try logging in again.`);const v=g.message||"";throw v.toLowerCase().includes("database error querying schema")?new Error(`Database connection error. Your Supabase project may be paused or experiencing issues. Please:

1. Check your Supabase dashboard to ensure the project is active
2. Verify your environment variables match your project settings
3. Check Supabase project logs for more details
4. Try refreshing the page and attempting login again`):v.toLowerCase().includes("invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):v.toLowerCase().includes("email not confirmed")?new Error("Please confirm your email address before signing in."):v.toLowerCase().includes("unexpected_failure")?new Error(`Supabase service error. This usually indicates:

1. Your project may be paused (check Supabase dashboard)
2. Database connectivity issues
3. Service maintenance

Please try again in a few minutes or check your Supabase project status.`):g.status===500?new Error(`Server error occurred. Please check:

1. Supabase project status in your dashboard
2. Project logs for specific error details
3. Try again in a few minutes`):g}}catch(f){throw f}},d=async(h,p)=>{if(!h||!p)throw new Error("Email and password are required");try{const f=await CA();if(!f?.active)throw f?.error&&oN({message:f.error})?new Error("Your Supabase project appears to be paused. Please visit your Supabase dashboard and resume your project before creating an account."):new Error(f?.error||"Supabase project is not accessible");const{error:x}=await Fs.auth.signUp({email:h,password:p,options:{emailRedirectTo:`${window.location.origin}/gallery`}});if(x)throw x.message&&oN(x)?new Error("Your Supabase project appears to be paused. Please visit your Supabase dashboard and resume your project before creating an account."):x}catch(f){throw f}},u=async()=>{const{error:h}=await Fs.auth.signOut();if(h)throw h};return r.jsx(wM.Provider,{value:{user:t,isAdmin:s,loading:i,signIn:c,signUp:d,signOut:u},children:e})},Yw=()=>{const e=j.useContext(wM);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},jM=j.createContext(void 0),EK=({children:e})=>{const[t,n]=j.useState(null),[s,a]=j.useState(!1),[i,o]=j.useState(!0),l=j.useRef(!1);j.useRef(0),j.useEffect(()=>{c()},[]);const c=async()=>{if(!l.current){l.current=!0;try{const p=localStorage.getItem("admin_user");if(p)try{const x=JSON.parse(p);console.log("✅ Found stored user:",x.email,x.role),n(x),a(x.role==="admin"||x.role==="super_admin"),o(!1),l.current=!1;return}catch{console.log("❌ Failed to parse stored user, removing"),localStorage.removeItem("admin_user")}const f=await fetch("/api/auth/verify",{method:"GET",credentials:"include"});if(f.ok){const x=await f.json();x.success&&x.user?(console.log("✅ Server verified user:",x.user.email),n(x.user),a(x.user.role==="admin"||x.user.role==="super_admin"),localStorage.setItem("admin_user",JSON.stringify(x.user))):(n(null),a(!1))}else n(null),a(!1)}catch(p){console.error("Auth check failed:",p),localStorage.getItem("admin_user")||(n(null),a(!1))}finally{o(!1),l.current=!1}}},h={user:t,isAdmin:s,loading:i,login:async(p,f)=>{try{const g=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:p,password:f})})).json();return g.success&&g.user?(n(g.user),a(g.user.role==="admin"||g.user.role==="super_admin"),localStorage.setItem("admin_user",JSON.stringify(g.user)),{success:!0}):{success:!1,error:g.error||"Login failed"}}catch{return{success:!1,error:"Network error: Unable to connect to server"}}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{n(null),a(!1),localStorage.removeItem("admin_user")}}};return r.jsx(jM.Provider,{value:h,children:e})},TK=()=>{const e=j.useContext(jM);if(e===void 0)throw new Error("useNeonAuth must be used within a NeonAuthProvider");return e},NM=j.createContext(void 0),OK=({children:e})=>{const[t,n]=j.useState([]),s=d=>{n(u=>[...u,{...d,id:`${d.title}-${Date.now()}`}])},a=d=>{n(u=>u.filter(h=>h.id!==d))},i=(d,u)=>{n(h=>h.map(p=>p.id===d?{...p,quantity:u}:p))},o=()=>{n([])},l=t.reduce((d,u)=>d+u.price*u.quantity,0),c=t.reduce((d,u)=>d+u.quantity,0);return r.jsx(NM.Provider,{value:{items:t,addItem:s,addToCart:s,removeItem:a,updateQuantity:i,clearCart:o,total:l,itemCount:c},children:e})},Ug=()=>{const e=j.useContext(NM);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},PA={en:{"nav.home":"Home","nav.photoshoots":"Photoshoots","nav.vouchers":"Vouchers","nav.blog":"Blog","nav.waitlist":"Waitlist","nav.contact":"Contact","nav.gallery":"Client Gallery","nav.login":"Client Gallery","nav.logout":"Logout","nav.admin":"Admin Dashboard","nav.galleries":"Client Galleries","nav.myGallery":"My Gallery","newsletter.signup":"Sign up for newsletter","newsletter.thanks":"Thank you for signing up! Please check your email for the voucher.","newsletter.button":"Sign up","newsletter.placeholder":"Your email address","newsletter.error":"An error occurred. Please try again later.","admin.dashboard":"Admin Dashboard","admin.clients":"Clients","admin.invoices":"Invoices","admin.galleries":"Galleries","admin.blog":"Blog Posts","admin.surveys":"Surveys","admin.reports":"Reports","admin.digitalFiles":"Digital Files","action.create":"Create","action.edit":"Edit","action.delete":"Delete","action.save":"Save","action.cancel":"Cancel","action.view":"View","action.search":"Search","action.filter":"Filter","action.sort":"Sort","action.import":"Import","action.export":"Export","action.duplicate":"Duplicate","action.preview":"Preview","action.download":"Download","action.upload":"Upload","action.submit":"Submit","action.confirm":"Confirm","action.close":"Close","action.back":"Back","action.next":"Next","action.previous":"Previous","action.add":"Add","action.remove":"Remove","action.update":"Update","status.active":"Active","status.inactive":"Inactive","status.draft":"Draft","status.published":"Published","status.scheduled":"Scheduled","status.archived":"Archived","status.pending":"Pending","status.completed":"Completed","status.cancelled":"Cancelled","status.paid":"Paid","status.unpaid":"Unpaid","status.overdue":"Overdue","status.sent":"Sent","status.shared":"Shared","form.title":"Title","form.name":"Name","form.email":"Email","form.phone":"Phone","form.address":"Address","form.description":"Description","form.notes":"Notes","form.date":"Date","form.time":"Time","form.price":"Price","form.quantity":"Quantity","form.total":"Total","form.status":"Status","form.category":"Category","form.tags":"Tags","form.required":"Required","form.optional":"Optional","form.password":"Password","form.confirmPassword":"Confirm Password","message.success":"Success","message.error":"Error","message.warning":"Warning","message.info":"Information","message.loading":"Loading...","message.saving":"Saving...","message.deleting":"Deleting...","message.noData":"No data available","message.noResults":"No results found","message.confirmDelete":"Are you sure you want to delete this item?","message.unsavedChanges":"You have unsaved changes","page.home":"Home","page.contact":"Contact","page.about":"About","page.services":"Services","page.portfolio":"Portfolio","page.blog":"Blog","page.galleries":"Galleries","page.invoices":"Invoices","page.clients":"Clients","page.dashboard":"Dashboard","page.reports":"Reports","page.settings":"Settings","page.profile":"Profile","page.login":"Login","page.register":"Register","gallery.create":"Create Gallery","gallery.edit":"Edit Gallery","gallery.images":"Images","gallery.upload":"Upload Images","gallery.password":"Password Protection","gallery.downloadEnabled":"Download Enabled","gallery.settings":"Gallery Settings","gallery.preview":"Gallery Preview","gallery.share":"Share Gallery","gallery.noImages":"No images uploaded yet","blog.create":"Create Post","blog.edit":"Edit Post","blog.manage_content":"Manage your blog content","blog.search_posts":"Search posts...","blog.no_excerpt":"No excerpt","blog.no_image":"No img","blog.post":"Post","blog.publish":"Publish","blog.unpublish":"Unpublish","blog.no_posts_found":"No posts found matching your criteria.","blog.create_first_post":"Create your first post","pagination.showing":"Showing","pagination.of":"of","pagination.results":"results","modal.confirm_deletion":"Confirm Deletion","modal.delete_post_warning":"Are you sure you want to delete this post? This action cannot be undone.","table.actions":"Actions","filter.all_statuses":"All Statuses","clients.add":"Add Client","clients.search":"Search clients...","clients.import_logs":"Import Logs","clients.more_filters":"More Filters","clients.no_phone":"No phone number","clients.since":"Client since","clients.manage_database":"Manage your client database","clients.sort_by_name":"Sort by Name","clients.sort_by_date":"Sort by Date Added","clients.ascending":"Ascending","clients.descending":"Descending","clients.clients":"clients","clients.unnamed_client":"Unnamed Client","clients.no_clients_found":"No clients found matching your criteria.","message.error.failed_to_update_post_status":"Failed to update post status. Please try again.","invoice.create":"Create Invoice","invoice.edit":"Edit Invoice","invoice.items":"Invoice Items","invoice.summary":"Invoice Summary","invoice.total":"Total","invoice.subtotal":"Subtotal","invoice.tax":"Tax","invoice.discount":"Discount","invoice.dueDate":"Due Date","invoice.paymentTerms":"Payment Terms","invoice.clientDetails":"Client Details","invoice.invoiceDetails":"Invoice Details","invoice.lineItems":"Line Items","invoice.management":"Invoice Management","invoice.totalInvoiced":"Total Invoiced","invoice.paidAmount":"Paid Amount","invoice.overdueAmount":"Overdue Amount","survey.create":"Create Survey","survey.edit":"Edit Survey","survey.questions":"Questions","survey.responses":"Responses","survey.analytics":"Analytics","survey.publish":"Publish","survey.unpublish":"Unpublish","survey.builder":"Survey Builder","survey.preview":"Preview Survey","survey.loadError":"Unable to Load Survey","survey.progress":"Progress","calendar.title":"Calendar","calendar.create":"Create Event","calendar.edit":"Edit Event","calendar.delete":"Delete Event","calendar.export":"Export Calendar","calendar.import":"Import Calendar","calendar.integration":"Calendar Integration","calendar.sync":"Sync Settings","calendar.autoSync":"Auto Sync","calendar.visibility":"Visibility","calendar.priority":"Priority","calendar.repeat":"Repeat","calendar.daily":"Daily","calendar.weekly":"Weekly","calendar.monthly":"Monthly","calendar.yearly":"Yearly","calendar.public":"Public","calendar.private":"Private","calendar.confidential":"Confidential","calendar.low":"Low","calendar.normal":"Normal","calendar.high":"High","email.inbox":"Inbox","email.compose":"Compose","email.send":"Send","email.reply":"Reply","email.forward":"Forward","email.delete":"Delete","email.archive":"Archive","email.star":"Star","email.unread":"Unread","email.read":"Read","email.subject":"Subject","email.from":"From","email.to":"To","email.cc":"CC","email.bcc":"BCC","email.priority":"Priority","email.attachment":"Attachment","email.noEmails":"No emails found","email.selectEmail":"Select an email","email.accounts":"Accounts","email.folders":"Folders","email.settings":"Email Settings","email.sync":"Sync","email.assistant":"AI Email Assistant","email.automation":"Automation Hub","file.upload":"Upload File","file.choose":"Choose File","file.dragDrop":"or drag and drop them here","file.processing":"Processing file...","file.error":"File upload error","file.success":"File uploaded successfully","common.all":"All","common.none":"None","common.yes":"Yes","common.no":"No","common.or":"or","common.and":"and","common.of":"of","common.in":"in","common.on":"on","common.at":"at","categories.family":"Family","categories.baby":"Baby","categories.wedding":"Wedding","categories.business":"Business","categories.event":"Event","common.by":"by","common.from":"from","common.to":"to","common.with":"with","common.without":"without","common.today":"Today","common.yesterday":"Yesterday","common.tomorrow":"Tomorrow","common.week":"Week","common.month":"Month","common.year":"Year","common.date":"Date","common.time":"Time","common.language":"Language","common.currency":"Currency","common.timezone":"Timezone","gallery.publicTitle":"My Gallery","gallery.publicDescription":"Discover our professional photo galleries. Search for your personal gallery and experience your special moments.","gallery.searchPlaceholder":"Search gallery...","gallery.loading":"Galleries are loading...","gallery.found":"found","gallery.galleryFound":"gallery","gallery.galleriesFound":"galleries","gallery.viewGallery":"View Gallery","gallery.openGallery":"Open Gallery","gallery.noPreview":"No preview","gallery.noGalleriesFound":"No galleries found","gallery.noGalleriesAvailable":"No galleries available","gallery.noGalleriesDescription":"No galleries match your search for","gallery.noGalleriesAvailableDescription":"There are currently no public galleries available.","gallery.showAllGalleries":"Show all galleries","gallery.notFoundTitle":"Your gallery not found?","gallery.notFoundDescription":"If you cannot find your personal gallery, please contact us. We are happy to help you access your photos.","gallery.contactUs":"Contact us","voucher.yourContactDetails":"Your Contact Details","voucher.paymentSystemSetup":"Payment system is being set up","voucher.paymentSystemMessage":"Our payment system is currently being configured. Please try again later or contact us directly.","voucher.backToHome":"Back to Home","voucher.paymentSuccessful":"Payment Successful!","voucher.thankYouMessage":"Thank you for your purchase! Your voucher has been successfully created and will be sent by email shortly.","voucher.whatHappensNext":"What happens next?","voucher.emailReceived":"You will receive an email with your voucher in a few minutes","voucher.validity":"The voucher is valid for 2 years from now","voucher.bookingContact":"For appointment bookings, contact us at +43 677 633 99210","voucher.moreVouchers":"More Vouchers","voucher.bookAppointment":"Book Appointment","voucher.questionsAboutVoucher":"Do you have questions about your voucher?","voucher.phone":"Phone","voucher.email":"Email","voucher.openingHours":"Opening Hours","voucher.openingTimes":"Fri-Sun: 09:00 - 17:00","home.heroTitle":"Family & Newborn Photographer in Vienna You Can Trust","home.heroSubtitle":"Finally a photo studio...","home.heroDescription":"that delivers spontaneous, natural and individual portraits of your family...","home.bookShootingButton":"Book Shooting Now","home.description":"As a family photographer in Vienna and specialized newborn photographer in Vienna, we create timeless memories in a relaxed studio atmosphere. Even if you are camera-shy or have unpredictable children, we create family portraits that you will treasure forever.","home.happyFamilies":"Happy Families","home.portraitsCaptured":"Portraits Captured","home.yearsExperience":"Years of Experience","home.pregnancyAndFamilyTitle":"Pregnancy Shoot & Family Portraits","home.pregnancyDescription1":"We create a comfortable environment and guide you through the entire session so you feel relaxed and confident. Our gallery with family photo examples shows the quality of our work.","home.pregnancyDescription2":"Our expertise in finding flattering angles and capturing natural, authentic expressions ensures that your photos look and feel genuine. Vienna offers unique photo spots for outdoor shoots.","home.pregnancyDescription3":"We offer flexible scheduling with available appointments on weekends, including Sundays. This makes it easy to find a suitable time for your photo session.","home.businessHeadshotsTitle":"Business Headshots & Prices","home.businessDescription1":"Experience customized photo shoots in our customer-oriented studio. We pay great attention to detail and create a comfortable environment.","home.businessDescription2":"Our professional photographers find the most flattering angles and capture authentic expressions. Our timeless photos become valuable memories.","home.businessDescription3":"As a family-friendly studio, we provide a relaxed and stress-free atmosphere for unforgettable shoots. Contact us today!","home.familyPortraitsTitle":"Family Portraits in Vienna & Zurich","home.familyPortraitsDescription":"Our family sessions are all about capturing the unique bond you share. From candid moments to posed portraits, we create images you'll treasure forever.","home.pregnancyPhotographyTitle":"Pregnancy Photography in Vienna & Zurich","home.pregnancyPhotographyDescription":"Celebrate the beauty of motherhood with our pregnancy sessions. We create stunning images that highlight this special time in your life.","home.newbornPhotographyTitle":"Newborn Photography in Vienna & Zurich","home.newbornPhotographyDescription":"There's nothing more delicate than the first days of a newborn's life. Our newborn sessions focus on capturing these fleeting moments with tenderness and care.","home.businessPhotographyTitle":"Corporate Photography in Vienna & Zurich","home.businessPhotographyDescription":"Enhance your professional image with our corporate photography services. From headshots to team photos, we help you present your business in the best light.","home.eventPhotographyTitle":"Event Photography in Vienna & Zurich","home.eventPhotographyDescription":"There's nothing more exciting than the unforgettable moments at events. Our event photography focuses on capturing these special moments with creativity and professionalism.","home.weddingPhotographyTitle":"Wedding Photography in Vienna & Zurich","home.weddingPhotographyDescription":"There's nothing more beautiful than the magic of a wedding day. Our wedding photography captures these magical moments with attention to detail and artistic flair.","home.portraitStudioTitle":"Premier Portrait Studio in Vienna & Zurich | Family, Newborn, Pregnancy & Corporate Photography","home.pregnancyShootingTitle":"Pregnancy Shooting","home.pregnancyShootingDescription":"Celebrate the magic of new beginnings. Our pregnancy shoot captures the glow, love, and anticipation of this once-in-a-lifetime chapter — timeless portraits you’ll treasure forever.","home.familyShootingTitle":"Family Shooting","home.familyShootingDescription":"Unforgettable family memories, frozen in time. Whether playful or posed, our family shoots create portraits full of laughter, connection, and love that last a lifetime.","home.newbornShootingTitle":"Newborn Shooting","home.newbornShootingDescription":"Tiny fingers, first yawns, endless love. Our newborn shoot captures those fleeting early moments with tenderness and artistry — memories you’ll never want to forget.","home.bookNowButton":"Book Now","home.testimonialsTitle":"What Our Customers Say","home.faqTitle":"FAQs - Frequently Asked Questions","home.faq1Text":"Our passion for authentic moments and our commitment to quality. We understand family as more than just a group of people; it's the relationships and love that we capture in every image. Our approach combines artistic vision with personal care to create photos that tell your family story.","home.faq2Text":"Our photo shoots take place exclusively in our studio in Vienna. There we have the perfect environment and professional lighting – ideal for natural and stylish family portraits.","home.faq3Text":"After booking, you will receive detailed preparation instructions from us – from selecting clothing to tips for designing the shoot. Our goal is to make you feel comfortable and have fun.","home.faq4Text":"Our family photo shoots typically last up to one hour. We take enough time to ensure beautiful, natural shots are created – completely relaxed and without rush.","home.faq5Text":"Absolutely! Pets are an important part of the family and are warmly welcome.","home.faq6Text":"We know: not everyone likes being in front of the camera. But that's exactly our strength! With empathy, humor and a relaxed atmosphere, we help both young and old to relax. With us you can laugh, be silly and be authentic – this is how the most natural family photos are created.","home.testimonial1Role":"Family Shooting","home.testimonial1Text":"A wonderful experience! The photos turned out absolutely dreamy and the atmosphere was super relaxed. Our children felt comfortable immediately.","home.testimonial2Role":"Business Portrait","home.testimonial2Text":"Professional, creative and efficient. The business portraits turned out exactly as I imagined. Highly recommended!","home.testimonial3Role":"Wedding Photography","home.testimonial3Text":"Our wedding photos are simply magical! Every special moment was captured perfectly. We are overjoyed with the result.","home.testimonial4Role":"Pregnancy Shooting","home.testimonial4Text":"The pregnancy photos turned out beautiful. I felt very comfortable during the shoot and the pictures perfectly reflect this special time.","home.testimonial5Role":"Newborn Shooting","home.testimonial5Text":"The photos of our newborn are priceless. The patience and professionalism during the shoot was impressive. Every image is a work of art!","home.testimonial6Role":"Event Photography","home.testimonial6Text":"The photos from our company event are fantastic. Every important moment was captured without looking staged. Absolutely recommendable!","home.faqQuestion1":"What makes New Age Photography unique?","home.faqQuestion2":"Where do the photo shoots take place?","home.faqQuestion3":"How do we prepare for the photo shoot?","home.faqQuestion4":"How long does a family photo shoot last?","home.faqQuestion5":"Can we bring pets to the photo shoot?","home.faqQuestion6":"How do you ensure we feel comfortable in front of the camera?","photoshoots.title":"Photoshoots Vienna - Family & Newborn Photography","photoshoots.subtitle":"Professional photoshoots in Vienna: Family portraits, pregnancy photos, newborn pictures & business headshots","photoshoots.familyTitle":"Family Portraits in Vienna & Zurich","photoshoots.familyDescription":"Our family sessions are all about capturing the unique bond you share. From candid moments to posed portraits, we create images you'll treasure forever.","photoshoots.pregnancyTitle":"Pregnancy Photography in Vienna & Zurich","photoshoots.pregnancyDescription":"Celebrate the beauty of motherhood with our pregnancy sessions. We create stunning images that highlight this special time in your life.","photoshoots.newbornTitle":"Newborn Photography in Vienna & Zurich","photoshoots.newbornDescription":"There's nothing more delicate than the first days of a newborn's life. Our newborn sessions focus on capturing these fleeting moments with tenderness and care.","photoshoots.businessTitle":"Corporate Photography in Vienna & Zurich","photoshoots.businessDescription":"Enhance your professional image with our corporate photography services. From headshots to team photos, we help you present your business in the best light.","photoshoots.eventTitle":"Event Photography in Vienna & Zurich","photoshoots.eventDescription":"There's nothing more exciting than the unforgettable moments at events. Our event photography focuses on capturing these special moments with creativity and professionalism.","photoshoots.weddingTitle":"Wedding Photography in Vienna & Zurich","photoshoots.weddingDescription":"There's nothing more beautiful than the magic of a wedding day. Our wedding photography captures these magical moments with attention to detail and artistic flair.","photoshoots.learnMore":"Learn More","photoshoots.flexibleAppointments":"Flexible Appointments","photoshoots.flexibleDescription":"We offer flexible scheduling, including weekends","photoshoots.wholeFamily":"For the Whole Family","photoshoots.wholeFamilyDescription":"Suitable for families of any size, including pets","photoshoots.professionalEquipment":"Professional Equipment","photoshoots.professionalDescription":"State-of-the-art camera equipment for best results","waitlist.title":"Request Photoshoot Appointment in Vienna","waitlist.subtitle":"Professional family photographer in Vienna with flexible appointments. We offer photoshoots on weekends - contact us for availability.","waitlist.fullName":"Full Name","waitlist.fullNamePlaceholder":"Your full name","waitlist.preferredDate":"Preferred Date","waitlist.email":"Email","waitlist.emailPlaceholder":"your@email.com","waitlist.phone":"Phone","waitlist.message":"Message","waitlist.messagePlaceholder":"Tell us about your desired photoshoot...","waitlist.submit":"Request Appointment","waitlist.submitting":"Submitting...","waitlist.successTitle":"Request Sent!","waitlist.successMessage":"Thank you for your inquiry! We will contact you within 24 hours to coordinate your photoshoot appointment.","vouchers.title":"Photoshoot Vouchers Vienna","vouchers.subtitle":"Photoshoot vouchers as the perfect gift idea","vouchers.searchPlaceholder":"Search vouchers...","vouchers.filterByCategory":"Filter by Category","vouchers.loadingError":"Error loading vouchers","vouchers.loadingErrorMessage":"The vouchers could not be loaded. Please try again later.","vouchers.noVouchersFound":"No vouchers found","vouchers.noVouchersAvailable":"No vouchers available yet","vouchers.noVouchersFoundMessage":"We could not find any vouchers that match your criteria.","vouchers.noVouchersAvailableMessage":"Our photoshoot vouchers will be available soon.","vouchers.validUntil":"Valid until","vouchers.validityPeriod":"2 years","vouchers.available":"available","vouchers.soldOut":"Sold out","vouchers.resetFilters":"Reset filters","category.Familie":"Family","category.Baby":"Baby","category.Hochzeit":"Wedding","category.Business":"Business","category.Event":"Event","blog.title":"Photography Blog - Tips & Inspiration","blog.subtitle":"Discover photography tips, behind-the-scenes content and inspiration for perfect family photos","blog.searchPlaceholder":"Search blog posts...","blog.noPostsFound":"No posts found","blog.noPostsMatchCriteria":"No posts match your search criteria. Try adjusting your filters.","blog.noPostsYet":"We haven't published any blog posts yet. Check back soon!","contact.title":"Contact - Family Photographer Vienna","contact.subtitle":"Schedule your personal photoshoot in Vienna","contact.studioTitle":"Photo Studio Vienna - Contact Information","contact.contactForm":"Contact Form","contact.fullName":"Full Name","contact.email":"Email","contact.phone":"Phone","contact.message":"Message","contact.messagePlaceholder":"Your message...","contact.submit":"Send Message","contact.submitting":"Sending...","contact.successMessage":"Your message has been sent successfully. We will get back to you soon.","contact.openingHours":"Fri-Sun: 09:00 - 17:00","contact.officeAddress":"Office and Correspondence Address","contact.addressNote":"STUDIO Entrance corner Schönbrunnerstraße","contact.studioAddress":"Studio: Wehrgasse 11A/2+5, 1050 Wien","contact.transport":"Transportation","contact.trainInfo":"5 minutes from Kettenbrückengasse","contact.streetParking":"Street parking available","contact.mapTitle":"Studio Location","contact.call":"Call Now","footer.quickLinks":"Quick Links","footer.contact":"Contact","footer.categories":"Categories","footer.officeAddress":"","footer.fullContactDetails":"Full Contact Details","footer.family":"Family","footer.baby":"Baby","footer.wedding":"Wedding","footer.business":"Business","footer.event":"Event","footer.gallery":"Gallery","reviews.viewAllOnGoogle":"View All Reviews on Google","nav.dashboard":"Dashboard","nav.newLeads":"New Leads","nav.onlineVoucherSales":"Online Voucher Sales","nav.clients":"Clients","nav.topClients":"Top Clients","nav.galleriesAdmin":"Galleries","nav.invoices":"Invoices","nav.calendar":"Calendar","nav.digitalFiles":"Digital Files","nav.blogAdmin":"Blog","nav.aiAutoblog":"AI AutoBlog","nav.emailCampaigns":"Email Campaigns","nav.communications":"Communications","nav.inbox":"Inbox","nav.questionnaires":"Questionnaires","nav.reports":"Reports","nav.crmAssistant":"CRM Operations Assistant","nav.knowledgeBase":"Knowledge Base","nav.testChat":"Test Chat","nav.settings":"Settings","nav.customization":"Customization","nav.studioTemplates":"Studio Templates","nav.websiteWizard":"Website Wizard","nav.websiteAnalyzer":"Website Analyzer","nav.viewWebsite":"View Website","nav.signOut":"Sign Out"},de:{"nav.home":"Startseite","nav.photoshoots":"Fotoshootings","nav.vouchers":"Gutscheine","nav.blog":"Blog","nav.waitlist":"Warteliste","nav.contact":"Kontakt","nav.gallery":"Kundengalerie","nav.login":"Kundengalerie","nav.logout":"Abmelden","nav.admin":"Admin-Dashboard","nav.galleries":"Kundengalerien","nav.myGallery":"Meine Galerie","newsletter.signup":"Sichern Sie sich einen Fotoshooting-Gutschein im Wert von €50 Print Guthaben.","newsletter.thanks":"Vielen Dank für Ihre Anmeldung! Bitte prüfen Sie Ihre E-Mails für den Gutschein.","newsletter.button":"Anmelden","newsletter.placeholder":"Ihre E-Mail-Adresse","newsletter.error":"Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.","admin.dashboard":"Admin-Dashboard","admin.clients":"Kunden","admin.invoices":"Rechnungen","admin.galleries":"Galerien","admin.blog":"Blog-Beiträge","admin.surveys":"Umfragen","admin.reports":"Berichte","admin.digitalFiles":"Digitale Dateien","action.create":"Erstellen","action.edit":"Bearbeiten","action.delete":"Löschen","action.save":"Speichern","action.cancel":"Abbrechen","action.view":"Anzeigen","action.search":"Suchen","action.filter":"Filtern","action.sort":"Sortieren","action.import":"Importieren","action.export":"Exportieren","action.duplicate":"Duplizieren","action.preview":"Vorschau","action.download":"Herunterladen","action.upload":"Hochladen","action.submit":"Senden","action.confirm":"Bestätigen","action.close":"Schließen","action.back":"Zurück","action.next":"Weiter","action.previous":"Zurück","action.add":"Hinzufügen","action.remove":"Entfernen","action.update":"Aktualisieren","status.active":"Aktiv","status.inactive":"Inaktiv","status.draft":"Entwurf","status.published":"Veröffentlicht","status.scheduled":"Geplant","status.archived":"Archiviert","status.pending":"Ausstehend","status.completed":"Abgeschlossen","status.cancelled":"Storniert","status.paid":"Bezahlt","status.unpaid":"Unbezahlt","status.overdue":"Überfällig","status.sent":"Gesendet","status.shared":"Geteilt","form.title":"Titel","form.name":"Name","form.email":"E-Mail","form.phone":"Telefon","form.address":"Adresse","form.description":"Beschreibung","form.notes":"Notizen","form.date":"Datum","form.time":"Zeit","form.price":"Preis","form.quantity":"Anzahl","form.total":"Gesamt","form.status":"Status","form.category":"Kategorie","form.tags":"Tags","form.required":"Erforderlich","form.optional":"Optional","form.password":"Passwort","form.confirmPassword":"Passwort bestätigen","message.success":"Erfolgreich","message.error":"Fehler","message.warning":"Warnung","message.info":"Information","message.loading":"Lädt...","message.saving":"Speichert...","message.deleting":"Löscht...","message.noData":"Keine Daten verfügbar","message.noResults":"Keine Ergebnisse gefunden","message.confirmDelete":"Sind Sie sicher, dass Sie dieses Element löschen möchten?","message.unsavedChanges":"Sie haben ungespeicherte Änderungen","page.home":"Startseite","page.contact":"Kontakt","page.about":"Über uns","page.services":"Dienstleistungen","page.portfolio":"Portfolio","page.blog":"Blog","page.galleries":"Galerien","page.invoices":"Rechnungen","page.clients":"Kunden","page.dashboard":"Dashboard","page.reports":"Berichte","page.settings":"Einstellungen","page.profile":"Profil","page.login":"Anmelden","page.register":"Registrieren","gallery.create":"Galerie erstellen","gallery.edit":"Galerie bearbeiten","gallery.images":"Bilder","gallery.upload":"Bilder hochladen","gallery.password":"Passwort-Schutz","gallery.downloadEnabled":"Download aktiviert","gallery.settings":"Galerie-Einstellungen","gallery.preview":"Galerie-Vorschau","gallery.share":"Galerie teilen","gallery.noImages":"Noch keine Bilder hochgeladen","invoice.create":"Rechnung erstellen","invoice.edit":"Rechnung bearbeiten","invoice.items":"Rechnungsposten","invoice.summary":"Rechnungsübersicht","invoice.total":"Gesamt","invoice.subtotal":"Zwischensumme","invoice.tax":"Steuer","invoice.discount":"Rabatt","invoice.dueDate":"Fälligkeitsdatum","invoice.paymentTerms":"Zahlungsbedingungen","invoice.clientDetails":"Kundendetails","invoice.invoiceDetails":"Rechnungsdetails","invoice.lineItems":"Positionen","invoice.management":"Rechnungsverwaltung","invoice.totalInvoiced":"Gesamt in Rechnung gestellt","invoice.paidAmount":"Bezahlter Betrag","invoice.overdueAmount":"Überfälliger Betrag","survey.create":"Umfrage erstellen","survey.edit":"Umfrage bearbeiten","survey.questions":"Fragen","survey.responses":"Antworten","survey.analytics":"Analytik","survey.publish":"Veröffentlichen","survey.unpublish":"Unveröffentlichen","survey.builder":"Umfrage-Builder","survey.preview":"Umfrage-Vorschau","survey.loadError":"Umfrage konnte nicht geladen werden","survey.progress":"Fortschritt","calendar.title":"Kalender","calendar.create":"Termin erstellen","calendar.edit":"Termin bearbeiten","calendar.delete":"Termin löschen","calendar.export":"Kalender exportieren","calendar.import":"Kalender importieren","calendar.integration":"Kalender-Integration","calendar.sync":"Sync-Einstellungen","calendar.autoSync":"Auto-Sync","calendar.visibility":"Sichtbarkeit","calendar.priority":"Priorität","calendar.repeat":"Wiederholen","calendar.daily":"Täglich","calendar.weekly":"Wöchentlich","calendar.monthly":"Monatlich","calendar.yearly":"Jährlich","calendar.public":"Öffentlich","calendar.private":"Privat","calendar.confidential":"Vertraulich","calendar.low":"Niedrig","calendar.normal":"Normal","calendar.high":"Hoch","email.inbox":"Posteingang","email.compose":"Verfassen","email.send":"Senden","email.reply":"Antworten","email.forward":"Weiterleiten","email.delete":"Löschen","email.archive":"Archivieren","email.star":"Markieren","email.unread":"Ungelesen","email.read":"Gelesen","email.subject":"Betreff","email.from":"Von","email.to":"An","email.cc":"CC","email.bcc":"BCC","email.priority":"Priorität","email.attachment":"Anhang","email.noEmails":"Keine E-Mails gefunden","email.selectEmail":"E-Mail auswählen","email.accounts":"Konten","email.folders":"Ordner","email.settings":"E-Mail-Einstellungen","email.sync":"Synchronisieren","email.assistant":"KI E-Mail-Assistent","email.automation":"Automatisierungs-Hub","file.upload":"Datei hochladen","file.choose":"Datei auswählen","file.dragDrop":"oder hier hineinziehen","file.processing":"Datei wird verarbeitet...","file.error":"Datei-Upload-Fehler","file.success":"Datei erfolgreich hochgeladen","common.all":"Alle","common.none":"Keine","common.yes":"Ja","common.no":"Nein","common.or":"oder","common.and":"und","common.of":"von","common.in":"in","common.on":"am","common.at":"um","common.by":"von","common.from":"von","common.to":"zu","common.with":"mit","common.without":"ohne","common.today":"Heute","common.yesterday":"Gestern","common.tomorrow":"Morgen","common.week":"Woche","common.month":"Monat","common.year":"Jahr","common.date":"Datum","common.time":"Zeit","common.language":"Sprache","common.currency":"Währung","common.timezone":"Zeitzone","blog.create":"Beitrag erstellen","blog.edit":"Beitrag bearbeiten","blog.manage_content":"Verwalten Sie Ihre Blog-Inhalte","blog.search_posts":"Beiträge suchen...","blog.no_excerpt":"Kein Auszug","blog.no_image":"Kein Bild","blog.post":"Beitrag","blog.publish":"Veröffentlichen","blog.unpublish":"Unveröffentlichen","blog.no_posts_found":"Keine Beiträge gefunden, die Ihren Kriterien entsprechen.","blog.create_first_post":"Erstellen Sie Ihren ersten Beitrag","table.actions":"Aktionen","filter.all_statuses":"Alle Status","clients.add":"Kunde hinzufügen","clients.search":"Kunden suchen...","clients.import_logs":"Import-Protokolle","clients.more_filters":"Weitere Filter","clients.no_phone":"Keine Telefonnummer","clients.since":"Kunde seit","clients.manage_database":"Verwalten Sie Ihre Kundendatenbank","clients.sort_by_name":"Nach Name sortieren","clients.sort_by_date":"Nach Datum sortieren","clients.ascending":"Aufsteigend","clients.descending":"Absteigend","clients.clients":"Kunden","clients.unnamed_client":"Unbenannter Kunde","clients.no_clients_found":"Keine Kunden gefunden, die Ihren Kriterien entsprechen.","pagination.showing":"Zeige","pagination.of":"von","pagination.results":"Ergebnisse","modal.confirm_deletion":"Löschung bestätigen","modal.delete_post_warning":"Sind Sie sicher, dass Sie diesen Beitrag löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.","message.error.failed_to_update_post_status":"Fehler beim Aktualisieren des Beitragsstatus. Bitte versuchen Sie es erneut.","gallery.publicTitle":"Meine Galerie","gallery.publicDescription":"Entdecken Sie unsere professionellen Fotogalerien. Suchen Sie nach Ihrer persönlichen Galerie und erleben Sie Ihre besonderen Momente.","gallery.searchPlaceholder":"Galerie suchen...","gallery.loading":"Galerien werden geladen...","gallery.found":"gefunden","gallery.galleryFound":"Galerie","gallery.galleriesFound":"Galerien","gallery.viewGallery":"Galerie ansehen","gallery.openGallery":"Galerie öffnen","gallery.noPreview":"Keine Vorschau","gallery.noGalleriesFound":"Keine Galerien gefunden","gallery.noGalleriesAvailable":"Keine Galerien verfügbar","gallery.noGalleriesDescription":"Keine Galerien entsprechen Ihrer Suche nach","gallery.noGalleriesAvailableDescription":"Es sind derzeit keine öffentlichen Galerien verfügbar.","gallery.showAllGalleries":"Alle Galerien anzeigen","gallery.notFoundTitle":"Ihre Galerie nicht gefunden?","gallery.notFoundDescription":"Falls Sie Ihre persönliche Galerie nicht finden können, kontaktieren Sie uns bitte. Wir helfen Ihnen gerne beim Zugang zu Ihren Fotos.","gallery.contactUs":"Kontakt aufnehmen","voucher.yourContactDetails":"Ihre Kontaktdaten","voucher.paymentSystemSetup":"Zahlungssystem wird eingerichtet","voucher.paymentSystemMessage":"Unser Zahlungssystem wird gerade konfiguriert. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns direkt.","voucher.backToHome":"Zur Startseite","voucher.paymentSuccessful":"Zahlung erfolgreich!","voucher.thankYouMessage":"Vielen Dank für Ihren Kauf! Ihr Gutschein wurde erfolgreich erstellt und wird in Kürze per E-Mail versendet.","voucher.whatHappensNext":"Was passiert als nächstes?","voucher.emailReceived":"Sie erhalten in wenigen Minuten eine E-Mail mit Ihrem Gutschein","voucher.validity":"Der Gutschein ist ab sofort 2 Jahre gültig","voucher.bookingContact":"Für Terminbuchungen kontaktieren Sie uns unter +43 677 633 99210","voucher.moreVouchers":"Weitere Gutscheine","voucher.bookAppointment":"Termin buchen","voucher.questionsAboutVoucher":"Haben Sie Fragen zu Ihrem Gutschein?","voucher.phone":"Telefon","voucher.email":"E-Mail","voucher.openingHours":"Öffnungszeiten","voucher.openingTimes":"Fr-So: 09:00 - 17:00","home.heroTitle":"Familien- & Neugeborenenfotograf in Wien, dem Sie vertrauen können","home.heroSubtitle":"Endlich ein Fotostudio...","home.heroDescription":"das spontane, natürliche und individuelle Porträts Ihrer Familie liefert...","home.bookShootingButton":"Jetzt Shooting Buchen","home.description":"Als Familienfotograf in Wien und spezialisierter Neugeborenenfotograf in Wien schaffen wir zeitlose Erinnerungen in entspannter Studioatmosphäre. Selbst wenn Sie kamerascheu sind oder unberechenbare Kinder haben, erstellen wir Familienporträts, die Sie für immer schätzen werden.","home.happyFamilies":"Glückliche Familien","home.portraitsCaptured":"Porträts eingefangen","home.yearsExperience":"Jahre Berufserfahrung","home.pregnancyAndFamilyTitle":"Babybauch-Shooting & Familienporträts","home.pregnancyDescription1":"Wir schaffen eine komfortable Umgebung und führen Sie durch die gesamte Sitzung, damit Sie sich entspannt und selbstbewusst fühlen. Unsere Galerie mit Beispielen Familienfotos zeigt die Qualität unserer Arbeit.","home.pregnancyDescription2":"Unsere Expertise, schmeichelhafte Winkel zu finden und natürliche, authentische Ausdrücke einzufangen, stellt sicher, dass Ihre Fotos echt aussehen und sich auch so anfühlen. Wien bietet einzigartige Fotospots für Outdoor-Shootings.","home.pregnancyDescription3":"Wir bieten flexible Terminplanung mit verfügbaren Terminen an Wochenenden, einschließlich Sonntagen. Dadurch finden Sie leicht eine passende Zeit für Ihre Fotosession.","home.businessHeadshotsTitle":"Business-Headshots & Preise","home.businessDescription1":"Erleben Sie maßgeschneiderte Fotoshootings in unserem kundenorientierten Studio. Wir legen großen Wert auf Details und schaffen eine komfortable Umgebung.","home.businessDescription2":"Unsere professionellen Fotografen finden die schmeichelhaftesten Winkel und fangen authentische Ausdrücke ein. Unsere zeitlosen Fotos werden zu wertvollen Erinnerungen.","home.businessDescription3":"Als familienfreundliches Studio bieten wir eine entspannte und stressfreie Atmosphäre für unvergessliche Shootings. Kontaktieren Sie uns noch heute!","home.familyPortraitsTitle":"Familienporträts in Wien & Zurich","home.familyPortraitsDescription":"Unsere Familiensitzungen drehen sich darum, die einzigartige Bindung festzuhalten, die Sie teilen. Von spontanen Momenten bis hin zu inszenierten Porträts schaffen wir Bilder, die Sie für immer schätzen werden.","home.pregnancyPhotographyTitle":"Schwangerschaftsfotografie in Wien & Zurich","home.pregnancyPhotographyDescription":"Feiern Sie die Schönheit der Mutterschaft mit unseren Schwangerschaftssitzungen. Wir schaffen atemberaubende Bilder, die diese besondere Zeit in Ihrem Leben hervorheben.","home.newbornPhotographyTitle":"Neugeborenenfotografie in Wien & Zurich","home.newbornPhotographyDescription":"Es gibt nichts Zarteres als die ersten Tage im Leben eines Neugeborenen. Unsere Neugeborenensitzungen konzentrieren sich darauf, diese flüchtigen Momente mit Zärtlichkeit und Sorgfalt einzufangen.","home.businessPhotographyTitle":"Firmenfotografie in Wien & Zurich","home.businessPhotographyDescription":"Verbessern Sie Ihr professionelles Image mit unseren Firmenfotografie-Dienstleistungen. Von Porträts bis hin zu Teamfotos helfen wir Ihnen, Ihr Unternehmen im besten Licht zu präsentieren.","home.eventPhotographyTitle":"Eventfotografie in Wien & Zurich","home.eventPhotographyDescription":"Es gibt nichts Aufregenderes als die unvergesslichen Momente bei Veranstaltungen. Unsere Eventfotografie konzentriert sich darauf, diese besonderen Augenblicke mit Kreativität und Professionalität festzuhalten.","home.weddingPhotographyTitle":"Hochzeitsfotografie in Wien & Zurich","home.weddingPhotographyDescription":"Es gibt nichts Schöneres als die Magie eines Hochzeitstages. Unsere Hochzeitsfotografie fängt diese magischen Momente mit Liebe zum Detail und künstlerischem Flair ein.","home.portraitStudioTitle":"Erstklassiges Portraitstudio in Wien & Zürich | Familien-, Neugeborenen-, Schwangerschafts- & Unternehmensfotografie","home.pregnancyShootingTitle":"Schwangerschafts-Shooting","home.pregnancyShootingDescription":"Feiere den Zauber eines neuen Anfangs. Unser Schwangerschafts-Shooting fängt das Strahlen, die Liebe und die Vorfreude dieses einmaligen Kapitels ein – zeitlose Bilder, die du für immer bewahren wirst.","home.familyShootingTitle":"Familien-Shooting","home.familyShootingDescription":"Unvergessliche Familienmomente, für immer festgehalten. Ob verspielt oder klassisch – unser Familienshooting schafft Bilder voller Lachen, Zusammenhalt und Liebe, die ein Leben lang bleiben.","home.newbornShootingTitle":"Neugeborenen-Shooting","home.newbornShootingDescription":"Kleine Finger, erstes Gähnen, unendliche Liebe. Unser Neugeborenen-Shooting hält diese flüchtigen ersten Momente mit viel Feingefühl und Kunstfertigkeit fest – Erinnerungen, die du nie vergessen wirst.","home.bookNowButton":"Jetzt Buchen","home.testimonialsTitle":"Was unsere Kunden sagen","home.faqTitle":"FAQs - Häufig gestellte Fragen","home.faq1Text":"Unsere Leidenschaft für authentische Momente und unser Engagement für Qualität. Wir verstehen Familie als mehr als nur eine Gruppe von Menschen; es sind die Beziehungen und Liebe, die wir in jedem Bild festhalten. Unser Ansatz verbindet künstlerische Vision mit persönlicher Betreuung, um Fotos zu erschaffen, die Ihre Familiengeschichte erzählen.","home.faq2Text":"Unsere Fotoshootings finden ausschließlich in unserem Studio in Wien statt. Dort haben wir die perfekte Umgebung und professionelles Licht – ideal für natürliche und stilvolle Familienporträts.","home.faq3Text":"Nach der Buchung erhalten Sie von uns eine detaillierte Anleitung zur Vorbereitung – von der Auswahl der Kleidung bis hin zu Tipps für die Gestaltung des Shootings. Unser Ziel ist es, dass Sie sich wohl fühlen und Spaß haben.","home.faq4Text":"Unsere Familienfotoshootings dauern in der Regel bis zu einer Stunde. Wir nehmen uns genug Zeit, um sicherzustellen, dass schöne, natürliche Aufnahmen entstehen – ganz entspannt und ohne Eile.","home.faq5Text":"Absolut! Haustiere sind ein wichtiger Teil der Familie und herzlich willkommen.","home.faq6Text":"Wir wissen: Nicht jeder steht gerne vor der Kamera. Aber genau das ist unsere Stärke! Mit viel Einfühlungsvermögen, Humor und einer lockeren Atmosphäre helfen wir Groß und Klein, sich zu entspannen. Bei uns darf gelacht, gealbert und echt sein – so entstehen die natürlichsten Familienfotos.","home.testimonial1Role":"Familienshooting","home.testimonial1Text":"Ein wundervolles Erlebnis! Die Fotos sind einfach traumhaft geworden und die Atmosphäre war super entspannt. Unsere Kinder haben sich sofort wohlgefühlt.","home.testimonial2Role":"Business Portrait","home.testimonial2Text":"Professionell, kreativ und effizient. Die Business Portraits sind genau so geworden, wie ich sie mir vorgestellt habe. Sehr zu empfehlen!","home.testimonial3Role":"Hochzeitsfotografie","home.testimonial3Text":"Unsere Hochzeitsfotos sind einfach magisch! Jeder besondere Moment wurde perfekt eingefangen. Wir sind überglücklich mit dem Ergebnis.","home.testimonial4Role":"Schwangerschaftsshooting","home.testimonial4Text":"Die Schwangerschaftsfotos sind wunderschön geworden. Ich fühlte mich während des Shootings sehr wohl und die Bilder spiegeln genau diese besondere Zeit wider.","home.testimonial5Role":"Neugeborenen-Shooting","home.testimonial5Text":"Die Fotos unseres Neugeborenen sind unbezahlbar. Die Geduld und Professionalität während des Shootings war beeindruckend. Jedes Bild ist ein Kunstwerk!","home.testimonial6Role":"Event-Fotografie","home.testimonial6Text":"Die Fotos von unserer Firmenveranstaltung sind fantastisch. Jeder wichtige Moment wurde festgehalten, ohne dass es gestellt wirkt. Absolut empfehlenswert!","home.faqQuestion1":"Was macht New Age Fotografie einzigartig?","home.faqQuestion2":"Wo finden die Fotoshootings statt?","home.faqQuestion3":"Wie bereiten wir uns auf das Fotoshooting vor?","home.faqQuestion4":"Wie lange dauert ein Familienfotoshooting?","home.faqQuestion5":"Können wir Haustiere zum Fotoshooting mitbringen?","home.faqQuestion6":"Wie sorgt ihr dafür, dass wir uns vor der Kamera wohlfühlen?","photoshoots.title":"Fotoshootings Wien - Familien & Neugeborenen Fotografie","photoshoots.subtitle":"Professionelle Fotoshootings in Wien: Familienporträts, Schwangerschaftsfotos, Neugeborenenbilder & Business-Headshots","photoshoots.familyTitle":"Familienporträts in Wien & Zürich","photoshoots.familyDescription":"Unsere Familiensitzungen drehen sich darum, die einzigartige Bindung festzuhalten, die Sie teilen. Von spontanen Momenten bis hin zu inszenierten Porträts schaffen wir Bilder, die Sie für immer schätzen werden.","photoshoots.pregnancyTitle":"Schwangerschaftsfotografie in Wien & Zürich","photoshoots.pregnancyDescription":"Feiern Sie die Schönheit der Mutterschaft mit unseren Schwangerschaftssitzungen. Wir schaffen atemberaubende Bilder, die diese besondere Zeit in Ihrem Leben hervorheben.","photoshoots.newbornTitle":"Neugeborenenfotografie in Wien & Zürich","photoshoots.newbornDescription":"Es gibt nichts Zarteres als die ersten Tage im Leben eines Neugeborenen. Unsere Neugeborenensitzungen konzentrieren sich darauf, diese flüchtigen Momente mit Zärtlichkeit und Sorgfalt einzufangen.","photoshoots.businessTitle":"Firmenfotografie in Wien & Zürich","photoshoots.businessDescription":"Verbessern Sie Ihr professionelles Image mit unseren Firmenfotografie-Dienstleistungen. Von Porträts bis hin zu Teamfotos helfen wir Ihnen, Ihr Unternehmen im besten Licht zu präsentieren.","photoshoots.eventTitle":"Eventfotografie in Wien & Zürich","photoshoots.eventDescription":"Es gibt nichts Aufregenderes als die unvergesslichen Momente bei Veranstaltungen. Unsere Eventfotografie konzentriert sich darauf, diese besonderen Augenblicke mit Kreativität und Professionalität festzuhalten.","photoshoots.weddingTitle":"Hochzeitsfotografie in Wien & Zürich","photoshoots.weddingDescription":"Es gibt nichts Schöneres als die Magie eines Hochzeitstages. Unsere Hochzeitsfotografie fängt diese magischen Momente mit Liebe zum Detail und künstlerischem Flair ein.","photoshoots.learnMore":"Mehr erfahren","photoshoots.flexibleAppointments":"Flexible Termine","photoshoots.flexibleDescription":"Wir bieten flexible Terminvereinbarung an, auch an Wochenenden","photoshoots.wholeFamily":"Für die ganze Familie","photoshoots.wholeFamilyDescription":"Geeignet für Familien jeder Größe, inklusive Haustiere","photoshoots.professionalEquipment":"Professionelle Ausrüstung","photoshoots.professionalDescription":"Modernste Kameraausrüstung für beste Ergebnisse","waitlist.title":"Fotoshooting Termin in Wien anfragen","waitlist.subtitle":"Professioneller Familienfotograf in Wien mit flexiblen Terminen. Wir bieten Fotoshootings an Wochenenden - kontaktieren Sie uns für die Verfügbarkeit.","waitlist.fullName":"Vollname","waitlist.fullNamePlaceholder":"Ihr vollständiger Name","waitlist.preferredDate":"Wunschtermin","waitlist.email":"E-Mail","waitlist.emailPlaceholder":"ihre@email.com","waitlist.phone":"Telefon","waitlist.message":"Nachricht","waitlist.messagePlaceholder":"Erzählen Sie uns von Ihrem gewünschten Fotoshooting...","waitlist.submit":"Termin anfragen","waitlist.submitting":"Wird gesendet...","waitlist.successTitle":"Anfrage gesendet!","waitlist.successMessage":"Vielen Dank für Ihre Anfrage! Wir werden uns innerhalb von 24 Stunden bei Ihnen melden, um Ihren Fotoshooting-Termin zu koordinieren.","vouchers.title":"Fotoshooting Gutscheine Wien","vouchers.subtitle":"Fotoshooting Gutscheine als perfekte Geschenkidee","vouchers.searchPlaceholder":"Gutscheine suchen...","vouchers.filterByCategory":"Nach Kategorie filtern","vouchers.loadingError":"Fehler beim Laden der Gutscheine","vouchers.loadingErrorMessage":"Die Gutscheine konnten nicht geladen werden. Bitte versuchen Sie es später erneut.","vouchers.noVouchersFound":"Keine Gutscheine gefunden","vouchers.noVouchersAvailable":"Noch keine Gutscheine verfügbar","vouchers.noVouchersFoundMessage":"Wir konnten keine Gutscheine finden, die Ihren Kriterien entsprechen.","vouchers.noVouchersAvailableMessage":"Unsere Fotoshooting-Gutscheine werden bald verfügbar sein.","vouchers.validUntil":"Gültig bis","vouchers.validityPeriod":"2 Jahre","vouchers.available":"verfügbar","vouchers.soldOut":"Ausverkauft","vouchers.resetFilters":"Filter zurücksetzen","blog.title":"Fotografie Blog - Tipps & Inspiration","blog.subtitle":"Entdecken Sie Fotografie-Tipps, Behind-the-Scenes und Inspiration für perfekte Familienfotos","blog.searchPlaceholder":"Blog-Beiträge suchen...","blog.noPostsFound":"Keine Beiträge gefunden","blog.noPostsMatchCriteria":"Keine Beiträge entsprechen Ihren Suchkriterien. Versuchen Sie, Ihre Filter anzupassen.","blog.noPostsYet":"Wir haben noch keine Blog-Beiträge veröffentlicht. Schauen Sie bald wieder vorbei!","contact.title":"Kontakt - Familienfotograf Wien","contact.subtitle":"Vereinbaren Sie Ihr persönliches Fotoshooting in Wien","contact.studioTitle":"Fotostudio Wien - Kontaktinformationen","contact.contactForm":"Kontaktformular","contact.fullName":"Name","contact.email":"E-Mail","contact.phone":"Telefon","contact.message":"Nachricht","contact.messagePlaceholder":"Ihre Nachricht...","contact.submit":"Nachricht senden","contact.submitting":"Wird gesendet...","contact.successMessage":"Ihre Nachricht wurde erfolgreich gesendet. Wir werden uns bald bei Ihnen melden.","contact.openingHours":"Fr-So: 09:00 - 17:00","contact.officeAddress":"","contact.addressNote":"STUDIO Eingang Ecke Schönbrunnerstraße","contact.studioAddress":"Studio: Wehrgasse 11A/2+5, 1050 Wien","contact.transport":"Anfahrt","contact.trainInfo":"5 Minuten von Kettenbrückengasse","contact.streetParking":"Straßenparkplätze verfügbar","contact.mapTitle":"Studio Location","contact.call":"Jetzt anrufen","footer.quickLinks":"Schnelllinks","footer.contact":"Kontakt","footer.categories":"Kategorien","footer.officeAddress":"","footer.fullContactDetails":"Vollständige Kontaktdaten","footer.family":"Familie","footer.baby":"Baby","footer.wedding":"Hochzeit","footer.business":"Business","footer.event":"Event","footer.gallery":"Galerie","reviews.viewAllOnGoogle":"Alle Bewertungen auf Google ansehen","nav.dashboard":"Dashboard","nav.newLeads":"Neue Leads","nav.onlineVoucherSales":"Online Gutschein-Verkäufe","nav.clients":"Kunden","nav.topClients":"Top Kunden","nav.galleriesAdmin":"Galerien","nav.invoices":"Rechnungen","nav.calendar":"Kalender","nav.digitalFiles":"Digitale Dateien","nav.blogAdmin":"Blog","nav.aiAutoblog":"KI AutoBlog","nav.emailCampaigns":"E-Mail Kampagnen","nav.communications":"Kommunikation","nav.inbox":"Posteingang","nav.questionnaires":"Fragebögen","nav.reports":"Berichte","nav.crmAssistant":"CRM-Assistent","nav.knowledgeBase":"Wissensdatenbank","nav.testChat":"Test Chat","nav.settings":"Einstellungen","nav.customization":"Anpassung","nav.studioTemplates":"Studio Vorlagen","nav.websiteWizard":"Website-Assistent","nav.websiteAnalyzer":"Website-Analyse","nav.viewWebsite":"Website anzeigen","nav.signOut":"Abmelden"}},SM=j.createContext(void 0),LK=({children:e})=>{const[t,n]=j.useState(()=>{const a=localStorage.getItem("language");return a==="en"||a==="de"?a:(navigator.language||navigator.languages?.[0]||"").toLowerCase().startsWith("de")?"de":"en"});j.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const s=a=>{const i=PA[t][a];return i||PA.en[a]||a};return r.jsx(SM.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},ia=()=>{const e=j.useContext(SM);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ke=(e,t)=>{const n=j.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>j.createElement("svg",{ref:u,...IK,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${MK(e)}`,l].join(" "),...d},[...t.map(([h,p])=>j.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=Ke("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=Ke("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=Ke("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=Ke("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Ke("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=Ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=Ke("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Ke("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=Ke("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Ke("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=Ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=Ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Ke("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ke("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Ke("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=Ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=Ke("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=Ke("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Ke("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ke("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ke("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Ke("Indent",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Ke("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Ke("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Ke("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=Ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Ke("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Ke("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ke("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ke("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Ke("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ke("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ke("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Ke("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ke("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ke("Outdent",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ke("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Ke("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ke("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ke("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=Ke("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Ke("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Ke("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ke("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ke("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ke("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Ke("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Ke("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Ke("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Ke("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Ke("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ke("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Ke("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Ke("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Ke("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Ke("TestTube2",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01v0a2.83 2.83 0 0 1 0-4L17 3",key:"dg8b2p"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=Ke("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Ke("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Ke("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=Ke("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Ke("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Ke("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=Ke("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Ke("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Ke("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),RY=()=>{const[e,t]=j.useState(!1),n=Vy(),{language:s,setLanguage:a,t:i}=ia(),o=()=>{t(!e)},l=()=>{a(s==="en"?"de":"en")},c=h=>n.pathname===h,d=h=>{window.scrollTo({top:0,behavior:"smooth"})},u=[{path:"/",label:i("nav.home")},{path:"/fotoshootings",label:i("nav.photoshoots")},{path:"/vouchers",label:i("nav.vouchers")},{path:"/blog",label:i("nav.blog")},{path:"/warteliste",label:i("nav.waitlist")},{path:"/kontakt",label:i("nav.contact")}];return r.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:["      ",r.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[r.jsx(Vt,{to:"/",className:"flex items-center",children:r.jsx("img",{src:"/frontend-logo.jpg",alt:"New Age Fotografie",className:"h-24 w-auto"})}),r.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[u.map(h=>r.jsx(Vt,{to:h.path,onClick:()=>d(h.path),className:`text-gray-700 hover:text-purple-600 transition-colors ${c(h.path)?"text-purple-600 font-semibold":""}`,children:h.label},h.path)),r.jsxs("button",{onClick:l,className:"text-gray-700 hover:text-purple-600 transition-colors flex items-center","aria-label":"Toggle language",children:[r.jsx(Mi,{size:18,className:"mr-1"}),r.jsx("span",{className:"uppercase",children:s})]})]}),r.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:o,children:r.jsx(TM,{size:24})})]}),e&&r.jsx("div",{className:"md:hidden bg-white shadow-lg",children:r.jsxs("div",{className:"container mx-auto px-4 py-2 flex flex-col",children:[u.map(h=>r.jsx(Vt,{to:h.path,className:`py-2 text-gray-700 hover:text-purple-600 transition-colors ${c(h.path)?"text-purple-600 font-semibold":""}`,onClick:()=>{d(h.path),t(!1)},children:h.label},h.path)),r.jsxs("button",{onClick:()=>{l(),t(!1)},className:"py-2 text-left text-gray-700 hover:text-purple-600 transition-colors flex items-center",children:[r.jsx(Mi,{size:18,className:"mr-1"}),r.jsx("span",{className:"uppercase",children:s})]})]})})]})};async function FY(e){try{const t=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,sourcePath:e.sourcePath||(typeof window<"u"?window.location.pathname:void 0)})});if(!t.ok){const n=await t.json().catch(()=>({error:"Network error"}));throw new Error(n.error||"Failed to submit contact form")}return await t.json()}catch(t){throw console.error("Contact form submission error:",t),new Error("Failed to submit contact form. Please try again later.")}}async function $Y(e){try{const t=await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,sourcePath:e.sourcePath||(typeof window<"u"?window.location.pathname:void 0)})});if(!t.ok){const n=await t.json().catch(()=>({error:"Network error"}));throw new Error(n.error||"Failed to submit appointment request")}return await t.json()}catch(t){throw console.error("Waitlist form submission error:",t),new Error("Failed to submit appointment request. Please try again later.")}}async function BY(e,t){try{const n=await fetch("/api/newsletter/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,consent:t?.consent??!0,sourcePath:t?.sourcePath||(typeof window<"u"?window.location.pathname:void 0)})});if(!n.ok){const a=await n.json().catch(()=>({error:"Network error"}));throw new Error(a.error||"Failed to submit newsletter signup")}const s=await n.json();return{success:!0,data:s,message:s.message||"Newsletter signup successful!"}}catch(n){throw console.error("Newsletter form submission error:",n),new Error("Failed to process newsletter signup. Please try again later.")}}const zY=()=>{const{t:e}=ia(),{user:t,signOut:n}=Yw(),[s,a]=j.useState(""),i=()=>{window.scrollTo({top:0,behavior:"smooth"})},[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,h]=j.useState(!1),p=async f=>{if(f.preventDefault(),!s.trim()){d("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())){d("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}l(!0),d(null);try{const g=await BY(s.trim(),{consent:!0,sourcePath:window.location.pathname});if(g.success)h(!0),a(""),setTimeout(()=>h(!1),5e3);else throw new Error(g.message||"Signup failed")}catch(g){const v=g instanceof Error?g.message:"Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.";d(v)}finally{l(!1)}};return r.jsx("footer",{className:"bg-gray-800 text-white mt-12",children:r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:["          ",r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Vt,{to:"/",onClick:i,className:"text-white text-xl font-bold mb-4 block",children:"New Age Fotografie"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Professional photography and CRM solutions for modern businesses."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:r.jsx(KK,{size:20})}),r.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:r.jsx(rY,{size:20})}),r.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:r.jsx(TY,{size:20})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.quickLinks")}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(Vt,{to:"/",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("nav.home")})}),r.jsx("li",{children:r.jsx(Vt,{to:"/fotoshootings",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("nav.photoshoots")})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.contact")}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx("span",{className:"text-sm",children:e("contact.studioAddress")})}),r.jsx("li",{children:r.jsx("span",{className:"text-sm",children:e("contact.addressNote")})}),r.jsx("li",{children:r.jsx("a",{href:"https://wa.me/4367763399210",target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:text-purple-300 transition-colors",children:"Tel/WhatsApp: +43 677 633 99210"})}),r.jsx("li",{children:r.jsx(Vt,{to:"/kontakt",onClick:i,className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:e("footer.fullContactDetails")})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.categories")}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"https://www.newagefotografie.com/gutschein/family",className:"text-gray-300 hover:text-white transition-colors",children:e("footer.family")})}),r.jsx("li",{children:r.jsx("a",{href:"https://www.newagefotografie.com/gutschein/newborn",className:"text-gray-300 hover:text-white transition-colors",children:e("footer.baby")})}),r.jsx("li",{children:r.jsx("a",{href:"https://www.newagefotografie.com/fotoshootings/wedding",className:"text-gray-300 hover:text-white transition-colors",children:e("footer.wedding")})}),r.jsx("li",{children:r.jsx("a",{href:"https://www.newagefotografie.com/fotoshootings/business",className:"text-gray-300 hover:text-white transition-colors",children:e("footer.business")})}),r.jsx("li",{children:r.jsx("a",{href:"https://www.newagefotografie.com/fotoshootings/event",className:"text-gray-300 hover:text-white transition-colors",children:e("footer.event")})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.gallery")}),r.jsxs("ul",{className:"space-y-2",children:[t?r.jsxs(r.Fragment,{children:[r.jsx("li",{children:r.jsxs(Vt,{to:"/gallery",onClick:i,className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[r.jsx(Ho,{size:18,className:"mr-2"}),e("nav.gallery")]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>n(),className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[r.jsx(PM,{size:18,className:"mr-2"}),e("nav.logout")]})})]}):r.jsx("li",{children:r.jsxs(Vt,{to:"/gallery",onClick:i,className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[r.jsx(Ho,{size:18,className:"mr-2"}),e("nav.login")]})}),r.jsx("li",{children:r.jsxs(Vt,{to:"/admin/login",className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[r.jsx(Ho,{size:18,className:"mr-2"}),"Admin Login"]})})]})]}),r.jsx("div",{className:"md:col-span-5 mt-8",children:r.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("newsletter.signup")}),u?r.jsxs("div",{className:"text-green-400 flex items-center",children:[r.jsx(pr,{className:"mr-2"}),e("newsletter.thanks")]}):r.jsxs("form",{onSubmit:p,className:"flex gap-4",children:[r.jsx("input",{type:"email",value:s,onChange:f=>a(f.target.value),placeholder:e("newsletter.placeholder"),required:!0,className:"flex-1 px-4 py-2 rounded-lg bg-gray-600 text-white placeholder-gray-400 border border-gray-500 focus:outline-none focus:border-purple-500"}),r.jsx("button",{type:"submit",disabled:o,className:`px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Wird gesendet...":e("newsletter.button")})]}),"              ",c&&r.jsx("p",{className:"mt-2 text-red-400 text-sm",children:c})]})})]}),"        ",r.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-300",children:[r.jsx("p",{children:"© 2025 New Age Fotografie. All Rights Reserved"}),r.jsx("p",{className:"mt-2 text-sm",children:r.jsx("a",{href:"https://www.togninja.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Powered By TogNinja"})})]})]})})},UY=()=>{const e=[{url:"https://i.postimg.cc/bJGQXcx9/1626165386655.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/xT9cMVXp/217447.png",alt:"Partner logo"},{url:"https://i.postimg.cc/hPRVYYfV/bank-austria-edvfiasko-kostet-bank-austria20121107201134.jpg",alt:"Bank Austria"},{url:"https://i.postimg.cc/26PnrcTR/cropped-logo-web-text1.png",alt:"Partner logo"},{url:"https://i.postimg.cc/2jhZnx2y/download.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/MHVVT7rc/download-1.png",alt:"Partner logo"},{url:"https://i.postimg.cc/SNLcbGM3/download-2.png",alt:"Partner logo"},{url:"https://i.postimg.cc/sfhpwzDV/download-2.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Qd05HxSq/download-3.png",alt:"Partner logo"},{url:"https://i.postimg.cc/s2xWSdNC/download-4.png",alt:"Partner logo"},{url:"https://i.postimg.cc/3xKm8DjR/download-4.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Gpfyx7W8/download-5.png",alt:"Partner logo"},{url:"https://i.postimg.cc/rmttnGTh/download-6.png",alt:"Partner logo"},{url:"https://i.postimg.cc/mkf10c2T/download-7.png",alt:"Partner logo"},{url:"https://i.postimg.cc/1XGVP9fw/download-8.png",alt:"Partner logo"},{url:"https://i.postimg.cc/ZKLvM5kh/erste.jpg",alt:"Erste Bank"},{url:"https://i.postimg.cc/wTzs2sGV/Eurovision.jpg",alt:"Eurovision"},{url:"https://i.postimg.cc/jSdn0YKn/Google-Trusted-Photographer-Badge.jpg",alt:"Google Trusted Photographer"},{url:"https://i.postimg.cc/DzSW0QS2/IGEPHA-Logo-transparent.png",alt:"IGEPHA"},{url:"https://i.postimg.cc/g01xZwh3/images.png",alt:"Partner logo"},{url:"https://i.postimg.cc/Jz6DRY46/images-3.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/wvJ7c65Z/kieninger-lagler-gmbh-full-1510837544.jpg",alt:"Kieninger Lagler"},{url:"https://i.postimg.cc/xTgqPpHf/kl-herzen-logo4c-ohnetext.jpg",alt:"KL Herzen"},{url:"https://i.postimg.cc/gjWrgfNJ/logo-300x141.png",alt:"Partner logo"},{url:"https://i.postimg.cc/SRfR3DvG/Porr-svg.png",alt:"Porr"},{url:"https://i.postimg.cc/PfWCC558/RB4PRNY.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Hx2RcMcL/images.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/BbnyxvHB/images.png",alt:"Partner logo"},{url:"https://i.postimg.cc/rwrHG303/Leier-International-logo-svg.png",alt:"Leier International"},{url:"https://i.postimg.cc/PrccwTx1/Logo-BB-svg.png",alt:"BB Logo"},{url:"https://i.postimg.cc/vT2KXdvF/mydays-logo-png-seeklogo-357684.png",alt:"MyDays"},{url:"https://i.postimg.cc/66MFBdxj/QAP.png",alt:"QAP"},{url:"https://i.postimg.cc/QxVwCHXX/RIH-logo-90-90-90-300x152.jpg",alt:"RIH"},{url:"https://i.postimg.cc/FKXBTp0R/stekovics-tomaten-chili.jpg",alt:"Stekovics"}];return r.jsx("section",{className:"bg-gray-50 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"Our Partners"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8",children:e.map((t,n)=>r.jsx("div",{className:"bg-white rounded-lg p-4 flex items-center justify-center shadow-sm hover:shadow-md transition-shadow",children:r.jsx("img",{src:t.url,alt:t.alt,className:"max-h-16 w-auto object-contain transition-transform hover:scale-105"})},n))})]})})},qY=()=>{const{t:e}=ia(),[t,n]=j.useState([{author_name:"Sabine Schuster",rating:5,text:"Matt ist ein wunderbarer Fotograf, der es versteht, die Persönlichkeit der Menschen einzufangen. Wir haben uns sehr wohl gefühlt und die Bilder sind einfach toll geworden. Sehr zu empfehlen!",profile_photo_url:"https://images.unsplash.com/photo-1494790108755-2616b345de9e?w=60&h=60&fit=crop&crop=face&auto=format",time:16867296e5},{author_name:"Katharina Müller",rating:5,text:"Wir hatten ein Familienshooting mit Matt und sind begeistert! Die Atmosphäre war super entspannt und die Bilder sind einfach wunderschön geworden. Besonders toll fanden wir, wie geduldig er mit unseren Kindern war. Absolute Empfehlung!",profile_photo_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=60&h=60&fit=crop&crop=face&auto=format",time:1692144e6},{author_name:"Thomas Wagner",rating:5,text:"Professionelles Business-Shooting mit hervorragenden Ergebnissen. Matt hat es geschafft, dass ich mich vor der Kamera wohl gefühlt habe, obwohl ich normalerweise nicht gerne fotografiert werde. Die Bilder nutze ich jetzt für meine Website und LinkedIn - top Qualität!",profile_photo_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face&auto=format",time:16894656e5},{author_name:"Lisa Huber",rating:5,text:"Unser Neugeborenen-Shooting mit Matt war ein wunderschönes Erlebnis. Er hat sich so viel Zeit genommen und war unglaublich einfühlsam mit unserem kleinen Sohn. Die Fotos sind traumhaft schön geworden und werden uns immer an diese besondere Zeit erinnern.",profile_photo_url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=60&h=60&fit=crop&crop=face&auto=format",time:16935264e5},{author_name:"Michael Bauer",rating:5,text:"Matt hat unsere Hochzeit fotografiert und wir sind mehr als zufrieden! Er hat alle wichtigen Momente eingefangen, ohne dabei aufdringlich zu sein. Die Bilder erzählen die Geschichte unseres Tages perfekt. Danke für diese wunderbaren Erinnerungen!",profile_photo_url:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=60&h=60&fit=crop&crop=face&auto=format",time:1688256e6},{author_name:"Anna Steiner",rating:5,text:"Mein Schwangerschaftsshooting mit Matt war ein tolles Erlebnis. Er hat eine sehr angenehme Art und schafft es, dass man sich sofort wohlfühlt. Die Bilder sind wunderschön geworden und zeigen genau die Emotionen, die ich mir gewünscht habe. Sehr empfehlenswert!",profile_photo_url:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=60&h=60&fit=crop&crop=face&auto=format",time:16915392e5}]),[s,a]=j.useState(0),[i,o]=j.useState([]);j.useEffect(()=>{const h=()=>{let p=1;window.innerWidth>=1024?p=3:window.innerWidth>=768&&(p=2);const f=[];for(let x=0;x<p;x++){const g=(s+x)%t.length;f.push(t[g])}o(f)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[s,t]);const l=()=>{a(h=>(h+1)%t.length)},c=()=>{a(h=>(h-1+t.length)%t.length)},d=h=>new Date(h).toLocaleDateString("de-DE",{year:"numeric",month:"long"}),u=h=>Array(5).fill(0).map((p,f)=>r.jsx(El,{size:16,className:f<h?"text-yellow-500 fill-yellow-500":"text-gray-300"},f));return r.jsx("section",{className:"bg-gray-50 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Was unsere Kunden sagen"}),r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx("div",{className:"flex",children:u(5)}),r.jsx("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",children:"4.9 auf Google (253 Bewertungen)"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((h,p)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("img",{src:h.profile_photo_url,alt:h.author_name,className:"w-12 h-12 rounded-full mr-4"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:h.author_name}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex mr-2",children:u(h.rating)}),r.jsx("span",{className:"text-gray-500 text-sm",children:d(h.time)})]})]})]}),r.jsx("p",{className:"text-gray-600 line-clamp-4",children:h.text}),r.jsx("div",{className:"mt-4",children:r.jsxs("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm inline-flex items-center",children:["Auf Google Maps ansehen",r.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]},p))}),r.jsx("button",{onClick:c,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 focus:outline-none hidden md:block","aria-label":"Previous review",children:r.jsx(Hy,{size:24})}),r.jsx("button",{onClick:l,className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 focus:outline-none hidden md:block","aria-label":"Next review",children:r.jsx(vc,{size:24})})]}),r.jsx("div",{className:"flex justify-center mt-8",children:r.jsxs("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors inline-flex items-center",children:[e("reviews.viewAllOnGoogle"),r.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})},Wn=({children:e})=>(ia(),r.jsxs("div",{className:"flex flex-col min-h-screen",style:{position:"static",overflow:"visible"},children:[r.jsx(RY,{}),r.jsx("main",{className:"flex-grow",style:{position:"static",overflow:"visible"},children:e}),r.jsx(qY,{}),r.jsx(UY,{}),r.jsx(zY,{})]})),Qv=({src:e,alt:t,className:n="",onError:s,loading:a="lazy"})=>{const[i,o]=j.useState(!1),[l,c]=j.useState(1),[d,u]=j.useState({x:0,y:0}),[h,p]=j.useState(!1),[f,x]=j.useState({x:0,y:0}),[g,v]=j.useState(!1),[b,_]=j.useState(0),w=j.useRef(null),S=j.useRef(null);j.useEffect(()=>{i&&(c(1),u({x:0,y:0}))},[i]),j.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]);const A=()=>{o(!0)},L=()=>{o(!1)},P=$=>{$.preventDefault();const W=$.deltaY>0?.9:1.1,te=Math.max(.5,Math.min(5,l*W));c(te)},k=($,W)=>Math.sqrt(Math.pow(W.clientX-$.clientX,2)+Math.pow(W.clientY-$.clientY,2)),C=$=>{if($.touches.length===1)p(!0),x({x:$.touches[0].clientX,y:$.touches[0].clientY});else if($.touches.length===2){v(!0),p(!1);const W=k($.touches[0],$.touches[1]);_(W)}},R=$=>{if($.preventDefault(),$.touches.length===1&&h&&!g){const W=$.touches[0].clientX-f.x,te=$.touches[0].clientY-f.y;u(J=>({x:J.x+W,y:J.y+te})),x({x:$.touches[0].clientX,y:$.touches[0].clientY})}else if($.touches.length===2&&g){const W=k($.touches[0],$.touches[1]),te=W/b,J=Math.max(.5,Math.min(5,l*te));c(J),_(W)}},E=$=>{$.touches.length===0?(p(!1),v(!1)):$.touches.length===1&&(v(!1),p(!0),x({x:$.touches[0].clientX,y:$.touches[0].clientY}))},I=$=>{p(!0),x({x:$.clientX,y:$.clientY})},B=$=>{if(!h)return;const W=$.clientX-f.x,te=$.clientY-f.y;u(J=>({x:J.x+W,y:J.y+te})),x({x:$.clientX,y:$.clientY})},z=()=>{p(!1)},V=()=>{c(1),u({x:0,y:0})},U=()=>{c($=>Math.min(5,$*1.2))},K=()=>{c($=>Math.max(.5,$*.8))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`relative group cursor-pointer ${n}`,children:[r.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:s,loading:a,onClick:A}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:r.jsx(DY,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})]}),i&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:[r.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[r.jsx("button",{onClick:K,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Zoom out",children:r.jsx("span",{className:"text-lg",children:"−"})}),r.jsx("button",{onClick:U,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Zoom in",children:r.jsx("span",{className:"text-lg",children:"+"})}),r.jsx("button",{onClick:V,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Reset zoom",children:r.jsx(jY,{className:"h-4 w-4"})}),r.jsx("button",{onClick:L,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Close",children:r.jsx(gn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[Math.round(l*100),"%"]}),r.jsx("div",{ref:S,className:"w-full h-full flex items-center justify-center overflow-hidden",onWheel:P,onTouchStart:C,onTouchMove:R,onTouchEnd:E,onMouseDown:I,onMouseMove:B,onMouseUp:z,onMouseLeave:z,style:{cursor:h?"grabbing":"grab"},children:r.jsx("img",{ref:w,src:e,alt:t,className:"max-w-none select-none",style:{transform:`scale(${l}) translate(${d.x/l}px, ${d.y/l}px)`,transition:h||g?"none":"transform 0.2s ease-out"},draggable:!1,onError:s})}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm text-center",children:[r.jsx("div",{className:"hidden md:block",children:"Scroll to zoom • Drag to pan • Click outside to close"}),r.jsx("div",{className:"block md:hidden",children:"Pinch to zoom • Drag to pan • Tap X to close"})]})]})]})};var DM={exports:{}};(function(e,t){(function(n,s){e.exports=s(j)})(typeof self<"u"?self:Uo,n=>(()=>{var s={2:(l,c,d)=>{var u=d(2199),h=d(4664),p=d(5950);l.exports=function(f){return u(f,p,h)}},79:(l,c,d)=>{var u=d(3702),h=d(80),p=d(4739),f=d(8655),x=d(1175);function g(v){var b=-1,_=v==null?0:v.length;for(this.clear();++b<_;){var w=v[b];this.set(w[0],w[1])}}g.prototype.clear=u,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=x,l.exports=g},80:(l,c,d)=>{var u=d(6025),h=Array.prototype.splice;l.exports=function(p){var f=this.__data__,x=u(f,p);return!(x<0||(x==f.length-1?f.pop():h.call(f,x,1),--this.size,0))}},270:(l,c,d)=>{var u=d(7068),h=d(346);l.exports=function p(f,x,g,v,b){return f===x||(f==null||x==null||!h(f)&&!h(x)?f!=f&&x!=x:u(f,x,g,v,p,b))}},289:(l,c,d)=>{var u=d(2651);l.exports=function(h){return u(this,h).get(h)}},294:l=>{l.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},317:l=>{l.exports=function(c){var d=-1,u=Array(c.size);return c.forEach(function(h,p){u[++d]=[p,h]}),u}},346:l=>{l.exports=function(c){return c!=null&&typeof c=="object"}},361:l=>{var c=/^(?:0|[1-9]\d*)$/;l.exports=function(d,u){var h=typeof d;return!!(u=u??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(d))&&d>-1&&d%1==0&&d<u}},392:l=>{l.exports=function(c,d){return c?.[d]}},659:(l,c,d)=>{var u=d(1873),h=Object.prototype,p=h.hasOwnProperty,f=h.toString,x=u?u.toStringTag:void 0;l.exports=function(g){var v=p.call(g,x),b=g[x];try{g[x]=void 0;var _=!0}catch{}var w=f.call(g);return _&&(v?g[x]=b:delete g[x]),w}},689:(l,c,d)=>{var u=d(2),h=Object.prototype.hasOwnProperty;l.exports=function(p,f,x,g,v,b){var _=1&x,w=u(p),S=w.length;if(S!=u(f).length&&!_)return!1;for(var A=S;A--;){var L=w[A];if(!(_?L in f:h.call(f,L)))return!1}var P=b.get(p),k=b.get(f);if(P&&k)return P==f&&k==p;var C=!0;b.set(p,f),b.set(f,p);for(var R=_;++A<S;){var E=p[L=w[A]],I=f[L];if(g)var B=_?g(I,E,L,f,p,b):g(E,I,L,p,f,b);if(!(B===void 0?E===I||v(E,I,x,g,b):B)){C=!1;break}R||(R=L=="constructor")}if(C&&!R){var z=p.constructor,V=f.constructor;z==V||!("constructor"in p)||!("constructor"in f)||typeof z=="function"&&z instanceof z&&typeof V=="function"&&V instanceof V||(C=!1)}return b.delete(p),b.delete(f),C}},695:(l,c,d)=>{var u=d(8096),h=d(2428),p=d(6449),f=d(3656),x=d(361),g=d(7167),v=Object.prototype.hasOwnProperty;l.exports=function(b,_){var w=p(b),S=!w&&h(b),A=!w&&!S&&f(b),L=!w&&!S&&!A&&g(b),P=w||S||A||L,k=P?u(b.length,String):[],C=k.length;for(var R in b)!_&&!v.call(b,R)||P&&(R=="length"||A&&(R=="offset"||R=="parent")||L&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||x(R,C))||k.push(R);return k}},938:l=>{l.exports=function(c){var d=this.__data__,u=d.delete(c);return this.size=d.size,u}},945:(l,c,d)=>{var u=d(79),h=d(8223),p=d(3661);l.exports=function(f,x){var g=this.__data__;if(g instanceof u){var v=g.__data__;if(!h||v.length<199)return v.push([f,x]),this.size=++g.size,this;g=this.__data__=new p(v)}return g.set(f,x),this.size=g.size,this}},1042:(l,c,d)=>{var u=d(6110)(Object,"create");l.exports=u},1175:(l,c,d)=>{var u=d(6025);l.exports=function(h,p){var f=this.__data__,x=u(f,h);return x<0?(++this.size,f.push([h,p])):f[x][1]=p,this}},1380:l=>{l.exports=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},1420:(l,c,d)=>{var u=d(79);l.exports=function(){this.__data__=new u,this.size=0}},1459:l=>{l.exports=function(c){return this.__data__.has(c)}},1549:(l,c,d)=>{var u=d(2032),h=d(3862),p=d(6721),f=d(2749),x=d(5749);function g(v){var b=-1,_=v==null?0:v.length;for(this.clear();++b<_;){var w=v[b];this.set(w[0],w[1])}}g.prototype.clear=u,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=x,l.exports=g},1873:(l,c,d)=>{var u=d(9325).Symbol;l.exports=u},1882:(l,c,d)=>{var u=d(2552),h=d(3805);l.exports=function(p){if(!h(p))return!1;var f=u(p);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},1986:(l,c,d)=>{var u=d(1873),h=d(7828),p=d(5288),f=d(5911),x=d(317),g=d(4247),v=u?u.prototype:void 0,b=v?v.valueOf:void 0;l.exports=function(_,w,S,A,L,P,k){switch(S){case"[object DataView]":if(_.byteLength!=w.byteLength||_.byteOffset!=w.byteOffset)return!1;_=_.buffer,w=w.buffer;case"[object ArrayBuffer]":return!(_.byteLength!=w.byteLength||!P(new h(_),new h(w)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+_,+w);case"[object Error]":return _.name==w.name&&_.message==w.message;case"[object RegExp]":case"[object String]":return _==w+"";case"[object Map]":var C=x;case"[object Set]":var R=1&A;if(C||(C=g),_.size!=w.size&&!R)return!1;var E=k.get(_);if(E)return E==w;A|=2,k.set(_,w);var I=f(C(_),C(w),A,L,P,k);return k.delete(_),I;case"[object Symbol]":if(b)return b.call(_)==b.call(w)}return!1}},2032:(l,c,d)=>{var u=d(1042);l.exports=function(){this.__data__=u?u(null):{},this.size=0}},2199:(l,c,d)=>{var u=d(4528),h=d(6449);l.exports=function(p,f,x){var g=f(p);return h(p)?g:u(g,x(p))}},2404:(l,c,d)=>{var u=d(270);l.exports=function(h,p){return u(h,p)}},2428:(l,c,d)=>{var u=d(7534),h=d(346),p=Object.prototype,f=p.hasOwnProperty,x=p.propertyIsEnumerable,g=u(function(){return arguments}())?u:function(v){return h(v)&&f.call(v,"callee")&&!x.call(v,"callee")};l.exports=g},2552:(l,c,d)=>{var u=d(1873),h=d(659),p=d(9350),f=u?u.toStringTag:void 0;l.exports=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":f&&f in Object(x)?h(x):p(x)}},2651:(l,c,d)=>{var u=d(4218);l.exports=function(h,p){var f=h.__data__;return u(p)?f[typeof p=="string"?"string":"hash"]:f.map}},2749:(l,c,d)=>{var u=d(1042),h=Object.prototype.hasOwnProperty;l.exports=function(p){var f=this.__data__;return u?f[p]!==void 0:h.call(f,p)}},2804:(l,c,d)=>{var u=d(6110)(d(9325),"Promise");l.exports=u},2949:(l,c,d)=>{var u=d(2651);l.exports=function(h,p){var f=u(this,h),x=f.size;return f.set(h,p),this.size+=f.size==x?0:1,this}},3040:(l,c,d)=>{var u=d(1549),h=d(79),p=d(8223);l.exports=function(){this.size=0,this.__data__={hash:new u,map:new(p||h),string:new u}}},3146:(l,c,d)=>{for(var u=d(3491),h=typeof window>"u"?d.g:window,p=["moz","webkit"],f="AnimationFrame",x=h["request"+f],g=h["cancel"+f]||h["cancelRequest"+f],v=0;!x&&v<p.length;v++)x=h[p[v]+"Request"+f],g=h[p[v]+"Cancel"+f]||h[p[v]+"CancelRequest"+f];if(!x||!g){var b=0,_=0,w=[],S=1e3/60;x=function(A){if(w.length===0){var L=u(),P=Math.max(0,S-(L-b));b=P+L,setTimeout(function(){var k=w.slice(0);w.length=0;for(var C=0;C<k.length;C++)if(!k[C].cancelled)try{k[C].callback(b)}catch(R){setTimeout(function(){throw R},0)}},Math.round(P))}return w.push({handle:++_,callback:A,cancelled:!1}),_},g=function(A){for(var L=0;L<w.length;L++)w[L].handle===A&&(w[L].cancelled=!0)}}l.exports=function(A){return x.call(h,A)},l.exports.cancel=function(){g.apply(h,arguments)},l.exports.polyfill=function(A){A||(A=h),A.requestAnimationFrame=x,A.cancelAnimationFrame=g}},3345:l=>{l.exports=function(){return[]}},3491:function(l){(function(){var c,d,u,h,p,f;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(c()-p)/1e6},d=process.hrtime,h=(c=function(){var x;return 1e9*(x=d())[0]+x[1]})(),f=1e9*process.uptime(),p=h-f):Date.now?(l.exports=function(){return Date.now()-u},u=Date.now()):(l.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},3605:l=>{l.exports=function(c){return this.__data__.get(c)}},3650:(l,c,d)=>{var u=d(4335)(Object.keys,Object);l.exports=u},3656:(l,c,d)=>{l=d.nmd(l);var u=d(9325),h=d(9935),p=c&&!c.nodeType&&c,f=p&&l&&!l.nodeType&&l,x=f&&f.exports===p?u.Buffer:void 0,g=(x?x.isBuffer:void 0)||h;l.exports=g},3661:(l,c,d)=>{var u=d(3040),h=d(7670),p=d(289),f=d(4509),x=d(2949);function g(v){var b=-1,_=v==null?0:v.length;for(this.clear();++b<_;){var w=v[b];this.set(w[0],w[1])}}g.prototype.clear=u,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=x,l.exports=g},3702:l=>{l.exports=function(){this.__data__=[],this.size=0}},3805:l=>{l.exports=function(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}},3862:l=>{l.exports=function(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}},4218:l=>{l.exports=function(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}},4247:l=>{l.exports=function(c){var d=-1,u=Array(c.size);return c.forEach(function(h){u[++d]=h}),u}},4248:l=>{l.exports=function(c,d){for(var u=-1,h=c==null?0:c.length;++u<h;)if(d(c[u],u,c))return!0;return!1}},4335:l=>{l.exports=function(c,d){return function(u){return c(d(u))}}},4509:(l,c,d)=>{var u=d(2651);l.exports=function(h){return u(this,h).has(h)}},4528:l=>{l.exports=function(c,d){for(var u=-1,h=d.length,p=c.length;++u<h;)c[p+u]=d[u];return c}},4664:(l,c,d)=>{var u=d(9770),h=d(3345),p=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols,x=f?function(g){return g==null?[]:(g=Object(g),u(f(g),function(v){return p.call(g,v)}))}:h;l.exports=x},4739:(l,c,d)=>{var u=d(6025);l.exports=function(h){var p=this.__data__,f=u(p,h);return f<0?void 0:p[f][1]}},4840:(l,c,d)=>{var u=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g;l.exports=u},4894:(l,c,d)=>{var u=d(1882),h=d(294);l.exports=function(p){return p!=null&&h(p.length)&&!u(p)}},4901:(l,c,d)=>{var u=d(2552),h=d(294),p=d(346),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,l.exports=function(x){return p(x)&&h(x.length)&&!!f[u(x)]}},5083:(l,c,d)=>{var u=d(1882),h=d(7296),p=d(3805),f=d(7473),x=/^\[object .+?Constructor\]$/,g=Function.prototype,v=Object.prototype,b=g.toString,_=v.hasOwnProperty,w=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(S){return!(!p(S)||h(S))&&(u(S)?w:x).test(f(S))}},5288:l=>{l.exports=function(c,d){return c===d||c!=c&&d!=d}},5481:(l,c,d)=>{var u=d(9325)["__core-js_shared__"];l.exports=u},5527:l=>{var c=Object.prototype;l.exports=function(d){var u=d&&d.constructor;return d===(typeof u=="function"&&u.prototype||c)}},5580:(l,c,d)=>{var u=d(6110)(d(9325),"DataView");l.exports=u},5749:(l,c,d)=>{var u=d(1042);l.exports=function(h,p){var f=this.__data__;return this.size+=this.has(h)?0:1,f[h]=u&&p===void 0?"__lodash_hash_undefined__":p,this}},5861:(l,c,d)=>{var u=d(5580),h=d(8223),p=d(2804),f=d(6545),x=d(8303),g=d(2552),v=d(7473),b="[object Map]",_="[object Promise]",w="[object Set]",S="[object WeakMap]",A="[object DataView]",L=v(u),P=v(h),k=v(p),C=v(f),R=v(x),E=g;(u&&E(new u(new ArrayBuffer(1)))!=A||h&&E(new h)!=b||p&&E(p.resolve())!=_||f&&E(new f)!=w||x&&E(new x)!=S)&&(E=function(I){var B=g(I),z=B=="[object Object]"?I.constructor:void 0,V=z?v(z):"";if(V)switch(V){case L:return A;case P:return b;case k:return _;case C:return w;case R:return S}return B}),l.exports=E},5911:(l,c,d)=>{var u=d(8859),h=d(4248),p=d(9219);l.exports=function(f,x,g,v,b,_){var w=1&g,S=f.length,A=x.length;if(S!=A&&!(w&&A>S))return!1;var L=_.get(f),P=_.get(x);if(L&&P)return L==x&&P==f;var k=-1,C=!0,R=2&g?new u:void 0;for(_.set(f,x),_.set(x,f);++k<S;){var E=f[k],I=x[k];if(v)var B=w?v(I,E,k,x,f,_):v(E,I,k,f,x,_);if(B!==void 0){if(B)continue;C=!1;break}if(R){if(!h(x,function(z,V){if(!p(R,V)&&(E===z||b(E,z,g,v,_)))return R.push(V)})){C=!1;break}}else if(E!==I&&!b(E,I,g,v,_)){C=!1;break}}return _.delete(f),_.delete(x),C}},5950:(l,c,d)=>{var u=d(695),h=d(8984),p=d(4894);l.exports=function(f){return p(f)?u(f):h(f)}},6009:(l,c,d)=>{l=d.nmd(l);var u=d(4840),h=c&&!c.nodeType&&c,p=h&&l&&!l.nodeType&&l,f=p&&p.exports===h&&u.process,x=function(){try{return p&&p.require&&p.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();l.exports=x},6025:(l,c,d)=>{var u=d(5288);l.exports=function(h,p){for(var f=h.length;f--;)if(u(h[f][0],p))return f;return-1}},6110:(l,c,d)=>{var u=d(5083),h=d(392);l.exports=function(p,f){var x=h(p,f);return u(x)?x:void 0}},6449:l=>{var c=Array.isArray;l.exports=c},6545:(l,c,d)=>{var u=d(6110)(d(9325),"Set");l.exports=u},6721:(l,c,d)=>{var u=d(1042),h=Object.prototype.hasOwnProperty;l.exports=function(p){var f=this.__data__;if(u){var x=f[p];return x==="__lodash_hash_undefined__"?void 0:x}return h.call(f,p)?f[p]:void 0}},7068:(l,c,d)=>{var u=d(7217),h=d(5911),p=d(1986),f=d(689),x=d(5861),g=d(6449),v=d(3656),b=d(7167),_="[object Arguments]",w="[object Array]",S="[object Object]",A=Object.prototype.hasOwnProperty;l.exports=function(L,P,k,C,R,E){var I=g(L),B=g(P),z=I?w:x(L),V=B?w:x(P),U=(z=z==_?S:z)==S,K=(V=V==_?S:V)==S,$=z==V;if($&&v(L)){if(!v(P))return!1;I=!0,U=!1}if($&&!U)return E||(E=new u),I||b(L)?h(L,P,k,C,R,E):p(L,P,z,k,C,R,E);if(!(1&k)){var W=U&&A.call(L,"__wrapped__"),te=K&&A.call(P,"__wrapped__");if(W||te){var J=W?L.value():L,M=te?P.value():P;return E||(E=new u),R(J,M,k,C,E)}}return!!$&&(E||(E=new u),f(L,P,k,C,R,E))}},7167:(l,c,d)=>{var u=d(4901),h=d(7301),p=d(6009),f=p&&p.isTypedArray,x=f?h(f):u;l.exports=x},7217:(l,c,d)=>{var u=d(79),h=d(1420),p=d(938),f=d(3605),x=d(9817),g=d(945);function v(b){var _=this.__data__=new u(b);this.size=_.size}v.prototype.clear=h,v.prototype.delete=p,v.prototype.get=f,v.prototype.has=x,v.prototype.set=g,l.exports=v},7296:(l,c,d)=>{var u,h=d(5481),p=(u=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";l.exports=function(f){return!!p&&p in f}},7301:l=>{l.exports=function(c){return function(d){return c(d)}}},7473:l=>{var c=Function.prototype.toString;l.exports=function(d){if(d!=null){try{return c.call(d)}catch{}try{return d+""}catch{}}return""}},7534:(l,c,d)=>{var u=d(2552),h=d(346);l.exports=function(p){return h(p)&&u(p)=="[object Arguments]"}},7670:(l,c,d)=>{var u=d(2651);l.exports=function(h){var p=u(this,h).delete(h);return this.size-=p?1:0,p}},7828:(l,c,d)=>{var u=d(9325).Uint8Array;l.exports=u},8096:l=>{l.exports=function(c,d){for(var u=-1,h=Array(c);++u<c;)h[u]=d(u);return h}},8223:(l,c,d)=>{var u=d(6110)(d(9325),"Map");l.exports=u},8303:(l,c,d)=>{var u=d(6110)(d(9325),"WeakMap");l.exports=u},8655:(l,c,d)=>{var u=d(6025);l.exports=function(h){return u(this.__data__,h)>-1}},8859:(l,c,d)=>{var u=d(3661),h=d(1380),p=d(1459);function f(x){var g=-1,v=x==null?0:x.length;for(this.__data__=new u;++g<v;)this.add(x[g])}f.prototype.add=f.prototype.push=h,f.prototype.has=p,l.exports=f},8984:(l,c,d)=>{var u=d(5527),h=d(3650),p=Object.prototype.hasOwnProperty;l.exports=function(f){if(!u(f))return h(f);var x=[];for(var g in Object(f))p.call(f,g)&&g!="constructor"&&x.push(g);return x}},9155:l=>{l.exports=n},9219:l=>{l.exports=function(c,d){return c.has(d)}},9325:(l,c,d)=>{var u=d(4840),h=typeof self=="object"&&self&&self.Object===Object&&self,p=u||h||Function("return this")();l.exports=p},9350:l=>{var c=Object.prototype.toString;l.exports=function(d){return c.call(d)}},9770:l=>{l.exports=function(c,d){for(var u=-1,h=c==null?0:c.length,p=0,f=[];++u<h;){var x=c[u];d(x,u,c)&&(f[p++]=x)}return f}},9817:l=>{l.exports=function(c){return this.__data__.has(c)}},9905:(l,c,d)=>{d.d(c,{default:()=>$});var u=d(3146),h=d.n(u);const p=function(W){return new RegExp(/<[a-z][\s\S]*>/i).test(W)},f=function(W,te){return Math.floor(Math.random()*(te-W+1))+W};var x="TYPE_CHARACTER",g="REMOVE_CHARACTER",v="REMOVE_ALL",b="REMOVE_LAST_VISIBLE_NODE",_="PAUSE_FOR",w="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",A="CHANGE_DELETE_SPEED",L="CHANGE_DELAY",P="CHANGE_CURSOR",k="PASTE_STRING",C="HTML_TAG";function R(W){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},R(W)}function E(W,te){var J=Object.keys(W);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(W);te&&(M=M.filter(function(G){return Object.getOwnPropertyDescriptor(W,G).enumerable})),J.push.apply(J,M)}return J}function I(W){for(var te=1;te<arguments.length;te++){var J=arguments[te]!=null?arguments[te]:{};te%2?E(Object(J),!0).forEach(function(M){U(W,M,J[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(J)):E(Object(J)).forEach(function(M){Object.defineProperty(W,M,Object.getOwnPropertyDescriptor(J,M))})}return W}function B(W){return function(te){if(Array.isArray(te))return z(te)}(W)||function(te){if(typeof Symbol<"u"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}(W)||function(te,J){if(te){if(typeof te=="string")return z(te,J);var M={}.toString.call(te).slice(8,-1);return M==="Object"&&te.constructor&&(M=te.constructor.name),M==="Map"||M==="Set"?Array.from(te):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?z(te,J):void 0}}(W)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(W,te){(te==null||te>W.length)&&(te=W.length);for(var J=0,M=Array(te);J<te;J++)M[J]=W[J];return M}function V(W,te){for(var J=0;J<te.length;J++){var M=te[J];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(W,K(M.key),M)}}function U(W,te,J){return(te=K(te))in W?Object.defineProperty(W,te,{value:J,enumerable:!0,configurable:!0,writable:!0}):W[te]=J,W}function K(W){var te=function(J){if(R(J)!="object"||!J)return J;var M=J[Symbol.toPrimitive];if(M!==void 0){var G=M.call(J,"string");if(R(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(W);return R(te)=="symbol"?te:te+""}const $=function(){function W(M,G){var X=this;if(function(re,fe){if(!(re instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,W),U(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),U(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),U(this,"setupWrapperElement",function(){X.state.elements.container&&(X.state.elements.wrapper.className=X.options.wrapperClassName,X.state.elements.cursor.className=X.options.cursorClassName,X.state.elements.cursor.innerHTML=X.options.cursor,X.state.elements.container.innerHTML="",X.state.elements.container.appendChild(X.state.elements.wrapper),X.state.elements.container.appendChild(X.state.elements.cursor))}),U(this,"start",function(){return X.state.eventLoopPaused=!1,X.runEventLoop(),X}),U(this,"pause",function(){return X.state.eventLoopPaused=!0,X}),U(this,"stop",function(){return X.state.eventLoop&&((0,u.cancel)(X.state.eventLoop),X.state.eventLoop=null),X}),U(this,"pauseFor",function(re){return X.addEventToQueue(_,{ms:re}),X}),U(this,"typeOutAllStrings",function(){return typeof X.options.strings=="string"?(X.typeString(X.options.strings).pauseFor(X.options.pauseFor),X):(X.options.strings.forEach(function(re){X.typeString(re).pauseFor(X.options.pauseFor).deleteAll(X.options.deleteSpeed)}),X)}),U(this,"typeString",function(re){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(p(re))return X.typeOutHTMLString(re,fe);if(re){var we=(X.options||{}).stringSplitter,Z=typeof we=="function"?we(re):re.split("");X.typeCharacters(Z,fe)}return X}),U(this,"pasteString",function(re){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p(re)?X.typeOutHTMLString(re,fe,!0):(re&&X.addEventToQueue(k,{character:re,node:fe}),X)}),U(this,"typeOutHTMLString",function(re){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,we=arguments.length>2?arguments[2]:void 0,Z=function(Ae){var Ne=document.createElement("div");return Ne.innerHTML=Ae,Ne.childNodes}(re);if(Z.length>0)for(var Q=0;Q<Z.length;Q++){var pe=Z[Q],ge=pe.innerHTML;pe&&pe.nodeType!==3?(pe.innerHTML="",X.addEventToQueue(S,{node:pe,parentNode:fe}),we?X.pasteString(ge,pe):X.typeString(ge,pe)):pe.textContent&&(we?X.pasteString(pe.textContent,fe):X.typeString(pe.textContent,fe))}return X}),U(this,"deleteAll",function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return X.addEventToQueue(v,{speed:re}),X}),U(this,"changeDeleteSpeed",function(re){if(!re)throw new Error("Must provide new delete speed");return X.addEventToQueue(A,{speed:re}),X}),U(this,"changeDelay",function(re){if(!re)throw new Error("Must provide new delay");return X.addEventToQueue(L,{delay:re}),X}),U(this,"changeCursor",function(re){if(!re)throw new Error("Must provide new cursor");return X.addEventToQueue(P,{cursor:re}),X}),U(this,"deleteChars",function(re){if(!re)throw new Error("Must provide amount of characters to delete");for(var fe=0;fe<re;fe++)X.addEventToQueue(g);return X}),U(this,"callFunction",function(re,fe){if(!re||typeof re!="function")throw new Error("Callback must be a function");return X.addEventToQueue(w,{cb:re,thisArg:fe}),X}),U(this,"typeCharacters",function(re){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!re||!Array.isArray(re))throw new Error("Characters must be an array");return re.forEach(function(we){X.addEventToQueue(x,{character:we,node:fe})}),X}),U(this,"removeCharacters",function(re){if(!re||!Array.isArray(re))throw new Error("Characters must be an array");return re.forEach(function(){X.addEventToQueue(g)}),X}),U(this,"addEventToQueue",function(re,fe){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return X.addEventToStateProperty(re,fe,we,"eventQueue")}),U(this,"addReverseCalledEvent",function(re,fe){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return X.options.loop?X.addEventToStateProperty(re,fe,we,"reverseCalledEvents"):X}),U(this,"addEventToStateProperty",function(re,fe){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Z=arguments.length>3?arguments[3]:void 0,Q={eventName:re,eventArgs:fe||{}};return X.state[Z]=we?[Q].concat(B(X.state[Z])):[].concat(B(X.state[Z]),[Q]),X}),U(this,"runEventLoop",function(){X.state.lastFrameTime||(X.state.lastFrameTime=Date.now());var re=Date.now(),fe=re-X.state.lastFrameTime;if(!X.state.eventQueue.length){if(!X.options.loop)return;X.state.eventQueue=B(X.state.calledEvents),X.state.calledEvents=[],X.options=I({},X.state.initialOptions)}if(X.state.eventLoop=h()(X.runEventLoop),!X.state.eventLoopPaused){if(X.state.pauseUntil){if(re<X.state.pauseUntil)return;X.state.pauseUntil=null}var we,Z=B(X.state.eventQueue),Q=Z.shift();if(!(fe<=(we=Q.eventName===b||Q.eventName===g?X.options.deleteSpeed==="natural"?f(40,80):X.options.deleteSpeed:X.options.delay==="natural"?f(120,160):X.options.delay))){var pe=Q.eventName,ge=Q.eventArgs;switch(X.logInDevMode({currentEvent:Q,state:X.state,delay:we}),pe){case k:case x:var Ae=ge.character,Ne=ge.node,Y=document.createTextNode(Ae),ke=Y;X.options.onCreateTextNode&&typeof X.options.onCreateTextNode=="function"&&(ke=X.options.onCreateTextNode(Ae,Y)),ke&&(Ne?Ne.appendChild(ke):X.state.elements.wrapper.appendChild(ke)),X.state.visibleNodes=[].concat(B(X.state.visibleNodes),[{type:"TEXT_NODE",character:Ae,node:ke}]);break;case g:Z.unshift({eventName:b,eventArgs:{removingCharacterNode:!0}});break;case _:var We=Q.eventArgs.ms;X.state.pauseUntil=Date.now()+parseInt(We);break;case w:var Ie=Q.eventArgs,ze=Ie.cb,le=Ie.thisArg;ze.call(le,{elements:X.state.elements});break;case S:var se=Q.eventArgs,Se=se.node,Pe=se.parentNode;Pe?Pe.appendChild(Se):X.state.elements.wrapper.appendChild(Se),X.state.visibleNodes=[].concat(B(X.state.visibleNodes),[{type:C,node:Se,parentNode:Pe||X.state.elements.wrapper}]);break;case v:var $e=X.state.visibleNodes,He=ge.speed,je=[];He&&je.push({eventName:A,eventArgs:{speed:He,temp:!0}});for(var Fe=0,Ze=$e.length;Fe<Ze;Fe++)je.push({eventName:b,eventArgs:{removingCharacterNode:!1}});He&&je.push({eventName:A,eventArgs:{speed:X.options.deleteSpeed,temp:!0}}),Z.unshift.apply(Z,je);break;case b:var tt=Q.eventArgs.removingCharacterNode;if(X.state.visibleNodes.length){var it=X.state.visibleNodes.pop(),lt=it.type,jt=it.node,Lt=it.character;X.options.onRemoveNode&&typeof X.options.onRemoveNode=="function"&&X.options.onRemoveNode({node:jt,character:Lt}),jt&&jt.parentNode.removeChild(jt),lt===C&&tt&&Z.unshift({eventName:b,eventArgs:{}})}break;case A:X.options.deleteSpeed=Q.eventArgs.speed;break;case L:X.options.delay=Q.eventArgs.delay;break;case P:X.options.cursor=Q.eventArgs.cursor,X.state.elements.cursor.innerHTML=Q.eventArgs.cursor}X.options.loop&&(Q.eventName===b||Q.eventArgs&&Q.eventArgs.temp||(X.state.calledEvents=[].concat(B(X.state.calledEvents),[Q]))),X.state.eventQueue=Z,X.state.lastFrameTime=re}}}),M)if(typeof M=="string"){var ie=document.querySelector(M);if(!ie)throw new Error("Could not find container element");this.state.elements.container=ie}else this.state.elements.container=M;G&&(this.options=I(I({},this.options),G)),this.state.initialOptions=I({},this.options),this.init()}var te,J;return te=W,(J=[{key:"init",value:function(){var M,G;this.setupWrapperElement(),this.addEventToQueue(P,{cursor:this.options.cursor},!0),this.addEventToQueue(v,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(M=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(G=document.createElement("style")).appendChild(document.createTextNode(M)),document.head.appendChild(G),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(M){this.options.devMode&&console.log(M)}}])&&V(te.prototype,J),Object.defineProperty(te,"prototype",{writable:!1}),W}()},9935:l=>{l.exports=function(){return!1}}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var d=a[l]={id:l,loaded:!1,exports:{}};return s[l].call(d.exports,d,d.exports,i),d.loaded=!0,d.exports}i.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return i.d(c,{a:c}),c},i.d=(l,c)=>{for(var d in c)i.o(c,d)&&!i.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:c[d]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),i.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var o={};return(()=>{i.d(o,{default:()=>S});var l=i(9155),c=i.n(l),d=i(9905),u=i(2404),h=i.n(u);function p(A){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},p(A)}function f(A,L){for(var P=0;P<L.length;P++){var k=L[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,_(k.key),k)}}function x(A,L){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,k){return P.__proto__=k,P},x(A,L)}function g(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function v(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!A})()}function b(A){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},b(A)}function _(A){var L=function(P){if(p(P)!="object"||!P)return P;var k=P[Symbol.toPrimitive];if(k!==void 0){var C=k.call(P,"string");if(p(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(A);return p(L)=="symbol"?L:L+""}var w=function(A){(function(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),E&&x(R,E)})(C,A);var L,P,k=function(R){var E=v();return function(){var I,B=b(R);if(E){var z=b(this).constructor;I=Reflect.construct(B,arguments,z)}else I=B.apply(this,arguments);return function(V,U){if(U&&(p(U)=="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(V)}(this,I)}}(C);function C(){var R,E,I,B;(function(K,$){if(!(K instanceof $))throw new TypeError("Cannot call a class as a function")})(this,C);for(var z=arguments.length,V=new Array(z),U=0;U<z;U++)V[U]=arguments[U];return E=g(R=k.call.apply(k,[this].concat(V))),B={instance:null},(I=_(I="state"))in E?Object.defineProperty(E,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):E[I]=B,R}return L=C,(P=[{key:"componentDidMount",value:function(){var R=this,E=new d.default(this.typewriter,this.props.options);this.setState({instance:E},function(){var I=R.props.onInit;I&&I(E)})}},{key:"componentDidUpdate",value:function(R){h()(this.props.options,R.options)||this.setState({instance:new d.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var R=this,E=this.props.component;return c().createElement(E,{ref:function(I){return R.typewriter=I},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&f(L.prototype,P),Object.defineProperty(L,"prototype",{writable:!1}),C}(l.Component);w.defaultProps={component:"div"};const S=w})(),o.default})())})(DM);var WY=DM.exports;const VY=en(WY);var X4={},oS={exports:{}};(function(e,t){(function(n,s){s(t)})(Uo,function(n){var s=function(){return s=Object.assign||function(i){for(var o,l=1,c=arguments.length;l<c;l++)for(var d in o=arguments[l])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i},s.apply(this,arguments)},a=function(){function i(o,l,c){var d=this;this.endVal=l,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){d.startTime||(d.startTime=u);var h=u-d.startTime;d.remaining=d.duration-h,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(h,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(h,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(h/d.duration);var p=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=p?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),h<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(u){var h,p,f,x,g=u<0?"-":"";h=Math.abs(u).toFixed(d.options.decimalPlaces);var v=(h+="").split(".");if(p=v[0],f=v.length>1?d.options.decimal+v[1]:"",d.options.useGrouping){x="";for(var b=3,_=0,w=0,S=p.length;w<S;++w)d.options.useIndianSeparators&&w===4&&(b=2,_=1),w!==0&&_%b==0&&(x=d.options.separator+x),_++,x=p[S-w-1]+x;p=x}return d.options.numerals&&d.options.numerals.length&&(p=p.replace(/[0-9]/g,function(A){return d.options.numerals[+A]}),f=f.replace(/[0-9]/g,function(A){return d.options.numerals[+A]})),g+d.options.prefix+p+f+d.options.suffix},this.easeOutExpo=function(u,h,p,f){return p*(1-Math.pow(2,-10*u/f))*1024/1023+h},this.options=s(s({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return d.handleScroll(d)}),window.onscroll=function(){window.onScrollFns.forEach(function(u){return u()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(o){if(o&&window&&!o.once){var l=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),d=c.top+window.pageYOffset,u=c.top+c.height+window.pageYOffset;u<l&&u>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>u||d>l)&&!o.paused&&o.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var l=o-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(o){var l;if(this.el){var c=this.formattingFn(o);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},i.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},i.prototype.validateValue=function(o){var l=Number(o);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i.prototype.parse=function(o){var l=function(h){return h.replace(/([.,'  ])/g,"\\$1")},c=l(this.options.separator),d=l(this.options.decimal),u=o.replace(new RegExp(c,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(u)},i}();n.CountUp=a})})(oS,oS.exports);var HY=oS.exports;Object.defineProperty(X4,"__esModule",{value:!0});var pa=j,GY=HY;function KY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(s){XY(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function YY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZY(e){var t=YY(e,"string");return typeof t=="symbol"?t:String(t)}function XY(e,t,n){return t=ZY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lS.apply(this,arguments)}function JY(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function RM(e,t){if(e==null)return{};var n=JY(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function QY(e,t){return eZ(e)||KY(e,t)||tZ(e,t)||rZ()}function eZ(e){if(Array.isArray(e))return e}function tZ(e,t){if(e){if(typeof e=="string")return FA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function rZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?pa.useLayoutEffect:pa.useEffect;function jl(e){var t=pa.useRef(e);return nZ(function(){t.current=e}),pa.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current.apply(void 0,s)},[])}var sZ=function(t,n){var s=n.decimal,a=n.decimals,i=n.duration,o=n.easingFn,l=n.end,c=n.formattingFn,d=n.numerals,u=n.prefix,h=n.separator,p=n.start,f=n.suffix,x=n.useEasing,g=n.useGrouping,v=n.useIndianSeparators,b=n.enableScrollSpy,_=n.scrollSpyDelay,w=n.scrollSpyOnce,S=n.plugin;return new GY.CountUp(t,l,{startVal:p,duration:i,decimal:s,decimalPlaces:a,easingFn:o,formattingFn:c,numerals:d,separator:h,prefix:u,suffix:f,plugin:S,useEasing:x,useIndianSeparators:v,useGrouping:g,enableScrollSpy:b,scrollSpyDelay:_,scrollSpyOnce:w})},aZ=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],iZ={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},FM=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(C){var R=QY(C,2),E=R[1];return E!==void 0})),s=pa.useMemo(function(){return l1(l1({},iZ),n)},[t]),a=s.ref,i=s.startOnMount,o=s.enableReinitialize,l=s.delay,c=s.onEnd,d=s.onStart,u=s.onPauseResume,h=s.onReset,p=s.onUpdate,f=RM(s,aZ),x=pa.useRef(),g=pa.useRef(),v=pa.useRef(!1),b=jl(function(){return sZ(typeof a=="string"?a:a.current,f)}),_=jl(function(C){var R=x.current;if(R&&!C)return R;var E=b();return x.current=E,E}),w=jl(function(){var C=function(){return _(!0).start(function(){c?.({pauseResume:S,reset:A,start:P,update:L})})};l&&l>0?g.current=setTimeout(C,l*1e3):C(),d?.({pauseResume:S,reset:A,update:L})}),S=jl(function(){_().pauseResume(),u?.({reset:A,start:P,update:L})}),A=jl(function(){_().el&&(g.current&&clearTimeout(g.current),_().reset(),h?.({pauseResume:S,start:P,update:L}))}),L=jl(function(C){_().update(C),p?.({pauseResume:S,reset:A,start:P})}),P=jl(function(){A(),w()}),k=jl(function(C){i&&(C&&A(),w())});return pa.useEffect(function(){v.current?o&&k(!0):(v.current=!0,k())},[o,v,k,l,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),pa.useEffect(function(){return function(){A()}},[A]),{start:P,pauseResume:S,reset:A,update:L,getCountUp:_}},oZ=["className","redraw","containerProps","children","style"],lZ=function(t){var n=t.className,s=t.redraw,a=t.containerProps,i=t.children,o=t.style,l=RM(t,oZ),c=pa.useRef(null),d=pa.useRef(!1),u=FM(l1(l1({},l),{},{ref:c,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),h=u.start,p=u.reset,f=u.update,x=u.pauseResume,g=u.getCountUp,v=jl(function(){h()}),b=jl(function(S){t.preserveValue||p(),f(S)}),_=jl(function(){if(typeof t.children=="function"&&!(c.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}g()});pa.useEffect(function(){_()},[_]),pa.useEffect(function(){d.current&&b(t.end)},[t.end,b]);var w=s&&t;return pa.useEffect(function(){s&&d.current&&v()},[v,s,w]),pa.useEffect(function(){!s&&d.current&&v()},[v,s,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),pa.useEffect(function(){d.current=!0},[]),typeof i=="function"?i({countUpRef:c,start:h,reset:p,update:f,pauseResume:x,getCountUp:g}):pa.createElement("span",lS({className:n,ref:c,style:o},a),typeof t.start<"u"?g().formattingFn(t.start):"")},lN=X4.default=lZ;X4.useCountUp=FM;const cZ="/assets/photo-grid-B3_rTPhv.jpg",cN=()=>{const e=un(),{t,language:n}=ia(),{addToCart:s}=Ug(),a=[{name:"Sarah M.",image:"https://i.imgur.com/BScsxGX.jpg",role:t("home.testimonial1Role"),text:t("home.testimonial1Text")},{name:"Michael K.",image:"https://i.imgur.com/HGZGIGX.jpg",role:t("home.testimonial2Role"),text:t("home.testimonial2Text")},{name:"Lisa & Tom",image:"https://i.imgur.com/fcFwAhs.jpg",role:t("home.testimonial3Role"),text:t("home.testimonial3Text")},{name:"Anna W.",image:"https://i.imgur.com/xx3UWL7.jpg",role:t("home.testimonial4Role"),text:t("home.testimonial4Text")},{name:"Maria & Peter",image:"https://i.imgur.com/9d98SBH.jpg",role:t("home.testimonial5Role"),text:t("home.testimonial5Text")},{name:"Christina R.",image:"https://i.imgur.com/8HD86CW.jpg",role:t("home.testimonial6Role"),text:t("home.testimonial6Text")}],i=[{title:t("home.faqQuestion1"),image:"https://i.postimg.cc/D09JNp5m/00014518.jpg",alt:"Unique photography style"},{title:t("home.faqQuestion2"),image:"https://i.postimg.cc/YqFdbhxq/00505458.jpg",alt:"Studio and outdoor locations"},{title:t("home.faqQuestion3"),image:"https://i.postimg.cc/66k02BNs/00509892.jpg",alt:"Photoshoot preparation"},{title:t("home.faqQuestion4"),image:"https://i.postimg.cc/W1Pq6KhH/00015672.jpg",alt:"Family photoshoot duration"},{title:t("home.faqQuestion5"),image:"https://i.postimg.cc/7Y1g57V7/RJGOQBO.jpg",alt:"Pets in photoshoot"},{title:t("home.faqQuestion6"),image:"https://i.postimg.cc/Wb070x2d/brother-sister-close-up-30x20-L.jpg",alt:"Comfortable atmosphere"}];return r.jsxs(Wn,{children:[r.jsx("section",{className:"bg-white",children:r.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 flex flex-col md:flex-row items-center justify-between",children:[r.jsxs("div",{className:"max-w-2xl md:w-3/5 mb-8 md:mb-0",children:[r.jsx("h1",{className:"mb-4 leading-tight text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 text-transparent bg-clip-text",children:t("home.heroTitle")}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"block text-xl sm:text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-pink-500 to-purple-600 text-transparent bg-clip-text",children:r.jsx(VY,{options:{strings:[t("home.heroSubtitle")],autoStart:!0,loop:!0,cursor:"",delay:50,deleteSpeed:50}})}),r.jsx("span",{className:"block text-xl sm:text-2xl md:text-4xl font-bold text-gray-900 tracking-tighter animate-fade-in-up",children:t("home.heroDescription")})]}),r.jsx("button",{onClick:()=>e("/warteliste"),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-medium py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:t("home.bookShootingButton")})]}),r.jsx("div",{className:"md:w-2/5",children:r.jsx(Qv,{src:"https://i.postimg.cc/wTdZVLdC/photo-grid.jpg",alt:"Comprehensive family portrait showcase featuring various photography styles including family groups, couples, newborns, maternity, and lifestyle sessions",className:"w-full rounded-lg shadow-lg",onError:o=>{o.currentTarget.src=cZ},loading:"lazy"})})]})}),r.jsx("section",{className:"py-12 bg-gray-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:t("home.description")})})})}),r.jsx("section",{className:"bg-gradient-to-r from-pink-500 to-purple-600 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.jsx(lN,{end:27156,duration:2.5,separator:","})}),r.jsx("div",{className:"text-base md:text-lg text-white/90",children:t("home.happyFamilies")})]}),r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.jsx(lN,{end:5431977,duration:2.5,separator:","})}),r.jsx("div",{className:"text-base md:text-lg text-white/90",children:t("home.portraitsCaptured")})]}),r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.jsx(lN,{end:27,duration:2.5})}),r.jsx("div",{className:"text-base md:text-lg text-white/90",children:t("home.yearsExperience")})]})]})})}),r.jsx("section",{className:"py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-16",children:[r.jsx("div",{className:"md:w-1/3",children:r.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg shadow-lg",children:r.jsx(Qv,{src:"https://i.postimg.cc/J7bDNtGx/Familienportrat-Wien-Krchnavy-Stolz-0105-1024x683-1.jpg",alt:"Familienfotografie Wien - Professionelle Familienporträts im Studio",className:"w-full h-full object-cover",loading:"lazy"})})}),r.jsxs("div",{className:"md:w-2/3",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-4",children:t("home.pregnancyAndFamilyTitle")}),r.jsx("p",{className:"text-gray-700 mb-4",children:t("home.pregnancyDescription1")}),r.jsx("p",{className:"text-gray-700 mb-4",children:t("home.pregnancyDescription2")}),r.jsx("p",{className:"text-gray-700",children:t("home.pregnancyDescription3")})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[r.jsx("div",{className:"md:w-1/3",children:r.jsx("div",{className:"aspect-[4/5] max-w-xs mx-auto overflow-hidden rounded-lg shadow-lg",children:r.jsx(Qv,{src:"https://i.postimg.cc/NMqvfKv7/4S8A6958.jpg",alt:"Business Headshots Wien - Professionelle Businessfotografie im Studio",className:"w-full h-full object-cover object-center",loading:"lazy"})})}),r.jsxs("div",{className:"md:w-2/3",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-4",children:t("home.businessHeadshotsTitle")}),r.jsx("p",{className:"text-gray-700 mb-4",children:t("home.businessDescription1")}),r.jsx("p",{className:"text-gray-700 mb-4",children:t("home.businessDescription2")}),r.jsx("p",{className:"text-gray-700",children:t("home.businessDescription3")})]})]})]})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.postimg.cc/V6TFF8rC/00508749.jpg",alt:"Familienporträts Wien - Natürliche Familienfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.familyPortraitsTitle")}),r.jsx("p",{className:"text-gray-600",children:t("home.familyPortraitsDescription")})]})]}),r.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.imgur.com/AMnhw6w.jpg",alt:n==="en"?"Maternity Photography Vienna - Professional Pregnancy Photoshoot":"Babybauch Fotografie Wien - Schwangerschaftsfotos im Studio",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.pregnancyPhotographyTitle")}),r.jsx("p",{className:"text-gray-600",children:t("home.pregnancyPhotographyDescription")})]})]}),r.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.imgur.com/VLYZQof.jpg",alt:n==="en"?"Newborn Photography Vienna - Professional Baby Photoshoot":"Neugeborenenfotos im Studio Wien - Professionelle Babyfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.newbornPhotographyTitle")}),r.jsx("p",{className:"text-gray-600",children:t("home.newbornPhotographyDescription")})]})]}),r.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx(Qv,{src:"https://i.postimg.cc/T2tqtjpN/9RaPUSK.jpg",alt:"Business Photography Wien - Professionelle Businessfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.businessPhotographyTitle")}),r.jsx("p",{className:"text-gray-600",children:t("home.businessPhotographyDescription")})]})]}),r.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.imgur.com/0KAHvWd.jpg",alt:"Event photography",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.eventPhotographyTitle")}),r.jsx("p",{className:"text-gray-600",children:t("home.eventPhotographyDescription")})]})]}),r.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://images.pexels.com/photos/1024993/pexels-photo-1024993.jpeg",alt:"Wedding photography",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.weddingPhotographyTitle")}),r.jsx("p",{className:"text-gray-600",children:t("home.weddingPhotographyDescription")})]})]})]})})}),r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:t("home.portraitStudioTitle")}),r.jsx("p",{className:"text-center text-gray-700 mb-12 max-w-2xl mx-auto",children:"Schenken Sie unvergessliche Momente! Unsere personalisierbaren Fotoshooting-Gutscheine sind das perfekte Geschenk für jeden Anlass."})]})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.imgur.com/Vd6xtPg.jpg",alt:"Pregnancy photoshoot",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.pregnancyShootingTitle")}),r.jsx("p",{className:"text-gray-600 mb-4",children:t("home.pregnancyShootingDescription")}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-gray-500 uppercase tracking-wide",children:n==="de"?"AB":"FROM"}),r.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€95"})]}),r.jsx("button",{onClick:()=>{e("/gutschein/maternity"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.postimg.cc/tJ4kNYW7/Familienfotoshooting-im-Fotostudio-Wien-Krexner-2777.jpg",alt:"Family photoshoot",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.familyShootingTitle")}),r.jsx("p",{className:"text-gray-600 mb-4",children:t("home.familyShootingDescription")}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-gray-500 uppercase tracking-wide",children:n==="de"?"AB":"FROM"}),r.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€95"})]}),r.jsx("button",{onClick:()=>{e("/gutschein/family"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:"https://i.imgur.com/QWOgLqX.jpg",alt:"Newborn photoshoot",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.newbornShootingTitle")}),r.jsx("p",{className:"text-gray-600 mb-4",children:t("home.newbornShootingDescription")}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-gray-500 uppercase tracking-wide",children:n==="de"?"AB":"FROM"}),r.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€95"})]}),r.jsx("button",{onClick:()=>{e("/gutschein/newborn"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]})]})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:t("home.testimonialsTitle")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((o,l)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("img",{src:o.image,alt:o.name,className:"w-12 h-12 rounded-full object-cover"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:o.name}),r.jsx("p",{className:"text-gray-600 text-sm",children:o.role})]})]}),r.jsx("p",{className:"text-gray-700",children:o.text})]},l))})]})}),r.jsx("section",{className:"py-16 bg-purple-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:"Geschenkgutscheine"}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"max-w-md w-full",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 p-6 text-white",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Flexibler Gutschein"}),r.jsx("p",{className:"text-purple-100",children:"Wunschbetrag"})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:"€100"}),r.jsxs("ul",{className:"text-gray-600 mb-6 space-y-2",children:[r.jsx("li",{children:"• Freie Betragsauswahl"}),r.jsx("li",{children:"• Anrechenbar auf alle Services"}),r.jsx("li",{children:"• 2 Jahre gültig"}),r.jsx("li",{children:"• Individuell gestaltbar"})]}),r.jsx("button",{onClick:()=>{s({title:"Flexibler Wertgutschein",packageType:"Flexibler Geschenkgutschein",price:100,quantity:1,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>e("/cart"),500)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"In den Warenkorb"})]})]})})}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:"Warum unsere Gutscheine?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl mb-2",children:"🎨"}),r.jsx("h4",{className:"font-semibold text-purple-700",children:"Personalisierbar"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Eigene Fotos & Nachrichten"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl mb-2",children:"📦"}),r.jsx("h4",{className:"font-semibold text-purple-700",children:"Flexible Zustellung"}),r.jsx("p",{className:"text-sm text-gray-600",children:"PDF, Post oder Geschenkbox"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl mb-2",children:"⏰"}),r.jsx("h4",{className:"font-semibold text-purple-700",children:"Sofort verfügbar"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Auch last-minute bestellbar"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl mb-2",children:"💝"}),r.jsx("h4",{className:"font-semibold text-purple-700",children:"Perfektes Geschenk"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Für jeden Anlass geeignet"})]})]})]})})]})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:t("home.faqTitle")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((o,l)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg mb-6",children:r.jsx("img",{src:o.image,alt:o.alt,className:"w-full h-full object-cover"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:o.title}),r.jsxs("p",{className:"text-gray-700",children:[l===0&&t("home.faq1Text"),l===1&&t("home.faq2Text"),l===2&&t("home.faq3Text"),l===3&&t("home.faq4Text"),l===4&&t("home.faq5Text"),l===5&&t("home.faq6Text")]})]},l))})]})})]})},dZ=()=>{const e=un(),{t}=ia(),n=()=>{window.scrollTo({top:0,behavior:"smooth"})};j.useEffect(()=>{document.title="Fotoshootings Wien - Familien & Neugeborenen Fotografie | New Age Fotografie";let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.setAttribute("name","description"),document.head.appendChild(a)),a.setAttribute("content","Professionelle Fotoshootings in Wien: Familienporträts, Schwangerschaftsfotos, Neugeborenenbilder, Business-Headshots. Erfahrener Fotograf mit Studio in 1050 Wien.");let i=document.querySelector('meta[property="og:title"]');return i||(i=document.createElement("meta"),i.setAttribute("property","og:title"),document.head.appendChild(i)),i.setAttribute("content","Fotoshootings Wien - Professionelle Fotografie | New Age Fotografie"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const s=[{title:t("photoshoots.familyTitle"),description:t("photoshoots.familyDescription"),image:"https://i.postimg.cc/gcKwDrqv/Baby-Pink-Bubbles-20x20.jpg",link:"/gutschein/family"},{title:t("photoshoots.pregnancyTitle"),description:t("photoshoots.pregnancyDescription"),image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",link:"/gutschein/maternity"},{title:t("photoshoots.newbornTitle"),description:t("photoshoots.newbornDescription"),image:"https://i.postimg.cc/43YQ9VD4/4-S8-A4770-105-1024x683-Copy.jpg",link:"/gutschein/newborn"},{title:t("photoshoots.businessTitle"),description:t("photoshoots.businessDescription"),image:"https://i.postimg.cc/RZjf8FsX/Whats-App-Image-2025-05-24-at-2-38-45-PM-1.jpg",link:"/fotoshootings/business"},{title:t("photoshoots.eventTitle"),description:t("photoshoots.eventDescription"),image:"https://i.postimg.cc/907tz7nR/21469528-10155302675513124-226449768-n.jpg",link:"/fotoshootings/event"},{title:t("photoshoots.weddingTitle"),description:t("photoshoots.weddingDescription"),image:"https://i.postimg.cc/j50XzC6p/4S8A7207.jpg",link:"/fotoshootings/wedding"}];return r.jsxs(Wn,{children:[r.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-purple-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:t("photoshoots.title")}),r.jsx("p",{className:"text-purple-100 text-lg",children:t("photoshoots.subtitle")})]})})}),r.jsx("section",{className:"py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((a,i)=>r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-4",children:a.title}),r.jsx("p",{className:"text-gray-600",children:a.description})]}),r.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden mb-8",children:[r.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:r.jsx("button",{onClick:()=>{n(),e(a.link)},className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-8 rounded-lg transition-colors transform hover:scale-105",children:t("photoshoots.learnMore")})})]})]},i))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(bs,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t("photoshoots.flexibleAppointments")}),r.jsx("p",{className:"text-gray-600",children:t("photoshoots.flexibleDescription")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ln,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t("photoshoots.wholeFamily")}),r.jsx("p",{className:"text-gray-600",children:t("photoshoots.wholeFamilyDescription")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ta,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t("photoshoots.professionalEquipment")}),r.jsx("p",{className:"text-gray-600",children:t("photoshoots.professionalDescription")})]})]})]})})]})},uZ=()=>{const e=un();j.useEffect(()=>{document.title="Gutscheine für Fotoshootings Wien - Familien & Baby | New Age Fotografie";let n=document.querySelector('meta[name="description"]');return n||(n=document.createElement("meta"),n.setAttribute("name","description"),document.head.appendChild(n)),n.setAttribute("content","Fotoshooting-Gutscheine für Wien: Familienfotografie, Schwangerschaftsfotos, Neugeborenenbilder. Das perfekte Geschenk für besondere Momente."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const t=[{title:"Familien Fotoshooting",description:"Unvergessliche Momente für die ganze Familie",icon:ta,image:"https://i.imgur.com/4m5hoL9.jpg",link:"/gutschein/family"},{title:"Schwangerschafts Fotoshooting",description:"Magische Momente Ihrer Schwangerschaft",icon:Un,image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",link:"/gutschein/maternity"},{title:"Neugeborenen Fotoshooting",description:"Die ersten kostbaren Momente Ihres Babys",icon:zK,image:"https://i.imgur.com/QWOgLqX.jpg",link:"/gutschein/newborn"}];return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-purple-900 mb-8 text-center",children:"Fotoshooting Gutscheine Wien - Das perfekte Geschenk"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,s)=>{const a=n.icon;return r.jsxs("div",{onClick:()=>e(n.link),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-all hover:-translate-y-1 hover:shadow-xl",children:[r.jsxs("div",{className:"relative h-48",children:[r.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-4 right-4 bg-white p-2 rounded-full shadow-lg",children:r.jsx(a,{className:"text-purple-600",size:24})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:n.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),r.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Mehr erfahren"})]})]},s)})})]})})},hZ=()=>{const{t:e,language:t}=ia(),[n,s]=DG(),[a,i]=j.useState([]),[o,l]=j.useState([]),[c,d]=j.useState(!0),[u,h]=j.useState(null),[p,f]=j.useState(0),[x,g]=j.useState(1),v=parseInt(n.get("page")||"1"),b=n.get("tag")||"",_=n.get("search")||"";j.useEffect(()=>{w()},[v,b,_]),j.useEffect(()=>{document.title="Blog - Fotografie Tipps & Inspiration | New Age Fotografie Wien";let P=document.querySelector('meta[name="description"]');P||(P=document.createElement("meta"),P.setAttribute("name","description"),document.head.appendChild(P)),P.setAttribute("content","Fotografie-Blog mit Tipps für Familienfotos, Neugeborenenbilder und Schwangerschaftsfotos. Inspiration und Beratung vom Wiener Familienfotograf.");let k=document.querySelector('meta[property="og:title"]');return k||(k=document.createElement("meta"),k.setAttribute("property","og:title"),document.head.appendChild(k)),k.setAttribute("content","Fotografie Blog - New Age Fotografie Wien"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const w=async()=>{try{d(!0),h(null);const P=new URLSearchParams;P.append("published","true"),P.append("language",t),b&&P.append("tag",b),_&&P.append("search",_),P.append("page",v.toString()),P.append("limit","10");const k=await fetch(`/api/blog/posts?${P.toString()}`);if(!k.ok)throw new Error("Failed to fetch blog posts");const C=await k.json(),R=C.posts||[];if(i(R),f(C.count||0),g(Math.ceil((C.count||0)/10)),o.length===0&&R.length>0){const E=R.flatMap(B=>B.tags||[]),I=Array.from(new Set(E)).map(B=>({id:B,name:B,slug:B}));l(I)}}catch{h("Failed to load blog posts. Please try again later.")}finally{d(!1)}},S=P=>{const k=new URLSearchParams(n);P.target.value?k.set("search",P.target.value):k.delete("search"),k.set("page","1"),s(k)},A=P=>{const k=new URLSearchParams(n);P===b?k.delete("tag"):k.set("tag",P),k.set("page","1"),s(k)},L=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return r.jsxs(Wn,{children:[r.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-purple-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e("blog.title")}),r.jsx("p",{className:"text-purple-100 text-lg",children:e("blog.subtitle")})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"lg:col-span-3",children:[r.jsxs("div",{className:"mb-8 relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:e("blog.searchPlaceholder"),value:_,onChange:S,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),c?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading posts..."})]}):u?r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}):a.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:a.map(P=>r.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:shadow-lg hover:-translate-y-1",children:[r.jsx(Vt,{to:`/blog/${P.slug}`,className:"block aspect-[16/9] overflow-hidden bg-gray-100",children:P.imageUrl?r.jsx("img",{src:P.imageUrl,alt:P.title,className:"w-full h-full object-cover transition-transform hover:scale-105",loading:"lazy",onError:k=>{k.currentTarget.style.display="none";const C=k.currentTarget.parentElement;C&&!C.querySelector(".placeholder-shown")&&(C.innerHTML=`
                                <div class="placeholder-shown w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center">
                                  <div class="text-center">
                                    <svg class="w-12 h-12 text-purple-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <p class="text-purple-600 text-sm font-medium">${P.title.substring(0,30)}...</p>
                                  </div>
                                </div>
                              `)}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-purple-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsxs("p",{className:"text-purple-600 text-sm font-medium",children:[P.title.substring(0,30),"..."]})]})})}),r.jsxs("div",{className:"p-6",children:[P.tags&&P.tags.length>0&&r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(mc,{size:16,className:"text-purple-600 mr-2"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.tags.map((k,C)=>{const R=o.find(E=>E.name===k);return R?r.jsxs("span",{className:"text-sm text-purple-600 cursor-pointer hover:text-purple-800",onClick:()=>A(R.slug),children:[k,C<P.tags.length-1&&", "]},C):null})})]}),r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2",children:r.jsx(Vt,{to:`/blog/${P.slug}`,className:"hover:text-purple-600 transition-colors",children:P.title})}),P.excerpt&&r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:P.excerpt}),r.jsx("div",{className:"flex flex-wrap items-center text-sm text-gray-500 mb-3 gap-4",children:P.publishedAt&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(dn,{size:14,className:"mr-1"}),L(P.publishedAt)]})}),r.jsxs(Vt,{to:`/blog/${P.slug}`,className:"text-purple-600 hover:text-purple-800 font-medium text-sm inline-flex items-center",children:["Read more",r.jsx(vc,{size:16,className:"ml-1"})]})]})]},P.id))}):r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:e("blog.noPostsFound")}),r.jsx("p",{className:"text-gray-600 mb-4",children:e(_||b?"blog.noPostsMatchCriteria":"blog.noPostsYet")}),(_||b)&&r.jsx("button",{onClick:()=>{s(new URLSearchParams)},className:"text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]}),x>1&&r.jsx("div",{className:"mt-8 flex justify-center",children:r.jsxs("nav",{className:"inline-flex rounded-md shadow",children:[r.jsx("button",{onClick:()=>{if(v>1){const P=new URLSearchParams(n);P.set("page",(v-1).toString()),s(P)}},disabled:v===1,className:`px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 ${v===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:x},(P,k)=>k+1).map(P=>r.jsx("button",{onClick:()=>{const k=new URLSearchParams(n);k.set("page",P.toString()),s(k)},className:`px-4 py-2 text-sm font-medium ${P===v?"bg-purple-600 text-white border border-purple-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:P},P)),r.jsx("button",{onClick:()=>{if(v<x){const P=new URLSearchParams(n);P.set("page",(v+1).toString()),s(P)}},disabled:v===x,className:`px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 ${v===x?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})})]}),r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Categories"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>A(""),className:`flex items-center text-gray-600 hover:text-purple-600 transition-colors ${b===""?"text-purple-600 font-medium":""}`,children:[r.jsx(vc,{size:16,className:"mr-2"}),"All Categories"]})}),o.map(P=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>A(P.slug),className:`flex items-center text-gray-600 hover:text-purple-600 transition-colors ${b===P.slug?"text-purple-600 font-medium":""}`,children:[r.jsx(vc,{size:16,className:"mr-2"}),P.name]})},P.id))]})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Newsletter"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Stay updated with our latest photography tips and special offers."}),r.jsxs("form",{className:"space-y-4",children:[r.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),r.jsx("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Subscribe"})]})]})]})]})})]})};var $M={exports:{}},fZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mZ=fZ,pZ=mZ;function BM(){}function zM(){}zM.resetWarningCache=BM;var gZ=function(){function e(s,a,i,o,l,c){if(c!==pZ){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zM,resetWarningCache:BM};return n.PropTypes=n,n};$M.exports=gZ();var xZ=$M.exports;const mt=en(xZ);function yZ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var UM=j,vZ=yZ(UM);function $A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var wZ=!!(typeof window<"u"&&window.document&&window.document.createElement);function jZ(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(u){return u.props})),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(u){bZ(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,o=[],x};var p=h.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var x=o.indexOf(this);o.splice(x,1),c()},p.render=function(){return vZ.createElement(i,this.props)},h}(UM.PureComponent);return $A(d,"displayName","SideEffect("+s(i)+")"),$A(d,"canUseDOM",wZ),d}}var NZ=jZ;const SZ=en(NZ);var _Z=typeof Element<"u",kZ=typeof Map=="function",AZ=typeof Set=="function",CZ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zb(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!zb(e[s],t[s]))return!1;return!0}var i;if(kZ&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=e.entries();!(s=i.next()).done;)if(!zb(s.value[1],t.get(s.value[0])))return!1;return!0}if(AZ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(CZ&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(_Z&&e instanceof Element)return!1;for(s=n;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&e.$$typeof)&&!zb(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}var PZ=function(t,n){try{return zb(t,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const EZ=en(PZ);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var BA=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,OZ=Object.prototype.propertyIsEnumerable;function LZ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function IZ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var MZ=IZ()?Object.assign:function(e,t){for(var n,s=LZ(e),a,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)TZ.call(n,o)&&(s[o]=n[o]);if(BA){a=BA(n);for(var l=0;l<a.length;l++)OZ.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s};const DZ=en(MZ);var Ff={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},hr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(hr).map(function(e){return hr[e]});var Qn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},c1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},B0={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},RZ=Object.keys(c1).reduce(function(e,t){return e[c1[t]]=t,e},{}),FZ=[hr.NOSCRIPT,hr.SCRIPT,hr.STYLE],Pl="data-react-helmet",$Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BZ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},zZ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},UZ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},zA=function(e,t){var n={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n},qZ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},cS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},WZ=function(t){var n=Cp(t,hr.TITLE),s=Cp(t,B0.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var a=Cp(t,B0.DEFAULT_TITLE);return n||a||void 0},VZ=function(t){return Cp(t,B0.ON_CHANGE_CLIENT_STATE)||function(){}},dN=function(t,n){return n.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,a){return Ai({},s,a)},{})},HZ=function(t,n){return n.filter(function(s){return typeof s[hr.BASE]<"u"}).map(function(s){return s[hr.BASE]}).reverse().reduce(function(s,a){if(!s.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return s.concat(a)}return s},[])},Bx=function(t,n,s){var a={};return s.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&ZZ("Helmet: "+t+' should be of type "Array". Instead found type "'+$Z(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(p){for(var f=void 0,x=Object.keys(p),g=0;g<x.length;g++){var v=x[g],b=v.toLowerCase();n.indexOf(b)!==-1&&!(f===Qn.REL&&p[f].toLowerCase()==="canonical")&&!(b===Qn.REL&&p[b].toLowerCase()==="stylesheet")&&(f=b),n.indexOf(v)!==-1&&(v===Qn.INNER_HTML||v===Qn.CSS_TEXT||v===Qn.ITEM_PROP)&&(f=v)}if(!f||!p[f])return!1;var _=p[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][_]?!1:(l[f][_]=!0,!0)}).reverse().forEach(function(p){return i.push(p)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=DZ({},a[u],l[u]);a[u]=h}return i},[]).reverse()},Cp=function(t,n){for(var s=t.length-1;s>=0;s--){var a=t[s];if(a.hasOwnProperty(n))return a[n]}return null},GZ=function(t){return{baseTag:HZ([Qn.HREF,Qn.TARGET],t),bodyAttributes:dN(Ff.BODY,t),defer:Cp(t,B0.DEFER),encode:Cp(t,B0.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:dN(Ff.HTML,t),linkTags:Bx(hr.LINK,[Qn.REL,Qn.HREF],t),metaTags:Bx(hr.META,[Qn.NAME,Qn.CHARSET,Qn.HTTPEQUIV,Qn.PROPERTY,Qn.ITEM_PROP],t),noscriptTags:Bx(hr.NOSCRIPT,[Qn.INNER_HTML],t),onChangeClientState:VZ(t),scriptTags:Bx(hr.SCRIPT,[Qn.SRC,Qn.INNER_HTML],t),styleTags:Bx(hr.STYLE,[Qn.CSS_TEXT],t),title:WZ(t),titleAttributes:dN(Ff.TITLE,t)}},dS=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){dS(t)},0)}}(),UA=function(t){return clearTimeout(t)},KZ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||dS:global.requestAnimationFrame||dS,YZ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||UA:global.cancelAnimationFrame||UA,ZZ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},zx=null,XZ=function(t){zx&&YZ(zx),t.defer?zx=KZ(function(){qA(t,function(){zx=null})}):(qA(t),zx=null)},qA=function(t,n){var s=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,p=t.title,f=t.titleAttributes;uS(hr.BODY,a),uS(hr.HTML,i),JZ(p,f);var x={baseTag:Jm(hr.BASE,s),linkTags:Jm(hr.LINK,o),metaTags:Jm(hr.META,l),noscriptTags:Jm(hr.NOSCRIPT,c),scriptTags:Jm(hr.SCRIPT,u),styleTags:Jm(hr.STYLE,h)},g={},v={};Object.keys(x).forEach(function(b){var _=x[b],w=_.newTags,S=_.oldTags;w.length&&(g[b]=w),S.length&&(v[b]=x[b].oldTags)}),n&&n(),d(t,g,v)},qM=function(t){return Array.isArray(t)?t.join(""):t},JZ=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=qM(t)),uS(hr.TITLE,n)},uS=function(t,n){var s=document.getElementsByTagName(t)[0];if(s){for(var a=s.getAttribute(Pl),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var d=l[c],u=n[d]||"";s.getAttribute(d)!==u&&s.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var p=o.length-1;p>=0;p--)s.removeAttribute(o[p]);i.length===o.length?s.removeAttribute(Pl):s.getAttribute(Pl)!==l.join(",")&&s.setAttribute(Pl,l.join(","))}},Jm=function(t,n){var s=document.head||document.querySelector(hr.HEAD),a=s.querySelectorAll(t+"["+Pl+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===Qn.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Qn.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(Pl,"true"),i.some(function(p,f){return l=f,d.isEqualNode(p)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:o}},WM=function(t){return Object.keys(t).reduce(function(n,s){var a=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return n?n+" "+a:a},"")},QZ=function(t,n,s,a){var i=WM(s),o=qM(n);return i?"<"+t+" "+Pl+'="true" '+i+">"+cS(o,a)+"</"+t+">":"<"+t+" "+Pl+'="true">'+cS(o,a)+"</"+t+">"},eX=function(t,n,s){return n.reduce(function(a,i){var o=Object.keys(i).filter(function(d){return!(d===Qn.INNER_HTML||d===Qn.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+cS(i[u],s)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=FZ.indexOf(t)===-1;return a+"<"+t+" "+Pl+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},VM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[c1[a]||a]=t[a],s},n)},tX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[RZ[a]||a]=t[a],s},n)},rX=function(t,n,s){var a,i=(a={key:n},a[Pl]=!0,a),o=VM(s,i);return[xe.createElement(hr.TITLE,o,n)]},nX=function(t,n){return n.map(function(s,a){var i,o=(i={key:a},i[Pl]=!0,i);return Object.keys(s).forEach(function(l){var c=c1[l]||l;if(c===Qn.INNER_HTML||c===Qn.CSS_TEXT){var d=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=s[l]}),xe.createElement(t,o)})},ed=function(t,n,s){switch(t){case hr.TITLE:return{toComponent:function(){return rX(t,n.title,n.titleAttributes)},toString:function(){return QZ(t,n.title,n.titleAttributes,s)}};case Ff.BODY:case Ff.HTML:return{toComponent:function(){return VM(n)},toString:function(){return WM(n)}};default:return{toComponent:function(){return nX(t,n)},toString:function(){return eX(t,n,s)}}}},HM=function(t){var n=t.baseTag,s=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,p=h===void 0?"":h,f=t.titleAttributes;return{base:ed(hr.BASE,n,a),bodyAttributes:ed(Ff.BODY,s,a),htmlAttributes:ed(Ff.HTML,i,a),link:ed(hr.LINK,o,a),meta:ed(hr.META,l,a),noscript:ed(hr.NOSCRIPT,c,a),script:ed(hr.SCRIPT,d,a),style:ed(hr.STYLE,u,a),title:ed(hr.TITLE,{title:p,titleAttributes:f},a)}},sX=function(t){var n,s;return s=n=function(a){UZ(i,a);function i(){return BZ(this,i),qZ(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!EZ(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case hr.SCRIPT:case hr.NOSCRIPT:return{innerHTML:c};case hr.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,p=l.nestedChildren;return Ai({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[Ai({},h,this.mapNestedChildrenToProps(d,p))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,p=l.newChildProps,f=l.nestedChildren;switch(u.type){case hr.TITLE:return Ai({},h,(c={},c[u.type]=f,c.titleAttributes=Ai({},p),c));case hr.BODY:return Ai({},h,{bodyAttributes:Ai({},p)});case hr.HTML:return Ai({},h,{htmlAttributes:Ai({},p)})}return Ai({},h,(d={},d[u.type]=Ai({},p),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=Ai({},c);return Object.keys(l).forEach(function(u){var h;d=Ai({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return xe.Children.forEach(l,function(h){if(!(!h||!h.props)){var p=h.props,f=p.children,x=zA(p,["children"]),g=tX(x);switch(d.warnOnInvalidChildren(h,f),h.type){case hr.LINK:case hr.META:case hr.NOSCRIPT:case hr.SCRIPT:case hr.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:g,nestedChildren:f});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=zA(l,["children"]),u=Ai({},d);return c&&(u=this.mapChildrenToProps(c,u)),xe.createElement(t,u)},zZ(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(xe.Component),n.propTypes={base:mt.object,bodyAttributes:mt.object,children:mt.oneOfType([mt.arrayOf(mt.node),mt.node]),defaultTitle:mt.string,defer:mt.bool,encodeSpecialCharacters:mt.bool,htmlAttributes:mt.object,link:mt.arrayOf(mt.object),meta:mt.arrayOf(mt.object),noscript:mt.arrayOf(mt.object),onChangeClientState:mt.func,script:mt.arrayOf(mt.object),style:mt.arrayOf(mt.object),title:mt.string,titleAttributes:mt.object,titleTemplate:mt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var a=t.rewind();return a||(a=HM({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},s},aX=function(){return null},iX=SZ(GZ,XZ,HM)(aX),hS=sX(iX);hS.renderStatic=hS.rewind;const oX=()=>{const{slug:e}=Ri(),[t,n]=j.useState(null),[s,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(null);j.useEffect(()=>{e&&d(e)},[e]);const d=async p=>{try{o(!0);const f=await fetch(`/api/blog/posts/${p}`);if(!f.ok){f.status===404?c("Blog post not found"):c("Failed to load blog post");return}const x=await f.json();n(x),u(x.id)}catch{c("Failed to load blog post. Please try again later.")}finally{o(!1)}},u=async p=>{try{const f=await fetch(`/api/blog/posts?published=true&limit=3&exclude=${p}`);if(f.ok){const x=await f.json();a(x.posts||[])}}catch{}},h=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return i?r.jsx(Wn,{children:r.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):l||!t?r.jsx(Wn,{children:r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:l||"Blog post not found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),r.jsxs(Vt,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[r.jsx(Pn,{size:16,className:"mr-2"}),"Back to blog"]})]})})}):r.jsxs(Wn,{children:[r.jsxs(hS,{children:[r.jsxs("title",{children:[t.title," | New Age Fotografie Blog"]}),r.jsx("meta",{name:"description",content:t.excerpt||`Read about ${t.title}`}),r.jsx("meta",{property:"og:title",content:t.title}),r.jsx("meta",{property:"og:description",content:t.excerpt||`Read about ${t.title}`}),t.imageUrl&&r.jsx("meta",{property:"og:image",content:t.imageUrl}),r.jsx("meta",{property:"og:type",content:"article"}),r.jsx("link",{rel:"canonical",href:`https://newagefotografie.com/blog/${t.slug}`}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,image:t.imageUrl?[t.imageUrl]:[],datePublished:t.publishedAt,dateModified:t.publishedAt,author:{"@type":"Person",name:"New Age Fotografie"},publisher:{"@type":"Organization",name:"New Age Fotografie",logo:{"@type":"ImageObject",url:"https://www.newagefotografie.com/logo.png"}},description:t.excerpt||`Read about ${t.title}`})})]}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(Vt,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[r.jsx(Pn,{size:16,className:"mr-2"}),"Back to blog"]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t.title}),r.jsxs("div",{className:"flex flex-wrap items-center text-gray-600 mb-6",children:[r.jsxs("div",{className:"flex items-center mr-6",children:[r.jsx(dn,{size:16,className:"mr-1"}),r.jsx("span",{children:h(t.publishedAt)})]}),t.author&&r.jsx("div",{className:"flex items-center",children:r.jsxs("span",{children:["By ",t.author.email.split("@")[0]]})})]})]}),t.imageUrl&&r.jsx("div",{className:"mb-8",children:r.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full rounded-xl shadow-lg mb-8",loading:"lazy",onError:p=>{const f=p.currentTarget.parentElement;f&&(f.innerHTML=`
                      <div class="w-full h-48 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-lg flex items-center justify-center">
                        <div class="text-center">
                          <svg class="w-16 h-16 text-purple-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2V4a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2z"></path>
                          </svg>
                          <p class="text-purple-600 font-medium">${t.title}</p>
                        </div>
                      </div>
                    `)}})}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8 mb-8",children:t.contentHtml||t.content?r.jsxs("div",{className:"max-w-none",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:`
                  .blog-post-content {
                    line-height: 1.8;
                    color: #374151;
                  }
                  .blog-post-content h1 {
                    font-size: 2.25rem;
                    font-weight: bold;
                    color: #1f2937;
                    margin: 2rem 0 1rem 0;
                    padding-bottom: 0.5rem;
                    border-bottom: 3px solid #a855f7;
                  }
                  .blog-post-content h2 {
                    font-size: 1.875rem;
                    font-weight: bold;
                    color: #1f2937;
                    margin: 2rem 0 1rem 0;
                    padding: 1rem 1.5rem;
                    border-left: 4px solid #a855f7;
                    background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
                    border-radius: 8px;
                    box-shadow: 0 2px 4px rgba(168, 85, 247, 0.1);
                  }
                  .blog-post-content h3 {
                    font-size: 1.5rem;
                    font-weight: 600;
                    color: #374151;
                    margin: 1.5rem 0 0.75rem 0;
                  }
                  .blog-post-content p {
                    margin: 1rem 0;
                    text-align: justify;
                    line-height: 1.7;
                  }
                  .blog-post-content ul, .blog-post-content ol {
                    margin: 1rem 0;
                    padding-left: 2rem;
                  }
                  .blog-post-content ul {
                    list-style-type: disc;
                  }
                  .blog-post-content li {
                    margin: 0.5rem 0;
                    line-height: 1.6;
                  }
                  .blog-post-content img {
                    margin: 2rem auto;
                    border-radius: 12px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                    max-width: 100%;
                    height: auto;
                    display: block;
                  }
                  .blog-post-content blockquote {
                    border-left: 4px solid #a855f7;
                    background: #faf5ff;
                    padding: 1rem 1.5rem;
                    margin: 1.5rem 0;
                    border-radius: 0 8px 8px 0;
                    font-style: italic;
                  }
                  .blog-post-content strong {
                    font-weight: 700;
                    color: #1f2937;
                  }
                  .blog-post-content a {
                    color: #a855f7;
                    text-decoration: underline;
                    transition: color 0.2s ease;
                  }
                  .blog-post-content a:hover {
                    color: #9333ea;
                  }
                  .section-divider {
                    height: 1px;
                    background: linear-gradient(to right, transparent, #e5e7eb, transparent);
                    margin: 3rem 0;
                  }
                `}}),r.jsx("div",{className:"blog-post-content prose prose-purple max-w-none",dangerouslySetInnerHTML:{__html:t.contentHtml||t.content}})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Content Coming Soon"}),r.jsx("p",{className:"text-gray-600 mb-4",children:t.excerpt||"This blog post is being prepared. Please check back soon for the full content."}),r.jsxs(Vt,{to:"/blog",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(Pn,{size:16,className:"mr-2"}),"Back to Blog"]})]})}),s.length>0&&r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Posts"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(p=>r.jsxs(Vt,{to:`/blog/${p.slug}`,className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-transform hover:-translate-y-1",children:[r.jsx("div",{className:"h-40 overflow-hidden",children:p.imageUrl?r.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.classList.add("bg-gray-200"),f.currentTarget.parentElement.classList.add("flex"),f.currentTarget.parentElement.classList.add("items-center"),f.currentTarget.parentElement.classList.add("justify-center")}}):r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsx(bs,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:p.title}),r.jsx("span",{className:"text-purple-600 text-sm",children:"Read more"})]})]},p.id))})]})]})]})]})},lX=()=>{const{t:e}=ia(),[t,n]=j.useState({fullName:"",preferredDate:"",email:"",phone:"",message:""}),[s,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(null);j.useEffect(()=>{document.title="Termin anfragen - Fotoshooting Wien buchen | New Age Fotografie";let h=document.querySelector('meta[name="description"]');return h||(h=document.createElement("meta"),h.setAttribute("name","description"),document.head.appendChild(h)),h.setAttribute("content","Fotoshooting-Termin in Wien anfragen. Verfügbare Termine an Wochenenden für Familien-, Schwangerschafts- und Neugeborenen-Fotografie."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const d=async h=>{h.preventDefault(),a(!0),c(null);try{await $Y(t),o(!0),n({fullName:"",preferredDate:"",email:"",phone:"",message:""})}catch{c("Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.")}finally{a(!1)}},u=h=>{n({...t,[h.target.name]:h.target.value})};return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-12",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-600 mb-4",children:e("waitlist.title")}),r.jsx("p",{className:"text-xl text-gray-600",children:e("waitlist.subtitle")})]}),r.jsxs("div",{className:"max-w-xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[i&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6",children:e("waitlist.successMessage")}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:l}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[r.jsx(Ho,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.fullName")," ",r.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),r.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"Ihr vollständiger Name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[r.jsx(dn,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.preferredDate")," ",r.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),r.jsx("input",{type:"date",name:"preferredDate",value:t.preferredDate,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[r.jsx(pr,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.email")," ",r.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:e("waitlist.emailPlaceholder")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[r.jsx(Xf,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.phone")," ",r.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),r.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"+43 "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:e("waitlist.message")}),r.jsx("textarea",{name:"message",value:t.message,onChange:u,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:e("waitlist.messagePlaceholder")})]}),r.jsx("button",{type:"submit",disabled:s,className:`w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors ${s?"opacity-50 cursor-not-allowed":""}`,children:e(s?"waitlist.submitting":"waitlist.submit")}),r.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[r.jsx("span",{className:"text-purple-600",children:"*"})," Pflichtfelder"]})]})]})]})})},cX=()=>{const{t:e}=ia(),[t,n]=j.useState({fullName:"",email:"",phone:"",message:""}),[s,a]=j.useState(!1),[i,o]=j.useState(!1),[l,c]=j.useState(null);j.useEffect(()=>{document.title="Kontakt - Familienfotograf Wien | New Age Fotografie";let h=document.querySelector('meta[name="description"]');h||(h=document.createElement("meta"),h.setAttribute("name","description"),document.head.appendChild(h)),h.setAttribute("content","Kontaktieren Sie unseren Familienfotograf in Wien. STUDIO Eingang Ecke Schönbrunnerstraße, Studio: Wehrgasse 11A/2+5, 1050 Wien. Tel: +43 677 633 99210. Öffnungszeiten Fr-So 09:00-17:00.");let p=document.querySelector('meta[property="og:title"]');p||(p=document.createElement("meta"),p.setAttribute("property","og:title"),document.head.appendChild(p)),p.setAttribute("content","Kontakt - Familienfotograf Wien | New Age Fotografie");let f=document.querySelector('meta[property="og:description"]');f||(f=document.createElement("meta"),f.setAttribute("property","og:description"),document.head.appendChild(f)),f.setAttribute("content","Kontaktieren Sie unseren Familienfotograf in Wien. STUDIO Eingang Ecke Schönbrunnerstraße, Studio: Wehrgasse 11A/2+5, 1050 Wien. Tel: +43 677 633 99210.");const x={"@context":"https://schema.org","@type":"PhotoStudio",name:"New Age Fotografie",image:"https://www.newagefotografie.com/path-to-logo-or-hero.jpg",url:"https://www.newagefotografie.com/",telephone:"+43 677 633 99210",email:"hallo@newagefotografie.com",address:{"@type":"PostalAddress",streetAddress:"Wehrgasse 11A/2+5",addressLocality:"Wien",postalCode:"1050",addressCountry:"AT"},description:"Portraitstudio in 1050 Wien: Familien, Newborn, Babybauch & Business-Headshots. Studio Eingang Ecke Schönbrunnerstraße. Make the most of now!",openingHoursSpecification:[{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],opens:"10:00",closes:"18:00"}],sameAs:["https://g.page/r/your-google-profile-id","https://www.facebook.com/yourpage","https://www.instagram.com/yourpage"],hasMap:"https://maps.google.com/?q=Wehrgasse+11A,+1050+Wien",geo:{"@type":"GeoCoordinates",latitude:48.1865,longitude:16.3608}},g=document.createElement("script");return g.type="application/ld+json",g.text=JSON.stringify(x),document.head.appendChild(g),()=>{document.title="New Age Fotografie - Familienfotograf Wien",g&&g.parentNode&&g.parentNode.removeChild(g)}},[]);const d=async h=>{h.preventDefault(),a(!0),c(null);try{await FY(t),o(!0),n({fullName:"",email:"",phone:"",message:""})}catch{c("Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.")}finally{a(!1)}},u=h=>{n({...t,[h.target.name]:h.target.value})};return r.jsxs(Wn,{children:[r.jsx("div",{className:"bg-gray-50 py-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 sm:text-5xl",children:e("contact.title")}),r.jsx("p",{className:"mt-4 text-xl text-gray-600",children:e("contact.subtitle")})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("contact.studioTitle")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(pr,{className:"w-6 h-6 text-gray-600"}),r.jsx("span",{className:"text-gray-700",children:"hallo@newagefotografie.com"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Xf,{className:"w-6 h-6 text-gray-600"}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("span",{className:"text-gray-700",children:"+43 677 633 99210"}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("a",{href:"tel:+4367763399210",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(Xf,{className:"w-4 h-4 mr-2"}),e("contact.call")]}),r.jsxs("a",{href:"https://wa.me/4367763399210",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 transition-colors",children:[r.jsx(Zw,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(bs,{className:"w-6 h-6 text-gray-600"}),r.jsx("span",{className:"text-gray-700",children:e("contact.openingHours")})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(pm,{className:"w-6 h-6 text-gray-600"}),r.jsxs("div",{className:"text-gray-700",children:[r.jsx("div",{children:e("contact.studioAddress")}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e("contact.addressNote")})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e("contact.transport")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(EY,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-gray-700",children:e("contact.trainInfo")})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(WK,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-gray-700",children:e("contact.streetParking")})]})]})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e("contact.mapTitle")}),r.jsx("div",{className:"rounded-lg overflow-hidden shadow-sm border",children:r.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2659.8!2d16.3608!3d48.1865!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x476d0774b3d4e1ab%3A0x123456789abcdef0!2sWehrgasse%2011A%2C%201050%20Wien%2C%20Austria!5e0!3m2!1sen!2sat!4v1625075400000!5m2!1sen!2sat",width:"100%",height:"300",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"New Age Fotografie Studio Location - Wehrgasse 11A/2+5, 1050 Wien"})})]})]}),r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:e("contact.contactForm")}),i?r.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:r.jsx("p",{className:"text-green-800",children:e("contact.successMessage")})}):r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:e("contact.fullName")}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("contact.email")}),r.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:e("contact.phone")}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:e("contact.message")}),r.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:u,required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l&&r.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:r.jsx("p",{className:"text-red-800",children:l})}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:e(s?"contact.submitting":"contact.submit")})]})]})]})})]})};function td(e,t,n){for(const s of t)if(e&&e[s]!=null&&e[s]!=="")return e[s];return n}function dX(e){const t=td(e,["imageUrl","image_url","image","heroImageUrl","cover","photo"]),n=td(e,["name","title","label"]),s=td(e,["url","href","link","path","permalink","detailsUrl","route"]);let a=Number(td(e,["salePrice","discountPrice","price","currentPrice","amount"],0)),i=Number(td(e,["originalPrice","compareAtPrice","was","rrp","listPrice"],0));const o=Object.prototype.hasOwnProperty.call(e,"price"),l=Object.prototype.hasOwnProperty.call(e,"discountPrice"),c=Object.prototype.hasOwnProperty.call(e,"salePrice");if((!i||i<=0)&&o&&(l||c)){const g=Number(e.price),v=Number(l?e.discountPrice:e.salePrice);isFinite(g)&&isFinite(v)&&g>0&&v>0&&v<g&&(a=v,i=g)}const d=isFinite(a)?a:0,u=isFinite(i)&&i>0?i:void 0,h=td(e,["ribbonText","badge","tag"],""),p=String(td(e,["id","uuid","slug"],n||s||Math.random().toString(36).slice(2))),f=td(e,["dataVoucherId","voucherId","id"],p),x=td(e,["subtitle","tagline","shortDescription","excerpt","description"],"");return{id:p,imageUrl:t,title:n,url:s,price:d,compareAt:u,ribbonText:h,dataVoucherId:f,subtitle:x}}function uX({items:e}){const{t,language:n}=ia(),s=(e||[]).slice(0,3).map(dX).filter(i=>i.imageUrl&&i.title&&i.url);if(!s.length)return null;const a=new Intl.NumberFormat(n==="de"?"de-AT":"en-AT",{style:"currency",currency:"EUR",minimumFractionDigits:2});return r.jsx("section",{className:"naf-hero-wrap","aria-label":"Top vouchers",children:r.jsx("div",{className:"naf-hero-grid",children:s.map(i=>r.jsxs("article",{className:"naf-card",children:[r.jsxs("div",{className:"naf-card-media",children:[r.jsx("img",{src:i.imageUrl,alt:i.title,loading:"lazy"}),i.ribbonText&&r.jsx("div",{className:"naf-ribbon",children:i.ribbonText})]}),r.jsxs("div",{className:"naf-card-body",children:[r.jsx("h3",{className:"naf-title",children:i.title}),i.subtitle&&r.jsx("p",{className:"naf-sub",children:i.subtitle}),r.jsxs("div",{className:"naf-price-row",children:[r.jsx("span",{className:"naf-from",children:n==="de"?"AB":"FROM"}),r.jsx("span",{className:"naf-new",children:a.format(i.price)})]}),r.jsx("div",{className:"naf-cta-row",children:r.jsx("a",{href:i.url,className:"naf-btn book-button","data-voucher-id":i.dataVoucherId,"aria-label":t("home.bookNowButton"),children:t("home.bookNowButton")})})]})]},i.id))})})}const hX=()=>{zg();const{t:e,language:t}=ia();un(),xe.useState(""),j.useMemo(()=>{const a=e("vouchers.title");return a&&a!=="vouchers.title"?a:t==="en"?"Photoshoot Vouchers Vienna":"Fotoshooting Gutscheine Wien"},[e,t]);const s=[{id:"pregnancy-shooting",name:e("home.pregnancyShootingTitle"),description:e("home.pregnancyShootingDescription"),originalPrice:195,price:95,image:"https://i.imgur.com/Vd6xtPg.jpg",category:"pregnancy",route:"/gutschein/maternity"},{id:"family-shooting",name:e("home.familyShootingTitle"),description:e("home.familyShootingDescription"),originalPrice:295,price:95,image:"https://i.postimg.cc/bw7ZyvPK/Familienfotoshooting-im-Fotostudio-Wien-Krexner-2777.jpg",category:"family",route:"/gutschein/family"},{id:"newborn-shooting",name:e("home.newbornShootingTitle"),description:e("home.newbornShootingDescription"),originalPrice:395,price:95,image:"https://i.imgur.com/QWOgLqX.jpg",category:"newborn",route:"/gutschein/newborn"}].map(a=>({id:a.id,name:a.name,description:a.description,image:a.image,price:a.price,originalPrice:a.originalPrice,route:a.route,url:a.route}));return r.jsx(Wn,{children:r.jsx(uX,{items:s})})},fX=()=>{const{slug:e}=Ri(),t=un(),{getVoucherBySlug:n}=zg(),[s,a]=j.useState(1),i=n(e||"");if(!i)return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[r.jsx(Dr,{size:48,className:"text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Gutschein nicht gefunden"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Der gesuchte Gutschein konnte nicht gefunden werden."}),r.jsx("button",{onClick:()=>t("/vouchers"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Gutscheine durchsuchen"})]})});const o=i.stock>0,l=new Date,d=new Date(i.validUntil)>l,u=p=>{const f=parseInt(p.target.value);f>=1&&f<=i.stock&&a(f)},h=()=>{t(`/checkout/${i.id}`,{state:{quantity:s}})};return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("button",{onClick:()=>t("/vouchers"),className:"flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[r.jsx(Pn,{size:16,className:"mr-1"})," Zurück zu den Gutscheinen"]}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"md:grid md:grid-cols-2",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"md:col-span-1 p-6 md:p-8",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(mc,{size:16,className:"text-purple-600 mr-2"}),r.jsx("span",{className:"text-sm font-semibold text-purple-600 uppercase",children:i.category})]}),r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:i.title}),r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsxs("div",{className:"mr-6 flex items-center",children:[r.jsx(dn,{size:16,className:"text-gray-500 mr-1"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Gültig bis ",new Date(i.validUntil).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${d?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-sm text-gray-500",children:d?"Aktiv":"Abgelaufen"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("span",{className:"text-gray-500 line-through text-lg",children:["€",i.price.toFixed(2)]}),r.jsxs("span",{className:"text-purple-600 font-bold text-3xl ml-2",children:["€",i.discountPrice.toFixed(2)]})]}),r.jsx("p",{className:"text-gray-700 mb-6",children:i.description}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-gray-700 mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Anbieter:"})," ",i.partner.title]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("span",{className:"font-semibold",children:"Verfügbar:"})," Noch ",i.stock," Gutscheine"]})]}),o&&d?r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Anzahl"}),r.jsx("div",{className:"flex items-center mb-4",children:r.jsx("input",{type:"number",min:"1",max:i.stock,value:s,onChange:u,className:"w-20 px-3 py-2 border border-gray-300 rounded-lg mr-4 focus:ring-2 focus:ring-purple-600 focus:border-purple-600"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>{t(`/checkout/voucher/${i.id}?personalize=true&quantity=${s}`)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002 2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Personalisieren - €",(i.discountPrice*s).toFixed(2)]}),r.jsxs("button",{onClick:h,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[r.jsx(_d,{size:18,className:"mr-2"}),"Schnellkauf - €",(i.discountPrice*s).toFixed(2)]})]}),r.jsx("div",{className:"mt-3 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["💎 ",r.jsx("strong",{children:"Personalisieren:"})," Fügen Sie eigene Fotos und Nachrichten hinzu",r.jsx("br",{}),"⚡ ",r.jsx("strong",{children:"Schnellkauf:"})," Sofortiger Kauf ohne Anpassung"]})})]}):r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Dr,{size:20,className:"text-red-500 mr-2 mt-0.5"}),r.jsx("p",{className:"text-red-700",children:o?"Dieser Gutschein ist abgelaufen und nicht mehr verfügbar.":"Dieser Gutschein ist derzeit ausverkauft."})]})}),r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(tY,{size:20,className:"text-gray-500 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Geschäftsbedingungen"}),r.jsx("p",{className:"text-gray-700 text-sm",children:i.terms})]})]})})]})]})})]})})};function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(s){GM(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ub(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ub=function(t){return typeof t}:Ub=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(e)}function GM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mX(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function pX(e,t){if(e==null)return{};var n=mX(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function gX(e,t){return xX(e)||yX(e,t)||vX(e,t)||bX()}function xX(e){if(Array.isArray(e))return e}function yX(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var s=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function vX(e,t){if(e){if(typeof e=="string")return HA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HA(e,t)}}function HA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function bX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var no=function(t,n,s){var a=!!s,i=xe.useRef(s);xe.useEffect(function(){i.current=s},[s]),xe.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,o),function(){t.off(n,o)}},[a,n,t,i])},wX=function(t){var n=xe.useRef(t);return xe.useEffect(function(){n.current=t},[t]),n.current},d1=function(t){return t!==null&&Ub(t)==="object"},GA="[object Object]",jX=function e(t,n){if(!d1(t)||!d1(n))return t===n;var s=Array.isArray(t),a=Array.isArray(n);if(s!==a)return!1;var i=Object.prototype.toString.call(t)===GA,o=Object.prototype.toString.call(n)===GA;if(i!==o)return!1;if(!i&&!s)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var p=Object.keys(d);if(p.length!==l.length)return!1;var f=t,x=n,g=function(b){return e(f[b],x[b])};return p.every(g)},NX=function(t,n,s){return d1(t)?Object.keys(t).reduce(function(a,i){var o=!d1(n)||!jX(t[i],n[i]);return s.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?VA(VA({},a||{}),{},GM({},i,t[i])):a},null):null},KM=xe.createContext(null);KM.displayName="ElementsContext";var SX=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t};mt.any,mt.object;mt.func.isRequired;var YM=xe.createContext(null);YM.displayName="CheckoutSdkContext";var _X=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},kX=xe.createContext(null);kX.displayName="CheckoutContext";mt.any,mt.shape({fetchClientSecret:mt.func.isRequired,elementsOptions:mt.object}).isRequired;var KA=function(t){var n=xe.useContext(YM),s=xe.useContext(KM);if(n&&s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?_X(n,t):SX(s,t)},AX=["mode"],CX=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Os=function(t,n){var s="".concat(CX(t),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,p=h===void 0?{}:h,f=c.onBlur,x=c.onFocus,g=c.onReady,v=c.onChange,b=c.onEscape,_=c.onClick,w=c.onLoadError,S=c.onLoaderStart,A=c.onNetworksChange,L=c.onConfirm,P=c.onCancel,k=c.onShippingAddressChange,C=c.onShippingRateChange,R=KA("mounts <".concat(s,">")),E="elements"in R?R.elements:null,I="checkoutSdk"in R?R.checkoutSdk:null,B=xe.useState(null),z=gX(B,2),V=z[0],U=z[1],K=xe.useRef(null),$=xe.useRef(null);no(V,"blur",f),no(V,"focus",x),no(V,"escape",b),no(V,"click",_),no(V,"loaderror",w),no(V,"loaderstart",S),no(V,"networkschange",A),no(V,"confirm",L),no(V,"cancel",P),no(V,"shippingaddresschange",k),no(V,"shippingratechange",C),no(V,"change",v);var W;g&&(t==="expressCheckout"?W=g:W=function(){g(V)}),no(V,"ready",W),xe.useLayoutEffect(function(){if(K.current===null&&$.current!==null&&(E||I)){var J=null;if(I)switch(t){case"payment":J=I.createPaymentElement(p);break;case"address":if("mode"in p){var M=p.mode,G=pX(p,AX);if(M==="shipping")J=I.createShippingAddressElement(G);else if(M==="billing")J=I.createBillingAddressElement(G);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":J=I.createExpressCheckoutElement(p);break;case"currencySelector":J=I.createCurrencySelectorElement();break;case"taxId":J=I.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(J=E.create(t,p));K.current=J,U(J),J&&J.mount($.current)}},[E,I,p]);var te=wX(p);return xe.useEffect(function(){if(K.current){var J=NX(p,te,["paymentRequest"]);J&&"update"in K.current&&K.current.update(J)}},[p,te]),xe.useLayoutEffect(function(){return function(){if(K.current&&typeof K.current.destroy=="function")try{K.current.destroy(),K.current=null}catch{}}},[]),xe.createElement("div",{id:d,className:u,ref:$})},i=function(c){KA("mounts <".concat(s,">"));var d=c.id,u=c.className;return xe.createElement("div",{id:d,className:u})},o=n?i:a;return o.propTypes={id:mt.string,className:mt.string,onChange:mt.func,onBlur:mt.func,onFocus:mt.func,onReady:mt.func,onEscape:mt.func,onClick:mt.func,onLoadError:mt.func,onLoaderStart:mt.func,onNetworksChange:mt.func,onConfirm:mt.func,onCancel:mt.func,onShippingAddressChange:mt.func,onShippingRateChange:mt.func,options:mt.object},o.displayName=s,o.__elementType=t,o},Ls=typeof window>"u",PX=xe.createContext(null);PX.displayName="EmbeddedCheckoutProviderContext";Os("auBankAccount",Ls);Os("card",Ls);Os("cardNumber",Ls);Os("cardExpiry",Ls);Os("cardCvc",Ls);Os("fpxBank",Ls);Os("iban",Ls);Os("idealBank",Ls);Os("p24Bank",Ls);Os("epsBank",Ls);Os("payment",Ls);Os("expressCheckout",Ls);Os("currencySelector",Ls);Os("paymentRequestButton",Ls);Os("linkAuthentication",Ls);Os("address",Ls);Os("shippingAddress",Ls);Os("paymentMethodMessaging",Ls);Os("affirmMessage",Ls);Os("afterpayClearpayMessage",Ls);Os("taxId",Ls);var EX="basil",ZM="https://js.stripe.com",TX="".concat(ZM,"/").concat(EX,"/stripe.js"),OX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,LX=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,YA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",IX=function(t){return OX.test(t)||LX.test(t)},MX=function(){for(var t=document.querySelectorAll('script[src^="'.concat(ZM,'"]')),n=0;n<t.length;n++){var s=t[n];if(IX(s.src))return s}return null},ZA=function(t){var n="",s=document.createElement("script");s.src="".concat(TX).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},Ux=null,eb=null,tb=null,DX=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},RX=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},FX=function(t){return Ux!==null?Ux:(Ux=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(YA),window.Stripe){n(window.Stripe);return}try{var a=MX();if(a&&t)console.warn(YA);else if(!a)a=ZA(t);else if(a&&tb!==null&&eb!==null){var i;a.removeEventListener("load",tb),a.removeEventListener("error",eb),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=ZA(t)}tb=RX(n,s),eb=DX(s),a.addEventListener("load",tb),a.addEventListener("error",eb)}catch(o){s(o);return}}),Ux.catch(function(n){return Ux=null,Promise.reject(n)}))},qx,$X=function(){return qx||(qx=FX(null).catch(function(t){return qx=null,Promise.reject(t)}),qx)};Promise.resolve().then(function(){return $X()}).catch(function(e){console.warn(e)});function XM(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=XM(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function or(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=XM(e))&&(s&&(s+=" "),s+=t);return s}const J4="-",BX=e=>{const t=UX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(J4);return l[0]===""&&l.length!==1&&l.shift(),JM(l,t)||zX(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},JM=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?JM(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(J4);return t.validators.find(({validator:o})=>o(i))?.classGroupId},XA=/^\[(.+)\]$/,zX=e=>{if(XA.test(e)){const t=XA.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UX=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return WX(Object.entries(e.classGroups),n).forEach(([i,o])=>{fS(o,s,i,t)}),s},fS=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:JA(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(qX(a)){fS(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{fS(o,JA(t,i),n,s)})})},JA=(e,t)=>{let n=e;return t.split(J4).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},qX=e=>e.isThemeGetter,WX=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,VX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},QM="!",HX=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(d===0){if(b===a&&(s||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(b==="/"){h=v;continue}}b==="["?d++:b==="]"&&d--}const p=c.length===0?l:l.substring(u),f=p.startsWith(QM),x=f?p.substring(1):p,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},GX=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},KX=e=>({cache:VX(e.cacheSize),parseClassName:HX(e),...BX(e)}),YX=/\s+/,ZX=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(YX);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=n(d);let x=!!f,g=s(x?p.substring(0,f):p);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=s(p),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const v=GX(u).join(":"),b=h?v+QM:v,_=b+g;if(i.includes(_))continue;i.push(_);const w=a(g,x);for(let S=0;S<w.length;++S){const A=w[S];i.push(b+A)}l=d+(l.length>0?" "+l:l)}return l};function XX(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=eD(t))&&(s&&(s+=" "),s+=n);return s}const eD=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=eD(e[s]))&&(n&&(n+=" "),n+=t);return n};function JX(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return n=KX(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=ZX(c,n);return a(c,u),u}return function(){return i(XX.apply(null,arguments))}}const $n=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},tD=/^\[(?:([a-z-]+):)?(.+)\]$/i,QX=/^\d+\/\d+$/,eJ=new Set(["px","full","screen"]),tJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rd=e=>Pp(e)||eJ.has(e)||QX.test(e),Su=e=>qg(e,"length",fJ),Pp=e=>!!e&&!Number.isNaN(Number(e)),uN=e=>qg(e,"number",Pp),Wx=e=>!!e&&Number.isInteger(Number(e)),iJ=e=>e.endsWith("%")&&Pp(e.slice(0,-1)),yr=e=>tD.test(e),_u=e=>tJ.test(e),oJ=new Set(["length","size","percentage"]),lJ=e=>qg(e,oJ,rD),cJ=e=>qg(e,"position",rD),dJ=new Set(["image","url"]),uJ=e=>qg(e,dJ,pJ),hJ=e=>qg(e,"",mJ),Vx=()=>!0,qg=(e,t,n)=>{const s=tD.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},fJ=e=>rJ.test(e)&&!nJ.test(e),rD=()=>!1,mJ=e=>sJ.test(e),pJ=e=>aJ.test(e),gJ=()=>{const e=$n("colors"),t=$n("spacing"),n=$n("blur"),s=$n("brightness"),a=$n("borderColor"),i=$n("borderRadius"),o=$n("borderSpacing"),l=$n("borderWidth"),c=$n("contrast"),d=$n("grayscale"),u=$n("hueRotate"),h=$n("invert"),p=$n("gap"),f=$n("gradientColorStops"),x=$n("gradientColorStopPositions"),g=$n("inset"),v=$n("margin"),b=$n("opacity"),_=$n("padding"),w=$n("saturate"),S=$n("scale"),A=$n("sepia"),L=$n("skew"),P=$n("space"),k=$n("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",yr,t],I=()=>[yr,t],B=()=>["",rd,Su],z=()=>["auto",Pp,yr],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",yr],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Pp,yr];return{cacheSize:500,separator:":",theme:{colors:[Vx],spacing:[rd,Su],blur:["none","",_u,yr],brightness:J(),borderColor:[e],borderRadius:["none","","full",_u,yr],borderSpacing:I(),borderWidth:B(),contrast:J(),grayscale:W(),hueRotate:J(),invert:W(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[iJ,Su],inset:E(),margin:E(),opacity:J(),padding:I(),saturate:J(),scale:J(),sepia:W(),skew:J(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",yr]}],container:["container"],columns:[{columns:[_u]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),yr]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wx,yr]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yr]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Wx,yr]}],"grid-cols":[{"grid-cols":[Vx]}],"col-start-end":[{col:["auto",{span:["full",Wx,yr]},yr]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Vx]}],"row-start-end":[{row:["auto",{span:[Wx,yr]},yr]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yr,t]}],"min-w":[{"min-w":[yr,t,"min","max","fit"]}],"max-w":[{"max-w":[yr,t,"none","full","min","max","fit","prose",{screen:[_u]},_u]}],h:[{h:[yr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_u,Su]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uN]}],"font-family":[{font:[Vx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yr]}],"line-clamp":[{"line-clamp":["none",Pp,uN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rd,yr]}],"list-image":[{"list-image":["none",yr]}],"list-style-type":[{list:["none","disc","decimal",yr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rd,Su]}],"underline-offset":[{"underline-offset":["auto",rd,yr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),cJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[rd,yr]}],"outline-w":[{outline:[rd,Su]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[rd,Su]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_u,hJ]}],"shadow-color":[{shadow:[Vx]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_u,yr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yr]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",yr]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",yr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Wx,yr]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rd,Su,uN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xJ=JX(gJ);function En(...e){return xJ(or(e))}const $t=xe.forwardRef(({className:e,variant:t="default",size:n="default",...s},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o={default:"bg-primary text-primary-foreground hover:bg-primary/90 bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground border-gray-300 hover:bg-gray-50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-accent hover:text-accent-foreground hover:bg-gray-100",link:"text-primary underline-offset-4 hover:underline text-blue-600"},l={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return r.jsx("button",{className:En(i,o[t],l[n],e),ref:a,...s})});$t.displayName="Button";const gs=xe.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:En("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));gs.displayName="Input";function QA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nD(...e){return t=>{let n=!1;const s=e.map(a=>{const i=QA(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():QA(e[a],null)}}}}function Gn(...e){return j.useCallback(nD(...e),e)}function z0(e){const t=yJ(e),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),c=l.find(bJ);if(c){const d=c.props.children,u=l.map(h=>h===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:a,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function yJ(e){const t=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=jJ(a),l=wJ(i,a.props);return a.type!==j.Fragment&&(l.ref=s?nD(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vJ=Symbol("radix.slottable");function bJ(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vJ}function wJ(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function jJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var NJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tn=NJ.reduce((e,t)=>{const n=z0(`Primitive.${t}`),s=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function SJ(e,t){e&&Wy.flushSync(()=>e.dispatchEvent(t))}var _J="Label",sD=j.forwardRef((e,t)=>r.jsx(tn.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sD.displayName=_J;var aD=sD;const eC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tC=or,iD=(e,t)=>n=>{var s;if(t?.variants==null)return tC(e,n?.class,n?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n?.[d],h=i?.[d];if(u===null)return null;const p=eC(u)||eC(h);return a[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,p]=u;return p===void 0||(d[h]=p),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,h,p]:d},[]);return tC(e,o,c,n?.class,n?.className)},kJ=iD("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Js=j.forwardRef(({className:e,...t},n)=>r.jsx(aD,{ref:n,className:En(kJ(),e),...t}));Js.displayName=aD.displayName;function AJ(e,t){const n=j.createContext(t),s=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Wg(e,t=[]){let n=[];function s(i,o){const l=j.createContext(o),c=n.length;n=[...n,o];const d=h=>{const{scope:p,children:f,...x}=h,g=p?.[e]?.[c]||l,v=j.useMemo(()=>x,Object.values(x));return r.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(h,p){const f=p?.[e]?.[c]||l,x=j.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(l){const c=l?.[e]||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,CJ(a,...t)]}function CJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Sn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}var Ya=globalThis?.document?j.useLayoutEffect:()=>{},PJ=nM[" useInsertionEffect ".trim().toString()]||Ya;function U0({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=EJ({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=j.useRef(e!==void 0);j.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=j.useCallback(u=>{if(l){const h=TJ(u)?u(e):u;h!==e&&o.current?.(h)}else i(u)},[l,e,i,o]);return[c,d]}function EJ({defaultProp:e,onChange:t}){const[n,s]=j.useState(e),a=j.useRef(n),i=j.useRef(t);return PJ(()=>{i.current=t},[t]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,s,i]}function TJ(e){return typeof e=="function"}function Q4(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function e6(e){const[t,n]=j.useState(void 0);return Ya(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}function OJ(e,t){return j.useReducer((n,s)=>t[n][s]??n,e)}var Gy=e=>{const{present:t,children:n}=e,s=LJ(t),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=Gn(s.ref,IJ(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};Gy.displayName="Presence";function LJ(e){const[t,n]=j.useState(),s=j.useRef(null),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=OJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=rb(s.current);i.current=l==="mounted"?d:"none"},[l]),Ya(()=>{const d=s.current,u=a.current;if(u!==e){const p=i.current,f=rb(d);e?c("MOUNT"):f==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ya(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const g=rb(s.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=f=>{f.target===t&&(i.current=rb(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function rb(e){return e?.animationName||"none"}function IJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jw="Checkbox",[MJ,qMe]=Wg(Jw),[DJ,t6]=MJ(Jw);function RJ(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[p,f]=U0({prop:n,defaultProp:a??!1,onChange:c,caller:Jw}),[x,g]=j.useState(null),[v,b]=j.useState(null),_=j.useRef(!1),w=x?!!o||!!x.closest("form"):!0,S={checked:p,disabled:i,setChecked:f,control:x,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:_,required:d,defaultChecked:sh(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return r.jsx(DJ,{scope:t,...S,children:FJ(h)?h(S):s})}var oD="CheckboxTrigger",lD=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:x}=t6(oD,e),g=Gn(a,u),v=j.useRef(c);return j.useEffect(()=>{const b=i?.form;if(b){const _=()=>h(v.current);return b.addEventListener("reset",_),()=>b.removeEventListener("reset",_)}},[i,h]),r.jsx(tn.button,{type:"button",role:"checkbox","aria-checked":sh(c)?"mixed":c,"aria-required":d,"data-state":fD(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:g,onKeyDown:Sn(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Sn(n,b=>{h(_=>sh(_)?!0:!_),x&&f&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});lD.displayName=oD;var r6=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return r.jsx(RJ,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(lD,{...h,ref:t,__scopeCheckbox:n}),p&&r.jsx(hD,{__scopeCheckbox:n})]})})});r6.displayName=Jw;var cD="CheckboxIndicator",dD=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=t6(cD,n);return r.jsx(Gy,{present:s||sh(i.checked)||i.checked===!0,children:r.jsx(tn.span,{"data-state":fD(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});dD.displayName=cD;var uD="CheckboxBubbleInput",hD=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:p,setBubbleInput:f}=t6(uD,e),x=Gn(n,f),g=Q4(i),v=e6(s);j.useEffect(()=>{const _=p;if(!_)return;const w=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(w,"checked").set,L=!a.current;if(g!==i&&A){const P=new Event("click",{bubbles:L});_.indeterminate=sh(i),A.call(_,sh(i)?!1:i),_.dispatchEvent(P)}},[p,g,i,a]);const b=j.useRef(sh(i)?!1:i);return r.jsx(tn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hD.displayName=uD;function FJ(e){return typeof e=="function"}function sh(e){return e==="indeterminate"}function fD(e){return sh(e)?"indeterminate":e?"checked":"unchecked"}const $J=j.forwardRef(({className:e,...t},n)=>r.jsx(r6,{ref:n,className:En("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(dD,{className:En("flex items-center justify-center text-current"),children:r.jsx(sa,{className:"h-4 w-4"})})}));$J.displayName=r6.displayName;let BJ=0,Qw=[],qb=[];const mD=e=>{Qw=e,qb.forEach(t=>t(e))},zJ=e=>{const t=`toast-${++BJ}`,s=[{...e,id:t},...Qw].slice(0,5);return mD(s),setTimeout(()=>{pD(t)},5e3),{id:t}},pD=e=>{const t=Qw.filter(n=>n.id!==e);mD(t)},UJ=e=>zJ(e),qJ=()=>{const[e,t]=j.useState(Qw);return j.useEffect(()=>(qb.push(t),()=>{const n=qb.indexOf(t);n>-1&&qb.splice(n,1)}),[]),{toasts:e,toast:UJ,dismiss:pD}},Rt=({className:e="",children:t})=>r.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${e}`,children:t}),Or=({className:e="",children:t})=>r.jsx("div",{className:`p-6 pb-3 flex flex-col ${e}`,children:t}),zr=({className:e="",children:t})=>r.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${e}`,children:t}),Jt=({className:e="",children:t})=>r.jsx("div",{className:`p-6 pt-3 ${e}`,children:t}),_a=({className:e="",children:t})=>r.jsx("p",{className:`text-sm text-gray-600 ${e}`,children:t}),nb=({className:e="",children:t})=>r.jsx("div",{className:`p-6 pt-0 ${e}`,children:t}),WJ=iD("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ra({className:e,variant:t,...n}){return r.jsx("div",{className:En(WJ({variant:t}),e),...n})}const VJ=()=>{const{id:e}=Ri(),t=un(),[n,s]=j.useState(null),[a,i]=j.useState(!0),[o,l]=j.useState(null);return j.useEffect(()=>{e?(async()=>{try{const d=await fetch(`/api/vouchers/products/${e}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const u=await d.json();s(u)}catch(d){l(d.message||"Gutschein nicht gefunden")}finally{i(!1)}})():(l("Keine Gutschein-ID gefunden"),i(!1))},[e]),a?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):o||!n?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gutschein nicht gefunden"}),r.jsxs($t,{onClick:()=>t("/vouchers"),variant:"outline",children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Zurück zu den Gutscheinen"]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Zahlungssystem wird eingerichtet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Unser Zahlungssystem wird gerade konfiguriert. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns direkt."}),r.jsxs($t,{onClick:()=>t("/vouchers"),variant:"outline",children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Zurück zu den Gutscheinen"]})]})})},HJ=()=>{const e=un(),{t}=ia();return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-purple-600 to-purple-700 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"NAF"})}),r.jsx("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"NEW AGE FOTOGRAFIE"})]}),r.jsxs($t,{variant:"ghost",onClick:()=>e("/"),className:"text-purple-600 hover:text-purple-700",children:[r.jsx(Pn,{className:"w-4 h-4 mr-2"}),t("voucher.backToHome")]})]})})}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"mb-6",children:r.jsx(jr,{className:"w-16 h-16 text-green-600 mx-auto"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("voucher.paymentSuccessful")}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t("voucher.thankYouMessage")}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:t("voucher.whatHappensNext")}),r.jsxs("ul",{className:"text-sm text-green-800 space-y-2 text-left",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(jr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),t("voucher.emailReceived")]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(jr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),t("voucher.validity")]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(jr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),t("voucher.bookingContact")]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs($t,{onClick:()=>e("/vouchers"),variant:"outline",className:"w-full",children:[r.jsx(Vn,{className:"w-4 h-4 mr-2"}),t("voucher.moreVouchers")]}),r.jsxs($t,{onClick:()=>window.open("https://newagefotografie.sproutstudio.com/invitation/live-link-shootings-new-age-fotografie","_blank"),className:"w-full bg-purple-600 hover:bg-purple-700",children:[r.jsx(dn,{className:"w-4 h-4 mr-2"}),t("voucher.bookAppointment")]})]}),r.jsxs("div",{className:"pt-6 border-t",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:t("voucher.questionsAboutVoucher")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsxs("strong",{children:[t("voucher.phone"),":"]})," +43 677 633 99210"]}),r.jsxs("p",{children:[r.jsxs("strong",{children:[t("voucher.email"),":"]})," hallo@newagefotografie.com"]}),r.jsxs("p",{children:[r.jsxs("strong",{children:[t("voucher.openingHours"),":"]})," ",t("voucher.openingTimes")]})]})]})]})]})})]})},GJ=({onComplete:e,voucherAmount:t})=>{const[n,s]=j.useState(1),[a,i]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState(null),[u,h]=j.useState(""),[p,f]=j.useState(""),[x,g]=j.useState(""),[v,b]=j.useState({address1:"",address2:"",city:"",zip:"",country:"AT"}),[_,w]=j.useState(!1),S=[{id:"pdf",name:"PDF Versand",description:"Kostenlos",price:0,image:"https://images.unsplash.com/photo-1586953208448-b95a79798f07?w=400&h=300&fit=crop",detailedDescription:"Sofort downloaden und ausdrucken"},{id:"post-standard",name:"POST Standard",description:"4,49 €",price:4.49,image:"https://images.unsplash.com/photo-1566125882500-87e10f726cdc?w=400&h=300&fit=crop",detailedDescription:"Farbdruck auf 200g Papier | Versand per Post (3-5 Werktage)"},{id:"post-premium",name:"POST Premium",description:"6,49 €",price:6.49,image:"https://i.postimg.cc/RZ7PBrvT/firstvoucher-lettershop-premium.webp",detailedDescription:"Farbdruck auf hochwertigem 300g Papier inkl. passendem Umschlag | Versand per Post (3-5 Werktage)"},{id:"post-geschenkbox",name:"POST Geschenkbox",description:"34,95 €",price:34.95,image:"https://images.unsplash.com/photo-1549465220-1a8b9238cd48?w=400&h=300&fit=crop",detailedDescription:"Premium-Gutschein in Geschenkbox | Premium-Seife (250 ml) & Premium-Schokoladen | Versand per Post (3-5 Werktage) - Kostenloser Versand innerhalb Österreichs"}],A=[{id:"birthday",name:"Birthday Celebration",category:"birthday",image:"https://i.postimg.cc/cCLh7639/827ee647-a4cc-4f99-ac43-a7165efa0314.webp",occasion:"Happy Birthday"},{id:"anniversary",name:"Anniversary",category:"anniversary",image:"https://images.unsplash.com/photo-1469371670807-013ccf25f16a?w=400&h=300&fit=crop",occasion:"Happy Anniversary"},{id:"mothers-day",name:"Mother's Day",category:"mothers-day",image:"https://i.postimg.cc/br5xQgpr/stock-photo-top-view-greeting-card-happy-mothers-day-lettering-pink-carnations.webp",occasion:"Happy Mother's Day"},{id:"valentines",name:"Valentine's Day",category:"love",image:"https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=400&h=300&fit=crop",occasion:"I Love You"},{id:"christmas",name:"Christmas",category:"christmas",image:"https://images.unsplash.com/photo-1512389098783-66b81f86e199?w=400&h=300&fit=crop",occasion:"Merry Christmas"},{id:"thank-you",name:"Thank You",category:"gratitude",image:"https://i.postimg.cc/Mp5y5zWg/writing-thank-you.webp",occasion:"Thank You"},{id:"congratulations",name:"Congratulations",category:"celebration",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400&h=300&fit=crop",occasion:"Congratulations"}],L=E=>{i(E),s(2)},P=E=>{l(E),d(null)},k=E=>{const I=E.target.files?.[0];I&&(d(I),l(null))},C=()=>{if(a){if((a.price>0||a.id.startsWith("post-"))&&(w(!0),!(v.address1.trim()&&v.city.trim()&&v.zip.trim()&&v.country.trim())))return;const I={deliveryOption:a,selectedDesign:o||void 0,customPhoto:c||void 0,personalMessage:u,recipientName:p,senderName:x,shippingAddress:a.price>0||a.id.startsWith("post-")?{address1:v.address1.trim(),address2:v.address2?.trim()||void 0,city:v.city.trim(),zip:v.zip.trim(),country:v.country.trim()||"AT"}:void 0};e(I)}},R=E=>{switch(E){case 1:return a!==null;case 2:return o!==null||c!==null;case 3:return u.trim()!=="";default:return!1}};return r.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white",children:[r.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3].map(E=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`
              w-10 h-10 rounded-full flex items-center justify-center text-white font-bold
              ${n===E?"bg-blue-600":R(E)?"bg-green-500":"bg-gray-300"}
            `,children:R(E)?r.jsx(sa,{size:20}):E}),r.jsx("div",{className:"ml-3 mr-6",children:r.jsxs("p",{className:`font-medium ${n===E?"text-blue-600":"text-gray-500"}`,children:[E===1&&"Versandart wählen",E===2&&"Motiv wählen / Foto hochladen",E===3&&"Persönliche Widmung"]})}),E<3&&r.jsx(vc,{className:"text-gray-400 mr-6",size:20})]},E))}),n===1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Versandart wählen"}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:S.map(E=>r.jsxs("div",{onClick:()=>L(E),className:`
                  border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg
                  ${a?.id===E.id?"border-blue-500 bg-blue-50":"border-gray-200"}
                `,children:[r.jsx("div",{className:"h-32 bg-gray-100 rounded-lg mb-3 flex items-center justify-center",children:r.jsx("img",{src:E.image,alt:E.name,className:"max-h-full max-w-full object-contain",onError:I=>{I.target.style.display="none",I.target.parentElement.innerHTML=`
                        <div class="text-gray-400 text-center">
                          <div class="text-2xl mb-2">📦</div>
                          <div class="text-sm">${E.name}</div>
                        </div>
                      `}})}),r.jsx("h3",{className:"font-semibold text-center",children:E.name}),r.jsx("p",{className:"text-center text-gray-600",children:E.description}),E.detailedDescription&&r.jsx("p",{className:"text-center text-sm text-gray-500 mt-1",children:E.detailedDescription}),a?.id===E.id&&r.jsx("div",{className:"flex justify-center mt-2",children:r.jsx(sa,{className:"text-blue-500",size:20})})]},E.id))}),a&&r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>s(2),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"weiter zur Gestaltung"})})]}),n===2&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Motiv wählen / Foto hochladen"}),r.jsx("div",{className:"mb-8",children:r.jsxs("label",{className:"block w-full",children:[r.jsxs("div",{className:`
                  border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
                  ${c?"border-green-500 bg-green-50":"border-blue-500 bg-blue-50"}
                  hover:bg-blue-100
                `,children:[r.jsx(ta,{size:48,className:"mx-auto mb-4 text-blue-500"}),r.jsx("p",{className:"text-lg font-semibold text-blue-600 mb-2",children:"Foto suchen"}),r.jsx("p",{className:"text-gray-600",children:"Klicken Sie hier, um Ihr eigenes Foto hochzuladen"}),c&&r.jsxs("p",{className:"text-green-600 mt-2 font-semibold",children:["✓ ",c.name," ausgewählt"]})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden"})]})}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:A.map(E=>r.jsxs("div",{onClick:()=>P(E),className:`
                    border-2 rounded-lg cursor-pointer transition-all hover:shadow-lg
                    ${o?.id===E.id?"border-blue-500 bg-blue-50":"border-gray-200"}
                  `,children:[r.jsx("div",{className:"aspect-square bg-gray-100 rounded-t-lg overflow-hidden",children:r.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover",onError:I=>{I.target.style.display="none",I.target.parentElement.innerHTML=`
                          <div class="w-full h-full flex items-center justify-center text-gray-400">
                            <div class="text-center">
                              <div class="text-2xl mb-1">🎨</div>
                              <div class="text-xs">${E.occasion}</div>
                            </div>
                          </div>
                        `}})}),r.jsx("div",{className:"p-2 text-center",children:r.jsx("p",{className:"text-sm font-medium",children:E.occasion})}),o?.id===E.id&&r.jsx("div",{className:"flex justify-center pb-2",children:r.jsx(sa,{className:"text-blue-500",size:16})})]},E.id))})]}),r.jsxs("div",{className:"lg:pl-8",children:[r.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"Vorschau"}),o||c?r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 mb-6 transform transition-all duration-500 hover:scale-105",children:r.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[r.jsxs("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg mb-4 flex items-center justify-center relative",children:[o?r.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover rounded-lg"}):c?r.jsx("img",{src:URL.createObjectURL(c),alt:"Custom uploaded photo",className:"w-full h-full object-cover rounded-lg"}):null,r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx("h4",{className:"text-2xl font-bold mb-2",children:"Gutschein"}),r.jsx("p",{className:"text-lg",children:o?.occasion||"Eigenes Foto"})]})})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border-t-4 border-blue-500",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold text-lg",children:"Fotoshooting Gutschein"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"1 Person, ca. 30 min"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t,",00 €"]})})]}),r.jsxs("div",{className:"border-t pt-3",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Einlösbar bis: 2 Jahre ab Kaufdatum"}),r.jsx("div",{className:"bg-gray-100 p-2 rounded text-center",children:r.jsx("p",{className:"text-xs font-mono",children:"DEMO-GUTSCHEIN-2024"})})]})]})]})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:()=>s(3),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors w-full lg:w-auto",children:"Persönliche Nachricht hinzufügen"})})]}):r.jsxs("div",{className:"text-center p-12 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),r.jsx("p",{className:"text-gray-500",children:"Wählen Sie ein Design oder laden Sie ein Foto hoch, um eine Vorschau zu sehen"})]})]})]}),n===3&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Persönliche Widmung"}),r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empfänger Name (optional)"}),r.jsx("input",{type:"text",value:p,onChange:E=>f(E.target.value),placeholder:"Für wen ist dieser Gutschein?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persönliche Nachricht *"}),r.jsx("textarea",{value:u,onChange:E=>h(E.target.value),placeholder:"Widmung eingeben...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.length,"/500 Zeichen"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ihr Name (optional)"}),r.jsx("input",{type:"text",value:x,onChange:E=>g(E.target.value),placeholder:"Von wem ist dieser Gutschein?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a&&(a.price>0||a.id.startsWith("post-"))&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Lieferadresse"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Bitte geben Sie die Postadresse für den Versand des Gutscheins ein."}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straße und Hausnummer *"}),r.jsx("input",{type:"text",value:v.address1,onChange:E=>b(I=>({...I,address1:E.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${_&&!v.address1.trim()?"border-red-500":"border-gray-300"}`,placeholder:"z.B. Schönbrunner Str. 25"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresszusatz"}),r.jsx("input",{type:"text",value:v.address2,onChange:E=>b(I=>({...I,address2:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Stiege, Tür, Etage (optional)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PLZ *"}),r.jsx("input",{type:"text",value:v.zip,onChange:E=>b(I=>({...I,zip:E.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${_&&!v.zip.trim()?"border-red-500":"border-gray-300"}`,placeholder:"z.B. 1050"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ort *"}),r.jsx("input",{type:"text",value:v.city,onChange:E=>b(I=>({...I,city:E.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${_&&!v.city.trim()?"border-red-500":"border-gray-300"}`,placeholder:"z.B. Wien"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Land *"}),r.jsxs("select",{value:v.country,onChange:E=>b(I=>({...I,country:E.target.value})),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${_&&!v.country.trim()?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"AT",children:"Österreich"}),r.jsx("option",{value:"DE",children:"Deutschland"}),r.jsx("option",{value:"CH",children:"Schweiz"})]})]}),_&&(!v.address1.trim()||!v.city.trim()||!v.zip.trim())&&r.jsx("p",{className:"text-sm text-red-600",children:"Bitte füllen Sie alle Pflichtfelder der Lieferadresse aus."})]}),u.trim()&&r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Zur Kasse"})}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:C,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors w-full lg:w-auto",children:"Jetzt zur Kasse gehen"})})]})]}),a&&r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsxs("span",{className:"text-xs text-center",children:["Voucher",r.jsx("br",{}),"Preview"]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Fotoshooting Gutschein"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[a.name," | ",o?.occasion||c?.name||"Eigenes Foto"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Zwischensumme"}),r.jsxs("p",{className:"font-bold text-lg",children:[(t+a.price).toFixed(2)," €"]})]})]})})]})},gD=({onApplyVoucher:e,onVoucherApplied:t,appliedVoucher:n,onRemoveVoucher:s,subtotal:a=0})=>{const[i,o]=j.useState(""),[l,c]=j.useState(!1),[d,u]=j.useState(""),[h,p]=j.useState("success"),f=async()=>{if(i.trim()){c(!0),u("");try{if(t){const v={WELCOME20:{type:"percentage",value:20},PHOTO50:{type:"fixed",value:50},EARLYBIRD:{type:"percentage",value:15}}[i.trim().toUpperCase()];if(v){const b=v.type==="percentage"?a*v.value/100:v.value;t(i.trim().toUpperCase(),b),o(""),p("success"),u("Gutscheincode erfolgreich angewendet!")}else p("error"),u("Ungültiger Gutscheincode")}else if(e){const g=await e(i.trim().toUpperCase());g.success?(o(""),p("success"),u(g.message)):(p("error"),u(g.message))}}catch{p("error"),u("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{c(!1)}}},x=g=>{g.key==="Enter"&&f()};return n?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-green-700",children:[r.jsx(sa,{size:20,className:"mr-2"}),r.jsxs("span",{className:"font-medium",children:["Gutscheincode angewendet: ",n.code]})]}),r.jsx("button",{onClick:s,className:"text-green-600 hover:text-green-800",children:r.jsx(gn,{size:20})})]}),r.jsx("p",{className:"text-sm text-green-600 mt-1",children:n.type==="percentage"?`${n.discount}% Rabatt`:`€${n.discount} Rabatt`})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(mc,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:g=>o(g.target.value),onKeyPress:x,placeholder:"Gutscheincode eingeben",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:l})]}),r.jsx("button",{onClick:f,disabled:!i.trim()||l,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-300 text-white px-4 py-2 rounded-lg transition-colors",children:l?"Prüfen...":"Anwenden"})]}),d&&r.jsx("p",{className:`text-sm ${h==="success"?"text-green-600":"text-red-600"}`,children:d})]})},KJ=({voucherData:e,baseAmount:t,onCheckout:n,productSlug:s,initialVoucher:a,onBack:i})=>{const[o,l]=j.useState(""),[c,d]=j.useState("card"),[u,h]=j.useState(),[p,f]=j.useState(0),[x,g]=j.useState(!1),v=e?.deliveryOption.price||0,b=t+v,_=b-p,w=!!(e&&(e.deliveryOption.price>0||(e.deliveryOption.id||"").startsWith("post-"))),S=!!(e&&e.shippingAddress&&e.shippingAddress.address1&&e.shippingAddress.city&&e.shippingAddress.zip&&e.shippingAddress.country);j.useEffect(()=>{a&&a.code&&(h(a.code),f(Math.max(0,(a.discountCents||0)/100)),g(!1))},[a]);const A=C=>{if(!C)return;const R=C.toLowerCase();if(R.startsWith("maternity-")){const E=R.split("-")[1]||"";return`Schwangerschafts Fotoshooting - ${E.charAt(0).toUpperCase()+E.slice(1)}`}if(R.startsWith("family-")){const E=R.split("-")[1]||"";return`Family Fotoshooting - ${E.charAt(0).toUpperCase()+E.slice(1)}`}if(R.startsWith("newborn-")){const E=R.split("-")[1]||"";return`Newborn Fotoshooting - ${E.charAt(0).toUpperCase()+E.slice(1)}`}},L=async C=>{try{const R=await fetch("/api/vouchers/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,orderAmount:Math.round(b*100)/100,items:[{productSlug:s,sku:s,name:A(s)||`Fotoshooting Gutschein - ${e?.selectedDesign?.occasion||"Personalisiert"}`,price:t,quantity:1}]})}),E=await R.json();if(R.ok&&E.valid&&E.coupon){const I=Math.round(parseFloat(E.coupon.discountAmount)*100);return h(E.coupon.code),f(I/100),g(!1),{success:!0,discount:I,message:"Gutscheincode erfolgreich angewendet!"}}return{success:!1,message:E.error||"Ungültiger Gutscheincode"}}catch{return{success:!1,message:"Validierung fehlgeschlagen. Bitte erneut versuchen."}}},P=()=>{h(void 0),f(0)},k=async C=>{if(!o.trim()||!e)return;if(w&&!S){alert("Bitte geben Sie die Lieferadresse ein, bevor Sie zur Kasse gehen.");return}const R=C||c;try{const E=await fetch("/api/checkout/create-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{name:A(s)||`Fotoshooting Gutschein - ${e.selectedDesign?.occasion||"Personalisiert"}`,price:Math.round(t*100),quantity:1,sku:s,description:"Gutschein"},...v>0?[{name:`Gutschein Lieferung - ${e.deliveryOption.name}`,price:Math.round(v*100),quantity:1,sku:`delivery-${(e.deliveryOption.name||"standard").toLowerCase()}`,description:"Lieferkosten"}]:[]],customerEmail:o.trim(),voucherData:{...e,customPhoto:e.customPhoto?"uploaded":null},appliedVoucherCode:u,discount:Math.round(p*100),mode:"voucher",paymentMethod:R})});if(!E.ok){const B=await E.json();console.error("Server responded with error:",B);return}const I=await E.json();I.url?window.location.href=I.url:console.log("No URL returned from checkout API")}catch(E){console.error("Checkout error:",E)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"TN"})}),r.jsx("span",{className:"font-semibold",children:"TogNinja"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(pr,{size:20})}),r.jsxs("button",{className:"p-2 hover:bg-gray-100 rounded-full relative",children:[r.jsx(_d,{size:20}),r.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"1"})]})]})]})})}),r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center text-purple-600 hover:text-purple-700 text-sm",children:[r.jsx(Pn,{size:18,className:"mr-1"}),"Zurück zur Personalisierung"]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx("span",{children:"Warenkorb"}),r.jsx(tg,{size:16,className:"rotate-[-90deg]"}),r.jsx("span",{className:"text-gray-900 font-medium",children:"Kasse"})]})]})}),r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"E-Mail Adresse eingeben"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail *"}),r.jsx("input",{type:"email",value:o,onChange:C=>l(C.target.value),placeholder:"ihre-email@beispiel.de",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsx("button",{onClick:C=>{C.preventDefault(),k()},disabled:!o.trim()||!e||w&&!S,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:r.jsx("span",{children:"Weiter"})}),w&&!S&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Für die gewählte Versandart ist eine Lieferadresse erforderlich. Bitte gehen Sie zurück und füllen Sie die Adresse aus."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Zahlungsart"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>o.trim()&&e&&(!w||S)&&k("card"),children:[r.jsx("input",{type:"radio",name:"payment",value:"card",checked:c==="card",onChange:C=>d(C.target.value),className:"text-blue-600"}),r.jsx(nh,{size:20,className:"text-gray-600"}),r.jsx("span",{children:"Kreditkarte / Debitkarte / Klarna"}),c==="card"&&o.trim()&&e&&(!w||S)&&r.jsx("span",{className:"ml-auto text-sm text-green-600",children:"✓ Bereit zum Checkout"})]})}),(!o.trim()||!e)&&r.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Bitte geben Sie Ihre E-Mail-Adresse ein, um eine Zahlungsart zu wählen."}),w&&!S&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Lieferadresse fehlt: Bitte zur Personalisierung zurückkehren und Adresse ergänzen."})]})]}),r.jsxs("div",{className:"space-y-6",children:[e&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden",children:e.customPhoto?r.jsx("img",{src:URL.createObjectURL(e.customPhoto),alt:"Custom voucher",className:"w-full h-full object-cover"}):e.selectedDesign?r.jsx("img",{src:e.selectedDesign.image,alt:e.selectedDesign.name,className:"w-full h-full object-cover",onError:C=>{C.target.style.display="none",C.target.parentElement.innerHTML=`
                            <div class="w-full h-full flex items-center justify-center text-gray-400">
                              <Gift size="24" />
                            </div>
                          `}}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(w0,{size:24})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold",children:"Fotoshooting Gutschein"}),r.jsx("p",{className:"text-sm text-gray-600",children:e.selectedDesign?.occasion||"Eigenes Foto"}),e.personalMessage&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1 italic",children:['"',e.personalMessage.substring(0,50),'..."']})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"font-semibold",children:[t.toFixed(2)," €"]})})]}),r.jsx("div",{className:"mt-4 pt-4 border-t",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"1"}),r.jsx("span",{className:"text-sm",children:e.deliveryOption.name})]}),r.jsx("span",{className:"text-sm font-medium",children:e.deliveryOption.price===0?"Kostenlos":`${e.deliveryOption.price.toFixed(2)} €`})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Bestellübersicht"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Zwischensumme"}),r.jsxs("span",{children:[t.toFixed(2)," €"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Versandkosten"}),r.jsx("span",{children:v===0?"Kostenlos":`${v.toFixed(2)} €`})]}),p>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:["Rabatt (",u,")"]}),r.jsxs("span",{children:["-",p.toFixed(2)," €"]})]}),r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Gesamtpreis"}),r.jsxs("span",{children:[_.toFixed(2)," €"]})]})})]}),r.jsxs("div",{className:"mt-6 pt-4 border-t",children:[u?r.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(w0,{size:16,className:"text-green-600"}),r.jsxs("span",{className:"text-sm text-green-800",children:['Code "',u,'" angewendet']})]}),r.jsx("button",{onClick:P,className:"text-red-600 hover:text-red-700 text-sm",children:"Entfernen"})]})}):r.jsxs("button",{onClick:()=>g(!x),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1",children:[r.jsx(w0,{size:16}),r.jsx("span",{children:"Geschenkkarte oder Rabattcode"}),r.jsx(tg,{size:16,className:x?"rotate-180":""})]}),x&&!u&&r.jsx("div",{className:"mt-3",children:r.jsx(gD,{onApplyVoucher:async C=>L(C),subtotal:b})})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsx("span",{className:"text-sm",children:"SSL Verschlüsselt"})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsx("span",{className:"text-sm",children:"Sicher"})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Ihre Daten werden verschlüsselt übertragen"})]})})]})]})})]})},mS=({voucherType:e,baseAmount:t,onComplete:n,onBack:s,productSlug:a,initialVoucher:i})=>{const o=()=>{try{return sessionStorage.getItem(`voucher_flow_step_${e}`)||"personalization"}catch{return"personalization"}},l=()=>{try{const b=sessionStorage.getItem(`voucher_flow_data_${e}`);return b?JSON.parse(b):null}catch{return null}},[c,d]=j.useState(o),[u,h]=j.useState(l),p=j.useRef(!1);j.useEffect(()=>{try{const _=(new URL(window.location.href).searchParams.get("vf")||"").toLowerCase();let w=null;(_==="personalization"||_==="checkout"||_==="confirmation")&&(w=_),w&&(w==="checkout"&&!l()&&(w="personalization"),d(w)),p.current=!0}catch{}},[]),j.useEffect(()=>{try{sessionStorage.setItem(`voucher_flow_step_${e}`,c)}catch(b){console.warn("Failed to save voucher flow step to sessionStorage:",b)}},[c,e]),j.useEffect(()=>{try{u?sessionStorage.setItem(`voucher_flow_data_${e}`,JSON.stringify(u)):sessionStorage.removeItem(`voucher_flow_data_${e}`)}catch(b){console.warn("Failed to save voucher flow data to sessionStorage:",b)}},[u,e]),j.useEffect(()=>{try{const b=new URL(window.location.href);(b.searchParams.get("vf")||"").toLowerCase()!==c&&(b.searchParams.set("vf",c),p.current?window.history.pushState({vf:c},"",b.toString()):(window.history.replaceState({vf:c},"",b.toString()),p.current=!0))}catch{}},[c]),j.useEffect(()=>{const b=()=>{try{const w=(new URL(window.location.href).searchParams.get("vf")||"").toLowerCase();(w==="personalization"||w==="checkout"||w==="confirmation")&&(w==="checkout"&&!l()?d("personalization"):d(w))}catch{}};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[]),j.useEffect(()=>{const b=_=>{const w=_.state||{};w&&w.voucherFlow===e?d((w.step==="checkout","personalization")):d("personalization")};return window.addEventListener("popstate",b),()=>window.removeEventListener("popstate",b)},[e]);const f=b=>{h(b);try{window.history.pushState({voucherFlow:e,step:"checkout"},"",window.location.href)}catch{}d("checkout")},x=b=>{console.log("Checkout initiated with Stripe:",b);try{sessionStorage.removeItem(`voucher_flow_step_${e}`),sessionStorage.removeItem(`voucher_flow_data_${e}`)}catch(_){console.warn("Failed to clear voucher flow data from sessionStorage:",_)}d("confirmation")},g=()=>{d("personalization")},v=()=>{try{sessionStorage.removeItem(`voucher_flow_step_${e}`),sessionStorage.removeItem(`voucher_flow_data_${e}`)}catch(b){console.warn("Failed to clear voucher flow data from sessionStorage:",b)}try{const b=new URL(window.location.href);b.searchParams.delete("vf"),window.history.pushState({},"",b.toString())}catch{}s&&s()};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c!=="personalization"&&r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:r.jsxs("button",{onClick:c==="checkout"?g:v,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx(Pn,{size:20}),r.jsx("span",{children:c==="checkout"?"Zurück zur Personalisierung":"Zurück zum Warenkorb"})]})})}),c==="personalization"&&r.jsx(GJ,{voucherAmount:t,onComplete:f}),c==="checkout"&&u&&r.jsx(KJ,{voucherData:u,baseAmount:t,productSlug:a,initialVoucher:i,onBack:g,onCheckout:x}),c==="confirmation"&&r.jsx("div",{className:"max-w-2xl mx-auto pt-16 px-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vielen Dank für Ihre Bestellung!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Ihr personalisierter Gutschein wird entsprechend Ihrer gewählten Versandart zugestellt."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Bestelldetails:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:["Gutschein: ",e]}),r.jsxs("p",{children:["Versandart: ",u?.deliveryOption.name]}),r.jsxs("p",{children:["Betrag: ",t.toFixed(2)," €"]})]})]}),r.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Zur Startseite"})]})})]})};async function YJ(e){try{const t=await fetch("undefined/functions/v1/public/voucher/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to process voucher purchase");return await t.json()}catch(t){throw t}}const hN=()=>{const{id:e}=Ri(),t=Vy(),n=un(),{getVoucherById:s,addOrder:a}=zg(),{items:i,total:o,clearCart:l}=Ug(),d=t.state?.quantity||1,u=new URLSearchParams(t.search),h=u.get("personalize")==="true",p=parseInt(u.get("quantity")||"1"),f=h&&t.pathname.includes("/checkout/voucher/"),x=s(e||"");if(f&&x){const $=te=>{console.log("Voucher purchase completed:",te),n("/checkout/success")},W=()=>{n(`/voucher/${x.slug}`)};return r.jsx(mS,{voucherType:x.title,baseAmount:x.discountPrice*p,onComplete:$,onBack:W})}const[g,v]=j.useState(d),[b,_]=j.useState(""),[w,S]=j.useState(""),[A,L]=j.useState(!1),[P,k]=j.useState({}),[C,R]=j.useState(null);j.useEffect(()=>{const $=sessionStorage.getItem("checkoutData");if($)try{const W=JSON.parse($);R(W)}catch(W){console.error("Failed to parse checkout data:",W)}i.length>0&&R({items:i,total:o,appliedVoucher:void 0})},[i,o]);const E=C?.items?.filter($=>$.type==="voucher"||$.name?.toLowerCase().includes("gutschein")||$.title?.toLowerCase().includes("voucher"))||[],I=E.length>0,B=C?.items?.length===E.length;if(I&&B&&E.length===1){const $=E[0],W=J=>{console.log("Voucher purchase completed:",J),l(),sessionStorage.removeItem("checkoutData"),n("/checkout/success")},te=()=>{n("/cart")};return r.jsx(mS,{voucherType:$.title,baseAmount:$.price,onComplete:W,onBack:te})}if(j.useEffect(()=>{e&&!x&&n("/vouchers")},[x,n,e]),e&&!x)return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[r.jsx(Dr,{size:48,className:"text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Gutschein nicht gefunden"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Der gesuchte Gutschein konnte nicht gefunden werden."}),r.jsx("button",{onClick:()=>n("/vouchers"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Gutscheine durchsuchen"})]})});if(!e&&!C)return n("/cart"),null;x&&(x.title,x.discountPrice,x.image,x.validUntil,x.stock);const z=x?x.discountPrice*g:C?.total||0,V=()=>{const $={};return b.trim()||($.name="Name ist erforderlich"),w.trim()?/\S+@\S+\.\S+/.test(w)||($.email="E-Mail ist ungültig"):$.email="E-Mail ist erforderlich",k($),Object.keys($).length===0},U=async $=>{if($.preventDefault(),!!V())try{L(!0);const W=`pi_${Math.random().toString(36).substring(2,15)}`;if(x){await YJ({purchaserName:b,purchaserEmail:w,amount:z,paymentIntentId:W,voucherType:x.category});const te=a({voucher:x,quantity:g,totalPrice:z,purchaserName:b,purchaserEmail:w,status:"paid"});n(`/order-complete/${te.id}`)}else C&&(console.log("Processing cart checkout:",C),l(),sessionStorage.removeItem("checkoutData"),n("/checkout/success"))}catch(W){console.error("Checkout error:",W),k({submit:"Zahlung konnte nicht verarbeitet werden. Bitte versuchen Sie es erneut."}),L(!1)}},K=$=>{const W=parseInt($.target.value);x&&W>=1&&W<=x.stock&&v(W)};return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("button",{onClick:()=>{n(x?`/voucher/${x.slug}`:"/cart")},className:"flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[r.jsx(Pn,{size:16,className:"mr-1"}),x?"Zurück zum Gutschein":"Zurück zum Warenkorb"]}),r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Kasse"}),r.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-8",children:[r.jsx("div",{className:"md:col-span-2 mb-8 md:mb-0",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Ihre Informationen"}),r.jsxs("form",{onSubmit:U,children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[r.jsx(Ho,{size:16,className:"mr-2"})," Vollständiger Name"]}),r.jsx("input",{type:"text",value:b,onChange:$=>_($.target.value),disabled:A,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors ${P.name?"border-red-500 focus:ring-red-600 focus:border-red-600":"border-gray-300"}`}),P.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.name})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[r.jsx(pr,{size:16,className:"mr-2"})," E-Mail-Adresse"]}),r.jsx("input",{type:"email",value:w,onChange:$=>S($.target.value),disabled:A,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors ${P.email?"border-red-500 focus:ring-red-600 focus:border-red-600":"border-gray-300"}`}),P.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:P.email})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold mb-6 text-gray-800 flex items-center",children:[r.jsx(nh,{size:20,className:"mr-2"})," Zahlungsinformationen"]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-blue-700 text-sm",children:[r.jsx("strong",{children:"Hinweis:"})," Dies ist eine Demo-Anwendung. Es wird keine echte Zahlung verarbeitet."]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Karteninformationen"}),r.jsx("input",{type:"text",placeholder:"4242 4242 4242 4242",disabled:A,className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-2 focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"MM / YY",disabled:A,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),r.jsx("input",{type:"text",placeholder:"CVC",disabled:A,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600"})]})]})]}),P.submit&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700 text-sm",children:P.submit})}),r.jsx("button",{type:"submit",disabled:A,className:`w-full py-3 px-6 rounded-lg font-medium text-white transition-colors ${A?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:A?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verarbeitung..."]}):`Zahlen €${z.toFixed(2)}`})]})]})}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-24",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Bestellübersicht"}),x?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex mb-4",children:[r.jsx("img",{src:x.image,alt:x.title,className:"w-16 h-16 object-cover rounded"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:x.title}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Gültig bis ",new Date(x.validUntil).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("label",{className:"text-gray-600",children:"Anzahl:"}),r.jsx("input",{type:"number",min:"1",max:x.stock,value:g,onChange:K,disabled:A,className:"w-16 px-2 py-1 border border-gray-300 rounded text-right focus:ring-2 focus:ring-purple-600 focus:border-purple-600"})]}),r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Preis pro Gutschein:"}),r.jsxs("span",{className:"text-gray-800",children:["€",x.discountPrice.toFixed(2)]})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Gesamt:"}),r.jsxs("span",{className:"text-purple-600",children:["€",z.toFixed(2)]})]})]})]}):C?r.jsxs(r.Fragment,{children:[C.items.map(($,W)=>r.jsxs("div",{className:"flex mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"📸"})}),r.jsxs("div",{className:"ml-4 flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:$.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:$.packageType}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Menge: ",$.quantity]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-gray-800",children:["€",($.price*$.quantity).toFixed(2)]})})]},W)),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Gesamt:"}),r.jsxs("span",{className:"text-purple-600",children:["€",z.toFixed(2)]})]})]}):null,r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(jr,{size:20,className:"text-green-500 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Sicherer Gutscheinkauf"}),r.jsx("p",{className:"text-green-700 text-sm",children:"Dieser Gutschein wird unmittelbar nach dem Kauf an Ihre E-Mail gesendet."})]})]})})]})})]})]})})},rC=()=>{const{id:e}=Ri(),t=un(),{orders:n,isLoggedIn:s}=zg(),a=n.find(o=>o.id===e);j.useEffect(()=>{a||setTimeout(()=>{t("/")},3e3)},[a,t]);const i=()=>{a&&(navigator.clipboard.writeText(a.voucherCode),alert("Voucher code copied to clipboard!"))};return a?r.jsx(Wn,{children:r.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx(jr,{size:64,className:"text-green-500 mx-auto mb-6"}),r.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-800",children:"Thank You for Your Purchase!"}),r.jsxs("p",{className:"text-gray-600 mb-8",children:["Your order has been successfully processed. A confirmation email has been sent to ",a.purchaserEmail,"."]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Order Details"}),r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Order Number:"}),r.jsx("span",{className:"font-medium text-gray-800",children:a.id})]}),r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Date:"}),r.jsx("span",{className:"font-medium text-gray-800",children:new Date(a.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Total:"}),r.jsxs("span",{className:"font-medium text-gray-800",children:["€",a.totalPrice.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx("span",{className:"font-medium text-green-600",children:"Paid"})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Your Voucher"}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("img",{src:a.voucher.image,alt:a.voucher.title,className:"w-16 h-16 object-cover rounded"}),r.jsxs("div",{className:"ml-4 text-left",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:a.voucher.title}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Quantity: ",a.quantity]})]})]}),r.jsxs("div",{className:"border border-blue-200 rounded p-3 bg-white flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-800",children:a.voucherCode}),r.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Copy code",children:r.jsx(rh,{size:18})})]}),r.jsx("p",{className:"text-sm text-gray-600 text-left",children:"This is your voucher code. Please save it as you will need it to redeem your voucher."})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("button",{onClick:()=>t("/"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[r.jsx(QK,{size:18,className:"mr-2"}),"Return to Home"]}),s?r.jsxs("button",{onClick:()=>t("/account"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[r.jsx(User,{size:18,className:"mr-2"}),"View My Account"]}):r.jsxs("button",{onClick:()=>t("/vouchers"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[r.jsx(j0,{size:18,className:"mr-2"}),"Browse More Vouchers"]})]})]})})}):r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[r.jsx(Dr,{size:48,className:"text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Order Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't find the order you're looking for."}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Redirecting to home page..."})]})})},ZJ=({order:e})=>{const t=()=>{switch(e.status){case"paid":return r.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs flex items-center",children:[r.jsx(jr,{size:14,className:"mr-1"})," Paid"]});case"pending":return r.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs flex items-center",children:[r.jsx(bs,{size:14,className:"mr-1"})," Pending"]});case"cancelled":return r.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs flex items-center",children:[r.jsx(Dr,{size:14,className:"mr-1"})," Cancelled"]});default:return null}};return r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:e.voucher.title}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Order #",e.id]})]}),t()]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:e.voucher.image,alt:e.voucher.title,className:"w-20 h-20 object-cover rounded"})}),r.jsx("div",{className:"flex-grow",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-600",children:["Quantity: ",e.quantity]}),r.jsxs("p",{className:"text-gray-600",children:["Total Price: ",r.jsxs("span",{className:"font-semibold",children:["€",(e.totalPrice||0).toFixed(2)]})]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-600",children:["Voucher Code: ",r.jsx("span",{className:"font-semibold",children:e.voucherCode})]}),r.jsxs("p",{className:"text-gray-600 flex items-center",children:[r.jsx(dn,{size:14,className:"mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]})]})})]})]})},XJ=()=>{const{user:e,orders:t,isLoggedIn:n,logout:s}=zg(),a=un();if(j.useEffect(()=>{n||a("/")},[n,a]),!n||!e)return null;const i=t.length,o=t.filter(c=>c.status==="paid").length,l=t.filter(c=>c.status==="pending").length;return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-8 text-gray-800",children:"My Account"}),r.jsxs("div",{className:"md:grid md:grid-cols-4 md:gap-8",children:[r.jsx("div",{className:"md:col-span-1 mb-8 md:mb-0",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ho,{className:"text-blue-600",size:32})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.name}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.email})]}),r.jsx("hr",{className:"my-4 border-gray-200"}),r.jsx("nav",{children:r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsxs(Vt,{to:"/account",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[r.jsx(j0,{size:18,className:"mr-3"}),"My Orders"]})}),r.jsx("li",{children:r.jsxs(Vt,{to:"/account/profile",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[r.jsx(aa,{size:18,className:"mr-3"}),"Account Settings"]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>{s(),a("/")},className:"w-full flex items-center px-4 py-2 text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:[r.jsx(EM,{size:18,className:"mr-3"}),"Logout"]})})]})})]})}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:r.jsx(j0,{className:"text-blue-600",size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:r.jsx(jr,{className:"text-green-600",size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Paid Orders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mr-4",children:r.jsx(bs,{className:"text-yellow-600",size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Pending Orders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"My Orders"}),t.length>0?r.jsx("div",{className:"space-y-4",children:t.map(c=>r.jsx(ZJ,{order:c},c.id))}):r.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[r.jsx(j0,{size:48,className:"text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No Orders Yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't placed any orders yet."}),r.jsx(Vt,{to:"/vouchers",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Browse Vouchers"})]})]})]})]})]})})},JJ=()=>{const{user:e,isLoggedIn:t}=zg(),n=un(),[s,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState(""),[h,p]=j.useState(""),[f,x]=j.useState({type:"",text:""});if(j.useEffect(()=>{t?e&&(a(e.name),o(e.email)):n("/")},[t,n,e]),!t||!e)return null;const g=b=>{b.preventDefault(),x({type:"success",text:"Profile updated successfully!"}),setTimeout(()=>{x({type:"",text:""})},3e3)},v=b=>{if(b.preventDefault(),d!==h){x({type:"error",text:"New passwords do not match!"});return}if(d.length<8){x({type:"error",text:"Password must be at least 8 characters long"});return}x({type:"success",text:"Password updated successfully!"}),c(""),u(""),p(""),setTimeout(()=>{x({type:"",text:""})},3e3)};return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-8 text-gray-800",children:"Account Settings"}),f.text&&r.jsx("div",{className:`p-4 mb-6 rounded-lg ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.jsxs("div",{className:"flex items-center",children:[f.type==="success"?r.jsx(CheckCircle,{size:20,className:"mr-2"}):r.jsx(Dr,{size:20,className:"mr-2"}),r.jsx("p",{children:f.text})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Profile Information"}),r.jsxs("form",{onSubmit:g,children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[r.jsx(Ho,{size:16,className:"mr-2"})," Name"]}),r.jsx("input",{type:"text",value:s,onChange:b=>a(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[r.jsx(pr,{size:16,className:"mr-2"})," Email Address"]}),r.jsx("input",{type:"email",value:i,onChange:b=>o(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),r.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center",children:[r.jsx(Go,{size:18,className:"mr-2"}),"Update Profile"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Change Password"}),r.jsxs("form",{onSubmit:v,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Current Password"}),r.jsx("input",{type:"password",value:l,onChange:b=>c(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"New Password"}),r.jsx("input",{type:"password",value:d,onChange:b=>u(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:h,onChange:b=>p(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),r.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center",children:[r.jsx(Go,{size:18,className:"mr-2"}),"Update Password"]})]})]})]})]})})},QJ=()=>{const e=un(),[t,n]=j.useState([]),[s,a]=j.useState(!1),[i,o]=j.useState(0);j.useEffect(()=>{const f=setInterval(l,3e4);return l(),()=>clearInterval(f)},[]),j.useEffect(()=>{const f=t.filter(x=>!x.read).length;o(f)},[t]);const l=async()=>{try{const f=await fetch("/api/admin/notifications");if(f.ok){const x=await f.json();n(x)}}catch(f){console.error("Error fetching notifications:",f)}},c=async f=>{try{await fetch(`/api/admin/notifications/${f}/read`,{method:"POST"}),n(x=>x.map(g=>g.id===f?{...g,read:!0}:g))}catch(x){console.error("Error marking notification as read:",x)}},d=async f=>{try{await fetch(`/api/admin/notifications/${encodeURIComponent(f)}/dismiss`,{method:"POST"})}catch{}n(x=>x.filter(g=>g.id!==f))},u=f=>{c(f.id),f.type==="questionnaire"&&(e("/admin/questionnaires"),a(!1))},h=f=>{switch(f){case"questionnaire":return r.jsx(pr,{size:16,className:"text-blue-500"});case"email":return r.jsx(pr,{size:16,className:"text-green-500"});default:return r.jsx(eh,{size:16,className:"text-gray-500"})}},p=f=>{const x=new Date(f),v=new Date().getTime()-x.getTime(),b=Math.floor(v/(1e3*60));return b<1?"Just now":b<60?`${b}m ago`:b<1440?`${Math.floor(b/60)}h ago`:x.toLocaleDateString()};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>a(!s),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",children:[r.jsx(eh,{size:20}),i>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:i>99?"99+":i})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx(eh,{size:32,className:"mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No new notifications"})]}):t.map(f=>r.jsxs("div",{onClick:()=>u(f),className:`p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer ${f.read?"":"bg-blue-50"}`,children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[h(f.type),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:`text-sm font-medium ${f.read?"text-gray-700":"text-gray-900"}`,children:f.title}),r.jsx("button",{onClick:x=>{x.stopPropagation(),d(f.id)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(gn,{size:14})})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:p(f.timestamp)})]})]})}),!f.read&&r.jsx("button",{onClick:x=>{x.stopPropagation(),c(f.id)},className:"text-xs text-blue-600 hover:text-blue-800 mt-2",children:"Mark as read"})]},f.id))}),t.length>0&&r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsx("button",{onClick:async()=>{try{await fetch("/api/admin/notifications/clear",{method:"POST"})}catch{}n([])},className:"w-full text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Clear all notifications"})})]}),s&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},Nr=({children:e})=>{const[t,n]=j.useState(!1),[s,a]=j.useState(new Set),{language:i,setLanguage:o,t:l}=ia(),[c,d]=j.useState(0),[u,h]=j.useState(0),[p,f]=j.useState(null),x=Vy(),g=un(),{user:v,signOut:b}=Yw();j.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[x.pathname]),j.useEffect(()=>{const L=async()=>{try{const k=await fetch("/api/leads/list?status=new&limit=1");if(k.ok){const E=await k.json();d(E.count||(E.rows?.length??0))}const C=await fetch("/api/inbox/emails?unread=true");if(C.ok){const E=await C.json();h(E.length)}const R=await fetch("/api/admin/email-settings");if(R.ok){const E=await R.json();E&&E.notificationEmail&&f(E.notificationEmail)}}catch{}};L();const P=setInterval(L,3e4);return()=>clearInterval(P)},[]);const _=[{icon:aY,label:l("nav.dashboard"),path:"/admin/dashboard"},{icon:Bb,label:l("nav.newLeads"),path:"/admin/leads",badge:c},{icon:_d,label:l("nav.onlineVoucherSales"),path:"/admin/voucher-sales"},{icon:ln,label:l("nav.clients"),path:"/admin/clients"},{icon:i1,label:l("nav.topClients"),path:"/admin/high-value-clients"},{icon:ka,label:l("nav.galleriesAdmin"),path:"/admin/galleries"},{icon:Hn,label:l("nav.invoices"),path:"/admin/invoices"},{icon:dn,label:l("nav.calendar"),path:"/admin/calendar"},{icon:XK,label:l("nav.digitalFiles"),path:"/admin/digital-files"},{icon:xY,label:l("nav.blogAdmin"),path:"/admin/blog"},{icon:pr,label:l("nav.emailCampaigns"),path:"/admin/campaigns"},{icon:Xw,label:l("nav.communications"),path:"/admin/communications"},{icon:CM,label:l("nav.inbox"),path:"/admin/inbox",badge:u},{icon:b0,label:l("nav.questionnaires"),path:"/admin/questionnaires"},{icon:Va,label:l("nav.reports"),path:"/admin/reports"},{icon:th,label:l("nav.crmAssistant"),path:"/admin/crm-assistant"},{icon:Oi,label:l("nav.customization"),path:"/admin/customization",subItems:[{icon:Oi,label:l("nav.studioTemplates"),path:"/admin/studio-templates"},{icon:Ap,label:l("nav.websiteWizard"),path:"/admin/website-wizard"},{icon:Li,label:l("nav.websiteAnalyzer"),path:"/admin/website-analyzer"}]},{icon:aa,label:l("nav.settings"),path:"/admin/settings",subItems:[{icon:G4,label:l("nav.knowledgeBase"),path:"/admin/knowledge-base"}]}],w=async()=>{await b(),g("/admin/login")},S=()=>{o(i==="en"?"de":"en")},A=L=>{const P=new Set(s);P.has(L)?P.delete(L):P.add(L),a(P)};return j.useEffect(()=>{_.forEach(L=>{L.subItems&&L.subItems.some(k=>x.pathname===k.path||k.path==="/admin/blog"&&x.pathname.startsWith("/admin/blog/"))&&a(k=>{const C=new Set(k);return C.add(L.path),C})})},[x.pathname]),j.useEffect(()=>{v&&v.role==="admin"?localStorage.setItem("admin_user",JSON.stringify(v)):localStorage.removeItem("admin_user")},[x.pathname,v]),r.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[r.jsxs("div",{className:`bg-gray-900 text-white transition-all duration-300 ${t?"w-16":"w-64"} flex flex-col max-h-screen`,children:["        ",r.jsx("div",{className:"p-4 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center",children:[t?r.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-16 w-auto mx-auto"}):r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-16 w-auto mr-2"})}),r.jsx("button",{onClick:()=>n(!t),className:"ml-auto p-1 rounded hover:bg-gray-700",children:r.jsx(TM,{size:20})})]})}),c>0&&r.jsx("div",{className:"mx-4 mb-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(eh,{size:16,className:"text-blue-600 mr-2 flex-shrink-0"}),!t&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-blue-900 font-medium",children:[c," unread leads waiting for your attention"]}),r.jsxs("p",{className:"text-blue-700 text-xs mt-1",children:["📧 Email notifications sent to: ",r.jsx("span",{className:"font-medium",children:p||"Not configured"}),!p&&r.jsxs(r.Fragment,{children:[" ",r.jsx("button",{onClick:()=>g("/admin/settings/email"),className:"text-blue-600 underline hover:text-blue-800 ml-1",children:"configure now"})]})]}),r.jsx("button",{onClick:()=>g("/admin/leads"),className:"text-blue-600 hover:text-blue-800 text-xs underline mt-1",children:"View all leads →"})]})]})}),u>0&&r.jsx("div",{className:"mx-4 mb-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx(pr,{size:16,className:"text-green-600 mr-2 flex-shrink-0"}),!t&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-green-900 font-medium",children:[u," new emails received"]}),r.jsx("button",{onClick:()=>g("/admin/inbox"),className:"text-green-600 hover:text-green-800 text-xs underline mt-1",children:"View inbox →"})]})]})}),r.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto max-h-full sidebar-scrollbar",children:[r.jsx("div",{className:"space-y-1 pb-4",children:_.map(L=>{const P=L.icon,k=x.pathname===L.path||L.path==="/admin/blog"&&x.pathname.startsWith("/admin/blog/"),C=s.has(L.path),R=L.subItems?.some(E=>x.pathname===E.path||E.path==="/admin/blog"&&x.pathname.startsWith("/admin/blog/"));return r.jsxs("div",{children:[L.subItems?r.jsxs("button",{onClick:()=>A(L.path),className:`flex items-center w-full px-4 py-3 text-sm transition-colors relative ${k||R?"bg-purple-600 text-white border-r-2 border-purple-400":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[r.jsx(P,{size:20,className:"flex-shrink-0"}),!t&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"ml-3 flex-1 text-left",children:L.label}),C?r.jsx(tg,{size:16,className:"flex-shrink-0"}):r.jsx(vc,{size:16,className:"flex-shrink-0"})]}),(L.badge??0)>0&&r.jsxs("div",{className:`absolute ${t?"top-2 right-2":"top-3 right-4"} flex items-center justify-center`,children:[!t&&r.jsx(eh,{size:14,className:"mr-1 text-red-400"}),r.jsx("span",{className:`bg-red-500 text-white text-xs font-bold rounded-full ${t?"h-4 w-4 text-xs":"h-5 w-5 text-xs"} flex items-center justify-center`,children:L.badge>99?"99+":L.badge})]})]}):r.jsxs(Vt,{to:L.path,className:`flex items-center px-4 py-3 text-sm transition-colors relative ${k?"bg-purple-600 text-white border-r-2 border-purple-400":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[r.jsx(P,{size:20,className:"flex-shrink-0"}),!t&&r.jsx("span",{className:"ml-3",children:L.label}),(L.badge??0)>0&&r.jsxs("div",{className:`absolute ${t?"top-2 right-2":"top-3 right-4"} flex items-center justify-center`,children:[!t&&r.jsx(eh,{size:14,className:"mr-1 text-red-400"}),r.jsx("span",{className:`bg-red-500 text-white text-xs font-bold rounded-full ${t?"h-4 w-4 text-xs":"h-5 w-5 text-xs"} flex items-center justify-center`,children:L.badge>99?"99+":L.badge})]})]}),L.subItems&&C&&!t&&r.jsx("div",{className:"bg-gray-800",children:L.subItems.map(E=>{const I=E.icon,B=x.pathname===E.path||E.path==="/admin/blog"&&x.pathname.startsWith("/admin/blog/");return r.jsxs(Vt,{to:E.path,className:`flex items-center px-8 py-2 text-sm transition-colors ${B?"bg-purple-700 text-white border-r-2 border-purple-400":"text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[r.jsx(I,{size:16,className:"flex-shrink-0"}),r.jsx("span",{className:"ml-3",children:E.label})]},E.path)})})]},L.path)})}),r.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[r.jsx(Yf,{size:20,className:"flex-shrink-0"}),!t&&r.jsx("span",{className:"ml-3",children:l("nav.viewWebsite")})]})]}),r.jsx("div",{className:"border-t border-gray-700 p-4",children:r.jsxs("button",{onClick:w,className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors",children:[r.jsx(EM,{size:20,className:"flex-shrink-0"}),!t&&r.jsx("span",{className:"ml-3",children:l("nav.signOut")})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:(()=>{const L=_.find(P=>P.path===x.pathname||P.path==="/admin/blog"&&x.pathname.startsWith("/admin/blog/"));if(L)return L.label;for(const P of _)if(P.subItems){const k=P.subItems.find(C=>C.path===x.pathname||C.path==="/admin/blog"&&x.pathname.startsWith("/admin/blog/"));if(k)return k.label}return"Admin"})()}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(QJ,{}),r.jsxs("button",{onClick:S,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[r.jsx(Mi,{size:16,className:"mr-1"}),r.jsx("span",{className:"uppercase",children:i})]}),r.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[r.jsx(Yf,{size:16,className:"mr-1"}),r.jsx("span",{children:l("nav.viewWebsite")})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:r.jsx(Ho,{size:16,className:"text-white"})}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:v?.email})]})]})]})}),r.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})},u1=({assistantId:e="asst_CH4vIbZPs7gUD36Lxf7vlfIV",onCRMAction:t,height:n="600px",title:s="CRM Operations Assistant",className:a=""})=>{const[i,o]=j.useState(!1),[l,c]=j.useState([{id:"1",role:"assistant",content:`Hello! I'm your ${s}. I can help you:

📧 Send booking confirmations & replies
📅 Manage appointments & schedules  
👥 Create & update client records
💰 Generate & send invoices
📊 Run reports & analyze data
⚡ Automate routine tasks

What would you like me to help you with today?`,timestamp:new Date}]),[d,u]=j.useState(""),[h,p]=j.useState(!1),[f,x]=j.useState(null),[g,v]=j.useState(null),b=j.useRef(null),_=j.useRef(null),w=()=>{b.current?.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{w()},[l]),j.useEffect(()=>{!i&&_.current&&_.current.focus()},[i]);const S=async()=>"agent-session-"+Date.now(),A=async(C,R)=>{try{const E=await fetch("/api/crm/agent/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:C,threadId:R})});if(!E.ok){const B=await E.json();throw new Error(B.error||"Failed to send message")}return await E.json()}catch(E){throw console.error("Failed to send message:",E),E}},L=async()=>{if(!d.trim()||h)return;const C={id:Date.now().toString(),role:"user",content:d.trim(),timestamp:new Date},R={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date,loading:!0};c(E=>[...E,C,R]),u(""),p(!0),x(null);try{let E=g;E||(E=await S(),v(E));const I=await A(d.trim(),E);c(B=>{const z=B.filter(U=>!U.loading),V={id:(Date.now()+2).toString(),role:"assistant",content:I.response,timestamp:new Date,actionPerformed:I.actionPerformed||!1};return[...z,V]}),I.crmAction&&t&&t(I.crmAction)}catch{x("Sorry, I encountered an error. Please try again."),c(I=>[...I.filter(z=>!z.loading),{id:(Date.now()+2).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again later.",timestamp:new Date}])}finally{p(!1)}},P=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),L())},k=C=>C.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden ${a}`,style:{height:i?"64px":n},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(th,{className:"h-5 w-5 text-white"})}),r.jsx(Tl,{className:"h-3 w-3 absolute -top-1 -right-1 text-yellow-500"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 pt-2",children:s}),r.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered business automation"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:()=>o(!i),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:i?"Maximize":"Minimize",children:i?r.jsx(cY,{className:"h-5 w-5 text-gray-600"}):r.jsx(dY,{className:"h-5 w-5 text-gray-600"})})})]}),!i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{height:`calc(${n} - 140px)`},children:[l.map(C=>r.jsx("div",{className:`flex ${C.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`flex items-start space-x-3 max-w-[85%] ${C.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${C.role==="user"?"bg-blue-600 text-white":"bg-gradient-to-br from-blue-100 to-purple-100 text-blue-600"}`,children:C.role==="user"?r.jsx(Ho,{className:"h-5 w-5"}):r.jsx(th,{className:"h-5 w-5"})}),r.jsx("div",{className:`rounded-xl p-4 ${C.role==="user"?"bg-blue-600 text-white":C.actionPerformed?"bg-green-50 text-gray-900 border border-green-200":"bg-gray-100 text-gray-900"}`,children:C.loading?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mr,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{className:"text-sm",children:"Processing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:C.content}),C.actionPerformed&&r.jsxs("div",{className:"flex items-center mt-2 text-xs text-green-600",children:[r.jsx(Tl,{className:"h-3 w-3 mr-1"}),"Action performed"]}),r.jsx("p",{className:`text-xs mt-2 ${C.role==="user"?"text-blue-200":"text-gray-500"}`,children:k(C.timestamp)})]})})]})},C.id)),r.jsx("div",{ref:b})]}),f&&r.jsxs("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center text-red-700 text-sm",children:[r.jsx(Dr,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f]}),r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("input",{ref:_,type:"text",value:d,onChange:C=>u(C.target.value),onKeyPress:P,placeholder:"Ask me to manage your CRM tasks...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h}),r.jsx("button",{onClick:L,disabled:!d.trim()||h,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-lg px-4 py-3 transition-colors flex items-center justify-center",title:"Send message",children:h?r.jsx(Mr,{className:"h-4 w-4 animate-spin"}):r.jsx(Ii,{className:"h-4 w-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.jsx("strong",{children:"Try:"}),` "Reply to John's email" • "Book appointment for tomorrow" • "Generate this week's invoices"`]})]})]})]})};var eQ=Array.isArray,Fi=eQ,tQ=typeof Uo=="object"&&Uo&&Uo.Object===Object&&Uo,xD=tQ,rQ=xD,nQ=typeof self=="object"&&self&&self.Object===Object&&self,sQ=rQ||nQ||Function("return this")(),Tc=sQ,aQ=Tc,iQ=aQ.Symbol,Ky=iQ,nC=Ky,yD=Object.prototype,oQ=yD.hasOwnProperty,lQ=yD.toString,Hx=nC?nC.toStringTag:void 0;function cQ(e){var t=oQ.call(e,Hx),n=e[Hx];try{e[Hx]=void 0;var s=!0}catch{}var a=lQ.call(e);return s&&(t?e[Hx]=n:delete e[Hx]),a}var dQ=cQ,uQ=Object.prototype,hQ=uQ.toString;function fQ(e){return hQ.call(e)}var mQ=fQ,sC=Ky,pQ=dQ,gQ=mQ,xQ="[object Null]",yQ="[object Undefined]",aC=sC?sC.toStringTag:void 0;function vQ(e){return e==null?e===void 0?yQ:xQ:aC&&aC in Object(e)?pQ(e):gQ(e)}var Ld=vQ;function bQ(e){return e!=null&&typeof e=="object"}var Id=bQ,wQ=Ld,jQ=Id,NQ="[object Symbol]";function SQ(e){return typeof e=="symbol"||jQ(e)&&wQ(e)==NQ}var Vg=SQ,_Q=Fi,kQ=Vg,AQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,CQ=/^\w*$/;function PQ(e,t){if(_Q(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||kQ(e)?!0:CQ.test(e)||!AQ.test(e)||t!=null&&e in Object(t)}var n6=PQ;function EQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bh=EQ;const Hg=en(bh);var TQ=Ld,OQ=bh,LQ="[object AsyncFunction]",IQ="[object Function]",MQ="[object GeneratorFunction]",DQ="[object Proxy]";function RQ(e){if(!OQ(e))return!1;var t=TQ(e);return t==IQ||t==MQ||t==LQ||t==DQ}var s6=RQ;const Yt=en(s6);var FQ=Tc,$Q=FQ["__core-js_shared__"],BQ=$Q,fN=BQ,iC=function(){var e=/[^.]+$/.exec(fN&&fN.keys&&fN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zQ(e){return!!iC&&iC in e}var UQ=zQ,qQ=Function.prototype,WQ=qQ.toString;function VQ(e){if(e!=null){try{return WQ.call(e)}catch{}try{return e+""}catch{}}return""}var vD=VQ,HQ=s6,GQ=UQ,KQ=bh,YQ=vD,ZQ=/[\\^$.*+?()[\]{}|]/g,XQ=/^\[object .+?Constructor\]$/,JQ=Function.prototype,QQ=Object.prototype,eee=JQ.toString,tee=QQ.hasOwnProperty,ree=RegExp("^"+eee.call(tee).replace(ZQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nee(e){if(!KQ(e)||GQ(e))return!1;var t=HQ(e)?ree:XQ;return t.test(YQ(e))}var see=nee;function aee(e,t){return e?.[t]}var iee=aee,oee=see,lee=iee;function cee(e,t){var n=lee(e,t);return oee(n)?n:void 0}var gm=cee,dee=gm,uee=dee(Object,"create"),e2=uee,oC=e2;function hee(){this.__data__=oC?oC(null):{},this.size=0}var fee=hee;function mee(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pee=mee,gee=e2,xee="__lodash_hash_undefined__",yee=Object.prototype,vee=yee.hasOwnProperty;function bee(e){var t=this.__data__;if(gee){var n=t[e];return n===xee?void 0:n}return vee.call(t,e)?t[e]:void 0}var wee=bee,jee=e2,Nee=Object.prototype,See=Nee.hasOwnProperty;function _ee(e){var t=this.__data__;return jee?t[e]!==void 0:See.call(t,e)}var kee=_ee,Aee=e2,Cee="__lodash_hash_undefined__";function Pee(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Aee&&t===void 0?Cee:t,this}var Eee=Pee,Tee=fee,Oee=pee,Lee=wee,Iee=kee,Mee=Eee;function Gg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Gg.prototype.clear=Tee;Gg.prototype.delete=Oee;Gg.prototype.get=Lee;Gg.prototype.has=Iee;Gg.prototype.set=Mee;var Dee=Gg;function Ree(){this.__data__=[],this.size=0}var Fee=Ree;function $ee(e,t){return e===t||e!==e&&t!==t}var a6=$ee,Bee=a6;function zee(e,t){for(var n=e.length;n--;)if(Bee(e[n][0],t))return n;return-1}var t2=zee,Uee=t2,qee=Array.prototype,Wee=qee.splice;function Vee(e){var t=this.__data__,n=Uee(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Wee.call(t,n,1),--this.size,!0}var Hee=Vee,Gee=t2;function Kee(e){var t=this.__data__,n=Gee(t,e);return n<0?void 0:t[n][1]}var Yee=Kee,Zee=t2;function Xee(e){return Zee(this.__data__,e)>-1}var Jee=Xee,Qee=t2;function ete(e,t){var n=this.__data__,s=Qee(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var tte=ete,rte=Fee,nte=Hee,ste=Yee,ate=Jee,ite=tte;function Kg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Kg.prototype.clear=rte;Kg.prototype.delete=nte;Kg.prototype.get=ste;Kg.prototype.has=ate;Kg.prototype.set=ite;var r2=Kg,ote=gm,lte=Tc,cte=ote(lte,"Map"),i6=cte,lC=Dee,dte=r2,ute=i6;function hte(){this.size=0,this.__data__={hash:new lC,map:new(ute||dte),string:new lC}}var fte=hte;function mte(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pte=mte,gte=pte;function xte(e,t){var n=e.__data__;return gte(t)?n[typeof t=="string"?"string":"hash"]:n.map}var n2=xte,yte=n2;function vte(e){var t=yte(this,e).delete(e);return this.size-=t?1:0,t}var bte=vte,wte=n2;function jte(e){return wte(this,e).get(e)}var Nte=jte,Ste=n2;function _te(e){return Ste(this,e).has(e)}var kte=_te,Ate=n2;function Cte(e,t){var n=Ate(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var Pte=Cte,Ete=fte,Tte=bte,Ote=Nte,Lte=kte,Ite=Pte;function Yg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Yg.prototype.clear=Ete;Yg.prototype.delete=Tte;Yg.prototype.get=Ote;Yg.prototype.has=Lte;Yg.prototype.set=Ite;var o6=Yg,bD=o6,Mte="Expected a function";function l6(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Mte);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return n.cache=i.set(a,o)||i,o};return n.cache=new(l6.Cache||bD),n}l6.Cache=bD;var wD=l6;const Dte=en(wD);var Rte=wD,Fte=500;function $te(e){var t=Rte(e,function(s){return n.size===Fte&&n.clear(),s}),n=t.cache;return t}var Bte=$te,zte=Bte,Ute=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qte=/\\(\\)?/g,Wte=zte(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ute,function(n,s,a,i){t.push(a?i.replace(qte,"$1"):s||n)}),t}),Vte=Wte;function Hte(e,t){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=t(e[n],n,e);return a}var c6=Hte,cC=Ky,Gte=c6,Kte=Fi,Yte=Vg,Zte=1/0,dC=cC?cC.prototype:void 0,uC=dC?dC.toString:void 0;function jD(e){if(typeof e=="string")return e;if(Kte(e))return Gte(e,jD)+"";if(Yte(e))return uC?uC.call(e):"";var t=e+"";return t=="0"&&1/e==-Zte?"-0":t}var Xte=jD,Jte=Xte;function Qte(e){return e==null?"":Jte(e)}var ND=Qte,ere=Fi,tre=n6,rre=Vte,nre=ND;function sre(e,t){return ere(e)?e:tre(e,t)?[e]:rre(nre(e))}var SD=sre,are=Vg,ire=1/0;function ore(e){if(typeof e=="string"||are(e))return e;var t=e+"";return t=="0"&&1/e==-ire?"-0":t}var s2=ore,lre=SD,cre=s2;function dre(e,t){t=lre(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[cre(t[n++])];return n&&n==s?e:void 0}var d6=dre,ure=d6;function hre(e,t,n){var s=e==null?void 0:ure(e,t);return s===void 0?n:s}var _D=hre;const xo=en(_D);function fre(e){return e==null}var mre=fre;const ar=en(mre);var pre=Ld,gre=Fi,xre=Id,yre="[object String]";function vre(e){return typeof e=="string"||!gre(e)&&xre(e)&&pre(e)==yre}var bre=vre;const Jf=en(bre);var kD={exports:{}},xn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=Symbol.for("react.element"),h6=Symbol.for("react.portal"),a2=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),l2=Symbol.for("react.provider"),c2=Symbol.for("react.context"),wre=Symbol.for("react.server_context"),d2=Symbol.for("react.forward_ref"),u2=Symbol.for("react.suspense"),h2=Symbol.for("react.suspense_list"),f2=Symbol.for("react.memo"),m2=Symbol.for("react.lazy"),jre=Symbol.for("react.offscreen"),AD;AD=Symbol.for("react.module.reference");function Xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case u6:switch(e=e.type,e){case a2:case o2:case i2:case u2:case h2:return e;default:switch(e=e&&e.$$typeof,e){case wre:case c2:case d2:case m2:case f2:case l2:return e;default:return t}}case h6:return t}}}xn.ContextConsumer=c2;xn.ContextProvider=l2;xn.Element=u6;xn.ForwardRef=d2;xn.Fragment=a2;xn.Lazy=m2;xn.Memo=f2;xn.Portal=h6;xn.Profiler=o2;xn.StrictMode=i2;xn.Suspense=u2;xn.SuspenseList=h2;xn.isAsyncMode=function(){return!1};xn.isConcurrentMode=function(){return!1};xn.isContextConsumer=function(e){return Xo(e)===c2};xn.isContextProvider=function(e){return Xo(e)===l2};xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===u6};xn.isForwardRef=function(e){return Xo(e)===d2};xn.isFragment=function(e){return Xo(e)===a2};xn.isLazy=function(e){return Xo(e)===m2};xn.isMemo=function(e){return Xo(e)===f2};xn.isPortal=function(e){return Xo(e)===h6};xn.isProfiler=function(e){return Xo(e)===o2};xn.isStrictMode=function(e){return Xo(e)===i2};xn.isSuspense=function(e){return Xo(e)===u2};xn.isSuspenseList=function(e){return Xo(e)===h2};xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===a2||e===o2||e===i2||e===u2||e===h2||e===jre||typeof e=="object"&&e!==null&&(e.$$typeof===m2||e.$$typeof===f2||e.$$typeof===l2||e.$$typeof===c2||e.$$typeof===d2||e.$$typeof===AD||e.getModuleId!==void 0)};xn.typeOf=Xo;kD.exports=xn;var Nre=kD.exports,Sre=Ld,_re=Id,kre="[object Number]";function Are(e){return typeof e=="number"||_re(e)&&Sre(e)==kre}var CD=Are;const Cre=en(CD);var Pre=CD;function Ere(e){return Pre(e)&&e!=+e}var Tre=Ere;const Zg=en(Tre);var mi=function(t){return t===0?0:t>0?1:-1},bf=function(t){return Jf(t)&&t.indexOf("%")===t.length-1},dt=function(t){return Cre(t)&&!Zg(t)},Ore=function(t){return ar(t)},na=function(t){return dt(t)||Jf(t)},Lre=0,xm=function(t){var n=++Lre;return"".concat(t||"").concat(n)},pi=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&!Jf(t))return s;var i;if(bf(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Zg(i)&&(i=s),a&&i>n&&(i=n),i},Du=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Ire=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},a=0;a<n;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},ea=function(t,n){return dt(t)&&dt(n)?function(s){return t+s*(n-t)}:function(){return n}};function h1(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):xo(s,t))===n})}var Mre=function(t,n){return dt(t)&&dt(n)?t-n:Jf(t)&&Jf(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Ep(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function pS(e){"@babel/helpers - typeof";return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pS(e)}var Dre=["viewBox","children"],Rre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hC=["points","pathLength"],mN={svg:Dre,polygon:hC,polyline:hC},f6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],f1=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(j.isValidElement(t)&&(s=t.props),!Hg(s))return null;var a={};return Object.keys(s).forEach(function(i){f6.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},Fre=function(t,n,s){return function(a){return t(n,s,a),null}},Qf=function(t,n,s){if(!Hg(t)||pS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];f6.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Fre(o,n,s))}),a},$re=["children"],Bre=["children"];function fC(e,t){if(e==null)return{};var n=zre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zre(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function gS(e){"@babel/helpers - typeof";return gS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gS(e)}var mC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},pC=null,pN=null,m6=function e(t){if(t===pC&&Array.isArray(pN))return pN;var n=[];return j.Children.forEach(t,function(s){ar(s)||(Nre.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),pN=n,pC=t,n};function yo(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(a){return vd(a)}):s=[vd(t)],m6(e).forEach(function(a){var i=xo(a,"type.displayName")||xo(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function lo(e,t){var n=yo(e,t);return n&&n[0]}var gC=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,a=n.height;return!(!dt(s)||s<=0||!dt(a)||a<=0)},Ure=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qre=function(t){return t&&t.type&&Jf(t.type)&&Ure.indexOf(t.type)>=0},PD=function(t){return t&&gS(t)==="object"&&"clipDot"in t},Wre=function(t,n,s,a){var i,o=(i=mN?.[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Yt(t)&&(a&&o.includes(n)||Rre.includes(n))||s&&f6.includes(n)},Ot=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!Hg(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Wre((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},xS=function e(t,n){if(t===n)return!0;var s=j.Children.count(t);if(s!==j.Children.count(n))return!1;if(s===0)return!0;if(s===1)return xC(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!xC(i,o))return!1}return!0},xC=function(t,n){if(ar(t)&&ar(n))return!0;if(!ar(t)&&!ar(n)){var s=t.props||{},a=s.children,i=fC(s,$re),o=n.props||{},l=o.children,c=fC(o,Bre);return a&&l?Ep(i,c)&&xS(a,l):!a&&!l?Ep(i,c):!1}return!1},yC=function(t,n){var s=[],a={};return m6(t).forEach(function(i,o){if(qre(i))s.push(i);else if(i){var l=vd(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},Vre=function(t){var n=t&&t.type;return n&&mC[n]?mC[n]:null},Hre=function(t,n){return m6(n).indexOf(t)},Gre=["children","width","height","viewBox","className","style","title","desc"];function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yS.apply(this,arguments)}function Kre(e,t){if(e==null)return{};var n=Yre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Yre(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function vS(e){var t=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=Kre(e,Gre),u=a||{width:n,height:s,x:0,y:0},h=or("recharts-surface",i);return xe.createElement("svg",yS({},Ot(d,!0,"svg"),{className:h,width:n,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),xe.createElement("title",null,l),xe.createElement("desc",null,c),t)}var Zre=["children","className"];function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bS.apply(this,arguments)}function Xre(e,t){if(e==null)return{};var n=Jre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jre(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Lr=xe.forwardRef(function(e,t){var n=e.children,s=e.className,a=Xre(e,Zre),i=or("recharts-layer",s);return xe.createElement("g",bS({className:i},Ot(a,!0),{ref:t}),n)}),Ol=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function Qre(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var ene=Qre,tne=ene;function rne(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:tne(e,t,n)}var nne=rne,sne="\\ud800-\\udfff",ane="\\u0300-\\u036f",ine="\\ufe20-\\ufe2f",one="\\u20d0-\\u20ff",lne=ane+ine+one,cne="\\ufe0e\\ufe0f",dne="\\u200d",une=RegExp("["+dne+sne+lne+cne+"]");function hne(e){return une.test(e)}var ED=hne;function fne(e){return e.split("")}var mne=fne,TD="\\ud800-\\udfff",pne="\\u0300-\\u036f",gne="\\ufe20-\\ufe2f",xne="\\u20d0-\\u20ff",yne=pne+gne+xne,vne="\\ufe0e\\ufe0f",bne="["+TD+"]",wS="["+yne+"]",jS="\\ud83c[\\udffb-\\udfff]",wne="(?:"+wS+"|"+jS+")",OD="[^"+TD+"]",LD="(?:\\ud83c[\\udde6-\\uddff]){2}",ID="[\\ud800-\\udbff][\\udc00-\\udfff]",jne="\\u200d",MD=wne+"?",DD="["+vne+"]?",Nne="(?:"+jne+"(?:"+[OD,LD,ID].join("|")+")"+DD+MD+")*",Sne=DD+MD+Nne,_ne="(?:"+[OD+wS+"?",wS,LD,ID,bne].join("|")+")",kne=RegExp(jS+"(?="+jS+")|"+_ne+Sne,"g");function Ane(e){return e.match(kne)||[]}var Cne=Ane,Pne=mne,Ene=ED,Tne=Cne;function One(e){return Ene(e)?Tne(e):Pne(e)}var Lne=One,Ine=nne,Mne=ED,Dne=Lne,Rne=ND;function Fne(e){return function(t){t=Rne(t);var n=Mne(t)?Dne(t):void 0,s=n?n[0]:t.charAt(0),a=n?Ine(n,1).join(""):t.slice(1);return s[e]()+a}}var $ne=Fne,Bne=$ne,zne=Bne("toUpperCase"),Une=zne;const p2=en(Une);function On(e){return function(){return e}}const RD=Math.cos,m1=Math.sin,Fl=Math.sqrt,p1=Math.PI,g2=2*p1,NS=Math.PI,SS=2*NS,lf=1e-6,qne=SS-lf;function FD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wne(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FD;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class Vne{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FD:Wne(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,o){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-n,u=o-t,h=l-n,p=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>lf)if(!(Math.abs(h*c-d*u)>lf)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let f=s-o,x=a-l,g=c*c+d*d,v=f*f+x*x,b=Math.sqrt(g),_=Math.sqrt(p),w=i*Math.tan((NS-Math.acos((g+p-v)/(2*b*_)))/2),S=w/_,A=w/b;Math.abs(S-1)>lf&&this._append`L${t+S*u},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*f>u*x)},${this._x1=t+A*c},${this._y1=n+A*d}`}}arc(t,n,s,a,i,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=n+c,h=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>lf||Math.abs(this._y1-u)>lf)&&this._append`L${d},${u}`,s&&(p<0&&(p=p%SS+SS),p>qne?this._append`A${s},${s},0,1,${h},${t-l},${n-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:p>lf&&this._append`A${s},${s},0,${+(p>=NS)},${h},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function p6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new Vne(t)}function g6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $D(e){this._context=e}$D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function x2(e){return new $D(e)}function BD(e){return e[0]}function zD(e){return e[1]}function UD(e,t){var n=On(!0),s=null,a=x2,i=null,o=p6(l);e=typeof e=="function"?e:e===void 0?BD:On(e),t=typeof t=="function"?t:t===void 0?zD:On(t);function l(c){var d,u=(c=g6(c)).length,h,p=!1,f;for(s==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&n(h=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,d,c),+t(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:On(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:On(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:On(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function sb(e,t,n){var s=null,a=On(!0),i=null,o=x2,l=null,c=p6(d);e=typeof e=="function"?e:e===void 0?BD:On(+e),t=typeof t=="function"?t:On(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?zD:On(+n);function d(h){var p,f,x,g=(h=g6(h)).length,v,b=!1,_,w=new Array(g),S=new Array(g);for(i==null&&(l=o(_=c())),p=0;p<=g;++p){if(!(p<g&&a(v=h[p],p,h))===b)if(b=!b)f=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=f;--x)l.point(w[x],S[x]);l.lineEnd(),l.areaEnd()}b&&(w[p]=+e(v,p,h),S[p]=+t(v,p,h),l.point(s?+s(v,p,h):w[p],n?+n(v,p,h):S[p]))}if(_)return l=null,_+""||null}function u(){return UD().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:On(+h),s=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:On(+h),d):e},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:On(+h),d):s},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:On(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:On(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:On(+h),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:On(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class qD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Hne(e){return new qD(e,!0)}function Gne(e){return new qD(e,!1)}const x6={draw(e,t){const n=Fl(t/p1);e.moveTo(n,0),e.arc(0,0,n,0,g2)}},Kne={draw(e,t){const n=Fl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},WD=Fl(1/3),Yne=WD*2,Zne={draw(e,t){const n=Fl(t/Yne),s=n*WD;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},Xne={draw(e,t){const n=Fl(t),s=-n/2;e.rect(s,s,n,n)}},Jne=.8908130915292852,VD=m1(p1/10)/m1(7*p1/10),Qne=m1(g2/10)*VD,ese=-RD(g2/10)*VD,tse={draw(e,t){const n=Fl(t*Jne),s=Qne*n,a=ese*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=g2*i/5,l=RD(o),c=m1(o);e.lineTo(c*n,-l*n),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},gN=Fl(3),rse={draw(e,t){const n=-Fl(t/(gN*3));e.moveTo(0,n*2),e.lineTo(-gN*n,-n),e.lineTo(gN*n,-n),e.closePath()}},Mo=-.5,Do=Fl(3)/2,_S=1/Fl(12),nse=(_S/2+1)*3,sse={draw(e,t){const n=Fl(t/nse),s=n/2,a=n*_S,i=s,o=n*_S+n,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Mo*s-Do*a,Do*s+Mo*a),e.lineTo(Mo*i-Do*o,Do*i+Mo*o),e.lineTo(Mo*l-Do*c,Do*l+Mo*c),e.lineTo(Mo*s+Do*a,Mo*a-Do*s),e.lineTo(Mo*i+Do*o,Mo*o-Do*i),e.lineTo(Mo*l+Do*c,Mo*c-Do*l),e.closePath()}};function ase(e,t){let n=null,s=p6(a);e=typeof e=="function"?e:On(e||x6),t=typeof t=="function"?t:On(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:On(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:On(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function g1(){}function x1(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HD(e){this._context=e}HD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:x1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ise(e){return new HD(e)}function GD(e){this._context=e}GD.prototype={areaStart:g1,areaEnd:g1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:x1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ose(e){return new GD(e)}function KD(e){this._context=e}KD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:x1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lse(e){return new KD(e)}function YD(e){this._context=e}YD.prototype={areaStart:g1,areaEnd:g1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cse(e){return new YD(e)}function vC(e){return e<0?-1:1}function bC(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(vC(i)+vC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function wC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xN(e,t,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*n,i,o)}function y1(e){this._context=e}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xN(this,this._t0,wC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xN(this,wC(this,n=bC(this,e,t)),n);break;default:xN(this,this._t0,n=bC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ZD(e){this._context=new XD(e)}(ZD.prototype=Object.create(y1.prototype)).point=function(e,t){y1.prototype.point.call(this,t,e)};function XD(e){this._context=e}XD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function dse(e){return new y1(e)}function use(e){return new ZD(e)}function JD(e){this._context=e}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=jC(e),a=jC(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jC(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function hse(e){return new JD(e)}function y2(e,t){this._context=e,this._t=t}y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function fse(e){return new y2(e,.5)}function mse(e){return new y2(e,0)}function pse(e){return new y2(e,1)}function ng(e,t){if((o=e.length)>1)for(var n=1,s,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function kS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function gse(e,t){return e[t]}function xse(e){const t=[];return t.key=e,t}function yse(){var e=On([]),t=kS,n=ng,s=gse;function a(i){var o=Array.from(e.apply(this,arguments),xse),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=g6(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:On(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:On(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?kS:typeof i=="function"?i:On(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??ng,a):n},a}function vse(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}ng(e,t)}}function bse(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}ng(e,t)}}function wse(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[s][1]||0,p=u[s-1][1]||0,f=(h-p)/2,x=0;x<l;++x){var g=e[t[x]],v=g[s][1]||0,b=g[s-1][1]||0;f+=v-b}c+=h,d+=f*h}a[s-1][1]+=a[s-1][0]=n,c&&(n-=d/c)}a[s-1][1]+=a[s-1][0]=n,ng(e,t)}}function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}var jse=["type","size","sizeType"];function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AS.apply(this,arguments)}function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(s){Nse(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Nse(e,t,n){return t=Sse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=_se(e,"string");return q0(t)=="symbol"?t:t+""}function _se(e,t){if(q0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kse(e,t){if(e==null)return{};var n=Ase(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ase(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var QD={symbolCircle:x6,symbolCross:Kne,symbolDiamond:Zne,symbolSquare:Xne,symbolStar:tse,symbolTriangle:rse,symbolWye:sse},Cse=Math.PI/180,Pse=function(t){var n="symbol".concat(p2(t));return QD[n]||x6},Ese=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Cse;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tse=function(t,n){QD["symbol".concat(p2(t))]=n},y6=function(t){var n=t.type,s=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=kse(t,jse),d=SC(SC({},c),{},{type:s,size:i,sizeType:l}),u=function(){var v=Pse(s),b=ase().type(v).size(Ese(i,l,s));return b()},h=d.className,p=d.cx,f=d.cy,x=Ot(d,!0);return p===+p&&f===+f&&i===+i?xe.createElement("path",AS({},x,{className:or("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:u()})):null};y6.registerSymbol=Tse;function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},CS.apply(this,arguments)}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ose(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(s){W0(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ise(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t7(s.key),s)}}function Mse(e,t,n){return t&&Ise(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dse(e,t,n){return t=v1(t),Rse(e,e7()?Reflect.construct(t,n||[],v1(e).constructor):t.apply(e,n))}function Rse(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fse(e)}function Fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e7=function(){return!!e})()}function v1(e){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(e)}function $se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},PS(e,t)}function W0(e,t,n){return t=t7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=Bse(e,"string");return sg(t)=="symbol"?t:t+""}function Bse(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(sg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ro=32,v6=function(e){function t(){return Lse(this,t),Dse(this,t,arguments)}return $se(t,e),Mse(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Ro/2,o=Ro/6,l=Ro/3,c=s.inactive?a:s.color;if(s.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Ro,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ro,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return xe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ro/8,"h").concat(Ro,"v").concat(Ro*3/4,"h").concat(-Ro,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(s.legendIcon)){var d=Ose({},s);return delete d.legendIcon,xe.cloneElement(s.legendIcon,d)}return xe.createElement(y6,{fill:c,cx:i,cy:i,size:Ro,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Ro,height:Ro},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,x){var g=f.formatter||c,v=or(W0(W0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=Yt(f.value)?null:f.value;Ol(!Yt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=f.inactive?d:f.color;return xe.createElement("li",CS({className:v,style:h,key:"legend-item-".concat(x)},Qf(s.props,f,x)),xe.createElement(vS,{width:o,height:o,viewBox:u,style:p},s.renderIcon(f)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,f,x):b))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);W0(v6,"displayName","Legend");W0(v6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zse=r2;function Use(){this.__data__=new zse,this.size=0}var qse=Use;function Wse(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Vse=Wse;function Hse(e){return this.__data__.get(e)}var Gse=Hse;function Kse(e){return this.__data__.has(e)}var Yse=Kse,Zse=r2,Xse=i6,Jse=o6,Qse=200;function eae(e,t){var n=this.__data__;if(n instanceof Zse){var s=n.__data__;if(!Xse||s.length<Qse-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jse(s)}return n.set(e,t),this.size=n.size,this}var tae=eae,rae=r2,nae=qse,sae=Vse,aae=Gse,iae=Yse,oae=tae;function Xg(e){var t=this.__data__=new rae(e);this.size=t.size}Xg.prototype.clear=nae;Xg.prototype.delete=sae;Xg.prototype.get=aae;Xg.prototype.has=iae;Xg.prototype.set=oae;var r7=Xg,lae="__lodash_hash_undefined__";function cae(e){return this.__data__.set(e,lae),this}var dae=cae;function uae(e){return this.__data__.has(e)}var hae=uae,fae=o6,mae=dae,pae=hae;function b1(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fae;++t<n;)this.add(e[t])}b1.prototype.add=b1.prototype.push=mae;b1.prototype.has=pae;var n7=b1;function gae(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var s7=gae;function xae(e,t){return e.has(t)}var a7=xae,yae=n7,vae=s7,bae=a7,wae=1,jae=2;function Nae(e,t,n,s,a,i){var o=n&wae,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,p=!0,f=n&jae?new yae:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var x=e[h],g=t[h];if(s)var v=o?s(g,x,h,t,e,i):s(x,g,h,e,t,i);if(v!==void 0){if(v)continue;p=!1;break}if(f){if(!vae(t,function(b,_){if(!bae(f,_)&&(x===b||a(x,b,n,s,i)))return f.push(_)})){p=!1;break}}else if(!(x===g||a(x,g,n,s,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var i7=Nae,Sae=Tc,_ae=Sae.Uint8Array,kae=_ae;function Aae(e){var t=-1,n=Array(e.size);return e.forEach(function(s,a){n[++t]=[a,s]}),n}var Cae=Aae;function Pae(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var b6=Pae,kC=Ky,AC=kae,Eae=a6,Tae=i7,Oae=Cae,Lae=b6,Iae=1,Mae=2,Dae="[object Boolean]",Rae="[object Date]",Fae="[object Error]",$ae="[object Map]",Bae="[object Number]",zae="[object RegExp]",Uae="[object Set]",qae="[object String]",Wae="[object Symbol]",Vae="[object ArrayBuffer]",Hae="[object DataView]",CC=kC?kC.prototype:void 0,yN=CC?CC.valueOf:void 0;function Gae(e,t,n,s,a,i,o){switch(n){case Hae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vae:return!(e.byteLength!=t.byteLength||!i(new AC(e),new AC(t)));case Dae:case Rae:case Bae:return Eae(+e,+t);case Fae:return e.name==t.name&&e.message==t.message;case zae:case qae:return e==t+"";case $ae:var l=Oae;case Uae:var c=s&Iae;if(l||(l=Lae),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=Mae,o.set(e,t);var u=Tae(l(e),l(t),s,a,i,o);return o.delete(e),u;case Wae:if(yN)return yN.call(e)==yN.call(t)}return!1}var Kae=Gae;function Yae(e,t){for(var n=-1,s=t.length,a=e.length;++n<s;)e[a+n]=t[n];return e}var o7=Yae,Zae=o7,Xae=Fi;function Jae(e,t,n){var s=t(e);return Xae(e)?s:Zae(s,n(e))}var Qae=Jae;function eie(e,t){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var tie=eie;function rie(){return[]}var nie=rie,sie=tie,aie=nie,iie=Object.prototype,oie=iie.propertyIsEnumerable,PC=Object.getOwnPropertySymbols,lie=PC?function(e){return e==null?[]:(e=Object(e),sie(PC(e),function(t){return oie.call(e,t)}))}:aie,cie=lie;function die(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var uie=die,hie=Ld,fie=Id,mie="[object Arguments]";function pie(e){return fie(e)&&hie(e)==mie}var gie=pie,EC=gie,xie=Id,l7=Object.prototype,yie=l7.hasOwnProperty,vie=l7.propertyIsEnumerable,bie=EC(function(){return arguments}())?EC:function(e){return xie(e)&&yie.call(e,"callee")&&!vie.call(e,"callee")},w6=bie,w1={exports:{}};function wie(){return!1}var jie=wie;w1.exports;(function(e,t){var n=Tc,s=jie,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(w1,w1.exports);var c7=w1.exports,Nie=9007199254740991,Sie=/^(?:0|[1-9]\d*)$/;function _ie(e,t){var n=typeof e;return t=t??Nie,!!t&&(n=="number"||n!="symbol"&&Sie.test(e))&&e>-1&&e%1==0&&e<t}var j6=_ie,kie=9007199254740991;function Aie(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kie}var N6=Aie,Cie=Ld,Pie=N6,Eie=Id,Tie="[object Arguments]",Oie="[object Array]",Lie="[object Boolean]",Iie="[object Date]",Mie="[object Error]",Die="[object Function]",Rie="[object Map]",Fie="[object Number]",$ie="[object Object]",Bie="[object RegExp]",zie="[object Set]",Uie="[object String]",qie="[object WeakMap]",Wie="[object ArrayBuffer]",Vie="[object DataView]",Hie="[object Float32Array]",Gie="[object Float64Array]",Kie="[object Int8Array]",Yie="[object Int16Array]",Zie="[object Int32Array]",Xie="[object Uint8Array]",Jie="[object Uint8ClampedArray]",Qie="[object Uint16Array]",eoe="[object Uint32Array]",Bn={};Bn[Hie]=Bn[Gie]=Bn[Kie]=Bn[Yie]=Bn[Zie]=Bn[Xie]=Bn[Jie]=Bn[Qie]=Bn[eoe]=!0;Bn[Tie]=Bn[Oie]=Bn[Wie]=Bn[Lie]=Bn[Vie]=Bn[Iie]=Bn[Mie]=Bn[Die]=Bn[Rie]=Bn[Fie]=Bn[$ie]=Bn[Bie]=Bn[zie]=Bn[Uie]=Bn[qie]=!1;function toe(e){return Eie(e)&&Pie(e.length)&&!!Bn[Cie(e)]}var roe=toe;function noe(e){return function(t){return e(t)}}var d7=noe,j1={exports:{}};j1.exports;(function(e,t){var n=xD,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(j1,j1.exports);var soe=j1.exports,aoe=roe,ioe=d7,TC=soe,OC=TC&&TC.isTypedArray,ooe=OC?ioe(OC):aoe,u7=ooe,loe=uie,coe=w6,doe=Fi,uoe=c7,hoe=j6,foe=u7,moe=Object.prototype,poe=moe.hasOwnProperty;function goe(e,t){var n=doe(e),s=!n&&coe(e),a=!n&&!s&&uoe(e),i=!n&&!s&&!a&&foe(e),o=n||s||a||i,l=o?loe(e.length,String):[],c=l.length;for(var d in e)(t||poe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||hoe(d,c)))&&l.push(d);return l}var xoe=goe,yoe=Object.prototype;function voe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||yoe;return e===n}var boe=voe;function woe(e,t){return function(n){return e(t(n))}}var h7=woe,joe=h7,Noe=joe(Object.keys,Object),Soe=Noe,_oe=boe,koe=Soe,Aoe=Object.prototype,Coe=Aoe.hasOwnProperty;function Poe(e){if(!_oe(e))return koe(e);var t=[];for(var n in Object(e))Coe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Eoe=Poe,Toe=s6,Ooe=N6;function Loe(e){return e!=null&&Ooe(e.length)&&!Toe(e)}var Yy=Loe,Ioe=xoe,Moe=Eoe,Doe=Yy;function Roe(e){return Doe(e)?Ioe(e):Moe(e)}var v2=Roe,Foe=Qae,$oe=cie,Boe=v2;function zoe(e){return Foe(e,Boe,$oe)}var Uoe=zoe,LC=Uoe,qoe=1,Woe=Object.prototype,Voe=Woe.hasOwnProperty;function Hoe(e,t,n,s,a,i){var o=n&qoe,l=LC(e),c=l.length,d=LC(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var p=l[h];if(!(o?p in t:Voe.call(t,p)))return!1}var f=i.get(e),x=i.get(t);if(f&&x)return f==t&&x==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){p=l[h];var b=e[p],_=t[p];if(s)var w=o?s(_,b,p,t,e,i):s(b,_,p,e,t,i);if(!(w===void 0?b===_||a(b,_,n,s,i):w)){g=!1;break}v||(v=p=="constructor")}if(g&&!v){var S=e.constructor,A=t.constructor;S!=A&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(g=!1)}return i.delete(e),i.delete(t),g}var Goe=Hoe,Koe=gm,Yoe=Tc,Zoe=Koe(Yoe,"DataView"),Xoe=Zoe,Joe=gm,Qoe=Tc,ele=Joe(Qoe,"Promise"),tle=ele,rle=gm,nle=Tc,sle=rle(nle,"Set"),f7=sle,ale=gm,ile=Tc,ole=ale(ile,"WeakMap"),lle=ole,ES=Xoe,TS=i6,OS=tle,LS=f7,IS=lle,m7=Ld,Jg=vD,IC="[object Map]",cle="[object Object]",MC="[object Promise]",DC="[object Set]",RC="[object WeakMap]",FC="[object DataView]",dle=Jg(ES),ule=Jg(TS),hle=Jg(OS),fle=Jg(LS),mle=Jg(IS),cf=m7;(ES&&cf(new ES(new ArrayBuffer(1)))!=FC||TS&&cf(new TS)!=IC||OS&&cf(OS.resolve())!=MC||LS&&cf(new LS)!=DC||IS&&cf(new IS)!=RC)&&(cf=function(e){var t=m7(e),n=t==cle?e.constructor:void 0,s=n?Jg(n):"";if(s)switch(s){case dle:return FC;case ule:return IC;case hle:return MC;case fle:return DC;case mle:return RC}return t});var ple=cf,vN=r7,gle=i7,xle=Kae,yle=Goe,$C=ple,BC=Fi,zC=c7,vle=u7,ble=1,UC="[object Arguments]",qC="[object Array]",ab="[object Object]",wle=Object.prototype,WC=wle.hasOwnProperty;function jle(e,t,n,s,a,i){var o=BC(e),l=BC(t),c=o?qC:$C(e),d=l?qC:$C(t);c=c==UC?ab:c,d=d==UC?ab:d;var u=c==ab,h=d==ab,p=c==d;if(p&&zC(e)){if(!zC(t))return!1;o=!0,u=!1}if(p&&!u)return i||(i=new vN),o||vle(e)?gle(e,t,n,s,a,i):xle(e,t,c,n,s,a,i);if(!(n&ble)){var f=u&&WC.call(e,"__wrapped__"),x=h&&WC.call(t,"__wrapped__");if(f||x){var g=f?e.value():e,v=x?t.value():t;return i||(i=new vN),a(g,v,n,s,i)}}return p?(i||(i=new vN),yle(e,t,n,s,a,i)):!1}var Nle=jle,Sle=Nle,VC=Id;function p7(e,t,n,s,a){return e===t?!0:e==null||t==null||!VC(e)&&!VC(t)?e!==e&&t!==t:Sle(e,t,n,s,p7,a)}var S6=p7,_le=r7,kle=S6,Ale=1,Cle=2;function Ple(e,t,n,s){var a=n.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new _le;if(s)var p=s(d,u,c,e,t,h);if(!(p===void 0?kle(u,d,Ale|Cle,s,h):p))return!1}}return!0}var Ele=Ple,Tle=bh;function Ole(e){return e===e&&!Tle(e)}var g7=Ole,Lle=g7,Ile=v2;function Mle(e){for(var t=Ile(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,Lle(a)]}return t}var Dle=Mle;function Rle(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var x7=Rle,Fle=Ele,$le=Dle,Ble=x7;function zle(e){var t=$le(e);return t.length==1&&t[0][2]?Ble(t[0][0],t[0][1]):function(n){return n===e||Fle(n,e,t)}}var Ule=zle;function qle(e,t){return e!=null&&t in Object(e)}var Wle=qle,Vle=SD,Hle=w6,Gle=Fi,Kle=j6,Yle=N6,Zle=s2;function Xle(e,t,n){t=Vle(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=Zle(t[s]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&Yle(a)&&Kle(o,a)&&(Gle(e)||Hle(e)))}var Jle=Xle,Qle=Wle,ece=Jle;function tce(e,t){return e!=null&&ece(e,t,Qle)}var rce=tce,nce=S6,sce=_D,ace=rce,ice=n6,oce=g7,lce=x7,cce=s2,dce=1,uce=2;function hce(e,t){return ice(e)&&oce(t)?lce(cce(e),t):function(n){var s=sce(n,e);return s===void 0&&s===t?ace(n,e):nce(t,s,dce|uce)}}var fce=hce;function mce(e){return e}var Qg=mce;function pce(e){return function(t){return t?.[e]}}var gce=pce,xce=d6;function yce(e){return function(t){return xce(t,e)}}var vce=yce,bce=gce,wce=vce,jce=n6,Nce=s2;function Sce(e){return jce(e)?bce(Nce(e)):wce(e)}var _ce=Sce,kce=Ule,Ace=fce,Cce=Qg,Pce=Fi,Ece=_ce;function Tce(e){return typeof e=="function"?e:e==null?Cce:typeof e=="object"?Pce(e)?Ace(e[0],e[1]):kce(e):Ece(e)}var Oc=Tce;function Oce(e,t,n,s){for(var a=e.length,i=n+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var y7=Oce;function Lce(e){return e!==e}var Ice=Lce;function Mce(e,t,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var Dce=Mce,Rce=y7,Fce=Ice,$ce=Dce;function Bce(e,t,n){return t===t?$ce(e,t,n):Rce(e,Fce,n)}var zce=Bce,Uce=zce;function qce(e,t){var n=e==null?0:e.length;return!!n&&Uce(e,t,0)>-1}var Wce=qce;function Vce(e,t,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(t,e[s]))return!0;return!1}var Hce=Vce;function Gce(){}var Kce=Gce,bN=f7,Yce=Kce,Zce=b6,Xce=1/0,Jce=bN&&1/Zce(new bN([,-0]))[1]==Xce?function(e){return new bN(e)}:Yce,Qce=Jce,ede=n7,tde=Wce,rde=Hce,nde=a7,sde=Qce,ade=b6,ide=200;function ode(e,t,n){var s=-1,a=tde,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=rde;else if(i>=ide){var d=t?null:sde(e);if(d)return ade(d);o=!1,a=nde,c=new ede}else c=t?[]:l;e:for(;++s<i;){var u=e[s],h=t?t(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),l.push(u)}else a(c,h,n)||(c!==l&&c.push(h),l.push(u))}return l}var lde=ode,cde=Oc,dde=lde;function ude(e,t){return e&&e.length?dde(e,cde(t)):[]}var hde=ude;const HC=en(hde);function v7(e,t,n){return t===!0?HC(e,n):Yt(t)?HC(e,t):e}function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}var fde=["ref"];function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(s){b2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KC(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,w7(s.key),s)}}function pde(e,t,n){return t&&KC(e.prototype,t),n&&KC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gde(e,t,n){return t=N1(t),xde(e,b7()?Reflect.construct(t,n||[],N1(e).constructor):t.apply(e,n))}function xde(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yde(e)}function yde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b7=function(){return!!e})()}function N1(e){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(e)}function vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MS(e,t)}function MS(e,t){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},MS(e,t)}function b2(e,t,n){return t=w7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=bde(e,"string");return ag(t)=="symbol"?t:t+""}function bde(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wde(e,t){if(e==null)return{};var n=jde(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jde(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Nde(e){return e.value}function Sde(e,t){if(xe.isValidElement(e))return xe.cloneElement(e,t);if(typeof e=="function")return xe.createElement(e,t);t.ref;var n=wde(t,fde);return xe.createElement(v6,n)}var YC=1,ah=function(e){function t(){var n;mde(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=gde(this,t,[].concat(a)),b2(n,"lastBoundingBox",{width:-1,height:-1}),n}return vde(t,e),pde(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>YC||Math.abs(a.height-this.lastBoundingBox.height)>YC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();p={top:((u||0)-x.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return nd(nd({},h),p)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=nd(nd({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return xe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){s.wrapperNode=f}},Sde(i,nd(nd({},this.props),{},{payload:v7(u,d,Nde)})))}}],[{key:"getWithHeight",value:function(s,a){var i=nd(nd({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&dt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(j.PureComponent);b2(ah,"displayName","Legend");b2(ah,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZC=Ky,_de=w6,kde=Fi,XC=ZC?ZC.isConcatSpreadable:void 0;function Ade(e){return kde(e)||_de(e)||!!(XC&&e&&e[XC])}var Cde=Ade,Pde=o7,Ede=Cde;function j7(e,t,n,s,a){var i=-1,o=e.length;for(n||(n=Ede),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?j7(l,t-1,n,s,a):Pde(a,l):s||(a[a.length]=l)}return a}var N7=j7;function Tde(e){return function(t,n,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var Ode=Tde,Lde=Ode,Ide=Lde(),Mde=Ide,Dde=Mde,Rde=v2;function Fde(e,t){return e&&Dde(e,t,Rde)}var S7=Fde,$de=Yy;function Bde(e,t){return function(n,s){if(n==null)return n;if(!$de(n))return e(n,s);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return n}}var zde=Bde,Ude=S7,qde=zde,Wde=qde(Ude),_6=Wde,Vde=_6,Hde=Yy;function Gde(e,t){var n=-1,s=Hde(e)?Array(e.length):[];return Vde(e,function(a,i,o){s[++n]=t(a,i,o)}),s}var _7=Gde;function Kde(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Yde=Kde,JC=Vg;function Zde(e,t){if(e!==t){var n=e!==void 0,s=e===null,a=e===e,i=JC(e),o=t!==void 0,l=t===null,c=t===t,d=JC(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!n&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&n&&a&&!s&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var Xde=Zde,Jde=Xde;function Qde(e,t,n){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++s<o;){var c=Jde(a[s],i[s]);if(c){if(s>=l)return c;var d=n[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var eue=Qde,wN=c6,tue=d6,rue=Oc,nue=_7,sue=Yde,aue=d7,iue=eue,oue=Qg,lue=Fi;function cue(e,t,n){t.length?t=wN(t,function(i){return lue(i)?function(o){return tue(o,i.length===1?i[0]:i)}:i}):t=[oue];var s=-1;t=wN(t,aue(rue));var a=nue(e,function(i,o,l){var c=wN(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return sue(a,function(i,o){return iue(i,o,n)})}var due=cue;function uue(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var hue=uue,fue=hue,QC=Math.max;function mue(e,t,n){return t=QC(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=QC(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=n(o),fue(e,this,l)}}var pue=mue;function gue(e){return function(){return e}}var xue=gue,yue=gm,vue=function(){try{var e=yue(Object,"defineProperty");return e({},"",{}),e}catch{}}(),k7=vue,bue=xue,eP=k7,wue=Qg,jue=eP?function(e,t){return eP(e,"toString",{configurable:!0,enumerable:!1,value:bue(t),writable:!0})}:wue,Nue=jue,Sue=800,_ue=16,kue=Date.now;function Aue(e){var t=0,n=0;return function(){var s=kue(),a=_ue-(s-n);if(n=s,a>0){if(++t>=Sue)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Cue=Aue,Pue=Nue,Eue=Cue,Tue=Eue(Pue),Oue=Tue,Lue=Qg,Iue=pue,Mue=Oue;function Due(e,t){return Mue(Iue(e,t,Lue),e+"")}var Rue=Due,Fue=a6,$ue=Yy,Bue=j6,zue=bh;function Uue(e,t,n){if(!zue(n))return!1;var s=typeof t;return(s=="number"?$ue(n)&&Bue(t,n.length):s=="string"&&t in n)?Fue(n[t],e):!1}var w2=Uue,que=N7,Wue=due,Vue=Rue,tP=w2,Hue=Vue(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tP(e,t[0],t[1])?t=[]:n>2&&tP(t[0],t[1],t[2])&&(t=[t[0]]),Wue(e,que(t,1),[])}),Gue=Hue;const k6=en(Gue);function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DS.apply(this,arguments)}function Kue(e,t){return Jue(e)||Xue(e,t)||Zue(e,t)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zue(e,t){if(e){if(typeof e=="string")return rP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rP(e,t)}}function rP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Xue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Jue(e){if(Array.isArray(e))return e}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(s){Que(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Que(e,t,n){return t=ehe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ehe(e){var t=the(e,"string");return V0(t)=="symbol"?t:t+""}function the(e,t){if(V0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(V0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rhe(e){return Array.isArray(e)&&na(e[0])&&na(e[1])?e.join(" ~ "):e}var nhe=function(t){var n=t.separator,s=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,p=t.itemSorter,f=t.wrapperClassName,x=t.labelClassName,g=t.label,v=t.labelFormatter,b=t.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(u&&u.length){var I={padding:0,margin:0},B=(p?k6(u,p):u).map(function(z,V){if(z.type==="none")return null;var U=jN({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),K=z.formatter||h||rhe,$=z.value,W=z.name,te=$,J=W;if(K&&te!=null&&J!=null){var M=K($,W,z,V,u);if(Array.isArray(M)){var G=Kue(M,2);te=G[0],J=G[1]}else te=M}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:U},na(J)?xe.createElement("span",{className:"recharts-tooltip-item-name"},J):null,na(J)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},te),xe.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:I},B)}return null},S=jN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=jN({margin:0},d),L=!ar(g),P=L?g:"",k=or("recharts-default-tooltip",f),C=or("recharts-tooltip-label",x);L&&v&&u!==void 0&&u!==null&&(P=v(g,u));var R=_?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",DS({className:k,style:S},R),xe.createElement("p",{className:C,style:A},xe.isValidElement(P)?P:"".concat(P)),w())};function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function ib(e,t,n){return t=she(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function she(e){var t=ahe(e,"string");return H0(t)=="symbol"?t:t+""}function ahe(e,t){if(H0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(H0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gx="recharts-tooltip-wrapper",ihe={visibility:"hidden"};function ohe(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return or(Gx,ib(ib(ib(ib({},"".concat(Gx,"-right"),dt(n)&&t&&dt(t.x)&&n>=t.x),"".concat(Gx,"-left"),dt(n)&&t&&dt(t.x)&&n<t.x),"".concat(Gx,"-bottom"),dt(s)&&t&&dt(t.y)&&s>=t.y),"".concat(Gx,"-top"),dt(s)&&t&&dt(t.y)&&s<t.y))}function sP(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&dt(i[s]))return i[s];var u=n[s]-l-a,h=n[s]+a;if(t[s])return o[s]?u:h;if(o[s]){var p=u,f=c[s];return p<f?Math.max(h,c[s]):Math.max(u,c[s])}var x=h+l,g=c[s]+d;return x>g?Math.max(u,c[s]):Math.max(h,c[s])}function lhe(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function che(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&n?(u=sP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=sP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=lhe({translateX:u,translateY:h,useTranslate3d:l})):d=ihe,{cssProperties:d,cssClasses:ohe({translateX:u,translateY:h,coordinate:n})}}function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(s){FS(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uhe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,C7(s.key),s)}}function hhe(e,t,n){return t&&uhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fhe(e,t,n){return t=S1(t),mhe(e,A7()?Reflect.construct(t,n||[],S1(e).constructor):t.apply(e,n))}function mhe(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(e)}function phe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!e})()}function S1(e){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(e)}function ghe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RS(e,t)}function FS(e,t,n){return t=C7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7(e){var t=xhe(e,"string");return ig(t)=="symbol"?t:t+""}function xhe(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ig(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=1,yhe=function(e){function t(){var n;dhe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=fhe(this,t,[].concat(a)),FS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),FS(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return ghe(t,e),hhe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>oP||Math.abs(s.height-this.state.lastBoundingBox.height)>oP)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,p=a.isAnimationActive,f=a.offset,x=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,w=che({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=w.cssClasses,A=w.cssProperties,L=iP(iP({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return xe.createElement("div",{tabIndex:-1,className:S,style:L,ref:function(k){s.wrapperNode=k}},d)}}])}(j.PureComponent),vhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ll={isSsr:vhe(),get:function(t){return Ll[t]},set:function(t,n){if(typeof t=="string")Ll[t]=n;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){Ll[a]=t[a]})}}};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(s){A6(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function whe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,E7(s.key),s)}}function jhe(e,t,n){return t&&whe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nhe(e,t,n){return t=_1(t),She(e,P7()?Reflect.construct(t,n||[],_1(e).constructor):t.apply(e,n))}function She(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(e)}function _he(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P7=function(){return!!e})()}function _1(e){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(e)}function khe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}function $S(e,t){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$S(e,t)}function A6(e,t,n){return t=E7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E7(e){var t=Ahe(e,"string");return og(t)=="symbol"?t:t+""}function Ahe(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Che(e){return e.dataKey}function Phe(e,t){return xe.isValidElement(e)?xe.cloneElement(e,t):typeof e=="function"?xe.createElement(e,t):xe.createElement(nhe,t)}var $s=function(e){function t(){return bhe(this,t),Nhe(this,t,arguments)}return khe(t,e),jhe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,p=a.isAnimationActive,f=a.offset,x=a.payload,g=a.payloadUniqBy,v=a.position,b=a.reverseDirection,_=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,A=x??[];h&&A.length&&(A=v7(x.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),g,Che));var L=A.length>0;return xe.createElement(yhe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:u,hasPayload:L,offset:f,position:v,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:S},Phe(d,cP(cP({},this.props),{},{payload:A})))}}])}(j.PureComponent);A6($s,"displayName","Tooltip");A6($s,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ll.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ehe=Tc,The=function(){return Ehe.Date.now()},Ohe=The,Lhe=/\s/;function Ihe(e){for(var t=e.length;t--&&Lhe.test(e.charAt(t)););return t}var Mhe=Ihe,Dhe=Mhe,Rhe=/^\s+/;function Fhe(e){return e&&e.slice(0,Dhe(e)+1).replace(Rhe,"")}var $he=Fhe,Bhe=$he,dP=bh,zhe=Vg,uP=NaN,Uhe=/^[-+]0x[0-9a-f]+$/i,qhe=/^0b[01]+$/i,Whe=/^0o[0-7]+$/i,Vhe=parseInt;function Hhe(e){if(typeof e=="number")return e;if(zhe(e))return uP;if(dP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bhe(e);var n=qhe.test(e);return n||Whe.test(e)?Vhe(e.slice(2),n?2:8):Uhe.test(e)?uP:+e}var T7=Hhe,Ghe=bh,NN=Ohe,hP=T7,Khe="Expected a function",Yhe=Math.max,Zhe=Math.min;function Xhe(e,t,n){var s,a,i,o,l,c,d=0,u=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(Khe);t=hP(t)||0,Ghe(n)&&(u=!!n.leading,h="maxWait"in n,i=h?Yhe(hP(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function f(L){var P=s,k=a;return s=a=void 0,d=L,o=e.apply(k,P),o}function x(L){return d=L,l=setTimeout(b,t),u?f(L):o}function g(L){var P=L-c,k=L-d,C=t-P;return h?Zhe(C,i-k):C}function v(L){var P=L-c,k=L-d;return c===void 0||P>=t||P<0||h&&k>=i}function b(){var L=NN();if(v(L))return _(L);l=setTimeout(b,g(L))}function _(L){return l=void 0,p&&s?f(L):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function S(){return l===void 0?o:_(NN())}function A(){var L=NN(),P=v(L);if(s=arguments,a=this,c=L,P){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(b,t),f(c)}return l===void 0&&(l=setTimeout(b,t)),o}return A.cancel=w,A.flush=S,A}var Jhe=Xhe,Qhe=Jhe,efe=bh,tfe="Expected a function";function rfe(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(tfe);return efe(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Qhe(e,t,{leading:s,maxWait:t,trailing:a})}var nfe=rfe;const O7=en(nfe);function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(s){sfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sfe(e,t,n){return t=afe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function afe(e){var t=ife(e,"string");return G0(t)=="symbol"?t:t+""}function ife(e,t){if(G0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(G0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ofe(e,t){return ufe(e)||dfe(e,t)||cfe(e,t)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(e,t){if(e){if(typeof e=="string")return mP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function dfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ufe(e){if(Array.isArray(e))return e}var _l=j.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,p=e.maxHeight,f=e.children,x=e.debounce,g=x===void 0?0:x,v=e.id,b=e.className,_=e.onResize,w=e.style,S=w===void 0?{}:w,A=j.useRef(null),L=j.useRef();L.current=_,j.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),k=ofe(P,2),C=k[0],R=k[1],E=j.useCallback(function(B,z){R(function(V){var U=Math.round(B),K=Math.round(z);return V.containerWidth===U&&V.containerHeight===K?V:{containerWidth:U,containerHeight:K}})},[]);j.useEffect(function(){var B=function(W){var te,J=W[0].contentRect,M=J.width,G=J.height;E(M,G),(te=L.current)===null||te===void 0||te.call(L,M,G)};g>0&&(B=O7(B,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),V=A.current.getBoundingClientRect(),U=V.width,K=V.height;return E(U,K),z.observe(A.current),function(){z.disconnect()}},[E,g]);var I=j.useMemo(function(){var B=C.containerWidth,z=C.containerHeight;if(B<0||z<0)return null;Ol(bf(o)||bf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ol(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=bf(o)?B:o,U=bf(c)?z:c;n&&n>0&&(V?U=V/n:U&&(V=U*n),p&&U>p&&(U=p)),Ol(V>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,U,o,c,u,h,n);var K=!Array.isArray(f)&&vd(f.type).endsWith("Chart");return xe.Children.map(f,function($){return xe.isValidElement($)?j.cloneElement($,ob({width:V,height:U},K?{style:ob({height:"100%",width:"100%",maxHeight:U,maxWidth:V},$.props.style)}:{})):$})},[n,f,c,p,h,u,C,o]);return xe.createElement("div",{id:v?"".concat(v):void 0,className:or("recharts-responsive-container",b),style:ob(ob({},S),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:p}),ref:A},I)}),ex=function(t){return null};ex.displayName="Cell";function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(s){hfe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hfe(e,t,n){return t=ffe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ffe(e){var t=mfe(e,"string");return K0(t)=="symbol"?t:t+""}function mfe(e,t){if(K0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(K0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm={widthCache:{},cacheCount:0},pfe=2e3,gfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gP="recharts_measurement_span";function xfe(e){var t=BS({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var N0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ll.isSsr)return{width:0,height:0};var s=xfe(n),a=JSON.stringify({text:t,copyStyle:s});if(Qm.widthCache[a])return Qm.widthCache[a];try{var i=document.getElementById(gP);i||(i=document.createElement("span"),i.setAttribute("id",gP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=BS(BS({},gfe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Qm.widthCache[a]=c,++Qm.cacheCount>pfe&&(Qm.cacheCount=0,Qm.widthCache={}),c}catch{return{width:0,height:0}}},yfe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function k1(e,t){return jfe(e)||wfe(e,t)||bfe(e,t)||vfe()}function vfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(e,t){if(e){if(typeof e=="string")return xP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(e,t)}}function xP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function wfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function jfe(e){if(Array.isArray(e))return e}function Nfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_fe(s.key),s)}}function Sfe(e,t,n){return t&&yP(e.prototype,t),n&&yP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _fe(e){var t=kfe(e,"string");return Y0(t)=="symbol"?t:t+""}function kfe(e,t){if(Y0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Y0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Afe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pfe=Object.keys(L7),pp="NaN";function Efe(e,t){return e*L7[t]}var lb=function(){function e(t,n){Nfe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Afe.test(n)&&(this.num=NaN,this.unit=""),Pfe.includes(n)&&(this.num=Efe(t,n),this.unit="px")}return Sfe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=Cfe.exec(n))!==null&&s!==void 0?s:[],i=k1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function I7(e){if(e.includes(pp))return pp;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=vP.exec(t))!==null&&n!==void 0?n:[],a=k1(s,4),i=a[1],o=a[2],l=a[3],c=lb.parse(i??""),d=lb.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return pp;t=t.replace(vP,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,p=(h=bP.exec(t))!==null&&h!==void 0?h:[],f=k1(p,4),x=f[1],g=f[2],v=f[3],b=lb.parse(x??""),_=lb.parse(v??""),w=g==="+"?b.add(_):b.subtract(_);if(w.isNaN())return pp;t=t.replace(bP,w.toString())}return t}var wP=/\(([^()]*)\)/;function Tfe(e){for(var t=e;t.includes("(");){var n=wP.exec(t),s=k1(n,2),a=s[1];t=t.replace(wP,I7(a))}return t}function Ofe(e){var t=e.replace(/\s+/g,"");return t=Tfe(t),t=I7(t),t}function Lfe(e){try{return Ofe(e)}catch{return pp}}function SN(e){var t=Lfe(e.slice(5,-1));return t===pp?"":t}var Ife=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mfe=["dx","dy","angle","className","breakAll"];function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zS.apply(this,arguments)}function jP(e,t){if(e==null)return{};var n=Dfe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dfe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function NP(e,t){return Bfe(e)||$fe(e,t)||Ffe(e,t)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(e,t){if(e){if(typeof e=="string")return SP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(e,t)}}function SP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function $fe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Bfe(e){if(Array.isArray(e))return e}var M7=/[ \f\n\r\t\v\u2028\u2029]+/,D7=function(t){var n=t.children,s=t.breakAll,a=t.style;try{var i=[];ar(n)||(s?i=n.toString().split(""):i=n.toString().split(M7));var o=i.map(function(c){return{word:c,width:N0(c,a).width}}),l=s?0:N0(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},zfe=function(t,n,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=dt(o),h=l,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(U,K){var $=K.word,W=K.width,te=U[U.length-1];if(te&&(a==null||i||te.width+W+s<Number(a)))te.words.push($),te.width+=W+s;else{var J={words:[$],width:W};U.push(J)}return U},[])},f=p(n),x=function(V){return V.reduce(function(U,K){return U.width>K.width?U:K})};if(!u)return f;for(var g="…",v=function(V){var U=h.slice(0,V),K=D7({breakAll:d,style:c,children:U+g}).wordsWithComputedWidth,$=p(K),W=$.length>o||x($).width>Number(a);return[W,$]},b=0,_=h.length-1,w=0,S;b<=_&&w<=h.length-1;){var A=Math.floor((b+_)/2),L=A-1,P=v(L),k=NP(P,2),C=k[0],R=k[1],E=v(A),I=NP(E,1),B=I[0];if(!C&&!B&&(b=A+1),C&&B&&(_=A-1),!C&&B){S=R;break}w++}return S||f},_P=function(t){var n=ar(t)?[]:t.toString().split(M7);return[{words:n}]},Ufe=function(t){var n=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||s)&&!Ll.isSsr){var c,d,u=D7({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,p=u.spaceWidth;c=h,d=p}else return _P(a);return zfe({breakAll:o,children:a,maxLines:l,style:i},c,d,n,s)}return _P(a)},kP="#808080",em=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,p=t.textAnchor,f=p===void 0?"start":p,x=t.verticalAnchor,g=x===void 0?"end":x,v=t.fill,b=v===void 0?kP:v,_=jP(t,Ife),w=j.useMemo(function(){return Ufe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),S=_.dx,A=_.dy,L=_.angle,P=_.className,k=_.breakAll,C=jP(_,Mfe);if(!na(s)||!na(i))return null;var R=s+(dt(S)?S:0),E=i+(dt(A)?A:0),I;switch(g){case"start":I=SN("calc(".concat(d,")"));break;case"middle":I=SN("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=SN("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(h){var z=w[0].width,V=_.width;B.push("scale(".concat((dt(V)?V/z:1)/z,")"))}return L&&B.push("rotate(".concat(L,", ").concat(R,", ").concat(E,")")),B.length&&(C.transform=B.join(" ")),xe.createElement("text",zS({},Ot(C,!0),{x:R,y:E,className:or("recharts-text",P),textAnchor:f,fill:b.includes("url")?kP:b}),w.map(function(U,K){var $=U.words.join(k?"":" ");return xe.createElement("tspan",{x:R,dy:K===0?I:l,key:"".concat($,"-").concat(K)},$)}))};function ih(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C6(e){let t,n,s;e.length!==2?(t=ih,n=(l,c)=>ih(e(l),c),s=(l,c)=>e(l)-c):(t=e===ih||e===qfe?e:Wfe,n=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Wfe(){return 0}function R7(e){return e===null?NaN:+e}function*Vfe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Hfe=C6(ih),Zy=Hfe.right;C6(R7).center;class AP extends Map{constructor(t,n=Yfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(CP(this,t))}has(t){return super.has(CP(this,t))}set(t,n){return super.set(Gfe(this,t),n)}delete(t){return super.delete(Kfe(this,t))}}function CP({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function Gfe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function Kfe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function Yfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Zfe(e=ih){if(e===ih)return F7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function F7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Xfe=Math.sqrt(50),Jfe=Math.sqrt(10),Qfe=Math.sqrt(2);function A1(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Xfe?10:i>=Jfe?5:i>=Qfe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?A1(e,t,n*2):[l,c,d]}function US(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?A1(t,e,n):A1(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function qS(e,t,n){return t=+t,e=+e,n=+n,A1(e,t,n)[2]}function WS(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?qS(t,e,n):qS(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function PP(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function EP(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function $7(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?F7:Zfe(a);s>n;){if(s-n>600){const c=s-n+1,d=t-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(n,Math.floor(t-d*h/c+p)),x=Math.min(s,Math.floor(t+(c-d)*h/c+p));$7(e,t,f,x,a)}const i=e[t];let o=n,l=s;for(Kx(e,n,t),a(e[s],i)>0&&Kx(e,n,s);o<l;){for(Kx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Kx(e,n,l):(++l,Kx(e,l,s)),l<=t&&(n=l+1),t<=l&&(s=l-1)}return e}function Kx(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function eme(e,t,n){if(e=Float64Array.from(Vfe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return EP(e);if(t>=1)return PP(e);var s,a=(s-1)*t,i=Math.floor(a),o=PP($7(e,i).subarray(0,i+1)),l=EP(e.subarray(i+1));return o+(l-o)*(a-i)}}function tme(e,t,n=R7){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function rme(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Jo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Md(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const VS=Symbol("implicit");function P6(){var e=new AP,t=[],n=[],s=VS;function a(i){let o=e.get(i);if(o===void 0){if(s!==VS)return s;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new AP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return P6(t,n).unknown(s)},Jo.apply(a,arguments),a}function Z0(){var e=P6().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var p=t().length,f=a<s,x=f?a:s,g=f?s:a;i=(g-x)/Math.max(1,p-c+d*2),l&&(i=Math.floor(i)),x+=(g-x-i*(p-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=rme(p).map(function(b){return x+i*b});return n(f?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([s,a]=p,s=+s,a=+a,h()):[s,a]},e.rangeRound=function(p){return[s,a]=p,s=+s,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),h()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,h()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),h()):u},e.copy=function(){return Z0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Jo.apply(h(),arguments)}function B7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B7(t())},e}function S0(){return B7(Z0.apply(null,arguments).paddingInner(1))}function E6(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z7(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Xy(){}var X0=.7,C1=1/X0,Tp="\\s*([+-]?\\d+)\\s*",J0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nme=/^#([0-9a-f]{3,8})$/,sme=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),ame=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),ime=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${J0}\\)$`),ome=new RegExp(`^rgba\\(${bc},${bc},${bc},${J0}\\)$`),lme=new RegExp(`^hsl\\(${J0},${bc},${bc}\\)$`),cme=new RegExp(`^hsla\\(${J0},${bc},${bc},${J0}\\)$`),TP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E6(Xy,Q0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OP,formatHex:OP,formatHex8:dme,formatHsl:ume,formatRgb:LP,toString:LP});function OP(){return this.rgb().formatHex()}function dme(){return this.rgb().formatHex8()}function ume(){return U7(this).formatHsl()}function LP(){return this.rgb().formatRgb()}function Q0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nme.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IP(t):n===3?new Ei(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?cb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?cb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sme.exec(e))?new Ei(t[1],t[2],t[3],1):(t=ame.exec(e))?new Ei(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ime.exec(e))?cb(t[1],t[2],t[3],t[4]):(t=ome.exec(e))?cb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lme.exec(e))?RP(t[1],t[2]/100,t[3]/100,1):(t=cme.exec(e))?RP(t[1],t[2]/100,t[3]/100,t[4]):TP.hasOwnProperty(e)?IP(TP[e]):e==="transparent"?new Ei(NaN,NaN,NaN,0):null}function IP(e){return new Ei(e>>16&255,e>>8&255,e&255,1)}function cb(e,t,n,s){return s<=0&&(e=t=n=NaN),new Ei(e,t,n,s)}function hme(e){return e instanceof Xy||(e=Q0(e)),e?(e=e.rgb(),new Ei(e.r,e.g,e.b,e.opacity)):new Ei}function HS(e,t,n,s){return arguments.length===1?hme(e):new Ei(e,t,n,s??1)}function Ei(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}E6(Ei,HS,z7(Xy,{brighter(e){return e=e==null?C1:Math.pow(C1,e),new Ei(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?X0:Math.pow(X0,e),new Ei(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ei($f(this.r),$f(this.g),$f(this.b),P1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MP,formatHex:MP,formatHex8:fme,formatRgb:DP,toString:DP}));function MP(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function fme(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function DP(){const e=P1(this.opacity);return`${e===1?"rgb(":"rgba("}${$f(this.r)}, ${$f(this.g)}, ${$f(this.b)}${e===1?")":`, ${e})`}`}function P1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $f(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wf(e){return e=$f(e),(e<16?"0":"")+e.toString(16)}function RP(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cl(e,t,n,s)}function U7(e){if(e instanceof Cl)return new Cl(e.h,e.s,e.l,e.opacity);if(e instanceof Xy||(e=Q0(e)),!e)return new Cl;if(e instanceof Cl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Cl(o,l,c,e.opacity)}function mme(e,t,n,s){return arguments.length===1?U7(e):new Cl(e,t,n,s??1)}function Cl(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}E6(Cl,mme,z7(Xy,{brighter(e){return e=e==null?C1:Math.pow(C1,e),new Cl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?X0:Math.pow(X0,e),new Cl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new Ei(_N(e>=240?e-240:e+120,a,s),_N(e,a,s),_N(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Cl(FP(this.h),db(this.s),db(this.l),P1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=P1(this.opacity);return`${e===1?"hsl(":"hsla("}${FP(this.h)}, ${db(this.s)*100}%, ${db(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FP(e){return e=(e||0)%360,e<0?e+360:e}function db(e){return Math.max(0,Math.min(1,e||0))}function _N(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const T6=e=>()=>e;function pme(e,t){return function(n){return e+n*t}}function gme(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function xme(e){return(e=+e)==1?q7:function(t,n){return n-t?gme(t,n,e):T6(isNaN(t)?n:t)}}function q7(e,t){var n=t-e;return n?pme(e,n):T6(isNaN(e)?t:e)}const $P=function e(t){var n=xme(t);function s(a,i){var o=n((a=HS(a)).r,(i=HS(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=q7(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function yme(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function vme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bme(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=tx(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function wme(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function E1(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jme(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=tx(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var GS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kN=new RegExp(GS.source,"g");function Nme(e){return function(){return e}}function Sme(e){return function(t){return e(t)+""}}function _me(e,t){var n=GS.lastIndex=kN.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=GS.exec(e))&&(a=kN.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:E1(s,a)})),n=kN.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Sme(c[0].x):Nme(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function tx(e,t){var n=typeof t,s;return t==null||n==="boolean"?T6(t):(n==="number"?E1:n==="string"?(s=Q0(t))?(t=s,$P):_me:t instanceof Q0?$P:t instanceof Date?wme:vme(t)?yme:Array.isArray(t)?bme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jme:E1)(e,t)}function O6(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kme(e,t){t===void 0&&(t=e,e=tx);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Ame(e){return function(){return e}}function T1(e){return+e}var BP=[0,1];function gi(e){return e}function KS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ame(isNaN(t)?NaN:.5)}function Cme(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function Pme(e,t,n){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=KS(a,s),i=n(o,i)):(s=KS(s,a),i=n(i,o)),function(l){return i(s(l))}}function Eme(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=KS(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Zy(e,l,1,s)-1;return i[c](a[c](l))}}function Jy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j2(){var e=BP,t=BP,n=tx,s,a,i,o=gi,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==gi&&(o=Cme(e[0],e[p-1])),l=p>2?Eme:Pme,c=d=null,h}function h(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(s),t,n)))(s(o(p)))}return h.invert=function(p){return o(a((d||(d=l(t,e.map(s),E1)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,T1),u()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=O6,u()},h.clamp=function(p){return arguments.length?(o=p?!0:gi,u()):o!==gi},h.interpolate=function(p){return arguments.length?(n=p,u()):n},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,f){return s=p,a=f,u()}}function L6(){return j2()(gi,gi)}function Tme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function O1(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function lg(e){return e=O1(Math.abs(e)),e?e[1]:NaN}function Ome(e,t){return function(n,s){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Lme(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ime=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ey(e){if(!(t=Ime.exec(e)))throw new Error("invalid format: "+e);var t;return new I6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ey.prototype=I6.prototype;function I6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}I6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mme(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var W7;function Dme(e,t){var n=O1(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(W7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+O1(e,Math.max(0,t+i-1))[0]}function zP(e,t){var n=O1(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const UP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zP(e*100,t),r:zP,s:Dme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qP(e){return e}var WP=Array.prototype.map,VP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Rme(e){var t=e.grouping===void 0||e.thousands===void 0?qP:Ome(WP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qP:Lme(WP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=ey(h);var p=h.fill,f=h.align,x=h.sign,g=h.symbol,v=h.zero,b=h.width,_=h.comma,w=h.precision,S=h.trim,A=h.type;A==="n"?(_=!0,A="g"):UP[A]||(w===void 0&&(w=12),S=!0,A="g"),(v||p==="0"&&f==="=")&&(v=!0,p="0",f="=");var L=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=g==="$"?s:/[%p]/.test(A)?o:"",k=UP[A],C=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(E){var I=L,B=P,z,V,U;if(A==="c")B=k(E)+B,E="";else{E=+E;var K=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),w),S&&(E=Mme(E)),K&&+E==0&&x!=="+"&&(K=!1),I=(K?x==="("?x:l:x==="-"||x==="("?"":x)+I,B=(A==="s"?VP[8+W7/3]:"")+B+(K&&x==="("?")":""),C){for(z=-1,V=E.length;++z<V;)if(U=E.charCodeAt(z),48>U||U>57){B=(U===46?a+E.slice(z+1):E.slice(z))+B,E=E.slice(0,z);break}}}_&&!v&&(E=t(E,1/0));var $=I.length+E.length+B.length,W=$<b?new Array(b-$+1).join(p):"";switch(_&&v&&(E=t(W+E,W.length?b-B.length:1/0),W=""),f){case"<":E=I+E+B+W;break;case"=":E=I+W+E+B;break;case"^":E=W.slice(0,$=W.length>>1)+I+E+B+W.slice($);break;default:E=W+I+E+B;break}return i(E)}return R.toString=function(){return h+""},R}function u(h,p){var f=d((h=ey(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(lg(p)/3)))*3,g=Math.pow(10,-x),v=VP[8+x/3];return function(b){return f(g*b)+v}}return{format:d,formatPrefix:u}}var ub,M6,V7;Fme({thousands:",",grouping:[3],currency:["$",""]});function Fme(e){return ub=Rme(e),M6=ub.format,V7=ub.formatPrefix,ub}function $me(e){return Math.max(0,-lg(Math.abs(e)))}function Bme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lg(t)/3)))*3-lg(Math.abs(e)))}function zme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lg(t)-lg(e))+1}function H7(e,t,n,s){var a=WS(e,t,n),i;switch(s=ey(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=Bme(a,o))&&(s.precision=i),V7(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=zme(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=$me(a))&&(s.precision=i-(s.type==="%")*2);break}}return M6(s)}function wh(e){var t=e.domain;return e.ticks=function(n){var s=t();return US(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return H7(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=qS(o,l,n),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function L1(){var e=L6();return e.copy=function(){return Jy(e,L1())},Jo.apply(e,arguments),wh(e)}function G7(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,T1),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return G7(e).unknown(t)},e=arguments.length?Array.from(e,T1):[0,1],wh(n)}function K7(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=t.floor(a),e[s]=t.ceil(i),e}function HP(e){return Math.log(e)}function GP(e){return Math.exp(e)}function Ume(e){return-Math.log(-e)}function qme(e){return-Math.exp(-e)}function Wme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vme(e){return e===10?Wme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Hme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KP(e){return(t,n)=>-e(-t,n)}function D6(e){const t=e(HP,GP),n=t.domain;let s=10,a,i;function o(){return a=Hme(s),i=Vme(s),n()[0]<0?(a=KP(a),i=KP(i),e(Ume,qme)):e(HP,GP),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let p=a(d),f=a(u),x,g;const v=l==null?10:+l;let b=[];if(!(s%1)&&f-p<v){if(p=Math.floor(p),f=Math.ceil(f),d>0){for(;p<=f;++p)for(x=1;x<s;++x)if(g=p<0?x/i(-p):x*i(p),!(g<d)){if(g>u)break;b.push(g)}}else for(;p<=f;++p)for(x=s-1;x>=1;--x)if(g=p>0?x/i(-p):x*i(p),!(g<d)){if(g>u)break;b.push(g)}b.length*2<v&&(b=US(d,u,v))}else b=US(p,f,Math.min(f-p,v)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=ey(c)).precision==null&&(c.trim=!0),c=M6(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},t.nice=()=>n(K7(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Y7(){const e=D6(j2()).domain([1,10]);return e.copy=()=>Jy(e,Y7()).base(e.base()),Jo.apply(e,arguments),e}function YP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function R6(e){var t=1,n=e(YP(t),ZP(t));return n.constant=function(s){return arguments.length?e(YP(t=+s),ZP(t)):t},wh(n)}function Z7(){var e=R6(j2());return e.copy=function(){return Jy(e,Z7()).constant(e.constant())},Jo.apply(e,arguments)}function XP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kme(e){return e<0?-e*e:e*e}function F6(e){var t=e(gi,gi),n=1;function s(){return n===1?e(gi,gi):n===.5?e(Gme,Kme):e(XP(n),XP(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},wh(t)}function $6(){var e=F6(j2());return e.copy=function(){return Jy(e,$6()).exponent(e.exponent())},Jo.apply(e,arguments),e}function Yme(){return $6.apply(null,arguments).exponent(.5)}function JP(e){return Math.sign(e)*e*e}function Zme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X7(){var e=L6(),t=[0,1],n=!1,s;function a(i){var o=Zme(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(JP(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,T1)).map(JP)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return X7(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},Jo.apply(a,arguments),wh(a)}function J7(){var e=[],t=[],n=[],s;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=tme(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Zy(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ih),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return J7().domain(e).range(t).unknown(s)},Jo.apply(i,arguments)}function Q7(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Zy(s,c,0,n)]:i}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=n?[s[n-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Q7().domain([e,t]).range(a).unknown(i)},Jo.apply(wh(o),arguments)}function eR(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[Zy(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return eR().domain(e).range(t).unknown(n)},Jo.apply(a,arguments)}const AN=new Date,CN=new Date;function oa(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>oa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(AN.setTime(+i),CN.setTime(+o),e(AN),e(CN),Math.floor(n(AN,CN))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const I1=oa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);I1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?oa(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):I1);I1.range;const pd=1e3,Vo=pd*60,gd=Vo*60,kd=gd*24,B6=kd*7,QP=kd*30,PN=kd*365,jf=oa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pd)},(e,t)=>(t-e)/pd,e=>e.getUTCSeconds());jf.range;const z6=oa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pd)},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getMinutes());z6.range;const U6=oa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getUTCMinutes());U6.range;const q6=oa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pd-e.getMinutes()*Vo)},(e,t)=>{e.setTime(+e+t*gd)},(e,t)=>(t-e)/gd,e=>e.getHours());q6.range;const W6=oa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gd)},(e,t)=>(t-e)/gd,e=>e.getUTCHours());W6.range;const Qy=oa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vo)/kd,e=>e.getDate()-1);Qy.range;const N2=oa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kd,e=>e.getUTCDate()-1);N2.range;const tR=oa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kd,e=>Math.floor(e/kd));tR.range;function ym(e){return oa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vo)/B6)}const S2=ym(0),M1=ym(1),Xme=ym(2),Jme=ym(3),cg=ym(4),Qme=ym(5),epe=ym(6);S2.range;M1.range;Xme.range;Jme.range;cg.range;Qme.range;epe.range;function vm(e){return oa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/B6)}const _2=vm(0),D1=vm(1),tpe=vm(2),rpe=vm(3),dg=vm(4),npe=vm(5),spe=vm(6);_2.range;D1.range;tpe.range;rpe.range;dg.range;npe.range;spe.range;const V6=oa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());V6.range;const H6=oa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());H6.range;const Ad=oa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ad.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ad.range;const Cd=oa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Cd.range;function rR(e,t,n,s,a,i){const o=[[jf,1,pd],[jf,5,5*pd],[jf,15,15*pd],[jf,30,30*pd],[i,1,Vo],[i,5,5*Vo],[i,15,15*Vo],[i,30,30*Vo],[a,1,gd],[a,3,3*gd],[a,6,6*gd],[a,12,12*gd],[s,1,kd],[s,2,2*kd],[n,1,B6],[t,1,QP],[t,3,3*QP],[e,1,PN]];function l(d,u,h){const p=u<d;p&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),x=f?f.range(d,+u+1):[];return p?x.reverse():x}function c(d,u,h){const p=Math.abs(u-d)/h,f=C6(([,,v])=>v).right(o,p);if(f===o.length)return e.every(WS(d/PN,u/PN,h));if(f===0)return I1.every(Math.max(WS(d,u,h),1));const[x,g]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return x.every(g)}return[l,c]}const[ape,ipe]=rR(Cd,H6,_2,tR,W6,U6),[ope,lpe]=rR(Ad,V6,S2,Qy,q6,z6);function EN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function TN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cpe(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Zx(a),u=Xx(a),h=Zx(i),p=Xx(i),f=Zx(o),x=Xx(o),g=Zx(l),v=Xx(l),b=Zx(c),_=Xx(c),w={a:K,A:$,b:W,B:te,c:null,d:aE,e:aE,f:Ope,g:Upe,G:Wpe,H:Ppe,I:Epe,j:Tpe,L:nR,m:Lpe,M:Ipe,p:J,q:M,Q:lE,s:cE,S:Mpe,u:Dpe,U:Rpe,V:Fpe,w:$pe,W:Bpe,x:null,X:null,y:zpe,Y:qpe,Z:Vpe,"%":oE},S={a:G,A:X,b:ie,B:re,c:null,d:iE,e:iE,f:Ype,g:age,G:oge,H:Hpe,I:Gpe,j:Kpe,L:aR,m:Zpe,M:Xpe,p:fe,q:we,Q:lE,s:cE,S:Jpe,u:Qpe,U:ege,V:tge,w:rge,W:nge,x:null,X:null,y:sge,Y:ige,Z:lge,"%":oE},A={a:R,A:E,b:I,B,c:z,d:nE,e:nE,f:_pe,g:rE,G:tE,H:sE,I:sE,j:wpe,L:Spe,m:bpe,M:jpe,p:C,q:vpe,Q:Ape,s:Cpe,S:Npe,u:mpe,U:ppe,V:gpe,w:fpe,W:xpe,x:V,X:U,y:rE,Y:tE,Z:ype,"%":kpe};w.x=L(n,w),w.X=L(s,w),w.c=L(t,w),S.x=L(n,S),S.X=L(s,S),S.c=L(t,S);function L(Z,Q){return function(pe){var ge=[],Ae=-1,Ne=0,Y=Z.length,ke,We,Ie;for(pe instanceof Date||(pe=new Date(+pe));++Ae<Y;)Z.charCodeAt(Ae)===37&&(ge.push(Z.slice(Ne,Ae)),(We=eE[ke=Z.charAt(++Ae)])!=null?ke=Z.charAt(++Ae):We=ke==="e"?" ":"0",(Ie=Q[ke])&&(ke=Ie(pe,We)),ge.push(ke),Ne=Ae+1);return ge.push(Z.slice(Ne,Ae)),ge.join("")}}function P(Z,Q){return function(pe){var ge=Yx(1900,void 0,1),Ae=k(ge,Z,pe+="",0),Ne,Y;if(Ae!=pe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Q&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ne=TN(Yx(ge.y,0,1)),Y=Ne.getUTCDay(),Ne=Y>4||Y===0?D1.ceil(Ne):D1(Ne),Ne=N2.offset(Ne,(ge.V-1)*7),ge.y=Ne.getUTCFullYear(),ge.m=Ne.getUTCMonth(),ge.d=Ne.getUTCDate()+(ge.w+6)%7):(Ne=EN(Yx(ge.y,0,1)),Y=Ne.getDay(),Ne=Y>4||Y===0?M1.ceil(Ne):M1(Ne),Ne=Qy.offset(Ne,(ge.V-1)*7),ge.y=Ne.getFullYear(),ge.m=Ne.getMonth(),ge.d=Ne.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Y="Z"in ge?TN(Yx(ge.y,0,1)).getUTCDay():EN(Yx(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Y+5)%7:ge.w+ge.U*7-(Y+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,TN(ge)):EN(ge)}}function k(Z,Q,pe,ge){for(var Ae=0,Ne=Q.length,Y=pe.length,ke,We;Ae<Ne;){if(ge>=Y)return-1;if(ke=Q.charCodeAt(Ae++),ke===37){if(ke=Q.charAt(Ae++),We=A[ke in eE?Q.charAt(Ae++):ke],!We||(ge=We(Z,pe,ge))<0)return-1}else if(ke!=pe.charCodeAt(ge++))return-1}return ge}function C(Z,Q,pe){var ge=d.exec(Q.slice(pe));return ge?(Z.p=u.get(ge[0].toLowerCase()),pe+ge[0].length):-1}function R(Z,Q,pe){var ge=f.exec(Q.slice(pe));return ge?(Z.w=x.get(ge[0].toLowerCase()),pe+ge[0].length):-1}function E(Z,Q,pe){var ge=h.exec(Q.slice(pe));return ge?(Z.w=p.get(ge[0].toLowerCase()),pe+ge[0].length):-1}function I(Z,Q,pe){var ge=b.exec(Q.slice(pe));return ge?(Z.m=_.get(ge[0].toLowerCase()),pe+ge[0].length):-1}function B(Z,Q,pe){var ge=g.exec(Q.slice(pe));return ge?(Z.m=v.get(ge[0].toLowerCase()),pe+ge[0].length):-1}function z(Z,Q,pe){return k(Z,t,Q,pe)}function V(Z,Q,pe){return k(Z,n,Q,pe)}function U(Z,Q,pe){return k(Z,s,Q,pe)}function K(Z){return o[Z.getDay()]}function $(Z){return i[Z.getDay()]}function W(Z){return c[Z.getMonth()]}function te(Z){return l[Z.getMonth()]}function J(Z){return a[+(Z.getHours()>=12)]}function M(Z){return 1+~~(Z.getMonth()/3)}function G(Z){return o[Z.getUTCDay()]}function X(Z){return i[Z.getUTCDay()]}function ie(Z){return c[Z.getUTCMonth()]}function re(Z){return l[Z.getUTCMonth()]}function fe(Z){return a[+(Z.getUTCHours()>=12)]}function we(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Q=L(Z+="",w);return Q.toString=function(){return Z},Q},parse:function(Z){var Q=P(Z+="",!1);return Q.toString=function(){return Z},Q},utcFormat:function(Z){var Q=L(Z+="",S);return Q.toString=function(){return Z},Q},utcParse:function(Z){var Q=P(Z+="",!0);return Q.toString=function(){return Z},Q}}}var eE={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,dpe=/^%/,upe=/[\\^$*+?|[\]().{}]/g;function Qr(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function hpe(e){return e.replace(upe,"\\$&")}function Zx(e){return new RegExp("^(?:"+e.map(hpe).join("|")+")","i")}function Xx(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function fpe(e,t,n){var s=ya.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function mpe(e,t,n){var s=ya.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function ppe(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function gpe(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function xpe(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function tE(e,t,n){var s=ya.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function rE(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function ype(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function vpe(e,t,n){var s=ya.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function bpe(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function nE(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function wpe(e,t,n){var s=ya.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function sE(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function jpe(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function Npe(e,t,n){var s=ya.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Spe(e,t,n){var s=ya.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function _pe(e,t,n){var s=ya.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function kpe(e,t,n){var s=dpe.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function Ape(e,t,n){var s=ya.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function Cpe(e,t,n){var s=ya.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function aE(e,t){return Qr(e.getDate(),t,2)}function Ppe(e,t){return Qr(e.getHours(),t,2)}function Epe(e,t){return Qr(e.getHours()%12||12,t,2)}function Tpe(e,t){return Qr(1+Qy.count(Ad(e),e),t,3)}function nR(e,t){return Qr(e.getMilliseconds(),t,3)}function Ope(e,t){return nR(e,t)+"000"}function Lpe(e,t){return Qr(e.getMonth()+1,t,2)}function Ipe(e,t){return Qr(e.getMinutes(),t,2)}function Mpe(e,t){return Qr(e.getSeconds(),t,2)}function Dpe(e){var t=e.getDay();return t===0?7:t}function Rpe(e,t){return Qr(S2.count(Ad(e)-1,e),t,2)}function sR(e){var t=e.getDay();return t>=4||t===0?cg(e):cg.ceil(e)}function Fpe(e,t){return e=sR(e),Qr(cg.count(Ad(e),e)+(Ad(e).getDay()===4),t,2)}function $pe(e){return e.getDay()}function Bpe(e,t){return Qr(M1.count(Ad(e)-1,e),t,2)}function zpe(e,t){return Qr(e.getFullYear()%100,t,2)}function Upe(e,t){return e=sR(e),Qr(e.getFullYear()%100,t,2)}function qpe(e,t){return Qr(e.getFullYear()%1e4,t,4)}function Wpe(e,t){var n=e.getDay();return e=n>=4||n===0?cg(e):cg.ceil(e),Qr(e.getFullYear()%1e4,t,4)}function Vpe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qr(t/60|0,"0",2)+Qr(t%60,"0",2)}function iE(e,t){return Qr(e.getUTCDate(),t,2)}function Hpe(e,t){return Qr(e.getUTCHours(),t,2)}function Gpe(e,t){return Qr(e.getUTCHours()%12||12,t,2)}function Kpe(e,t){return Qr(1+N2.count(Cd(e),e),t,3)}function aR(e,t){return Qr(e.getUTCMilliseconds(),t,3)}function Ype(e,t){return aR(e,t)+"000"}function Zpe(e,t){return Qr(e.getUTCMonth()+1,t,2)}function Xpe(e,t){return Qr(e.getUTCMinutes(),t,2)}function Jpe(e,t){return Qr(e.getUTCSeconds(),t,2)}function Qpe(e){var t=e.getUTCDay();return t===0?7:t}function ege(e,t){return Qr(_2.count(Cd(e)-1,e),t,2)}function iR(e){var t=e.getUTCDay();return t>=4||t===0?dg(e):dg.ceil(e)}function tge(e,t){return e=iR(e),Qr(dg.count(Cd(e),e)+(Cd(e).getUTCDay()===4),t,2)}function rge(e){return e.getUTCDay()}function nge(e,t){return Qr(D1.count(Cd(e)-1,e),t,2)}function sge(e,t){return Qr(e.getUTCFullYear()%100,t,2)}function age(e,t){return e=iR(e),Qr(e.getUTCFullYear()%100,t,2)}function ige(e,t){return Qr(e.getUTCFullYear()%1e4,t,4)}function oge(e,t){var n=e.getUTCDay();return e=n>=4||n===0?dg(e):dg.ceil(e),Qr(e.getUTCFullYear()%1e4,t,4)}function lge(){return"+0000"}function oE(){return"%"}function lE(e){return+e}function cE(e){return Math.floor(+e/1e3)}var ep,oR,lR;cge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cge(e){return ep=cpe(e),oR=ep.format,ep.parse,lR=ep.utcFormat,ep.utcParse,ep}function dge(e){return new Date(e)}function uge(e){return e instanceof Date?+e:+new Date(+e)}function G6(e,t,n,s,a,i,o,l,c,d){var u=L6(),h=u.invert,p=u.domain,f=d(".%L"),x=d(":%S"),g=d("%I:%M"),v=d("%I %p"),b=d("%a %d"),_=d("%b %d"),w=d("%B"),S=d("%Y");function A(L){return(c(L)<L?f:l(L)<L?x:o(L)<L?g:i(L)<L?v:s(L)<L?a(L)<L?b:_:n(L)<L?w:S)(L)}return u.invert=function(L){return new Date(h(L))},u.domain=function(L){return arguments.length?p(Array.from(L,uge)):p().map(dge)},u.ticks=function(L){var P=p();return e(P[0],P[P.length-1],L??10)},u.tickFormat=function(L,P){return P==null?A:d(P)},u.nice=function(L){var P=p();return(!L||typeof L.range!="function")&&(L=t(P[0],P[P.length-1],L??10)),L?p(K7(P,L)):u},u.copy=function(){return Jy(u,G6(e,t,n,s,a,i,o,l,c,d))},u}function hge(){return Jo.apply(G6(ope,lpe,Ad,V6,S2,Qy,q6,z6,jf,oR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fge(){return Jo.apply(G6(ape,ipe,Cd,H6,_2,N2,W6,U6,jf,lR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k2(){var e=0,t=1,n,s,a,i,o=gi,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(p){var f,x;return arguments.length?([f,x]=p,o=h(f,x),d):[o(0),o(1)]}}return d.range=u(tx),d.rangeRound=u(O6),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,n=h(e),s=h(t),a=n===s?0:1/(s-n),d}}function jh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cR(){var e=wh(k2()(gi));return e.copy=function(){return jh(e,cR())},Md.apply(e,arguments)}function dR(){var e=D6(k2()).domain([1,10]);return e.copy=function(){return jh(e,dR()).base(e.base())},Md.apply(e,arguments)}function uR(){var e=R6(k2());return e.copy=function(){return jh(e,uR()).constant(e.constant())},Md.apply(e,arguments)}function K6(){var e=F6(k2());return e.copy=function(){return jh(e,K6()).exponent(e.exponent())},Md.apply(e,arguments)}function mge(){return K6.apply(null,arguments).exponent(.5)}function hR(){var e=[],t=gi;function n(s){if(s!=null&&!isNaN(s=+s))return t((Zy(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ih),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>eme(e,i/s))},n.copy=function(){return hR(t).domain(e)},Md.apply(n,arguments)}function A2(){var e=0,t=.5,n=1,s=1,a,i,o,l,c,d=gi,u,h=!1,p;function f(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(s*g<s*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,n]=g,a=u(e=+e),i=u(t=+t),o=u(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[e,t,n]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(d=g,f):d};function x(g){return function(v){var b,_,w;return arguments.length?([b,_,w]=v,d=kme(g,[b,_,w]),f):[d(0),d(.5),d(1)]}}return f.range=x(tx),f.rangeRound=x(O6),f.unknown=function(g){return arguments.length?(p=g,f):p},function(g){return u=g,a=g(e),i=g(t),o=g(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function fR(){var e=wh(A2()(gi));return e.copy=function(){return jh(e,fR())},Md.apply(e,arguments)}function mR(){var e=D6(A2()).domain([.1,1,10]);return e.copy=function(){return jh(e,mR()).base(e.base())},Md.apply(e,arguments)}function pR(){var e=R6(A2());return e.copy=function(){return jh(e,pR()).constant(e.constant())},Md.apply(e,arguments)}function Y6(){var e=F6(A2());return e.copy=function(){return jh(e,Y6()).exponent(e.exponent())},Md.apply(e,arguments)}function pge(){return Y6.apply(null,arguments).exponent(.5)}const dE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Z0,scaleDiverging:fR,scaleDivergingLog:mR,scaleDivergingPow:Y6,scaleDivergingSqrt:pge,scaleDivergingSymlog:pR,scaleIdentity:G7,scaleImplicit:VS,scaleLinear:L1,scaleLog:Y7,scaleOrdinal:P6,scalePoint:S0,scalePow:$6,scaleQuantile:J7,scaleQuantize:Q7,scaleRadial:X7,scaleSequential:cR,scaleSequentialLog:dR,scaleSequentialPow:K6,scaleSequentialQuantile:hR,scaleSequentialSqrt:mge,scaleSequentialSymlog:uR,scaleSqrt:Yme,scaleSymlog:Z7,scaleThreshold:eR,scaleTime:hge,scaleUtc:fge,tickFormat:H7},Symbol.toStringTag,{value:"Module"}));var gge=Vg;function xge(e,t,n){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!gge(o):n(o,l)))var l=o,c=i}return c}var C2=xge;function yge(e,t){return e>t}var gR=yge,vge=C2,bge=gR,wge=Qg;function jge(e){return e&&e.length?vge(e,wge,bge):void 0}var Nge=jge;const Ku=en(Nge);function Sge(e,t){return e<t}var xR=Sge,_ge=C2,kge=xR,Age=Qg;function Cge(e){return e&&e.length?_ge(e,Age,kge):void 0}var Pge=Cge;const P2=en(Pge);var Ege=c6,Tge=Oc,Oge=_7,Lge=Fi;function Ige(e,t){var n=Lge(e)?Ege:Oge;return n(e,Tge(t))}var Mge=Ige,Dge=N7,Rge=Mge;function Fge(e,t){return Dge(Rge(e,t),1)}var $ge=Fge;const Bge=en($ge);var zge=S6;function Uge(e,t){return zge(e,t)}var qge=Uge;const tm=en(qge);var rx=1e9,Wge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X6,es=!0,Yo="[DecimalError] ",Bf=Yo+"Invalid argument: ",Z6=Yo+"Exponent out of range: ",nx=Math.floor,df=Math.pow,Vge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fo,ma=1e7,zn=7,yR=9007199254740991,R1=nx(yR/zn),St={};St.absoluteValue=St.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};St.comparedTo=St.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};St.decimalPlaces=St.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};St.dividedBy=St.div=function(e){return bd(this,new this.constructor(e))};St.dividedToIntegerBy=St.idiv=function(e){var t=this,n=t.constructor;return Cn(bd(t,new n(e),0,1),n.precision)};St.equals=St.eq=function(e){return!this.cmp(e)};St.exponent=function(){return Bs(this)};St.greaterThan=St.gt=function(e){return this.cmp(e)>0};St.greaterThanOrEqualTo=St.gte=function(e){return this.cmp(e)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(e){return this.cmp(e)<0};St.lessThanOrEqualTo=St.lte=function(e){return this.cmp(e)<1};St.logarithm=St.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(fo))throw Error(Yo+"NaN");if(n.s<1)throw Error(Yo+(n.s?"NaN":"-Infinity"));return n.eq(fo)?new s(0):(es=!1,t=bd(ty(n,i),ty(e,i),i),es=!0,Cn(t,a))};St.minus=St.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wR(t,e):vR(t,(e.s=-e.s,e))};St.modulo=St.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Yo+"NaN");return n.s?(es=!1,t=bd(n,e,0,1).times(e),es=!0,n.minus(t)):Cn(new s(n),a)};St.naturalExponential=St.exp=function(){return bR(this)};St.naturalLogarithm=St.ln=function(){return ty(this)};St.negated=St.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};St.plus=St.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vR(t,e):wR(t,(e.s=-e.s,e))};St.precision=St.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bf+e);if(t=Bs(a)+1,s=a.d.length-1,n=s*zn+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};St.squareRoot=St.sqrt=function(){var e,t,n,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yo+"NaN")}for(e=Bs(l),es=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=pc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=nx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=s,s=i.plus(bd(l,i,o+2)).times(.5),pc(i.d).slice(0,o)===(t=pc(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Cn(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return es=!0,Cn(s,n)};St.times=St.mul=function(e){var t,n,s,a,i,o,l,c,d,u=this,h=u.constructor,p=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=f.length,c<d&&(i=p,p=f,f=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+f[s]*p[a-s-1]+t,i[a--]=l%ma|0,t=l/ma|0;i[a]=(i[a]+t)%ma|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,es?Cn(e,h.precision):e};St.toDecimalPlaces=St.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Cc(e,0,rx),t===void 0?t=s.rounding:Cc(t,0,8),Cn(n,e+Bs(n)+1,t))};St.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=rm(s,!0):(Cc(e,0,rx),t===void 0?t=a.rounding:Cc(t,0,8),s=Cn(new a(s),e+1,t),n=rm(s,!0,e+1)),n};St.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?rm(a):(Cc(e,0,rx),t===void 0?t=i.rounding:Cc(t,0,8),s=Cn(new i(a),e+Bs(a)+1,t),n=rm(s.abs(),!1,e+Bs(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};St.toInteger=St.toint=function(){var e=this,t=e.constructor;return Cn(new t(e),Bs(e)+1,t.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(e){var t,n,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(fo);if(l=new c(l),!l.s){if(e.s<1)throw Error(Yo+"Infinity");return l}if(l.eq(fo))return l;if(s=c.precision,e.eq(fo))return Cn(l,s);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=u<0?-u:u)<=yR){for(a=new c(fo),t=Math.ceil(s/zn+4),es=!1;n%2&&(a=a.times(l),hE(a.d,t)),n=nx(n/2),n!==0;)l=l.times(l),hE(l.d,t);return es=!0,e.s<0?new c(fo).div(a):Cn(a,s)}}else if(i<0)throw Error(Yo+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,es=!1,a=e.times(ty(l,s+d)),es=!0,a=bR(a),a.s=i,a};St.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=Bs(a),s=rm(a,n<=i.toExpNeg||n>=i.toExpPos)):(Cc(e,1,rx),t===void 0?t=i.rounding:Cc(t,0,8),a=Cn(new i(a),e,t),n=Bs(a),s=rm(a,e<=n||n<=i.toExpNeg,e)),s};St.toSignificantDigits=St.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Cc(e,1,rx),t===void 0?t=s.rounding:Cc(t,0,8)),Cn(new s(n),e,t)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bs(e),n=e.constructor;return rm(e,t<=n.toExpNeg||t>=n.toExpPos)};function vR(e,t){var n,s,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),es?Cn(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/zn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/ma|0,c[i]%=ma;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,es?Cn(t,h):t}function Cc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bf+e)}function pc(e){var t,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",n=zn-s.length,n&&(i+=Lu(n)),i+=s;o=e[t],s=o+"",n=zn-s.length,n&&(i+=Lu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var bd=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%ma|0,o=i/ma|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*ma+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,p,f,x,g,v,b,_,w,S,A,L,P,k,C=s.constructor,R=s.s==a.s?1:-1,E=s.d,I=a.d;if(!s.s)return new C(s);if(!a.s)throw Error(Yo+"Division by zero");for(c=s.e-a.e,P=I.length,A=E.length,f=new C(R),x=f.d=[],d=0;I[d]==(E[d]||0);)++d;if(I[d]>(E[d]||0)&&--c,i==null?_=i=C.precision:o?_=i+(Bs(s)-Bs(a))+1:_=i,_<0)return new C(0);if(_=_/zn+2|0,d=0,P==1)for(u=0,I=I[0],_++;(d<A||u)&&_--;d++)w=u*ma+(E[d]||0),x[d]=w/I|0,u=w%I|0;else{for(u=ma/(I[0]+1)|0,u>1&&(I=e(I,u),E=e(E,u),P=I.length,A=E.length),S=P,g=E.slice(0,P),v=g.length;v<P;)g[v++]=0;k=I.slice(),k.unshift(0),L=I[0],I[1]>=ma/2&&++L;do u=0,l=t(I,g,P,v),l<0?(b=g[0],P!=v&&(b=b*ma+(g[1]||0)),u=b/L|0,u>1?(u>=ma&&(u=ma-1),h=e(I,u),p=h.length,v=g.length,l=t(h,g,p,v),l==1&&(u--,n(h,P<p?k:I,p))):(u==0&&(l=u=1),h=I.slice()),p=h.length,p<v&&h.unshift(0),n(g,h,v),l==-1&&(v=g.length,l=t(I,g,P,v),l<1&&(u++,n(g,P<v?k:I,v))),v=g.length):l===0&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[v++]=E[S]||0:(g=[E[S]],v=1);while((S++<A||g[0]!==void 0)&&_--)}return x[0]||x.shift(),f.e=c,Cn(f,o?i+Bs(f)+1:i)}}();function bR(e,t){var n,s,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Bs(e)>16)throw Error(Z6+Bs(e));if(!e.s)return new u(fo);for(t==null?(es=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(df(2,d))/Math.LN10*2+5|0,l+=s,n=a=i=new u(fo),u.precision=l;;){if(a=Cn(a.times(e),l),n=n.times(++c),o=i.plus(bd(a,n,l)),pc(o.d).slice(0,l)===pc(i.d).slice(0,l)){for(;d--;)i=Cn(i.times(i),l);return u.precision=h,t==null?(es=!0,Cn(i,h)):i}i=o}}function Bs(e){for(var t=e.e*zn,n=e.d[0];n>=10;n/=10)t++;return t}function ON(e,t,n){if(t>e.LN10.sd())throw es=!0,n&&(e.precision=n),Error(Yo+"LN10 precision limit exceeded");return Cn(new e(e.LN10),t)}function Lu(e){for(var t="";e--;)t+="0";return t}function ty(e,t){var n,s,a,i,o,l,c,d,u,h=1,p=10,f=e,x=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(Yo+(f.s?"NaN":"-Infinity"));if(f.eq(fo))return new g(0);if(t==null?(es=!1,d=v):d=t,f.eq(10))return t==null&&(es=!0),ON(g,d);if(d+=p,g.precision=d,n=pc(x),s=n.charAt(0),i=Bs(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)f=f.times(e),n=pc(f.d),s=n.charAt(0),h++;i=Bs(f),s>1?(f=new g("0."+n),i++):f=new g(s+"."+n.slice(1))}else return c=ON(g,d+2,v).times(i+""),f=ty(new g(s+"."+n.slice(1)),d-p).plus(c),g.precision=v,t==null?(es=!0,Cn(f,v)):f;for(l=o=f=bd(f.minus(fo),f.plus(fo),d),u=Cn(f.times(f),d),a=3;;){if(o=Cn(o.times(u),d),c=l.plus(bd(o,new g(a),d)),pc(c.d).slice(0,d)===pc(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(ON(g,d+2,v).times(i+""))),l=bd(l,new g(h),d),g.precision=v,t==null?(es=!0,Cn(l,v)):l;l=c,a+=2}}function uE(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=nx(n/zn),e.d=[],s=(n+1)%zn,n<0&&(s+=zn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=zn;s<a;)e.d.push(+t.slice(s,s+=zn));t=t.slice(s),s=zn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),es&&(e.e>R1||e.e<-R1))throw Error(Z6+n)}else e.s=0,e.e=0,e.d=[0];return e}function Cn(e,t,n){var s,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=zn,a=t,d=h[u=0];else{if(u=Math.ceil((s+1)/zn),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=zn,a=s-zn+o}if(n!==void 0&&(i=df(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?a>0?d/df(10,o-a):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=Bs(e),h.length=1,t=t-i-1,h[0]=df(10,(zn-t%zn)%zn),e.e=nx(-t/zn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=df(10,zn-s),h[u]=a>0?(d/df(10,o-a)%df(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==ma&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=ma)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(es&&(e.e>R1||e.e<-R1))throw Error(Z6+Bs(e));return e}function wR(e,t){var n,s,a,i,o,l,c,d,u,h,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),es?Cn(t,f):t;if(c=e.d,h=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(n=c,o=-o,l=h.length):(n=h,s=d,l=c.length),a=Math.max(Math.ceil(f/zn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=ma-1;--c[i],c[a]+=ma}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,es?Cn(t,f):t):new p(0)}function rm(e,t,n){var s,a=Bs(e),i=pc(e.d),o=i.length;return t?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Lu(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Lu(-a-1)+i,n&&(s=n-o)>0&&(i+=Lu(s))):a>=o?(i+=Lu(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+Lu(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=Lu(s))),e.s<0?"-"+i:i}function hE(e,t){if(e.length>t)return e.length=t,!0}function jR(e){var t,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return uE(o,i.toString())}else if(typeof i!="string")throw Error(Bf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Vge.test(i))uE(o,i);else throw Error(Bf+i)}if(a.prototype=St,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jR,a.config=a.set=Hge,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function Hge(e){if(!e||typeof e!="object")throw Error(Yo+"Object expected");var t,n,s,a=["precision",1,rx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(nx(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(Bf+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Bf+n+": "+s);return this}var X6=jR(Wge);fo=new X6(1);const Nn=X6;function Gge(e){return Xge(e)||Zge(e)||Yge(e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yge(e,t){if(e){if(typeof e=="string")return YS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(e,t)}}function Zge(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Xge(e){if(Array.isArray(e))return YS(e)}function YS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Jge=function(t){return t},NR={"@@functional/placeholder":!0},SR=function(t){return t===NR},fE=function(t){return function n(){return arguments.length===0||arguments.length===1&&SR(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Qge=function e(t,n){return t===1?n:fE(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==NR}).length;return o>=t?n.apply(void 0,a):e(t-o,fE(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return SR(h)?c.shift():h});return n.apply(void 0,Gge(u).concat(c))}))})},E2=function(t){return Qge(t.length,t)},ZS=function(t,n){for(var s=[],a=t;a<n;++a)s[a-t]=a;return s},exe=E2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),txe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return Jge;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},XS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_R=function(t){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,s=t.apply(void 0,i)),s}};function rxe(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function nxe(e,t,n){for(var s=new Nn(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var sxe=E2(function(e,t,n){var s=+e,a=+t;return s+n*(a-s)}),axe=E2(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),ixe=E2(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const T2={rangeStep:nxe,getDigitCount:rxe,interpolateNumber:sxe,uninterpolateNumber:axe,uninterpolateTruncation:ixe};function JS(e){return cxe(e)||lxe(e)||kR(e)||oxe()}function oxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cxe(e){if(Array.isArray(e))return QS(e)}function ry(e,t){return hxe(e)||uxe(e,t)||kR(e,t)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kR(e,t){if(e){if(typeof e=="string")return QS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(e,t)}}function QS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function uxe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function hxe(e){if(Array.isArray(e))return e}function AR(e){var t=ry(e,2),n=t[0],s=t[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function CR(e,t,n){if(e.lte(0))return new Nn(0);var s=T2.getDigitCount(e.toNumber()),a=new Nn(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Nn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Nn(Math.ceil(c))}function fxe(e,t,n){var s=1,a=new Nn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new Nn(10).pow(T2.getDigitCount(e)-1),a=new Nn(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):n||(a=new Nn(Math.floor(e)));var o=Math.floor((t-1)/2),l=txe(exe(function(c){return a.add(new Nn(c-o).mul(s)).toNumber()}),ZS);return l(0,t)}function PR(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var i=CR(new Nn(t).sub(e).div(n-1),s,a),o;e<=0&&t>=0?o=new Nn(0):(o=new Nn(e).add(t).div(2),o=o.sub(new Nn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Nn(t).sub(o).div(i).toNumber()),d=l+c+1;return d>n?PR(e,t,n,s,a+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:i,tickMin:o.sub(new Nn(l).mul(i)),tickMax:o.add(new Nn(c).mul(i))})}function mxe(e){var t=ry(e,2),n=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=AR([n,s]),c=ry(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(JS(ZS(0,a-1).map(function(){return 1/0}))):[].concat(JS(ZS(0,a-1).map(function(){return-1/0})),[u]);return n>s?XS(h):h}if(d===u)return fxe(d,a,i);var p=PR(d,u,o,i),f=p.step,x=p.tickMin,g=p.tickMax,v=T2.rangeStep(x,g.add(new Nn(.1).mul(f)),f);return n>s?XS(v):v}function pxe(e,t){var n=ry(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=AR([s,a]),l=ry(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),h=CR(new Nn(d).sub(c).div(u-1),i,0),p=[].concat(JS(T2.rangeStep(new Nn(c),new Nn(d).sub(new Nn(.99).mul(h)),h)),[d]);return s>a?XS(p):p}var gxe=_R(mxe),xxe=_R(pxe),yxe="Invariant failed";function nm(e,t){throw new Error(yxe)}var vxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},F1.apply(this,arguments)}function bxe(e,t){return Sxe(e)||Nxe(e,t)||jxe(e,t)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(e,t){if(e){if(typeof e=="string")return mE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Nxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Sxe(e){if(Array.isArray(e))return e}function _xe(e,t){if(e==null)return{};var n=kxe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kxe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Axe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cxe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OR(s.key),s)}}function Pxe(e,t,n){return t&&Cxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Exe(e,t,n){return t=$1(t),Txe(e,ER()?Reflect.construct(t,n||[],$1(e).constructor):t.apply(e,n))}function Txe(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(e)}function Oxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ER(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!e})()}function $1(e){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$1(e)}function Lxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},e_(e,t)}function TR(e,t,n){return t=OR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OR(e){var t=Ixe(e,"string");return ug(t)=="symbol"?t:t+""}function Ixe(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ev=function(e){function t(){return Axe(this,t),Exe(this,t,arguments)}return Lxe(t,e),Pxe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,p=_xe(s,vxe),f=Ot(p,!1);this.props.direction==="x"&&u.type!=="number"&&nm();var x=c.map(function(g){var v=d(g,l),b=v.x,_=v.y,w=v.value,S=v.errorVal;if(!S)return null;var A=[],L,P;if(Array.isArray(S)){var k=bxe(S,2);L=k[0],P=k[1]}else L=P=S;if(i==="vertical"){var C=u.scale,R=_+a,E=R+o,I=R-o,B=C(w-L),z=C(w+P);A.push({x1:z,y1:E,x2:z,y2:I}),A.push({x1:B,y1:R,x2:z,y2:R}),A.push({x1:B,y1:E,x2:B,y2:I})}else if(i==="horizontal"){var V=h.scale,U=b+a,K=U-o,$=U+o,W=V(w-L),te=V(w+P);A.push({x1:K,y1:te,x2:$,y2:te}),A.push({x1:U,y1:W,x2:U,y2:te}),A.push({x1:K,y1:W,x2:$,y2:W})}return xe.createElement(Lr,F1({className:"recharts-errorBar",key:"bar-".concat(A.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},f),A.map(function(J){return xe.createElement("line",F1({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return xe.createElement(Lr,{className:"recharts-errorBars"},x)}}])}(xe.Component);TR(ev,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TR(ev,"displayName","ErrorBar");function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(s){Mxe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mxe(e,t,n){return t=Dxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dxe(e){var t=Rxe(e,"string");return ny(t)=="symbol"?t:t+""}function Rxe(e,t){if(ny(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ny(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LR=function(t){var n=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=lo(n,ah);if(!o)return null;var l=ah.defaultProps,c=l!==void 0?nf(nf({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var p=h.item,f=h.props,x=f.sectors||f.data||[];return u.concat(x.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(s||[]).map(function(u){var h=u.item,p=h.type.defaultProps,f=p!==void 0?nf(nf({},p),h.props):{},x=f.dataKey,g=f.name,v=f.legendType,b=f.hide;return{inactive:b,dataKey:x,type:c.iconType||v||"square",color:J6(h),value:g||x,payload:f}}),nf(nf(nf({},c),ah.getWithHeight(o,a)),{},{payload:d,item:o})};function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function gE(e){return zxe(e)||Bxe(e)||$xe(e)||Fxe()}function Fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $xe(e,t){if(e){if(typeof e=="string")return t_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(e,t)}}function Bxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zxe(e){if(Array.isArray(e))return t_(e)}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(s){Op(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Op(e,t,n){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uxe(e){var t=qxe(e,"string");return sy(t)=="symbol"?t:t+""}function qxe(e,t){if(sy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(sy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(e,t,n){return ar(e)||ar(t)?n:na(t)?xo(e,t,n):Yt(t)?t(e):n}function _0(e,t,n,s){var a=Bge(e,function(l){return Ps(l,t)});if(n==="number"){var i=a.filter(function(l){return dt(l)||parseFloat(l)});return i.length?[P2(i),Ku(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!ar(l)}):a;return o.map(function(l){return na(l)||l instanceof Date?l:""})}var Wxe=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,p=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(mi(h-u)!==mi(p-h)){var x=[];if(mi(p-h)===mi(c[1]-c[0])){f=p;var g=h+c[1]-c[0];x[0]=Math.min(g,(g+u)/2),x[1]=Math.max(g,(g+u)/2)}else{f=u;var v=p+c[1]-c[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var _=Math.min(u,p),w=Math.max(u,p);if(t>(_+h)/2&&t<=(w+h)/2){o=a[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(s[S].coordinate+s[S+1].coordinate)/2||S>0&&S<l-1&&t>(s[S].coordinate+s[S-1].coordinate)/2&&t<=(s[S].coordinate+s[S+1].coordinate)/2||S===l-1&&t>(s[S].coordinate+s[S-1].coordinate)/2){o=s[S].index;break}return o},J6=function(t){var n,s=t,a=s.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?vs(vs({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Vxe=function(t){var n=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),p=0,f=h.length;p<f;p++){var x=u[h[p]],g=x.items,v=x.cateAxisId,b=g.filter(function(P){return vd(P.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?vs(vs({},_),b[0].props):b[0].props,S=w.barSize,A=w[v];o[A]||(o[A]=[]);var L=ar(S)?n:S;o[A].push({item:b[0],stackList:b.slice(1),barSize:ar(L)?void 0:pi(L,s,0)})}}return o},Hxe=function(t){var n=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=pi(n,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=a/c,x=o.reduce(function(S,A){return S+A.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&f>0&&(p=!0,f*=.9,x=c*f);var g=(a-x)/2>>0,v={offset:g-d,size:0};u=o.reduce(function(S,A){var L={item:A.item,position:{offset:v.offset+v.size+d,size:p?f:A.barSize}},P=[].concat(gE(S),[L]);return v=P[P.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(k){P.push({item:k,position:v})}),P},h)}else{var b=pi(s,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var _=(a-2*b-(c-1)*d)/c;_>1&&(_>>=0);var w=l===+l?Math.min(_,l):_;u=o.reduce(function(S,A,L){var P=[].concat(gE(S),[{item:A.item,position:{offset:b+(_+d)*L+(_-w)/2,size:w}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(k){P.push({item:k,position:P[P.length-1].position})}),P},h)}return u},Gxe=function(t,n,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=LR({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,p=u.height,f=d.align,x=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&f!=="center"&&dt(t[f]))return vs(vs({},t),{},Op({},f,t[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&x!=="middle"&&dt(t[x]))return vs(vs({},t),{},Op({},x,t[x]+(p||0)))}return t},Kxe=function(t,n,s){return ar(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},IR=function(t,n,s,a,i){var o=n.props.children,l=yo(o,ev).filter(function(d){return Kxe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=Ps(u,s);if(ar(h))return d;var p=Array.isArray(h)?[P2(h),Ku(h)]:[h,h],f=c.reduce(function(x,g){var v=Ps(u,g,0),b=p[0]-Math.abs(Array.isArray(v)?v[0]:v),_=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},Yxe=function(t,n,s,a,i){var o=n.map(function(l){return IR(t,l,s,i,a)}).filter(function(l){return!ar(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},MR=function(t,n,s,a,i){var o=n.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&IR(t,c,d,a)||_0(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},DR=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},RR=function(t,n,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(s),l},xd=function(t,n,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&l?.length>=2?mi(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var p=i?i.indexOf(h):h;return{coordinate:a(p)+d,value:h,offset:d}});return u.filter(function(h){return!Zg(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,p){return{coordinate:a(h)+d,value:h,index:p,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,p){return{coordinate:a(h)+d,value:i?i[h]:h,index:p,offset:d}})},LN=new WeakMap,hb=function(t,n){if(typeof n!="function")return t;LN.has(t)||LN.set(t,new WeakMap);var s=LN.get(t);if(s.has(n))return s.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},FR=function(t,n,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Z0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:L1(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:S0(),realScaleType:"point"}:i==="category"?{scale:Z0(),realScaleType:"band"}:{scale:L1(),realScaleType:"linear"};if(Jf(a)){var c="scale".concat(p2(a));return{scale:(dE[c]||S0)(),realScaleType:dE[c]?c:"point"}}return Yt(a)?{scale:a}:{scale:S0(),realScaleType:"point"}},yE=1e-4,$R=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,a=t.range(),i=Math.min(a[0],a[1])-yE,o=Math.max(a[0],a[1])+yE,l=t(n[0]),c=t(n[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[s-1]])}},Zxe=function(t,n){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===n)return t[s].position;return null},Xxe=function(t,n){if(!n||n.length!==2||!dt(n[0])||!dt(n[1]))return t;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!dt(t[0])||t[0]<s)&&(i[0]=s),(!dt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},Jxe=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var c=Zg(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},Qxe=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Zg(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},e0e={sign:Jxe,expand:vse,none:ng,silhouette:bse,wiggle:wse,positive:Qxe},t0e=function(t,n,s){var a=n.map(function(l){return l.props.dataKey}),i=e0e[s],o=yse().keys(a).value(function(l,c){return+Ps(l,c,0)}).order(kS).offset(i);return o(t)},r0e=function(t,n,s,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(h,p){var f,x=(f=p.type)!==null&&f!==void 0&&f.defaultProps?vs(vs({},p.type.defaultProps),p.props):p.props,g=x.stackId,v=x.hide;if(v)return h;var b=x[s],_=h[b]||{hasStack:!1,stackGroups:{}};if(na(g)){var w=_.stackGroups[g]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(p),_.hasStack=!0,_.stackGroups[g]=w}else _.stackGroups[xm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[p]};return vs(vs({},h),{},Op({},b,_))},c),u={};return Object.keys(d).reduce(function(h,p){var f=d[p];if(f.hasStack){var x={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,v){var b=f.stackGroups[v];return vs(vs({},g),{},Op({},v,{numericAxisId:s,cateAxisId:a,items:b.items,stackedData:t0e(t,b.items,i)}))},x)}return vs(vs({},h),{},Op({},p,f))},u)},BR=function(t,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=gxe(d,i,l);return t.domain([P2(u),Ku(u)]),{niceTicks:u}}if(i&&a==="number"){var h=t.domain(),p=xxe(h,i,l);return{niceTicks:p}}return null};function B1(e){var t=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ar(a[t.dataKey])){var l=h1(n,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Ps(a,ar(o)?t.dataKey:o);return ar(c)?null:t.scale(c)}var vE=function(t){var n=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var c=Ps(o,n.dataKey,n.domain[l]);return ar(c)?null:n.scale(c)-i/2+a},n0e=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},s0e=function(t,n){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?vs(vs({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(na(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},a0e=function(t){return t.reduce(function(n,s){return[P2(s.concat([n[0]]).filter(dt)),Ku(s.concat([n[1]]).filter(dt))]},[1/0,-1/0])},zR=function(t,n,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=a0e(u.slice(n,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},bE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r_=function(t,n,s){if(Yt(t))return t(n,s);if(!Array.isArray(t))return n;var a=[];if(dt(t[0]))a[0]=s?t[0]:Math.min(t[0],n[0]);else if(bE.test(t[0])){var i=+bE.exec(t[0])[1];a[0]=n[0]-i}else Yt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(dt(t[1]))a[1]=s?t[1]:Math.max(t[1],n[1]);else if(wE.test(t[1])){var o=+wE.exec(t[1])[1];a[1]=n[1]+o}else Yt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},z1=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&n&&n.length>=2){for(var i=k6(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},jE=function(t,n,s){return!t||!t.length||tm(t,xo(s,"type.defaultProps.domain"))?n:t},UR=function(t,n){var s=t.type.defaultProps?vs(vs({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return vs(vs({},Ot(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:J6(t),value:Ps(n,a),type:c,payload:n,chartType:d,hide:u})};function ay(e){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(e)}function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(s){qR(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qR(e,t,n){return t=i0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0e(e){var t=o0e(e,"string");return ay(t)=="symbol"?t:t+""}function o0e(e,t){if(ay(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ay(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l0e(e,t){return h0e(e)||u0e(e,t)||d0e(e,t)||c0e()}function c0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(e,t){if(e){if(typeof e=="string")return SE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(e,t)}}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function u0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h0e(e){if(Array.isArray(e))return e}var U1=Math.PI/180,f0e=function(t){return t*180/Math.PI},Ln=function(t,n,s,a){return{x:t+Math.cos(-U1*a)*s,y:n+Math.sin(-U1*a)*s}},WR=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},m0e=function(t,n,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=pi(t.cx,o,o/2),h=pi(t.cy,l,l/2),p=WR(o,l,s),f=pi(t.innerRadius,p,0),x=pi(t.outerRadius,p,p*.8),g=Object.keys(n);return g.reduce(function(v,b){var _=n[b],w=_.domain,S=_.reversed,A;if(ar(_.range))a==="angleAxis"?A=[c,d]:a==="radiusAxis"&&(A=[f,x]),S&&(A=[A[1],A[0]]);else{A=_.range;var L=A,P=l0e(L,2);c=P[0],d=P[1]}var k=FR(_,i),C=k.realScaleType,R=k.scale;R.domain(w).range(A),$R(R);var E=BR(R,ld(ld({},_),{},{realScaleType:C})),I=ld(ld(ld({},_),E),{},{range:A,radius:x,realScaleType:C,scale:R,cx:u,cy:h,innerRadius:f,outerRadius:x,startAngle:c,endAngle:d});return ld(ld({},v),{},qR({},b,I))},{})},p0e=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},g0e=function(t,n){var s=t.x,a=t.y,i=n.cx,o=n.cy,l=p0e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:f0e(d),angleInRadian:d}},x0e=function(t){var n=t.startAngle,s=t.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},y0e=function(t,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},_E=function(t,n){var s=t.x,a=t.y,i=g0e({x:s,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=x0e(n),h=u.startAngle,p=u.endAngle,f=l,x;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;x=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;x=f>=p&&f<=h}return x?ld(ld({},n),{},{radius:o,angle:y0e(f,n)}):null},VR=function(t){return!j.isValidElement(t)&&!Yt(t)&&typeof t!="boolean"?t.className:""};function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}var v0e=["offset"];function b0e(e){return S0e(e)||N0e(e)||j0e(e)||w0e()}function w0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(e,t){if(e){if(typeof e=="string")return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}}function N0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S0e(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _0e(e,t){if(e==null)return{};var n=k0e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function k0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(s){A0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function A0e(e,t,n){return t=C0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C0e(e){var t=P0e(e,"string");return iy(t)=="symbol"?t:t+""}function P0e(e,t){if(iy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(iy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oy.apply(this,arguments)}var E0e=function(t){var n=t.value,s=t.formatter,a=ar(t.children)?n:t.children;return Yt(s)?s(a):a},T0e=function(t,n){var s=mi(n-t),a=Math.min(Math.abs(n-t),360);return s*a},O0e=function(t,n,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,p=c.outerRadius,f=c.startAngle,x=c.endAngle,g=c.clockWise,v=(h+p)/2,b=T0e(f,x),_=b>=0?1:-1,w,S;a==="insideStart"?(w=f+_*o,S=g):a==="insideEnd"?(w=x-_*o,S=!g):a==="end"&&(w=x+_*o,S=g),S=b<=0?S:!S;var A=Ln(d,u,v,w),L=Ln(d,u,v,w+(S?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(L.x,",").concat(L.y),k=ar(t.id)?xm("recharts-radial-line-"):t.id;return xe.createElement("text",oy({},s,{dominantBaseline:"central",className:or("recharts-radial-bar-label",l)}),xe.createElement("defs",null,xe.createElement("path",{id:k,d:P})),xe.createElement("textPath",{xlinkHref:"#".concat(k)},n))},L0e=function(t){var n=t.viewBox,s=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,p=(u+h)/2;if(a==="outside"){var f=Ln(o,l,d+s,p),x=f.x,g=f.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,b=Ln(o,l,v,p),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},I0e=function(t){var n=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,p=h*a,f=h>0?"end":"start",x=h>0?"start":"end",g=d>=0?1:-1,v=g*a,b=g>0?"end":"start",_=g>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return Xs(Xs({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:x};return Xs(Xs({},S),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var A={x:l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Xs(Xs({},A),s?{width:Math.max(A.x-s.x,0),height:u}:{})}if(i==="right"){var L={x:l+d+v,y:c+u/2,textAnchor:_,verticalAnchor:"middle"};return Xs(Xs({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:u}:{})}var P=s?{width:d,height:u}:{};return i==="insideLeft"?Xs({x:l+v,y:c+u/2,textAnchor:_,verticalAnchor:"middle"},P):i==="insideRight"?Xs({x:l+d-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?Xs({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:x},P):i==="insideBottom"?Xs({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:f},P):i==="insideTopLeft"?Xs({x:l+v,y:c+p,textAnchor:_,verticalAnchor:x},P):i==="insideTopRight"?Xs({x:l+d-v,y:c+p,textAnchor:b,verticalAnchor:x},P):i==="insideBottomLeft"?Xs({x:l+v,y:c+u-p,textAnchor:_,verticalAnchor:f},P):i==="insideBottomRight"?Xs({x:l+d-v,y:c+u-p,textAnchor:b,verticalAnchor:f},P):Hg(i)&&(dt(i.x)||bf(i.x))&&(dt(i.y)||bf(i.y))?Xs({x:l+pi(i.x,d),y:c+pi(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):Xs({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},M0e=function(t){return"cx"in t&&dt(t.cx)};function xa(e){var t=e.offset,n=t===void 0?5:t,s=_0e(e,v0e),a=Xs({offset:n},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,p=a.textBreakAll;if(!i||ar(l)&&ar(c)&&!j.isValidElement(d)&&!Yt(d))return null;if(j.isValidElement(d))return j.cloneElement(d,a);var f;if(Yt(d)){if(f=j.createElement(d,a),j.isValidElement(f))return f}else f=E0e(a);var x=M0e(i),g=Ot(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return O0e(a,f,g);var v=x?L0e(a):I0e(a);return xe.createElement(em,oy({className:or("recharts-label",h)},g,v,{breakAll:p}),f)}xa.displayName="Label";var HR=function(t){var n=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,p=t.y,f=t.top,x=t.left,g=t.width,v=t.height,b=t.clockWise,_=t.labelViewBox;if(_)return _;if(dt(g)&&dt(v)){if(dt(h)&&dt(p))return{x:h,y:p,width:g,height:v};if(dt(f)&&dt(x))return{x:f,y:x,width:g,height:v}}return dt(h)&&dt(p)?{x:h,y:p,width:0,height:0}:dt(n)&&dt(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},D0e=function(t,n){return t?t===!0?xe.createElement(xa,{key:"label-implicit",viewBox:n}):na(t)?xe.createElement(xa,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===xa?j.cloneElement(t,{key:"label-implicit",viewBox:n}):xe.createElement(xa,{key:"label-implicit",content:t,viewBox:n}):Yt(t)?xe.createElement(xa,{key:"label-implicit",content:t,viewBox:n}):Hg(t)?xe.createElement(xa,oy({viewBox:n},t,{key:"label-implicit"})):null:null},R0e=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=HR(t),o=yo(a,xa).map(function(c,d){return j.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!s)return o;var l=D0e(t.label,n||i);return[l].concat(b0e(o))};xa.parseViewBox=HR;xa.renderCallByParent=R0e;function F0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $0e=F0e;const B0e=en($0e);function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}var z0e=["valueAccessor"],U0e=["data","dataKey","clockWise","id","textBreakAll"];function q0e(e){return G0e(e)||H0e(e)||V0e(e)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(e,t){if(e){if(typeof e=="string")return s_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(e,t)}}function H0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G0e(e){if(Array.isArray(e))return s_(e)}function s_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},q1.apply(this,arguments)}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(s){K0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function K0e(e,t,n){return t=Y0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y0e(e){var t=Z0e(e,"string");return ly(t)=="symbol"?t:t+""}function Z0e(e,t){if(ly(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(ly(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PE(e,t){if(e==null)return{};var n=X0e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function X0e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var J0e=function(t){return Array.isArray(t.value)?B0e(t.value):t.value};function wc(e){var t=e.valueAccessor,n=t===void 0?J0e:t,s=PE(e,z0e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=PE(s,U0e);return!a||!a.length?null:xe.createElement(Lr,{className:"recharts-label-list"},a.map(function(u,h){var p=ar(i)?n(u,h):Ps(u&&u.payload,i),f=ar(l)?{}:{id:"".concat(l,"-").concat(h)};return xe.createElement(xa,q1({},Ot(u,!0),d,f,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:xa.parseViewBox(ar(o)?u:CE(CE({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}wc.displayName="LabelList";function Q0e(e,t){return e?e===!0?xe.createElement(wc,{key:"labelList-implicit",data:t}):xe.isValidElement(e)||Yt(e)?xe.createElement(wc,{key:"labelList-implicit",data:t,content:e}):Hg(e)?xe.createElement(wc,q1({data:t},e,{key:"labelList-implicit"})):null:null}function eye(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=yo(s,wc).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=Q0e(e.label,t);return[i].concat(q0e(a))}wc.renderCallByParent=eye;function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a_.apply(this,arguments)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function TE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(s){tye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function tye(e,t,n){return t=rye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rye(e){var t=nye(e,"string");return cy(t)=="symbol"?t:t+""}function nye(e,t){if(cy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(cy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sye=function(t,n){var s=mi(n-t),a=Math.min(Math.abs(n-t),359.999);return s*a},fb=function(t){var n=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/U1,p=d?i:i+o*h,f=Ln(n,s,u,p),x=Ln(n,s,a,p),g=d?i-o*h:i,v=Ln(n,s,u*Math.cos(h*U1),g);return{center:f,circleTangency:x,lineTangency:v,theta:h}},GR=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=sye(o,l),d=o+c,u=Ln(n,s,i,o),h=Ln(n,s,i,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=Ln(n,s,a,o),x=Ln(n,s,a,d);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(n,",").concat(s," Z");return p},aye=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=mi(u-d),p=fb({cx:n,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=p.circleTangency,x=p.lineTangency,g=p.theta,v=fb({cx:n,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,_=v.lineTangency,w=v.theta,S=c?Math.abs(d-u):Math.abs(d-u)-g-w;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GR({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var A="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var L=fb({cx:n,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=L.circleTangency,k=L.lineTangency,C=L.theta,R=fb({cx:n,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=R.circleTangency,I=R.lineTangency,B=R.theta,z=c?Math.abs(d-u):Math.abs(d-u)-C-B;if(z<0&&o===0)return"".concat(A,"L").concat(n,",").concat(s,"Z");A+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else A+="L".concat(n,",").concat(s,"Z");return A},iye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KR=function(t){var n=TE(TE({},iye),t),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,p=n.className;if(o<i||u===h)return null;var f=or("recharts-sector",p),x=o-i,g=pi(l,x,0,!0),v;return g>0&&Math.abs(u-h)<360?v=aye({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):v=GR({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),xe.createElement("path",a_({},Ot(n,!0),{className:f,d:v,role:"img"}))};function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i_.apply(this,arguments)}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(s){oye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oye(e,t,n){return t=lye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lye(e){var t=cye(e,"string");return dy(t)=="symbol"?t:t+""}function cye(e,t){if(dy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(dy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IE={curveBasisClosed:ose,curveBasisOpen:lse,curveBasis:ise,curveBumpX:Hne,curveBumpY:Gne,curveLinearClosed:cse,curveLinear:x2,curveMonotoneX:dse,curveMonotoneY:use,curveNatural:hse,curveStep:fse,curveStepAfter:pse,curveStepBefore:mse},mb=function(t){return t.x===+t.x&&t.y===+t.y},Jx=function(t){return t.x},Qx=function(t){return t.y},dye=function(t,n){if(Yt(t))return t;var s="curve".concat(p2(t));return(s==="curveMonotone"||s==="curveBump")&&n?IE["".concat(s).concat(n==="vertical"?"Y":"X")]:IE[s]||x2},uye=function(t){var n=t.type,s=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=dye(s,l),h=d?i.filter(function(g){return mb(g)}):i,p;if(Array.isArray(o)){var f=d?o.filter(function(g){return mb(g)}):o,x=h.map(function(g,v){return LE(LE({},g),{},{base:f[v]})});return l==="vertical"?p=sb().y(Qx).x1(Jx).x0(function(g){return g.base.x}):p=sb().x(Jx).y1(Qx).y0(function(g){return g.base.y}),p.defined(mb).curve(u),p(x)}return l==="vertical"&&dt(o)?p=sb().y(Qx).x1(Jx).x0(o):dt(o)?p=sb().x(Jx).y1(Qx).y0(o):p=UD().x(Jx).y(Qx),p.defined(mb).curve(u),p(h)},zf=function(t){var n=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?uye(t):a;return j.createElement("path",i_({},Ot(t,!1),f1(t),{className:or("recharts-curve",n),d:o,ref:i}))},hye=Object.getOwnPropertyNames,fye=Object.getOwnPropertySymbols,mye=Object.prototype.hasOwnProperty;function ME(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function pb(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);var i=a.cache,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);var c=e(n,s,a);return i.delete(n),i.delete(s),c}}function DE(e){return hye(e).concat(fye(e))}var pye=Object.hasOwn||function(e,t){return mye.call(e,t)};function bm(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var gye="__v",xye="__o",yye="_owner",RE=Object.getOwnPropertyDescriptor,FE=Object.keys;function vye(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function bye(e,t){return bm(e.getTime(),t.getTime())}function wye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jye(e,t){return e===t}function $E(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var p=o.value,f=l.value;if(n.equals(p[0],f[0],c,h,e,t,n)&&n.equals(p[1],f[1],p[0],f[0],e,t,n)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var Nye=bm;function Sye(e,t,n){var s=FE(e),a=s.length;if(FE(t).length!==a)return!1;for(;a-- >0;)if(!YR(e,t,n,s[a]))return!1;return!0}function e0(e,t,n){var s=DE(e),a=s.length;if(DE(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!YR(e,t,n,i)||(o=RE(e,i),l=RE(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _ye(e,t){return bm(e.valueOf(),t.valueOf())}function kye(e,t){return e.source===t.source&&e.flags===t.flags}function BE(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function Aye(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Cye(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YR(e,t,n,s){return(s===yye||s===xye||s===gye)&&(e.$$typeof||t.$$typeof)?!0:pye(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var Pye="[object Arguments]",Eye="[object Boolean]",Tye="[object Date]",Oye="[object Error]",Lye="[object Map]",Iye="[object Number]",Mye="[object Object]",Dye="[object RegExp]",Rye="[object Set]",Fye="[object String]",$ye="[object URL]",Bye=Array.isArray,zE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,UE=Object.assign,zye=Object.prototype.toString.call.bind(Object.prototype.toString);function Uye(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(x,g,v){if(x===g)return!0;if(x==null||g==null)return!1;var b=typeof x;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(x,g,v):b==="function"?a(x,g,v):!1;var _=x.constructor;if(_!==g.constructor)return!1;if(_===Object)return l(x,g,v);if(Bye(x))return t(x,g,v);if(zE!=null&&zE(x))return h(x,g,v);if(_===Date)return n(x,g,v);if(_===RegExp)return d(x,g,v);if(_===Map)return i(x,g,v);if(_===Set)return u(x,g,v);var w=zye(x);return w===Tye?n(x,g,v):w===Dye?d(x,g,v):w===Lye?i(x,g,v):w===Rye?u(x,g,v):w===Mye?typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,v):w===$ye?p(x,g,v):w===Oye?s(x,g,v):w===Pye?l(x,g,v):w===Eye||w===Iye||w===Fye?c(x,g,v):!1}}function qye(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?e0:vye,areDatesEqual:bye,areErrorsEqual:wye,areFunctionsEqual:jye,areMapsEqual:s?ME($E,e0):$E,areNumbersEqual:Nye,areObjectsEqual:s?e0:Sye,arePrimitiveWrappersEqual:_ye,areRegExpsEqual:kye,areSetsEqual:s?ME(BE,e0):BE,areTypedArraysEqual:s?e0:Aye,areUrlsEqual:Cye};if(n&&(a=UE({},a,n(a))),t){var i=pb(a.areArraysEqual),o=pb(a.areMapsEqual),l=pb(a.areObjectsEqual),c=pb(a.areSetsEqual);a=UE({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Wye(e){return function(t,n,s,a,i,o,l){return e(t,n,l)}}function Vye(e){var t=e.circular,n=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),h=u.cache,p=h===void 0?t?new WeakMap:void 0:h,f=u.meta;return n(c,d,{cache:p,equals:a,meta:f,strict:i})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var Hye=Nh();Nh({strict:!0});Nh({circular:!0});Nh({circular:!0,strict:!0});Nh({createInternalComparator:function(){return bm}});Nh({strict:!0,createInternalComparator:function(){return bm}});Nh({circular:!0,createInternalComparator:function(){return bm}});Nh({circular:!0,createInternalComparator:function(){return bm},strict:!0});function Nh(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=qye(e),c=Uye(l),d=s?s(c):Wye(c);return Vye({circular:n,comparator:c,createState:a,equals:d,strict:o})}function Gye(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function qE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Gye(a)};requestAnimationFrame(s)}function o_(e){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o_(e)}function Kye(e){return Jye(e)||Xye(e)||Zye(e)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zye(e,t){if(e){if(typeof e=="string")return WE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(e,t)}}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Xye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jye(e){if(Array.isArray(e))return e}function Qye(){var e={},t=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Kye(o),c=l[0],d=l.slice(1);if(typeof c=="number"){qE(a.bind(null,d),c);return}a(c),qE(a.bind(null,d));return}o_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(s){ZR(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ZR(e,t,n){return t=eve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eve(e){var t=tve(e,"string");return uy(t)==="symbol"?t:String(t)}function tve(e,t){if(uy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(uy(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rve=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},nve=function(t){return t},sve=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},k0=function(t,n){return Object.keys(n).reduce(function(s,a){return HE(HE({},s),{},ZR({},a,t(a,n[a])))},{})},GE=function(t,n,s){return t.map(function(a){return"".concat(sve(a)," ").concat(n,"ms ").concat(s)}).join(",")};function ave(e,t){return lve(e)||ove(e,t)||XR(e,t)||ive()}function ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lve(e){if(Array.isArray(e))return e}function cve(e){return hve(e)||uve(e)||XR(e)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XR(e,t){if(e){if(typeof e=="string")return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}}function uve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hve(e){if(Array.isArray(e))return l_(e)}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var W1=1e-4,JR=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},QR=function(t,n){return t.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},KE=function(t,n){return function(s){var a=JR(t,n);return QR(a,s)}},fve=function(t,n){return function(s){var a=JR(t,n),i=[].concat(cve(a.map(function(o,l){return o*l}).slice(1)),[0]);return QR(i,s)}},YE=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=ave(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=KE(a,o),p=KE(i,l),f=fve(a,o),x=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,w=_,S=0;S<8;++S){var A=h(w)-_,L=f(w);if(Math.abs(A-_)<W1||L<W1)return p(w);w=x(w-A/L)}return p(w)};return g.isStepper=!1,g},mve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,h,p){var f=-(u-h)*s,x=p*i,g=p+(f-x)*l/1e3,v=p*l/1e3+u;return Math.abs(v-h)<W1&&Math.abs(g)<W1?[h,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},pve=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YE(a);case"spring":return mve();default:if(a.split("(")[0]==="cubic-bezier")return YE(a)}return typeof a=="function"?a:null};function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function ZE(e){return yve(e)||xve(e)||eF(e)||gve()}function gve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yve(e){if(Array.isArray(e))return d_(e)}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(s){c_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function c_(e,t,n){return t=vve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vve(e){var t=bve(e,"string");return hy(t)==="symbol"?t:String(t)}function bve(e,t){if(hy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hy(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wve(e,t){return Sve(e)||Nve(e,t)||eF(e,t)||jve()}function jve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eF(e,t){if(e){if(typeof e=="string")return d_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(e,t)}}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Nve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Sve(e){if(Array.isArray(e))return e}var V1=function(t,n,s){return t+(n-t)*s},u_=function(t){var n=t.from,s=t.to;return n!==s},_ve=function e(t,n,s){var a=k0(function(i,o){if(u_(o)){var l=t(o.from,o.to,o.velocity),c=wve(l,2),d=c[0],u=c[1];return Na(Na({},o),{},{from:d,velocity:u})}return o},n);return s<1?k0(function(i,o){return u_(o)?Na(Na({},o),{},{velocity:V1(o.velocity,a[i].velocity,s),from:V1(o.from,a[i].from,s)}):o},n):e(t,a,s-1)};const kve=function(e,t,n,s,a){var i=rve(e,t),o=i.reduce(function(v,b){return Na(Na({},v),{},c_({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return Na(Na({},v),{},c_({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,d,u,h=function(){return null},p=function(){return k0(function(b,_){return _.from},l)},f=function(){return!Object.values(l).filter(u_).length},x=function(b){d||(d=b);var _=b-d,w=_/n.dt;l=_ve(n,l,w),a(Na(Na(Na({},e),t),p())),d=b,f()||(c=requestAnimationFrame(h))},g=function(b){u||(u=b);var _=(b-u)/s,w=k0(function(A,L){return V1.apply(void 0,ZE(L).concat([n(_)]))},o);if(a(Na(Na(Na({},e),t),w)),_<1)c=requestAnimationFrame(h);else{var S=k0(function(A,L){return V1.apply(void 0,ZE(L).concat([n(1)]))},o);a(Na(Na(Na({},e),t),S))}};return h=n.isStepper?x:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}var Ave=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Cve(e,t){if(e==null)return{};var n=Pve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Pve(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function IN(e){return Lve(e)||Ove(e)||Tve(e)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tve(e,t){if(e){if(typeof e=="string")return h_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(e,t)}}function Ove(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lve(e){if(Array.isArray(e))return h_(e)}function h_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(s){f0(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function f0(e,t,n){return t=tF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ive(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mve(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tF(s.key),s)}}function Dve(e,t,n){return t&&Mve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tF(e){var t=Rve(e,"string");return hg(t)==="symbol"?t:String(t)}function Rve(e,t){if(hg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(hg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},f_(e,t)}function $ve(e){var t=Bve();return function(){var s=H1(e),a;if(t){var i=H1(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return m_(this,a)}}function m_(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_(e)}function p_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H1(e){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H1(e)}var Il=function(e){Fve(n,e);var t=$ve(n);function n(s,a){var i;Ive(this,n),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,p=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(p_(i)),i.changeStyle=i.changeStyle.bind(p_(i)),!l||f<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:u}),m_(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof p=="function")return i.state={style:d},m_(i);i.state={style:c?f0({},c,d):d}}else i.state={style:{}};return i}return Dve(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,p=this.state.style;if(l){if(!o){var f={style:c?f0({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(f);return}if(!(Hye(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||d?h:a.to;if(this.state&&p){var v={style:c?f0({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(v)}this.runAnimation(vl(vl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,p=a.onAnimationStart,f=kve(o,l,pve(d),c,this.changeStyle),x=function(){i.stopJSAnimation=f()};this.manager.start([p,u,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,p=h===void 0?0:h,f=function(g,v,b){if(b===0)return g;var _=v.duration,w=v.easing,S=w===void 0?"ease":w,A=v.style,L=v.properties,P=v.onAnimationEnd,k=b>0?o[b-1]:v,C=L||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(IN(g),[i.runJSAnimation.bind(i,{from:k.style,to:A,duration:_,easing:S}),_]);var R=GE(C,_,S),E=vl(vl(vl({},k.style),A),{},{transition:R});return[].concat(IN(g),[E,_,P]).filter(nve)};return this.manager.start([c].concat(IN(o.reduce(f,[u,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Qye());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,p=a.steps,f=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=l?f0({},l,c):c,v=GE(Object.keys(g),o,d);x.start([u,i,vl(vl({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Cve(a,Ave),d=j.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var x=f.props,g=x.style,v=g===void 0?{}:g,b=x.className,_=j.cloneElement(f,vl(vl({},c),{},{style:vl(vl({},v),u),className:b}));return _};return d===1?h(j.Children.only(i)):xe.createElement("div",null,j.Children.map(i,function(p){return h(p)}))}}]),n}(j.PureComponent);Il.displayName="Animate";Il.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Il.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G1.apply(this,arguments)}function zve(e,t){return Vve(e)||Wve(e,t)||qve(e,t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(e,t){if(e){if(typeof e=="string")return QE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QE(e,t)}}function QE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Wve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Vve(e){if(Array.isArray(e))return e}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(s){Hve(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hve(e,t,n){return t=Gve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gve(e){var t=Kve(e,"string");return fy(t)=="symbol"?t:t+""}function Kve(e,t){if(fy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(fy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rT=function(t,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=i[p]>o?o:i[p];u="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(n)),u+="L ".concat(t+s-c*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(n+l*h[1])),u+="L ".concat(t+s,",").concat(n+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+s-c*h[2],",").concat(n+a)),u+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+s-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(n+l*x,`
            L `).concat(t+s,",").concat(n+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(n+a,`
            L `).concat(t+c*x,",").concat(n+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(n+a-l*x," Z")}else u="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Yve=function(t,n){if(!t||!n)return!1;var s=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),p=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=p}return!1},Zve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q6=function(t){var n=tT(tT({},Zve),t),s=j.useRef(),a=j.useState(-1),i=zve(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var S=s.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,u=n.width,h=n.height,p=n.radius,f=n.className,x=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var w=or("recharts-rectangle",f);return _?xe.createElement(Il,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:x,isActive:_},function(S){var A=S.width,L=S.height,P=S.x,k=S.y;return xe.createElement(Il,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:x},xe.createElement("path",G1({},Ot(n,!0),{className:w,d:rT(P,k,A,L,p),ref:s})))}):xe.createElement("path",G1({},Ot(n,!0),{className:w,d:rT(c,d,u,h,p)}))},Xve=["points","className","baseLinePoints","connectNulls"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gp.apply(this,arguments)}function Jve(e,t){if(e==null)return{};var n=Qve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qve(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function nT(e){return nbe(e)||rbe(e)||tbe(e)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(e,t){if(e){if(typeof e=="string")return g_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(e,t)}}function rbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nbe(e){if(Array.isArray(e))return g_(e)}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var sT=function(t){return t&&t.x===+t.x&&t.y===+t.y},sbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){sT(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),sT(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},A0=function(t,n){var s=sbe(t);n&&(s=[s.reduce(function(i,o){return[].concat(nT(i),nT(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},abe=function(t,n,s){var a=A0(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(A0(n.reverse(),s).slice(1))},ibe=function(t){var n=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Jve(t,Xve);if(!n||!n.length)return null;var l=or("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=abe(n,a,i);return xe.createElement("g",{className:l},xe.createElement("path",gp({},Ot(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?xe.createElement("path",gp({},Ot(o,!0),{fill:"none",d:A0(n,i)})):null,c?xe.createElement("path",gp({},Ot(o,!0),{fill:"none",d:A0(a,i)})):null)}var u=A0(n,i);return xe.createElement("path",gp({},Ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x_.apply(this,arguments)}var tv=function(t){var n=t.cx,s=t.cy,a=t.r,i=t.className,o=or("recharts-dot",i);return n===+n&&s===+s&&a===+a?j.createElement("circle",x_({},Ot(t,!1),f1(t),{className:o,cx:n,cy:s,r:a})):null};function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}var obe=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y_.apply(this,arguments)}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function lbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(s){cbe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cbe(e,t,n){return t=dbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dbe(e){var t=ube(e,"string");return my(t)=="symbol"?t:t+""}function ube(e,t){if(my(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(my(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t){if(e==null)return{};var n=fbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fbe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var mbe=function(t,n,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},pbe=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,p=t.height,f=p===void 0?0:p,x=t.className,g=hbe(t,obe),v=lbe({x:s,y:i,top:l,left:d,width:h,height:f},g);return!dt(s)||!dt(i)||!dt(h)||!dt(f)||!dt(l)||!dt(d)?null:xe.createElement("path",y_({},Ot(v,!0),{className:or("recharts-cross",x),d:mbe(s,i,h,f,l,d)}))},gbe=C2,xbe=gR,ybe=Oc;function vbe(e,t){return e&&e.length?gbe(e,ybe(t),xbe):void 0}var bbe=vbe;const wbe=en(bbe);var jbe=C2,Nbe=Oc,Sbe=xR;function _be(e,t){return e&&e.length?jbe(e,Nbe(t),Sbe):void 0}var kbe=_be;const Abe=en(kbe);var Cbe=["cx","cy","angle","ticks","axisLine"],Pbe=["ticks","tick","angle","tickFormatter","stroke"];function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},C0.apply(this,arguments)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(s){O2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oT(e,t){if(e==null)return{};var n=Ebe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ebe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nF(s.key),s)}}function Obe(e,t,n){return t&&lT(e.prototype,t),n&&lT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lbe(e,t,n){return t=K1(t),Ibe(e,rF()?Reflect.construct(t,n||[],K1(e).constructor):t.apply(e,n))}function Ibe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(e)}function Mbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!e})()}function K1(e){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K1(e)}function Dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v_(e,t)}function v_(e,t){return v_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},v_(e,t)}function O2(e,t,n){return t=nF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nF(e){var t=Rbe(e,"string");return fg(t)=="symbol"?t:t+""}function Rbe(e,t){if(fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2=function(e){function t(){return Tbe(this,t),Lbe(this,t,arguments)}return Dbe(t,e),Obe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ln(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=wbe(l,function(u){return u.coordinate||0}),d=Abe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=oT(s,Cbe),u=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),h=Ln(a,i,u[0],o),p=Ln(a,i,u[1],o),f=sf(sf(sf({},Ot(d,!1)),{},{fill:"none"},Ot(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return xe.createElement("line",C0({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=oT(a,Pbe),h=this.getTickTextAnchor(),p=Ot(u,!1),f=Ot(o,!1),x=i.map(function(g,v){var b=s.getTickValueCoord(g),_=sf(sf(sf(sf({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:d},f),{},{index:v},b),{},{payload:g});return xe.createElement(Lr,C0({className:or("recharts-polar-radius-axis-tick",VR(o)),key:"tick-".concat(g.coordinate)},Qf(s.props,g,v)),t.renderTickItem(o,_,c?c(g.value,v):g.value))});return xe.createElement(Lr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:xe.createElement(Lr,{className:or("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),xa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return xe.isValidElement(s)?o=xe.cloneElement(s,a):Yt(s)?o=s(a):o=xe.createElement(em,C0({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(j.PureComponent);O2(L2,"displayName","PolarRadiusAxis");O2(L2,"axisType","radiusAxis");O2(L2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xf.apply(this,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(s){I2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Fbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aF(s.key),s)}}function $be(e,t,n){return t&&dT(e.prototype,t),n&&dT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bbe(e,t,n){return t=Y1(t),zbe(e,sF()?Reflect.construct(t,n||[],Y1(e).constructor):t.apply(e,n))}function zbe(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ube(e)}function Ube(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function Y1(e){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(e)}function qbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},b_(e,t)}function I2(e,t,n){return t=aF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aF(e){var t=Wbe(e,"string");return mg(t)=="symbol"?t:t+""}function Wbe(e,t){if(mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vbe=Math.PI/180,uT=1e-5,M2=function(e){function t(){return Fbe(this,t),Bbe(this,t,arguments)}return qbe(t,e),$be(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Ln(i,o,l,s.coordinate),p=Ln(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*Vbe),o;return i>uT?o=a==="outer"?"start":"end":i<-uT?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=af(af({},Ot(this.props,!1)),{},{fill:"none"},Ot(l,!1));if(c==="circle")return xe.createElement(tv,xf({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(p){return Ln(a,i,o,p.coordinate)});return xe.createElement(ibe,xf({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Ot(this.props,!1),h=Ot(o,!1),p=af(af({},u),{},{fill:"none"},Ot(l,!1)),f=i.map(function(x,g){var v=s.getTickLineCoord(x),b=s.getTickTextAnchor(x),_=af(af(af({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:x,x:v.x2,y:v.y2});return xe.createElement(Lr,xf({className:or("recharts-polar-angle-axis-tick",VR(o)),key:"tick-".concat(x.coordinate)},Qf(s.props,x,g)),l&&xe.createElement("line",xf({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&t.renderTickItem(o,_,c?c(x.value,g):x.value))});return xe.createElement(Lr,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:xe.createElement(Lr,{className:or("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return xe.isValidElement(s)?o=xe.cloneElement(s,a):Yt(s)?o=s(a):o=xe.createElement(em,xf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(j.PureComponent);I2(M2,"displayName","PolarAngleAxis");I2(M2,"axisType","angleAxis");I2(M2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Hbe=h7,Gbe=Hbe(Object.getPrototypeOf,Object),Kbe=Gbe,Ybe=Ld,Zbe=Kbe,Xbe=Id,Jbe="[object Object]",Qbe=Function.prototype,e1e=Object.prototype,iF=Qbe.toString,t1e=e1e.hasOwnProperty,r1e=iF.call(Object);function n1e(e){if(!Xbe(e)||Ybe(e)!=Jbe)return!1;var t=Zbe(e);if(t===null)return!0;var n=t1e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&iF.call(n)==r1e}var s1e=n1e;const a1e=en(s1e);var i1e=Ld,o1e=Id,l1e="[object Boolean]";function c1e(e){return e===!0||e===!1||o1e(e)&&i1e(e)==l1e}var d1e=c1e;const u1e=en(d1e);function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z1.apply(this,arguments)}function h1e(e,t){return g1e(e)||p1e(e,t)||m1e(e,t)||f1e()}function f1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(e,t){if(e){if(typeof e=="string")return hT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(e,t)}}function hT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function p1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function g1e(e){if(Array.isArray(e))return e}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function mT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(s){x1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function x1e(e,t,n){return t=y1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y1e(e){var t=v1e(e,"string");return py(t)=="symbol"?t:t+""}function v1e(e,t){if(py(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(py(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pT=function(t,n,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+s,",").concat(n),l+="L ".concat(t+s-o/2,",").concat(n+i),l+="L ".concat(t+s-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},b1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w1e=function(t){var n=mT(mT({},b1e),t),s=j.useRef(),a=j.useState(-1),i=h1e(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,h=n.lowerWidth,p=n.height,f=n.className,x=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||p!==+p||u===0&&h===0||p===0)return null;var _=or("recharts-trapezoid",f);return b?xe.createElement(Il,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:p,x:c,y:d},duration:g,animationEasing:x,isActive:b},function(w){var S=w.upperWidth,A=w.lowerWidth,L=w.height,P=w.x,k=w.y;return xe.createElement(Il,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},xe.createElement("path",Z1({},Ot(n,!0),{className:_,d:pT(P,k,S,A,L),ref:s})))}):xe.createElement("g",null,xe.createElement("path",Z1({},Ot(n,!0),{className:_,d:pT(c,d,u,h,p)})))},j1e=["option","shapeType","propTransformer","activeClassName","isActive"];function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function N1e(e,t){if(e==null)return{};var n=S1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function S1e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function X1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(s){_1e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _1e(e,t,n){return t=k1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k1e(e){var t=A1e(e,"string");return gy(t)=="symbol"?t:t+""}function A1e(e,t){if(gy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1e(e,t){return X1(X1({},t),e)}function P1e(e,t){return e==="symbols"}function xT(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return xe.createElement(Q6,n);case"trapezoid":return xe.createElement(w1e,n);case"sector":return xe.createElement(KR,n);case"symbols":if(P1e(t))return xe.createElement(y6,n);break;default:return null}}function E1e(e){return j.isValidElement(e)?e.props:e}function oF(e){var t=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?C1e:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=N1e(e,j1e),d;if(j.isValidElement(t))d=j.cloneElement(t,X1(X1({},c),E1e(t)));else if(Yt(t))d=t(c);else if(a1e(t)&&!u1e(t)){var u=a(t,c);d=xe.createElement(xT,{shapeType:n,elementProps:u})}else{var h=c;d=xe.createElement(xT,{shapeType:n,elementProps:h})}return l?xe.createElement(Lr,{className:o},d):d}function D2(e,t){return t!=null&&"trapezoids"in e.props}function R2(e,t){return t!=null&&"sectors"in e.props}function xy(e,t){return t!=null&&"points"in e.props}function T1e(e,t){var n,s,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function O1e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function L1e(e,t){var n=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return n&&s&&a}function I1e(e,t){var n;return D2(e,t)?n=T1e:R2(e,t)?n=O1e:xy(e,t)&&(n=L1e),n}function M1e(e,t){var n;return D2(e,t)?n="trapezoids":R2(e,t)?n="sectors":xy(e,t)&&(n="points"),n}function D1e(e,t){if(D2(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(R2(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return xy(e,t)?t.payload:{}}function R1e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=M1e(n,t),i=D1e(n,t),o=s.filter(function(c,d){var u=tm(i,c),h=n.props[a].filter(function(x){var g=I1e(n,t);return g(x,t)}),p=n.props[a].indexOf(h[h.length-1]),f=d===p;return u&&f}),l=s.indexOf(o[o.length-1]);return l}var Wb;function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xp.apply(this,arguments)}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(s){qo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function F1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cF(s.key),s)}}function $1e(e,t,n){return t&&vT(e.prototype,t),n&&vT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B1e(e,t,n){return t=J1(t),z1e(e,lF()?Reflect.construct(t,n||[],J1(e).constructor):t.apply(e,n))}function z1e(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U1e(e)}function U1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(e)}function q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},w_(e,t)}function qo(e,t,n){return t=cF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cF(e){var t=W1e(e,"string");return pg(t)=="symbol"?t:t+""}function W1e(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $l=function(e){function t(n){var s;return F1e(this,t),s=B1e(this,t,[n]),qo(s,"pieRef",null),qo(s,"sectorRefs",[]),qo(s,"id",xm("recharts-pie-")),qo(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Yt(a)&&a()}),qo(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Yt(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return q1e(t,e),$1e(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Ot(this.props,!1),h=Ot(o,!1),p=Ot(l,!1),f=o&&o.offsetRadius||20,x=s.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,_=Ln(g.cx,g.cy,g.outerRadius+f,b),w=Tn(Tn(Tn(Tn({},u),g),{},{stroke:"none"},h),{},{index:v,textAnchor:t.getTextAnchor(_.x,g.cx)},_),S=Tn(Tn(Tn(Tn({},u),g),{},{fill:"none",stroke:g.fill},p),{},{index:v,points:[Ln(g.cx,g.cy,g.outerRadius,b),_]}),A=c;return ar(c)&&ar(d)?A="value":ar(c)&&(A=d),xe.createElement(Lr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,w,Ps(g,A)))});return xe.createElement(Lr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(u),p=c&&a.hasActiveIndex()?c:null,f=h?o:p,x=Tn(Tn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return xe.createElement(Lr,xp({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Qf(a.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),xe.createElement(oF,xp({option:f,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return xe.createElement(Il,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,v=[],b=i&&i[0],_=b.startAngle;return i.forEach(function(w,S){var A=p&&p[S],L=S>0?xo(w,"paddingAngle",0):0;if(A){var P=ea(A.endAngle-A.startAngle,w.endAngle-w.startAngle),k=Tn(Tn({},w),{},{startAngle:_+L,endAngle:_+P(g)+L});v.push(k),_=k.endAngle}else{var C=w.endAngle,R=w.startAngle,E=ea(0,C-R),I=E(g),B=Tn(Tn({},w),{},{startAngle:_+L,endAngle:_+I+L});v.push(B),_=B.endAngle}}),xe.createElement(Lr,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!tm(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,p=a.outerRadius,f=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!dt(d)||!dt(u)||!dt(h)||!dt(p))return null;var g=or("recharts-pie",l);return xe.createElement(Lr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){s.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),xa.renderCallByParent(this.props,null,!1),(!f||x)&&wc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(xe.isValidElement(s))return xe.cloneElement(s,a);if(Yt(s))return s(a);var o=or("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return xe.createElement(zf,xp({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(xe.isValidElement(s))return xe.cloneElement(s,a);var o=i;if(Yt(s)&&(o=s(a),xe.isValidElement(o)))return o;var l=or("recharts-pie-label-text",typeof s!="boolean"&&!Yt(s)?s.className:"");return xe.createElement(em,xp({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);Wb=$l;qo($l,"displayName","Pie");qo($l,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ll.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qo($l,"parseDeltaAngle",function(e,t){var n=mi(t-e),s=Math.min(Math.abs(t-e),360);return n*s});qo($l,"getRealPieData",function(e){var t=e.data,n=e.children,s=Ot(e,!1),a=yo(n,ex);return t&&t.length?t.map(function(i,o){return Tn(Tn(Tn({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Tn(Tn({},s),i.props)}):[]});qo($l,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,a=t.width,i=t.height,o=WR(a,i),l=s+pi(e.cx,a,a/2),c=n+pi(e.cy,i,i/2),d=pi(e.innerRadius,o,0),u=pi(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});qo($l,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?Tn(Tn({},t.type.defaultProps),t.props):t.props,a=Wb.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,h=s.valueKey,p=s.tooltipType,f=Math.abs(s.minAngle),x=Wb.parseCoordinateOfPie(s,n),g=Wb.parseDeltaAngle(o,l),v=Math.abs(g),b=d;ar(d)&&ar(h)?(Ol(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ar(d)&&(Ol(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var _=a.filter(function(k){return Ps(k,b,0)!==0}).length,w=(v>=360?_:_-1)*c,S=v-_*f-w,A=a.reduce(function(k,C){var R=Ps(C,b,0);return k+(dt(R)?R:0)},0),L;if(A>0){var P;L=a.map(function(k,C){var R=Ps(k,b,0),E=Ps(k,u,C),I=(dt(R)?R:0)/A,B;C?B=P.endAngle+mi(g)*c*(R!==0?1:0):B=o;var z=B+mi(g)*((R!==0?f:0)+I*S),V=(B+z)/2,U=(x.innerRadius+x.outerRadius)/2,K=[{name:E,value:R,payload:k,dataKey:b,type:p}],$=Ln(x.cx,x.cy,U,V);return P=Tn(Tn(Tn({percent:I,cornerRadius:i,name:E,tooltipPayload:K,midAngle:V,middleRadius:U,tooltipPosition:$},k),x),{},{value:Ps(k,b),startAngle:B,endAngle:z,payload:k,paddingAngle:mi(g)*c}),P})}return Tn(Tn({},x),{},{sectors:L,data:a})});var V1e=Math.ceil,H1e=Math.max;function G1e(e,t,n,s){for(var a=-1,i=H1e(V1e((t-e)/(n||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=n;return o}var K1e=G1e,Y1e=T7,bT=1/0,Z1e=17976931348623157e292;function X1e(e){if(!e)return e===0?e:0;if(e=Y1e(e),e===bT||e===-bT){var t=e<0?-1:1;return t*Z1e}return e===e?e:0}var dF=X1e,J1e=K1e,Q1e=w2,MN=dF;function ewe(e){return function(t,n,s){return s&&typeof s!="number"&&Q1e(t,n,s)&&(n=s=void 0),t=MN(t),n===void 0?(n=t,t=0):n=MN(n),s=s===void 0?t<n?1:-1:MN(s),J1e(t,n,s,e)}}var twe=ewe,rwe=twe,nwe=rwe(),swe=nwe;const Q1=en(swe);function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(s){uF(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uF(e,t,n){return t=awe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function awe(e){var t=iwe(e,"string");return yy(t)=="symbol"?t:t+""}function iwe(e,t){if(yy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var owe=["Webkit","Moz","O","ms"],lwe=function(t,n){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=owe.reduce(function(i,o){return jT(jT({},i),{},uF({},o+s,n))},{});return a[t]=n,a};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ew.apply(this,arguments)}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(s){io(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,fF(s.key),s)}}function dwe(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uwe(e,t,n){return t=tw(t),hwe(e,hF()?Reflect.construct(t,n||[],tw(e).constructor):t.apply(e,n))}function hwe(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(e)}function fwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tw(e)}function mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j_(e,t)}function j_(e,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},j_(e,t)}function io(e,t,n){return t=fF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fF(e){var t=pwe(e,"string");return gg(t)=="symbol"?t:t+""}function pwe(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gwe=function(t){var n=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=S0().domain(Q1(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},_T=function(t){return t.changedTouches&&!!t.changedTouches.length},xg=function(e){function t(n){var s;return cwe(this,t),s=uwe(this,t,[n]),io(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),io(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),io(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),io(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),io(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),io(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),io(s,"handleSlideDragStart",function(a){var i=_T(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return mwe(t,e),dwe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),p=Math.max(a,i),f=t.getIndexInRange(o,h),x=t.getIndexInRange(o,p);return{startIndex:f-f%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ps(i[s],l,s);return Yt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,p=c.startIndex,f=c.endIndex,x=c.onChange,g=s.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==p||v.endIndex!==f)&&x&&x(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=_T(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,p=u.width,f=u.travellerWidth,x=u.onChange,g=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},_=s.pageX-i;_>0?_=Math.min(_,h+p-f-d):_<0&&(_=Math.max(_,h-d)),b[o]=d+_;var w=this.getIndex(b),S=w.startIndex,A=w.endIndex,L=function(){var k=v.length-1;return o==="startX"&&(l>c?S%g===0:A%g===0)||l<c&&A===k||o==="endX"&&(l>c?A%g===0:S%g===0)||l>c&&A===k};this.setState(io(io({},o,d+_),"brushMoveStartX",s.pageX),function(){x&&L()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var p=h+s;if(!(p===-1||p>=l.length)){var f=l[p];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(io({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return xe.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=j.Children.only(d);return h?xe.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,p=c.traveller,f=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(s,this.props.x),_=DN(DN({},Ot(this.props,!1)),{},{x:b,y:d,width:u,height:h}),w=f||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return xe.createElement(Lr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,_))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,p=u.endX,f=5,x={pointerEvents:"none",fill:d};return xe.createElement(Lr,{className:"recharts-brush-texts"},xe.createElement(em,ew({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:o+l/2},x),this.getTextOfTick(a)),xe.createElement(em,ew({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+f,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,p=this.state,f=p.startX,x=p.endX,g=p.isTextActive,v=p.isSlideMoving,b=p.isTravellerMoving,_=p.isTravellerFocused;if(!a||!a.length||!dt(l)||!dt(c)||!dt(d)||!dt(u)||d<=0||u<=0)return null;var w=or("recharts-brush",i),S=xe.Children.count(o)===1,A=lwe("userSelect","none");return xe.createElement(Lr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,x),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||b||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),xe.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return xe.isValidElement(s)?i=xe.cloneElement(s,a):Yt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return DN({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?gwe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(j.PureComponent);io(xg,"displayName","Brush");io(xg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xwe=_6;function ywe(e,t){var n;return xwe(e,function(s,a,i){return n=t(s,a,i),!n}),!!n}var vwe=ywe,bwe=s7,wwe=Oc,jwe=vwe,Nwe=Fi,Swe=w2;function _we(e,t,n){var s=Nwe(e)?bwe:jwe;return n&&Swe(e,t,n)&&(t=void 0),s(e,wwe(t))}var kwe=_we;const Awe=en(kwe);var jc=function(t,n){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===n},kT=k7;function Cwe(e,t,n){t=="__proto__"&&kT?kT(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Pwe=Cwe,Ewe=Pwe,Twe=S7,Owe=Oc;function Lwe(e,t){var n={};return t=Owe(t),Twe(e,function(s,a,i){Ewe(n,a,t(s,a,i))}),n}var Iwe=Lwe;const Mwe=en(Iwe);function Dwe(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var Rwe=Dwe,Fwe=_6;function $we(e,t){var n=!0;return Fwe(e,function(s,a,i){return n=!!t(s,a,i),n}),n}var Bwe=$we,zwe=Rwe,Uwe=Bwe,qwe=Oc,Wwe=Fi,Vwe=w2;function Hwe(e,t,n){var s=Wwe(e)?zwe:Uwe;return n&&Vwe(e,t,n)&&(t=void 0),s(e,qwe(t))}var Gwe=Hwe;const mF=en(Gwe);var Kwe=["x","y"];function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},N_.apply(this,arguments)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function t0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(s){Ywe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ywe(e,t,n){return t=Zwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zwe(e){var t=Xwe(e,"string");return vy(t)=="symbol"?t:t+""}function Xwe(e,t){if(vy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jwe(e,t){if(e==null)return{};var n=Qwe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qwe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function e2e(e,t){var n=e.x,s=e.y,a=Jwe(e,Kwe),i="".concat(n),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),p=parseInt(h,10);return t0(t0(t0(t0(t0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function CT(e){return xe.createElement(oF,N_({shapeType:"rectangle",propTransformer:e2e,activeClassName:"recharts-active-bar"},e))}var t2e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=dt(s)||Ore(s);return i?t(s,a):(i||nm(),n)}},r2e=["value","background"],pF;function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function n2e(e,t){if(e==null)return{};var n=s2e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function s2e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rw.apply(this,arguments)}function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(s){Yu(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function a2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ET(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xF(s.key),s)}}function i2e(e,t,n){return t&&ET(e.prototype,t),n&&ET(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o2e(e,t,n){return t=nw(t),l2e(e,gF()?Reflect.construct(t,n||[],nw(e).constructor):t.apply(e,n))}function l2e(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c2e(e)}function c2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nw(e)}function d2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},S_(e,t)}function Yu(e,t,n){return t=xF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xF(e){var t=u2e(e,"string");return yg(t)=="symbol"?t:t+""}function u2e(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wd=function(e){function t(){var n;a2e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=o2e(this,t,[].concat(a)),Yu(n,"state",{isAnimationFinished:!1}),Yu(n,"id",xm("recharts-bar-")),Yu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Yu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return d2e(t,e),i2e(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Ot(this.props,!1);return s&&s.map(function(h,p){var f=p===c,x=f?d:o,g=Rs(Rs(Rs({},u),h),{},{isActive:f,option:x,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return xe.createElement(Lr,rw({className:"recharts-bar-rectangle"},Qf(a.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),xe.createElement(CT,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,p=this.state.prevData;return xe.createElement(Il,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var x=f.t,g=i.map(function(v,b){var _=p&&p[b];if(_){var w=ea(_.x,v.x),S=ea(_.y,v.y),A=ea(_.width,v.width),L=ea(_.height,v.height);return Rs(Rs({},v),{},{x:w(x),y:S(x),width:A(x),height:L(x)})}if(o==="horizontal"){var P=ea(0,v.height),k=P(x);return Rs(Rs({},v),{},{y:v.y+v.height-k,height:k})}var C=ea(0,v.width),R=C(x);return Rs(Rs({},v),{},{width:R})});return xe.createElement(Lr,null,s.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!tm(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ot(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,p=n2e(d,r2e);if(!h)return null;var f=Rs(Rs(Rs(Rs(Rs({},p),{},{fill:"#eee"},h),c),Qf(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return xe.createElement(CT,rw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=yo(u,ev);if(!h)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,f=function(v,b){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Ps(v,b)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return xe.createElement(Lr,x,h.map(function(g){return xe.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,p=s.height,f=s.isAnimationActive,x=s.background,g=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=or("recharts-bar",o),_=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=_||w,A=ar(g)?this.id:g;return xe.createElement(Lr,{className:b},_||w?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(A)},xe.createElement("rect",{x:_?d:d-h/2,y:w?u:u-p/2,width:_?h:h*2,height:w?p:p*2}))):null,xe.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!f||v)&&wc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(j.PureComponent);pF=wd;Yu(wd,"displayName","Bar");Yu(wd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ll.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yu(wd,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,p=e.offset,f=Zxe(s,n);if(!f)return null;var x=t.layout,g=n.type.defaultProps,v=g!==void 0?Rs(Rs({},g),n.props):n.props,b=v.dataKey,_=v.children,w=v.minPointSize,S=x==="horizontal"?o:i,A=d?S.scale.domain():null,L=n0e({numericAxis:S}),P=yo(_,ex),k=h.map(function(C,R){var E,I,B,z,V,U;d?E=Xxe(d[u+R],A):(E=Ps(C,b),Array.isArray(E)||(E=[L,E]));var K=t2e(w,pF.defaultProps.minPointSize)(E[1],R);if(x==="horizontal"){var $,W=[o.scale(E[0]),o.scale(E[1])],te=W[0],J=W[1];I=vE({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:C,index:R}),B=($=J??te)!==null&&$!==void 0?$:void 0,z=f.size;var M=te-J;if(V=Number.isNaN(M)?0:M,U={x:I,y:o.y,width:z,height:o.height},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var G=mi(V||K)*(Math.abs(K)-Math.abs(V));B-=G,V+=G}}else{var X=[i.scale(E[0]),i.scale(E[1])],ie=X[0],re=X[1];if(I=ie,B=vE({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:C,index:R}),z=re-ie,V=f.size,U={x:i.x,y:B,width:i.width,height:V},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var fe=mi(z||K)*(Math.abs(K)-Math.abs(z));z+=fe}}return Rs(Rs(Rs({},C),{},{x:I,y:B,width:z,height:V,value:d?E:E[1],payload:C,background:U},P&&P[R]&&P[R].props),{},{tooltipPayload:[UR(n,C)],tooltipPosition:{x:I+z/2,y:B+V/2}})});return Rs({data:k,layout:x},p)});function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function h2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yF(s.key),s)}}function f2e(e,t,n){return t&&TT(e.prototype,t),n&&TT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(s){F2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function F2(e,t,n){return t=yF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yF(e){var t=m2e(e,"string");return by(t)=="symbol"?t:t+""}function m2e(e,t){if(by(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(by(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ek=function(t,n,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},p=!!lo(d,wd);return u.reduce(function(f,x){var g=n[x],v=g.orientation,b=g.domain,_=g.padding,w=_===void 0?{}:_,S=g.mirror,A=g.reversed,L="".concat(v).concat(S?"Mirror":""),P,k,C,R,E;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=b[1]-b[0],B=1/0,z=g.categoricalDomain.sort(Mre);if(z.forEach(function(X,ie){ie>0&&(B=Math.min((X||0)-(z[ie-1]||0),B))}),Number.isFinite(B)){var V=B/I,U=g.layout==="vertical"?s.height:s.width;if(g.padding==="gap"&&(P=V*U/2),g.padding==="no-gap"){var K=pi(t.barCategoryGap,V*U),$=V*U/2;P=$-K-($-K)/U*K}}}a==="xAxis"?k=[s.left+(w.left||0)+(P||0),s.left+s.width-(w.right||0)-(P||0)]:a==="yAxis"?k=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(P||0),s.top+s.height-(w.bottom||0)-(P||0)]:k=g.range,A&&(k=[k[1],k[0]]);var W=FR(g,i,p),te=W.scale,J=W.realScaleType;te.domain(b).range(k),$R(te);var M=BR(te,kl(kl({},g),{},{realScaleType:J}));a==="xAxis"?(E=v==="top"&&!S||v==="bottom"&&S,C=s.left,R=h[L]-E*g.height):a==="yAxis"&&(E=v==="left"&&!S||v==="right"&&S,C=h[L]-E*g.width,R=s.top);var G=kl(kl(kl({},g),M),{},{realScaleType:J,x:C,y:R,scale:te,width:a==="xAxis"?s.width:g.width,height:a==="yAxis"?s.height:g.height});return G.bandSize=z1(G,M),!g.hide&&a==="xAxis"?h[L]+=(E?-1:1)*G.height:g.hide||(h[L]+=(E?-1:1)*G.width),kl(kl({},f),{},F2({},x,G))},{})},vF=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},p2e=function(t){var n=t.x1,s=t.y1,a=t.x2,i=t.y2;return vF({x:n,y:s},{x:a,y:i})},bF=function(){function e(t){h2e(this,e),this.scale=t}return f2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();F2(bF,"EPS",1e-4);var tk=function(t){var n=Object.keys(t).reduce(function(s,a){return kl(kl({},s),{},F2({},a,bF.create(t[a])))},{});return kl(kl({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Mwe(a,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return mF(a,function(i,o){return n[o].isInRange(i)})}})};function g2e(e){return(e%180+180)%180}var x2e=function(t){var n=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=g2e(a),o=i*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},y2e=Oc,v2e=Yy,b2e=v2;function w2e(e){return function(t,n,s){var a=Object(t);if(!v2e(t)){var i=y2e(n);t=b2e(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,s);return o>-1?a[i?t[o]:o]:void 0}}var j2e=w2e,N2e=dF;function S2e(e){var t=N2e(e),n=t%1;return t===t?n?t-n:t:0}var _2e=S2e,k2e=y7,A2e=Oc,C2e=_2e,P2e=Math.max;function E2e(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:C2e(n);return a<0&&(a=P2e(s+a,0)),k2e(e,A2e(t),a)}var T2e=E2e,O2e=j2e,L2e=T2e,I2e=O2e(L2e),M2e=I2e;const D2e=en(M2e);var R2e=Dte(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rk=j.createContext(void 0),nk=j.createContext(void 0),wF=j.createContext(void 0),jF=j.createContext({}),NF=j.createContext(void 0),SF=j.createContext(0),_F=j.createContext(0),LT=function(t){var n=t.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=R2e(i);return xe.createElement(rk.Provider,{value:s},xe.createElement(nk.Provider,{value:a},xe.createElement(jF.Provider,{value:i},xe.createElement(wF.Provider,{value:u},xe.createElement(NF.Provider,{value:o},xe.createElement(SF.Provider,{value:d},xe.createElement(_F.Provider,{value:c},l)))))))},F2e=function(){return j.useContext(NF)},kF=function(t){var n=j.useContext(rk);n==null&&nm();var s=n[t];return s==null&&nm(),s},$2e=function(){var t=j.useContext(rk);return Du(t)},B2e=function(){var t=j.useContext(nk),n=D2e(t,function(s){return mF(s.domain,Number.isFinite)});return n||Du(t)},AF=function(t){var n=j.useContext(nk);n==null&&nm();var s=n[t];return s==null&&nm(),s},z2e=function(){var t=j.useContext(wF);return t},U2e=function(){return j.useContext(jF)},sk=function(){return j.useContext(_F)},ak=function(){return j.useContext(SF)};function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function q2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W2e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PF(s.key),s)}}function V2e(e,t,n){return t&&W2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H2e(e,t,n){return t=sw(t),G2e(e,CF()?Reflect.construct(t,n||[],sw(e).constructor):t.apply(e,n))}function G2e(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K2e(e)}function K2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!e})()}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sw(e)}function Y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},__(e,t)}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function MT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(s){ik(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ik(e,t,n){return t=PF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PF(e){var t=Z2e(e,"string");return vg(t)=="symbol"?t:t+""}function Z2e(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X2e(e,t){return tje(e)||eje(e,t)||Q2e(e,t)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q2e(e,t){if(e){if(typeof e=="string")return DT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function eje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tje(e){if(Array.isArray(e))return e}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},k_.apply(this,arguments)}var rje=function(t,n){var s;return xe.isValidElement(t)?s=xe.cloneElement(t,n):Yt(t)?s=t(n):s=xe.createElement("line",k_({},n,{className:"recharts-reference-line-line"})),s},nje=function(t,n,s,a,i,o,l,c,d){var u=i.x,h=i.y,p=i.width,f=i.height;if(s){var x=d.y,g=t.y.apply(x,{position:o});if(jc(d,"discard")&&!t.y.isInRange(g))return null;var v=[{x:u+p,y:g},{x:u,y:g}];return c==="left"?v.reverse():v}if(n){var b=d.x,_=t.x.apply(b,{position:o});if(jc(d,"discard")&&!t.x.isInRange(_))return null;var w=[{x:_,y:h+f},{x:_,y:h}];return l==="top"?w.reverse():w}if(a){var S=d.segment,A=S.map(function(L){return t.apply(L,{position:o})});return jc(d,"discard")&&Awe(A,function(L){return!t.isInRange(L)})?null:A}return null};function sje(e){var t=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=F2e(),u=kF(a),h=AF(i),p=z2e();if(!d||!p)return null;Ol(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tk({x:u.scale,y:h.scale}),x=na(t),g=na(n),v=s&&s.length===2,b=nje(f,x,g,v,p,e.position,u.orientation,h.orientation,e);if(!b)return null;var _=X2e(b,2),w=_[0],S=w.x,A=w.y,L=_[1],P=L.x,k=L.y,C=jc(e,"hidden")?"url(#".concat(d,")"):void 0,R=MT(MT({clipPath:C},Ot(e,!0)),{},{x1:S,y1:A,x2:P,y2:k});return xe.createElement(Lr,{className:or("recharts-reference-line",l)},rje(o,R),xa.renderCallByParent(e,p2e({x1:S,y1:A,x2:P,y2:k})))}var ok=function(e){function t(){return q2e(this,t),H2e(this,t,arguments)}return Y2e(t,e),V2e(t,[{key:"render",value:function(){return xe.createElement(sje,this.props)}}])}(xe.Component);ik(ok,"displayName","ReferenceLine");ik(ok,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A_.apply(this,arguments)}function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(s){$2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function aje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ije(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TF(s.key),s)}}function oje(e,t,n){return t&&ije(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lje(e,t,n){return t=aw(t),cje(e,EF()?Reflect.construct(t,n||[],aw(e).constructor):t.apply(e,n))}function cje(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dje(e)}function dje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aw(e)}function uje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},C_(e,t)}function $2(e,t,n){return t=TF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TF(e){var t=hje(e,"string");return bg(t)=="symbol"?t:t+""}function hje(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fje=function(t){var n=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=tk({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return jc(t,"discard")&&!o.isInRange(l)?null:l},B2=function(e){function t(){return aje(this,t),lje(this,t,arguments)}return uje(t,e),oje(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=na(a),u=na(i);if(Ol(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=fje(this.props);if(!h)return null;var p=h.x,f=h.y,x=this.props,g=x.shape,v=x.className,b=jc(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=FT(FT({clipPath:b},Ot(this.props,!0)),{},{cx:p,cy:f});return xe.createElement(Lr,{className:or("recharts-reference-dot",v)},t.renderDot(g,_),xa.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(xe.Component);$2(B2,"displayName","ReferenceDot");$2(B2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$2(B2,"renderDot",function(e,t){var n;return xe.isValidElement(e)?n=xe.cloneElement(e,t):Yt(e)?n=e(t):n=xe.createElement(tv,A_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P_.apply(this,arguments)}function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(s){z2(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pje(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,LF(s.key),s)}}function gje(e,t,n){return t&&pje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xje(e,t,n){return t=iw(t),yje(e,OF()?Reflect.construct(t,n||[],iw(e).constructor):t.apply(e,n))}function yje(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vje(e)}function vje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OF=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iw(e)}function bje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},E_(e,t)}function z2(e,t,n){return t=LF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LF(e){var t=wje(e,"string");return wg(t)=="symbol"?t:t+""}function wje(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jje=function(t,n,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var p=tk({x:u.scale,y:h.scale}),f={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:s?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(d,{position:"end"}):p.y.rangeMax};return jc(i,"discard")&&(!p.isInRange(f)||!p.isInRange(x))?null:vF(f,x)},U2=function(e){function t(){return mje(this,t),xje(this,t,arguments)}return bje(t,e),gje(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;Ol(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=na(a),p=na(i),f=na(o),x=na(l),g=this.props.shape;if(!h&&!p&&!f&&!x&&!g)return null;var v=jje(h,p,f,x,this.props);if(!v&&!g)return null;var b=jc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return xe.createElement(Lr,{className:or("recharts-reference-area",c)},t.renderRect(g,BT(BT({clipPath:b},Ot(this.props,!0)),v)),xa.renderCallByParent(this.props,v))}}])}(xe.Component);z2(U2,"displayName","ReferenceArea");z2(U2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z2(U2,"renderRect",function(e,t){var n;return xe.isValidElement(e)?n=xe.cloneElement(e,t):Yt(e)?n=e(t):n=xe.createElement(Q6,P_({},t,{className:"recharts-reference-area-rect"})),n});function IF(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function Nje(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return x2e(s,n)}function Sje(e,t,n){var s=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function ow(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function _je(e,t){return IF(e,t+1)}function kje(e,t,n,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var x=s?.[c];if(x===void 0)return{v:IF(s,d)};var g=c,v,b=function(){return v===void 0&&(v=n(x,g)),v},_=x.coordinate,w=c===0||ow(e,_,b,u,l);w||(c=0,u=o,d+=1),w&&(u=_+e*(b()/2+a),c+=d)},p;d<=i.length;)if(p=h(),p)return p.v;return[]}function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(s){Aje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Aje(e,t,n){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cje(e){var t=Pje(e,"string");return wy(t)=="symbol"?t:t+""}function Pje(e,t){if(wy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eje(e,t,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(p){var f=i[p],x,g=function(){return x===void 0&&(x=n(f,p)),x};if(p===o-1){var v=e*(f.coordinate+e*g()/2-c);i[p]=f=Wa(Wa({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else i[p]=f=Wa(Wa({},f),{},{tickCoord:f.coordinate});var b=ow(e,f.tickCoord,g,l,c);b&&(c=f.tickCoord-e*(g()/2+a),i[p]=Wa(Wa({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Tje(e,t,n,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],h=n(u,l-1),p=e*(u.coordinate+e*h/2-d);o[l-1]=u=Wa(Wa({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var f=ow(e,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-e*(h/2+a),o[l-1]=Wa(Wa({},u),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(_){var w=o[_],S,A=function(){return S===void 0&&(S=n(w,_)),S};if(_===0){var L=e*(w.coordinate-e*A()/2-c);o[_]=w=Wa(Wa({},w),{},{tickCoord:L<0?w.coordinate-L*e:w.coordinate})}else o[_]=w=Wa(Wa({},w),{},{tickCoord:w.coordinate});var P=ow(e,w.tickCoord,A,c,d);P&&(c=w.tickCoord+e*(A()/2+a),o[_]=Wa(Wa({},w),{},{isShow:!0}))},v=0;v<x;v++)g(v);return o}function lk(e,t,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!a||!a.length||!s)return[];if(dt(c)||Ll.isSsr)return _je(a,typeof c=="number"&&dt(c)?c:0);var p=[],f=l==="top"||l==="bottom"?"width":"height",x=u&&f==="width"?N0(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(w,S){var A=Yt(d)?d(w.value,S):w.value;return f==="width"?Nje(N0(A,{fontSize:t,letterSpacing:n}),x,h):N0(A,{fontSize:t,letterSpacing:n})[f]},v=a.length>=2?mi(a[1].coordinate-a[0].coordinate):1,b=Sje(i,v,f);return c==="equidistantPreserveStart"?kje(v,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Tje(v,b,g,a,o,c==="preserveStartEnd"):p=Eje(v,b,g,a,o),p.filter(function(_){return _.isShow}))}var Oje=["viewBox"],Lje=["viewBox"],Ije=["ticks"];function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yp.apply(this,arguments)}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(s){ck(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function RN(e,t){if(e==null)return{};var n=Mje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Mje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Dje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DF(s.key),s)}}function Rje(e,t,n){return t&&qT(e.prototype,t),n&&qT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fje(e,t,n){return t=lw(t),$je(e,MF()?Reflect.construct(t,n||[],lw(e).constructor):t.apply(e,n))}function $je(e,t){if(t&&(jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(e)}function Bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lw(e)}function zje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},T_(e,t)}function ck(e,t,n){return t=DF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DF(e){var t=Uje(e,"string");return jg(t)=="symbol"?t:t+""}function Uje(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(e){function t(n){var s;return Dje(this,t),s=Fje(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return zje(t,e),Rje(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=RN(s,Oje),l=this.props,c=l.viewBox,d=RN(l,Lje);return!Ep(i,c)||!Ep(o,d)||!Ep(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,p=a.tickMargin,f,x,g,v,b,_,w=h?-1:1,S=s.tickSize||u,A=dt(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":f=x=s.coordinate,v=o+ +!h*c,g=v-w*S,_=g-w*p,b=A;break;case"left":g=v=s.coordinate,x=i+ +!h*l,f=x-w*S,b=f-w*p,_=A;break;case"right":g=v=s.coordinate,x=i+ +h*l,f=x+w*S,b=f+w*p,_=A;break;default:f=x=s.coordinate,v=o+ +h*c,g=v+w*S,_=g+w*p,b=A;break}return{line:{x1:f,y1:g,x2:x,y2:v},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=Zs(Zs(Zs({},Ot(this.props,!1)),Ot(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);h=Zs(Zs({},h),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=Zs(Zs({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return xe.createElement("line",yp({},h,{className:or("recharts-cartesian-axis-line",xo(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,p=l.unit,f=lk(Zs(Zs({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ot(this.props,!1),b=Ot(u,!1),_=Zs(Zs({},v),{},{fill:"none"},Ot(c,!1)),w=f.map(function(S,A){var L=o.getTickLineCoord(S),P=L.line,k=L.tick,C=Zs(Zs(Zs(Zs({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:d},b),k),{},{index:A,payload:S,visibleTicksCount:f.length,tickFormatter:h});return xe.createElement(Lr,yp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Qf(o.props,S,A)),c&&xe.createElement("line",yp({},_,P,{className:or("recharts-cartesian-axis-tick-line",xo(c,"className"))})),u&&t.renderTickItem(u,C,"".concat(Yt(h)?h(S.value,A):S.value).concat(p||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,p=h.ticks,f=RN(h,Ije),x=p;return Yt(c)&&(x=p&&p.length>0?c(this.props):c(f)),o<=0||l<=0||!x||!x.length?null:xe.createElement(Lr,{className:or("recharts-cartesian-axis",d),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),xa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=or(a.className,"recharts-cartesian-axis-tick-value");return xe.isValidElement(s)?o=xe.cloneElement(s,Zs(Zs({},a),{},{className:l})):Yt(s)?o=s(Zs(Zs({},a),{},{className:l})):o=xe.createElement(em,yp({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(j.Component);ck(sx,"displayName","CartesianAxis");ck(sx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qje=["x1","y1","x2","y2","key"],Wje=["offset"];function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(s){Vje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vje(e,t,n){return t=Hje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hje(e){var t=Gje(e,"string");return sm(t)=="symbol"?t:t+""}function Gje(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(sm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nf.apply(this,arguments)}function VT(e,t){if(e==null)return{};var n=Kje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Yje=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return xe.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function RF(e,t){var n;if(xe.isValidElement(e))n=xe.cloneElement(e,t);else if(Yt(e))n=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=VT(t,qje),d=Ot(c,!1);d.offset;var u=VT(d,Wje);n=xe.createElement("line",Nf({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function Zje(e){var t=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ha(Ha({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return RF(a,d)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Xje(e){var t=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ha(Ha({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return RF(a,d)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Jje(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==u[0]&&u.unshift(0);var h=u.map(function(p,f){var x=!u[f+1],g=x?a+o-p:u[f+1]-p;if(g<=0)return null;var v=f%t.length;return xe.createElement("rect",{key:"react-".concat(f),y:p,x:s,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Qje(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!s||!s.length)return null;var u=d.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==u[0]&&u.unshift(0);var h=u.map(function(p,f){var x=!u[f+1],g=x?i+l-p:u[f+1]-p;if(g<=0)return null;var v=f%s.length;return xe.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:g,height:c,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var eNe=function(t,n){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return RR(lk(Ha(Ha(Ha({},sx.defaultProps),s),{},{ticks:xd(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},tNe=function(t,n){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return RR(lk(Ha(Ha(Ha({},sx.defaultProps),s),{},{ticks:xd(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},tp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cd(e){var t,n,s,a,i,o,l=sk(),c=ak(),d=U2e(),u=Ha(Ha({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:tp.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:tp.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:tp.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:tp.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:tp.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:tp.verticalFill,x:dt(e.x)?e.x:d.left,y:dt(e.y)?e.y:d.top,width:dt(e.width)?e.width:d.width,height:dt(e.height)?e.height:d.height}),h=u.x,p=u.y,f=u.width,x=u.height,g=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,_=$2e(),w=B2e();if(!dt(f)||f<=0||!dt(x)||x<=0||!dt(h)||h!==+h||!dt(p)||p!==+p)return null;var S=u.verticalCoordinatesGenerator||eNe,A=u.horizontalCoordinatesGenerator||tNe,L=u.horizontalPoints,P=u.verticalPoints;if((!L||!L.length)&&Yt(A)){var k=v&&v.length,C=A({yAxis:w?Ha(Ha({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:d},k?!0:g);Ol(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sm(C),"]")),Array.isArray(C)&&(L=C)}if((!P||!P.length)&&Yt(S)){var R=b&&b.length,E=S({xAxis:_?Ha(Ha({},_),{},{ticks:R?b:_.ticks}):void 0,width:l,height:c,offset:d},R?!0:g);Ol(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sm(E),"]")),Array.isArray(E)&&(P=E)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(Yje,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),xe.createElement(Zje,Nf({},u,{offset:d,horizontalPoints:L,xAxis:_,yAxis:w})),xe.createElement(Xje,Nf({},u,{offset:d,verticalPoints:P,xAxis:_,yAxis:w})),xe.createElement(Jje,Nf({},u,{horizontalPoints:L})),xe.createElement(Qje,Nf({},u,{verticalPoints:P})))}cd.displayName="CartesianGrid";var rNe=["type","layout","connectNulls","ref"],nNe=["key"];function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function HT(e,t){if(e==null)return{};var n=sNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P0.apply(this,arguments)}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(s){Al(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rp(e){return lNe(e)||oNe(e)||iNe(e)||aNe()}function aNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iNe(e,t){if(e){if(typeof e=="string")return O_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(e,t)}}function oNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lNe(e){if(Array.isArray(e))return O_(e)}function O_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function cNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$F(s.key),s)}}function dNe(e,t,n){return t&&KT(e.prototype,t),n&&KT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uNe(e,t,n){return t=cw(t),hNe(e,FF()?Reflect.construct(t,n||[],cw(e).constructor):t.apply(e,n))}function hNe(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(e)}function fNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(e)}function mNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},L_(e,t)}function Al(e,t,n){return t=$F(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){var t=pNe(e,"string");return Ng(t)=="symbol"?t:t+""}function pNe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uf=function(e){function t(){var n;cNe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=uNe(this,t,[].concat(a)),Al(n,"state",{isAnimationFinished:!0,totalLength:0}),Al(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Al(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,_){return b+_});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,p=l-o,f=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>h){f=[].concat(rp(c.slice(0,x)),[h-g]);break}var v=f.length%2===0?[0,p]:[p];return[].concat(rp(t.repeat(c,u)),rp(f),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Al(n,"id",xm("recharts-line-")),Al(n,"pathRef",function(o){n.mainCurve=o}),Al(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Al(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return mNe(t,e),dNe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=yo(u,ev);if(!h)return null;var p=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Ps(g.payload,v)}},f={clipPath:s?"url(#clipPath-".concat(a,")"):null};return xe.createElement(Lr,f,h.map(function(x){return xe.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Ot(this.props,!1),p=Ot(c,!0),f=d.map(function(g,v){var b=ao(ao(ao({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return t.renderDotItem(c,b)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return xe.createElement(Lr,P0({className:"recharts-line-dots",key:"dots"},x),f)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=HT(l,rNe),p=ao(ao(ao({},Ot(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return xe.createElement(zf,P0({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,x=o.animateNewValues,g=o.width,v=o.height,b=this.state,_=b.prevPoints,w=b.totalLength;return xe.createElement(Il,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(_){var L=_.length/l.length,P=l.map(function(I,B){var z=Math.floor(B*L);if(_[z]){var V=_[z],U=ea(V.x,I.x),K=ea(V.y,I.y);return ao(ao({},I),{},{x:U(A),y:K(A)})}if(x){var $=ea(g*2,I.x),W=ea(v/2,I.y);return ao(ao({},I),{},{x:$(A),y:W(A)})}return ao(ao({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(P,s,a)}var k=ea(0,w),C=k(A),R;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});R=i.getStrokeDasharray(C,w,E)}else R=i.generateSimpleStrokeDasharray(w,C);return i.renderCurveStatically(l,s,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!tm(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,p=a.left,f=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,_=l.length===1,w=or("recharts-line",c),S=d&&d.allowDataOverflow,A=u&&u.allowDataOverflow,L=S||A,P=ar(v)?this.id:v,k=(s=Ot(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},C=k.r,R=C===void 0?3:C,E=k.strokeWidth,I=E===void 0?2:E,B=PD(o)?o:{},z=B.clipDot,V=z===void 0?!0:z,U=R*2+I;return xe.createElement(Lr,{className:w},S||A?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(P)},xe.createElement("rect",{x:S?p:p-f/2,y:A?h:h-x/2,width:S?f:f*2,height:A?x:x*2})),!V&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(P)},xe.createElement("rect",{x:p-U/2,y:h-U/2,width:f+U,height:x+U}))):null,!_&&this.renderCurve(L,P),this.renderErrorBar(L,P),(_||o)&&this.renderDots(L,V,P),(!g||b)&&wc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(rp(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(rp(o),rp(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(xe.isValidElement(s))i=xe.cloneElement(s,a);else if(Yt(s))i=s(a);else{var o=a.key,l=HT(a,nNe),c=or("recharts-line-dot",typeof s!="boolean"?s.className:"");i=xe.createElement(tv,P0({key:o},l,{className:c}))}return i}}])}(j.PureComponent);Al(Uf,"displayName","Line");Al(Uf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ll.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Al(Uf,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(p,f){var x=Ps(p,o);return u==="horizontal"?{x:B1({axis:n,ticks:a,bandSize:l,entry:p,index:f}),y:ar(x)?null:s.scale(x),value:x,payload:p}:{x:ar(x)?null:n.scale(x),y:B1({axis:s,ticks:i,bandSize:l,entry:p,index:f}),value:x,payload:p}});return ao({points:h,layout:u},d)});var gNe=["layout","type","stroke","connectNulls","isRange","ref"],xNe=["key"],BF;function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function zF(e,t){if(e==null)return{};var n=yNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function yNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sf.apply(this,arguments)}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(s){gc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function vNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qF(s.key),s)}}function bNe(e,t,n){return t&&ZT(e.prototype,t),n&&ZT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wNe(e,t,n){return t=dw(t),jNe(e,UF()?Reflect.construct(t,n||[],dw(e).constructor):t.apply(e,n))}function jNe(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NNe(e)}function NNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(e)}function SNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},I_(e,t)}function gc(e,t,n){return t=qF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qF(e){var t=_Ne(e,"string");return Sg(t)=="symbol"?t:t+""}function _Ne(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Sg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fi=function(e){function t(){var n;vNe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=wNe(this,t,[].concat(a)),gc(n,"state",{isAnimationFinished:!0}),gc(n,"id",xm("recharts-area-")),gc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Yt(o)&&o()}),gc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Yt(o)&&o()}),n}return SNe(t,e),bNe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,p=Ot(this.props,!1),f=Ot(d,!0),x=u.map(function(v,b){var _=Eu(Eu(Eu({key:"dot-".concat(b),r:3},p),f),{},{index:b,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:u});return t.renderDotItem(d,_)}),g={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return xe.createElement(Lr,Sf({className:"recharts-area-dots"},g),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),h=Ku(o.map(function(p){return p.y||0}));return dt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ku(i.map(function(p){return p.y||0})),h)),dt(h)?xe.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),h=Ku(o.map(function(p){return p.x||0}));return dt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ku(i.map(function(p){return p.x||0})),h)),dt(h)?xe.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var f=zF(l,gNe);return xe.createElement(Lr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},xe.createElement(zf,Sf({},Ot(f,!0),{points:s,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&xe.createElement(zf,Sf({},Ot(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})),u!=="none"&&p&&xe.createElement(zf,Sf({},Ot(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,x=this.state,g=x.prevPoints,v=x.prevBaseLine;return xe.createElement(Il,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var _=b.t;if(g){var w=g.length/l.length,S=l.map(function(k,C){var R=Math.floor(C*w);if(g[R]){var E=g[R],I=ea(E.x,k.x),B=ea(E.y,k.y);return Eu(Eu({},k),{},{x:I(_),y:B(_)})}return k}),A;if(dt(c)&&typeof c=="number"){var L=ea(v,c);A=L(_)}else if(ar(c)||Zg(c)){var P=ea(v,0);A=P(_)}else A=c.map(function(k,C){var R=Math.floor(C*w);if(v[R]){var E=v[R],I=ea(E.x,k.x),B=ea(E.y,k.y);return Eu(Eu({},k),{},{x:I(_),y:B(_)})}return k});return i.renderAreaStatically(S,A,s,a)}return xe.createElement(Lr,null,xe.createElement("defs",null,xe.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(_))),xe.createElement(Lr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!u&&p>0||!tm(u,o)||!tm(h,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,p=a.yAxis,f=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,_=l.length===1,w=or("recharts-area",c),S=h&&h.allowDataOverflow,A=p&&p.allowDataOverflow,L=S||A,P=ar(v)?this.id:v,k=(s=Ot(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},C=k.r,R=C===void 0?3:C,E=k.strokeWidth,I=E===void 0?2:E,B=PD(o)?o:{},z=B.clipDot,V=z===void 0?!0:z,U=R*2+I;return xe.createElement(Lr,{className:w},S||A?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(P)},xe.createElement("rect",{x:S?u:u-f/2,y:A?d:d-x/2,width:S?f:f*2,height:A?x:x*2})),!V&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(P)},xe.createElement("rect",{x:u-U/2,y:d-U/2,width:f+U,height:x+U}))):null,_?null:this.renderArea(L,P),(o||_)&&this.renderDots(L,V,P),(!g||b)&&wc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(j.PureComponent);BF=fi;gc(fi,"displayName","Area");gc(fi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ll.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});gc(fi,"getBaseValue",function(e,t,n,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(dt(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:n,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});gc(fi,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,p=e.offset,f=t.layout,x=d&&d.length,g=BF.getBaseValue(t,n,s,a),v=f==="horizontal",b=!1,_=h.map(function(S,A){var L;x?L=d[u+A]:(L=Ps(S,c),Array.isArray(L)?b=!0:L=[g,L]);var P=L[1]==null||x&&Ps(S,c)==null;return v?{x:B1({axis:s,ticks:i,bandSize:l,entry:S,index:A}),y:P?null:a.scale(L[1]),value:L,payload:S}:{x:P?null:s.scale(L[1]),y:B1({axis:a,ticks:o,bandSize:l,entry:S,index:A}),value:L,payload:S}}),w;return x||b?w=_.map(function(S){var A=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:A!=null&&S.y!=null?a.scale(A):null}:{x:A!=null?s.scale(A):null,y:S.y}}):w=v?a.scale(g):s.scale(g),Eu({points:_,baseLine:w,layout:f,isRange:b},p)});gc(fi,"renderDotItem",function(e,t){var n;if(xe.isValidElement(e))n=xe.cloneElement(e,t);else if(Yt(e))n=e(t);else{var s=or("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=zF(t,xNe);n=xe.createElement(tv,Sf({},i,{key:a,className:s}))}return n});function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function kNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ANe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,HF(s.key),s)}}function CNe(e,t,n){return t&&ANe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PNe(e,t,n){return t=uw(t),ENe(e,WF()?Reflect.construct(t,n||[],uw(e).constructor):t.apply(e,n))}function ENe(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(e)}function TNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uw(e)}function ONe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},M_(e,t)}function VF(e,t,n){return t=HF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HF(e){var t=LNe(e,"string");return _g(t)=="symbol"?t:t+""}function LNe(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(_g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},D_.apply(this,arguments)}function INe(e){var t=e.xAxisId,n=sk(),s=ak(),a=kF(t);return a==null?null:j.createElement(sx,D_({},a,{className:or("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return xd(o,!0)}}))}var co=function(e){function t(){return kNe(this,t),PNe(this,t,arguments)}return ONe(t,e),CNe(t,[{key:"render",value:function(){return j.createElement(INe,this.props)}}])}(j.Component);VF(co,"displayName","XAxis");VF(co,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function MNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DNe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YF(s.key),s)}}function RNe(e,t,n){return t&&DNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FNe(e,t,n){return t=hw(t),$Ne(e,GF()?Reflect.construct(t,n||[],hw(e).constructor):t.apply(e,n))}function $Ne(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BNe(e)}function BNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(e)}function zNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},R_(e,t)}function KF(e,t,n){return t=YF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YF(e){var t=UNe(e,"string");return kg(t)=="symbol"?t:t+""}function UNe(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},F_.apply(this,arguments)}var qNe=function(t){var n=t.yAxisId,s=sk(),a=ak(),i=AF(n);return i==null?null:j.createElement(sx,F_({},i,{className:or("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return xd(l,!0)}}))},uo=function(e){function t(){return MNe(this,t),FNe(this,t,arguments)}return zNe(t,e),RNe(t,[{key:"render",value:function(){return j.createElement(qNe,this.props)}}])}(j.Component);KF(uo,"displayName","YAxis");KF(uo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XT(e){return GNe(e)||HNe(e)||VNe(e)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VNe(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function HNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GNe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var B_=function(t,n,s,a,i){var o=yo(t,ok),l=yo(t,B2),c=[].concat(XT(o),XT(l)),d=yo(t,U2),u="".concat(a,"Id"),h=a[0],p=n;if(c.length&&(p=c.reduce(function(g,v){if(v.props[u]===s&&jc(v.props,"extendDomain")&&dt(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},p)),d.length){var f="".concat(h,"1"),x="".concat(h,"2");p=d.reduce(function(g,v){if(v.props[u]===s&&jc(v.props,"extendDomain")&&dt(v.props[f])&&dt(v.props[x])){var b=v.props[f],_=v.props[x];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,v){return dt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},p)),p},ZF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,p),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,x=new Array(f);p<f;p++)x[p]=h[p].fn;return x},l.prototype.listenerCount=function(d){var u=n?n+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,p,f,x){var g=n?n+d:d;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,p),!0;case 5:return v.fn.call(v.context,u,h,p,f),!0;case 6:return v.fn.call(v.context,u,h,p,f,x),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var S=v.length,A;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,h);break;case 4:v[w].fn.call(v[w].context,u,h,p);break;default:if(!_)for(A=1,_=new Array(b-1);A<b;A++)_[A-1]=arguments[A];v[w].fn.apply(v[w].context,_)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,p){var f=n?n+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var x=this._events[f];if(x.fn)x.fn===u&&(!p||x.once)&&(!h||x.context===h)&&o(this,f);else{for(var g=0,v=[],b=x.length;g<b;g++)(x[g].fn!==u||p&&!x[g].once||h&&x[g].context!==h)&&v.push(x[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(ZF);var KNe=ZF.exports;const YNe=en(KNe);var FN=new YNe,$N="recharts.syncMouseEvents";function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XNe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XF(s.key),s)}}function JNe(e,t,n){return t&&XNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BN(e,t,n){return t=XF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XF(e){var t=QNe(e,"string");return jy(t)=="symbol"?t:t+""}function QNe(e,t){if(jy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(jy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e5e=function(){function e(){ZNe(this,e),BN(this,"activeIndex",0),BN(this,"coordinateList",[]),BN(this,"layout","horizontal")}return JNe(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,h=u===void 0?null:u,p=n.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function t5e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e?.[0],a=e?.[1];if(s&&a&&dt(s)&&dt(a))return!0}return!1}function r5e(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function JF(e){var t=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Ln(t,n,s,a),l=Ln(t,n,s,i);return{points:[o,l],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function n5e(e,t,n){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,p=Ln(l,c,d,h),f=Ln(l,c,u,h);s=p.x,a=p.y,i=f.x,o=f.y}else return JF(t);return[{x:s,y:a},{x:i,y:o}]}function Ny(e){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ny(e)}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(s){s5e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function s5e(e,t,n){return t=a5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a5e(e){var t=i5e(e,"string");return Ny(t)=="symbol"?t:t+""}function i5e(e,t){if(Ny(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ny(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o5e(e){var t,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,f=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!f||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var x,g=zf;if(p==="ScatterChart")x=o,g=pbe;else if(p==="BarChart")x=r5e(h,o,c,u),g=Q6;else if(h==="radial"){var v=JF(o),b=v.cx,_=v.cy,w=v.radius,S=v.startAngle,A=v.endAngle;x={cx:b,cy:_,startAngle:S,endAngle:A,innerRadius:w,outerRadius:w},g=KR}else x={points:n5e(h,o,c)},g=zf;var L=gb(gb(gb(gb({stroke:"#ccc",pointerEvents:"none"},c),x),Ot(f,!1)),{},{payload:l,payloadIndex:d,className:or("recharts-tooltip-cursor",f.className)});return j.isValidElement(f)?j.cloneElement(f,L):j.createElement(g,L)}var l5e=["item"],c5e=["children","className","width","height","style","compact","title","desc"];function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vp.apply(this,arguments)}function QT(e,t){return h5e(e)||u5e(e,t)||e9(e,t)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h5e(e){if(Array.isArray(e))return e}function eO(e,t){if(e==null)return{};var n=f5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function f5e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function m5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p5e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t9(s.key),s)}}function g5e(e,t,n){return t&&p5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x5e(e,t,n){return t=fw(t),y5e(e,QF()?Reflect.construct(t,n||[],fw(e).constructor):t.apply(e,n))}function y5e(e,t){if(t&&(Ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v5e(e)}function v5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QF=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fw(e)}function b5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},z_(e,t)}function Cg(e){return N5e(e)||j5e(e)||e9(e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(e,t){if(e){if(typeof e=="string")return U_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(e,t)}}function j5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N5e(e){if(Array.isArray(e))return U_(e)}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(s){Kt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kt(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=S5e(e,"string");return Ag(t)=="symbol"?t:t+""}function S5e(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(Ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _5e={xAxis:["bottom","top"],yAxis:["left","right"]},k5e={width:"100%",height:"100%"},r9={x:0,y:0};function xb(e){return e}var A5e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},C5e=function(t,n,s,a){var i=n.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Je(Je(Je({},a),Ln(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Je(Je(Je({},a),Ln(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return r9},q2=function(t,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Cg(l),Cg(d)):l},[]);return o.length>0?o:t&&t.length&&dt(a)&&dt(i)?t.slice(a,i+1):[]};function n9(e){return e==="number"?[0,"auto"]:void 0}var q_=function(t,n,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=q2(n,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;p=h1(f,o.dataKey,a)}else p=h&&h[s]||l[s];return p?[].concat(Cg(c),[UR(d,p)]):c},[])},rO=function(t,n,s,a){var i=a||{x:t.chartX,y:t.chartY},o=A5e(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Wxe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,p=q_(t,n,u,h),f=C5e(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},P5e=function(t,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,h=t.children,p=t.stackOffset,f=DR(u,i);return s.reduce(function(x,g){var v,b=g.type.defaultProps!==void 0?Je(Je({},g.type.defaultProps),g.props):g.props,_=b.type,w=b.dataKey,S=b.allowDataOverflow,A=b.allowDuplicatedCategory,L=b.scale,P=b.ticks,k=b.includeHidden,C=b[o];if(x[C])return x;var R=q2(t.data,{graphicalItems:a.filter(function(M){var G,X=o in M.props?M.props[o]:(G=M.type.defaultProps)===null||G===void 0?void 0:G[o];return X===C}),dataStartIndex:c,dataEndIndex:d}),E=R.length,I,B,z;t5e(b.domain,S,_)&&(I=r_(b.domain,null,S),f&&(_==="number"||L!=="auto")&&(z=_0(R,w,"category")));var V=n9(_);if(!I||I.length===0){var U,K=(U=b.domain)!==null&&U!==void 0?U:V;if(w){if(I=_0(R,w,_),_==="category"&&f){var $=Ire(I);A&&$?(B=I,I=Q1(0,E)):A||(I=jE(K,I,g).reduce(function(M,G){return M.indexOf(G)>=0?M:[].concat(Cg(M),[G])},[]))}else if(_==="category")A?I=I.filter(function(M){return M!==""&&!ar(M)}):I=jE(K,I,g).reduce(function(M,G){return M.indexOf(G)>=0||G===""||ar(G)?M:[].concat(Cg(M),[G])},[]);else if(_==="number"){var W=Yxe(R,a.filter(function(M){var G,X,ie=o in M.props?M.props[o]:(G=M.type.defaultProps)===null||G===void 0?void 0:G[o],re="hide"in M.props?M.props.hide:(X=M.type.defaultProps)===null||X===void 0?void 0:X.hide;return ie===C&&(k||!re)}),w,i,u);W&&(I=W)}f&&(_==="number"||L!=="auto")&&(z=_0(R,w,"category"))}else f?I=Q1(0,E):l&&l[C]&&l[C].hasStack&&_==="number"?I=p==="expand"?[0,1]:zR(l[C].stackGroups,c,d):I=MR(R,a.filter(function(M){var G=o in M.props?M.props[o]:M.type.defaultProps[o],X="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return G===C&&(k||!X)}),_,u,!0);if(_==="number")I=B_(h,I,C,i,P),K&&(I=r_(K,I,S));else if(_==="category"&&K){var te=K,J=I.every(function(M){return te.indexOf(M)>=0});J&&(I=te)}}return Je(Je({},x),{},Kt({},C,Je(Je({},b),{},{axisType:i,domain:I,categoricalDomain:z,duplicateDomain:B,originalDomain:(v=b.domain)!==null&&v!==void 0?v:V,isCategorical:f,layout:u})))},{})},E5e=function(t,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,h=t.children,p=q2(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),f=p.length,x=DR(u,i),g=-1;return s.reduce(function(v,b){var _=b.type.defaultProps!==void 0?Je(Je({},b.type.defaultProps),b.props):b.props,w=_[o],S=n9("number");if(!v[w]){g++;var A;return x?A=Q1(0,f):l&&l[w]&&l[w].hasStack?(A=zR(l[w].stackGroups,c,d),A=B_(h,A,w,i)):(A=r_(S,MR(p,s.filter(function(L){var P,k,C=o in L.props?L.props[o]:(P=L.type.defaultProps)===null||P===void 0?void 0:P[o],R="hide"in L.props?L.props.hide:(k=L.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!R}),"number",u),a.defaultProps.allowDataOverflow),A=B_(h,A,w,i)),Je(Je({},v),{},Kt({},w,Je(Je({axisType:i},a.defaultProps),{},{hide:!0,orientation:xo(_5e,"".concat(i,".").concat(g%2),null),domain:A,originalDomain:S,isCategorical:x,layout:u})))}return v},{})},T5e=function(t,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,h="".concat(a,"Id"),p=yo(u,i),f={};return p&&p.length?f=P5e(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=E5e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},O5e=function(t){var n=Du(t),s=xd(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:k6(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:z1(n,s)}},nO=function(t){var n=t.children,s=t.defaultShowTooltip,a=lo(n,xg),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},L5e=function(t){return!t||!t.length?!1:t.some(function(n){var s=vd(n&&n.type);return s&&s.indexOf("Bar")>=0})},sO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I5e=function(t,n){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,p=s.margin||{},f=lo(h,xg),x=lo(h,ah),g=Object.keys(c).reduce(function(A,L){var P=c[L],k=P.orientation;return!P.mirror&&!P.hide?Je(Je({},A),{},Kt({},k,A[k]+P.width)):A},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(A,L){var P=o[L],k=P.orientation;return!P.mirror&&!P.hide?Je(Je({},A),{},Kt({},k,xo(A,"".concat(k))+P.height)):A},{top:p.top||0,bottom:p.bottom||0}),b=Je(Je({},v),g),_=b.bottom;f&&(b.bottom+=f.props.height||xg.defaultProps.height),x&&n&&(b=Gxe(b,a,s,n));var w=d-b.left-b.right,S=u-b.top-b.bottom;return Je(Je({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},M5e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},W2=function(t){var n=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,p=function(b,_){var w=_.graphicalItems,S=_.stackGroups,A=_.offset,L=_.updateId,P=_.dataStartIndex,k=_.dataEndIndex,C=b.barSize,R=b.layout,E=b.barGap,I=b.barCategoryGap,B=b.maxBarSize,z=sO(R),V=z.numericAxisName,U=z.cateAxisName,K=L5e(w),$=[];return w.forEach(function(W,te){var J=q2(b.data,{graphicalItems:[W],dataStartIndex:P,dataEndIndex:k}),M=W.type.defaultProps!==void 0?Je(Je({},W.type.defaultProps),W.props):W.props,G=M.dataKey,X=M.maxBarSize,ie=M["".concat(V,"Id")],re=M["".concat(U,"Id")],fe={},we=c.reduce(function(se,Se){var Pe=_["".concat(Se.axisType,"Map")],$e=M["".concat(Se.axisType,"Id")];Pe&&Pe[$e]||Se.axisType==="zAxis"||nm();var He=Pe[$e];return Je(Je({},se),{},Kt(Kt({},Se.axisType,He),"".concat(Se.axisType,"Ticks"),xd(He)))},fe),Z=we[U],Q=we["".concat(U,"Ticks")],pe=S&&S[ie]&&S[ie].hasStack&&s0e(W,S[ie].stackGroups),ge=vd(W.type).indexOf("Bar")>=0,Ae=z1(Z,Q),Ne=[],Y=K&&Vxe({barSize:C,stackGroups:S,totalSize:M5e(we,U)});if(ge){var ke,We,Ie=ar(X)?B:X,ze=(ke=(We=z1(Z,Q,!0))!==null&&We!==void 0?We:Ie)!==null&&ke!==void 0?ke:0;Ne=Hxe({barGap:E,barCategoryGap:I,bandSize:ze!==Ae?ze:Ae,sizeList:Y[re],maxBarSize:Ie}),ze!==Ae&&(Ne=Ne.map(function(se){return Je(Je({},se),{},{position:Je(Je({},se.position),{},{offset:se.position.offset-ze/2})})}))}var le=W&&W.type&&W.type.getComposedData;le&&$.push({props:Je(Je({},le(Je(Je({},we),{},{displayedData:J,props:b,dataKey:G,item:W,bandSize:Ae,barPosition:Ne,offset:A,stackedData:pe,layout:R,dataStartIndex:P,dataEndIndex:k}))),{},Kt(Kt(Kt({key:W.key||"item-".concat(te)},V,we[V]),U,we[U]),"animationId",L)),childIndex:Hre(W,b.children),item:W})}),$},f=function(b,_){var w=b.props,S=b.dataStartIndex,A=b.dataEndIndex,L=b.updateId;if(!gC({props:w}))return null;var P=w.children,k=w.layout,C=w.stackOffset,R=w.data,E=w.reverseStackOrder,I=sO(k),B=I.numericAxisName,z=I.cateAxisName,V=yo(P,s),U=r0e(R,V,"".concat(B,"Id"),"".concat(z,"Id"),C,E),K=c.reduce(function(M,G){var X="".concat(G.axisType,"Map");return Je(Je({},M),{},Kt({},X,T5e(w,Je(Je({},G),{},{graphicalItems:V,stackGroups:G.axisType===B&&U,dataStartIndex:S,dataEndIndex:A}))))},{}),$=I5e(Je(Je({},K),{},{props:w,graphicalItems:V}),_?.legendBBox);Object.keys(K).forEach(function(M){K[M]=u(w,K[M],$,M.replace("Map",""),n)});var W=K["".concat(z,"Map")],te=O5e(W),J=p(w,Je(Je({},K),{},{dataStartIndex:S,dataEndIndex:A,updateId:L,graphicalItems:V,stackGroups:U,offset:$}));return Je(Je({formattedGraphicalItems:J,graphicalItems:V,offset:$,stackGroups:U},te),K)},x=function(v){function b(_){var w,S,A;return m5e(this,b),A=x5e(this,b,[_]),Kt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(A,"accessibilityManager",new e5e),Kt(A,"handleLegendBBoxUpdate",function(L){if(L){var P=A.state,k=P.dataStartIndex,C=P.dataEndIndex,R=P.updateId;A.setState(Je({legendBBox:L},f({props:A.props,dataStartIndex:k,dataEndIndex:C,updateId:R},Je(Je({},A.state),{},{legendBBox:L}))))}}),Kt(A,"handleReceiveSyncEvent",function(L,P,k){if(A.props.syncId===L){if(k===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(P)}}),Kt(A,"handleBrushChange",function(L){var P=L.startIndex,k=L.endIndex;if(P!==A.state.dataStartIndex||k!==A.state.dataEndIndex){var C=A.state.updateId;A.setState(function(){return Je({dataStartIndex:P,dataEndIndex:k},f({props:A.props,dataStartIndex:P,dataEndIndex:k,updateId:C},A.state))}),A.triggerSyncEvent({dataStartIndex:P,dataEndIndex:k})}}),Kt(A,"handleMouseEnter",function(L){var P=A.getMouseInfo(L);if(P){var k=Je(Je({},P),{},{isTooltipActive:!0});A.setState(k),A.triggerSyncEvent(k);var C=A.props.onMouseEnter;Yt(C)&&C(k,L)}}),Kt(A,"triggeredAfterMouseMove",function(L){var P=A.getMouseInfo(L),k=P?Je(Je({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(k),A.triggerSyncEvent(k);var C=A.props.onMouseMove;Yt(C)&&C(k,L)}),Kt(A,"handleItemMouseEnter",function(L){A.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),Kt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Kt(A,"handleMouseMove",function(L){L.persist(),A.throttleTriggeredAfterMouseMove(L)}),Kt(A,"handleMouseLeave",function(L){A.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};A.setState(P),A.triggerSyncEvent(P);var k=A.props.onMouseLeave;Yt(k)&&k(P,L)}),Kt(A,"handleOuterEvent",function(L){var P=Vre(L),k=xo(A.props,"".concat(P));if(P&&Yt(k)){var C,R;/.*touch.*/i.test(P)?R=A.getMouseInfo(L.changedTouches[0]):R=A.getMouseInfo(L),k((C=R)!==null&&C!==void 0?C:{},L)}}),Kt(A,"handleClick",function(L){var P=A.getMouseInfo(L);if(P){var k=Je(Je({},P),{},{isTooltipActive:!0});A.setState(k),A.triggerSyncEvent(k);var C=A.props.onClick;Yt(C)&&C(k,L)}}),Kt(A,"handleMouseDown",function(L){var P=A.props.onMouseDown;if(Yt(P)){var k=A.getMouseInfo(L);P(k,L)}}),Kt(A,"handleMouseUp",function(L){var P=A.props.onMouseUp;if(Yt(P)){var k=A.getMouseInfo(L);P(k,L)}}),Kt(A,"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),Kt(A,"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&A.handleMouseDown(L.changedTouches[0])}),Kt(A,"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&A.handleMouseUp(L.changedTouches[0])}),Kt(A,"handleDoubleClick",function(L){var P=A.props.onDoubleClick;if(Yt(P)){var k=A.getMouseInfo(L);P(k,L)}}),Kt(A,"handleContextMenu",function(L){var P=A.props.onContextMenu;if(Yt(P)){var k=A.getMouseInfo(L);P(k,L)}}),Kt(A,"triggerSyncEvent",function(L){A.props.syncId!==void 0&&FN.emit($N,A.props.syncId,L,A.eventEmitterSymbol)}),Kt(A,"applySyncEvent",function(L){var P=A.props,k=P.layout,C=P.syncMethod,R=A.state.updateId,E=L.dataStartIndex,I=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)A.setState(Je({dataStartIndex:E,dataEndIndex:I},f({props:A.props,dataStartIndex:E,dataEndIndex:I,updateId:R},A.state)));else if(L.activeTooltipIndex!==void 0){var B=L.chartX,z=L.chartY,V=L.activeTooltipIndex,U=A.state,K=U.offset,$=U.tooltipTicks;if(!K)return;if(typeof C=="function")V=C($,L);else if(C==="value"){V=-1;for(var W=0;W<$.length;W++)if($[W].value===L.activeLabel){V=W;break}}var te=Je(Je({},K),{},{x:K.left,y:K.top}),J=Math.min(B,te.x+te.width),M=Math.min(z,te.y+te.height),G=$[V]&&$[V].value,X=q_(A.state,A.props.data,V),ie=$[V]?{x:k==="horizontal"?$[V].coordinate:J,y:k==="horizontal"?M:$[V].coordinate}:r9;A.setState(Je(Je({},L),{},{activeLabel:G,activeCoordinate:ie,activePayload:X,activeTooltipIndex:V}))}else A.setState(L)}),Kt(A,"renderCursor",function(L){var P,k=A.state,C=k.isTooltipActive,R=k.activeCoordinate,E=k.activePayload,I=k.offset,B=k.activeTooltipIndex,z=k.tooltipAxisBandSize,V=A.getTooltipEventType(),U=(P=L.props.active)!==null&&P!==void 0?P:C,K=A.props.layout,$=L.key||"_recharts-cursor";return xe.createElement(o5e,{key:$,activeCoordinate:R,activePayload:E,activeTooltipIndex:B,chartName:n,element:L,isActive:U,layout:K,offset:I,tooltipAxisBandSize:z,tooltipEventType:V})}),Kt(A,"renderPolarAxis",function(L,P,k){var C=xo(L,"type.axisType"),R=xo(A.state,"".concat(C,"Map")),E=L.type.defaultProps,I=E!==void 0?Je(Je({},E),L.props):L.props,B=R&&R[I["".concat(C,"Id")]];return j.cloneElement(L,Je(Je({},B),{},{className:or(C,B.className),key:L.key||"".concat(P,"-").concat(k),ticks:xd(B,!0)}))}),Kt(A,"renderPolarGrid",function(L){var P=L.props,k=P.radialLines,C=P.polarAngles,R=P.polarRadius,E=A.state,I=E.radiusAxisMap,B=E.angleAxisMap,z=Du(I),V=Du(B),U=V.cx,K=V.cy,$=V.innerRadius,W=V.outerRadius;return j.cloneElement(L,{polarAngles:Array.isArray(C)?C:xd(V,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(R)?R:xd(z,!0).map(function(te){return te.coordinate}),cx:U,cy:K,innerRadius:$,outerRadius:W,key:L.key||"polar-grid",radialLines:k})}),Kt(A,"renderLegend",function(){var L=A.state.formattedGraphicalItems,P=A.props,k=P.children,C=P.width,R=P.height,E=A.props.margin||{},I=C-(E.left||0)-(E.right||0),B=LR({children:k,formattedGraphicalItems:L,legendWidth:I,legendContent:d});if(!B)return null;var z=B.item,V=eO(B,l5e);return j.cloneElement(z,Je(Je({},V),{},{chartWidth:C,chartHeight:R,margin:E,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Kt(A,"renderTooltip",function(){var L,P=A.props,k=P.children,C=P.accessibilityLayer,R=lo(k,$s);if(!R)return null;var E=A.state,I=E.isTooltipActive,B=E.activeCoordinate,z=E.activePayload,V=E.activeLabel,U=E.offset,K=(L=R.props.active)!==null&&L!==void 0?L:I;return j.cloneElement(R,{viewBox:Je(Je({},U),{},{x:U.left,y:U.top}),active:K,label:V,payload:K?z:[],coordinate:B,accessibilityLayer:C})}),Kt(A,"renderBrush",function(L){var P=A.props,k=P.margin,C=P.data,R=A.state,E=R.offset,I=R.dataStartIndex,B=R.dataEndIndex,z=R.updateId;return j.cloneElement(L,{key:L.key||"_recharts-brush",onChange:hb(A.handleBrushChange,L.props.onChange),data:C,x:dt(L.props.x)?L.props.x:E.left,y:dt(L.props.y)?L.props.y:E.top+E.height+E.brushBottom-(k.bottom||0),width:dt(L.props.width)?L.props.width:E.width,startIndex:I,endIndex:B,updateId:"brush-".concat(z)})}),Kt(A,"renderReferenceElement",function(L,P,k){if(!L)return null;var C=A,R=C.clipPathId,E=A.state,I=E.xAxisMap,B=E.yAxisMap,z=E.offset,V=L.type.defaultProps||{},U=L.props,K=U.xAxisId,$=K===void 0?V.xAxisId:K,W=U.yAxisId,te=W===void 0?V.yAxisId:W;return j.cloneElement(L,{key:L.key||"".concat(P,"-").concat(k),xAxis:I[$],yAxis:B[te],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:R})}),Kt(A,"renderActivePoints",function(L){var P=L.item,k=L.activePoint,C=L.basePoint,R=L.childIndex,E=L.isRange,I=[],B=P.props.key,z=P.item.type.defaultProps!==void 0?Je(Je({},P.item.type.defaultProps),P.item.props):P.item.props,V=z.activeDot,U=z.dataKey,K=Je(Je({index:R,dataKey:U,cx:k.x,cy:k.y,r:4,fill:J6(P.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ot(V,!1)),f1(V));return I.push(b.renderActiveDot(V,K,"".concat(B,"-activePoint-").concat(R))),C?I.push(b.renderActiveDot(V,Je(Je({},K),{},{cx:C.x,cy:C.y}),"".concat(B,"-basePoint-").concat(R))):E&&I.push(null),I}),Kt(A,"renderGraphicChild",function(L,P,k){var C=A.filterFormatItem(L,P,k);if(!C)return null;var R=A.getTooltipEventType(),E=A.state,I=E.isTooltipActive,B=E.tooltipAxis,z=E.activeTooltipIndex,V=E.activeLabel,U=A.props.children,K=lo(U,$s),$=C.props,W=$.points,te=$.isRange,J=$.baseLine,M=C.item.type.defaultProps!==void 0?Je(Je({},C.item.type.defaultProps),C.item.props):C.item.props,G=M.activeDot,X=M.hide,ie=M.activeBar,re=M.activeShape,fe=!!(!X&&I&&K&&(G||ie||re)),we={};R!=="axis"&&K&&K.props.trigger==="click"?we={onClick:hb(A.handleItemMouseEnter,L.props.onClick)}:R!=="axis"&&(we={onMouseLeave:hb(A.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:hb(A.handleItemMouseEnter,L.props.onMouseEnter)});var Z=j.cloneElement(L,Je(Je({},C.props),we));function Q(Se){return typeof B.dataKey=="function"?B.dataKey(Se.payload):null}if(fe)if(z>=0){var pe,ge;if(B.dataKey&&!B.allowDuplicatedCategory){var Ae=typeof B.dataKey=="function"?Q:"payload.".concat(B.dataKey.toString());pe=h1(W,Ae,V),ge=te&&J&&h1(J,Ae,V)}else pe=W?.[z],ge=te&&J&&J[z];if(re||ie){var Ne=L.props.activeIndex!==void 0?L.props.activeIndex:z;return[j.cloneElement(L,Je(Je(Je({},C.props),we),{},{activeIndex:Ne})),null,null]}if(!ar(pe))return[Z].concat(Cg(A.renderActivePoints({item:C,activePoint:pe,basePoint:ge,childIndex:z,isRange:te})))}else{var Y,ke=(Y=A.getItemByXY(A.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:Z},We=ke.graphicalItem,Ie=We.item,ze=Ie===void 0?L:Ie,le=We.childIndex,se=Je(Je(Je({},C.props),we),{},{activeIndex:le});return[j.cloneElement(ze,se),null,null]}return te?[Z,null,null]:[Z,null]}),Kt(A,"renderCustomized",function(L,P,k){return j.cloneElement(L,Je(Je({key:"recharts-customized-".concat(k)},A.props),A.state))}),Kt(A,"renderMap",{CartesianGrid:{handler:xb,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:xb},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:xb},YAxis:{handler:xb},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:xm("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=O7(A.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),A.state={},A}return b5e(b,v),g5e(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,A=w.data,L=w.height,P=w.layout,k=lo(S,$s);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,E=q_(this.state,A,C,R),I=this.state.tooltipTicks[C].coordinate,B=(this.state.offset.top+L)/2,z=P==="horizontal",V=z?{x:I,y:B}:{y:I,x:B},U=this.state.formattedGraphicalItems.find(function($){var W=$.item;return W.type.name==="Scatter"});U&&(V=Je(Je({},V),U.props.points[C].tooltipPosition),E=U.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:R,activePayload:E,activeCoordinate:V};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var A,L;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(w){xS([lo(w.children,$s)],[lo(this.props.children,$s)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=lo(this.props.children,$s);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,A=S.getBoundingClientRect(),L=yfe(A),P={chartX:Math.round(w.pageX-L.left),chartY:Math.round(w.pageY-L.top)},k=A.width/S.offsetWidth||1,C=this.inRange(P.chartX,P.chartY,k);if(!C)return null;var R=this.state,E=R.xAxisMap,I=R.yAxisMap,B=this.getTooltipEventType(),z=rO(this.state,this.props.data,this.props.layout,C);if(B!=="axis"&&E&&I){var V=Du(E).scale,U=Du(I).scale,K=V&&V.invert?V.invert(P.chartX):null,$=U&&U.invert?U.invert(P.chartY):null;return Je(Je({},P),{},{xValue:K,yValue:$},z)}return z?Je(Je({},P),z):null}},{key:"inRange",value:function(w,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,P=w/A,k=S/A;if(L==="horizontal"||L==="vertical"){var C=this.state.offset,R=P>=C.left&&P<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return R?{x:P,y:k}:null}var E=this.state,I=E.angleAxisMap,B=E.radiusAxisMap;if(I&&B){var z=Du(I);return _E({x:P,y:k},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),A=lo(w,$s),L={};A&&S==="axis"&&(A.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=f1(this.props,this.handleOuterEvent);return Je(Je({},P),L)}},{key:"addListener",value:function(){FN.on($N,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){FN.removeListener($N,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,A){for(var L=this.state.formattedGraphicalItems,P=0,k=L.length;P<k;P++){var C=L[P];if(C.item===w||C.props.key===w.key||S===vd(C.item.type)&&A===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,A=S.left,L=S.top,P=S.height,k=S.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:w},xe.createElement("rect",{x:A,y:L,height:P,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,A){var L=QT(A,2),P=L[0],k=L[1];return Je(Je({},S),{},Kt({},P,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,A){var L=QT(A,2),P=L[0],k=L[1];return Je(Je({},S),{},Kt({},P,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,A=S.formattedGraphicalItems,L=S.activeItem;if(A&&A.length)for(var P=0,k=A.length;P<k;P++){var C=A[P],R=C.props,E=C.item,I=E.type.defaultProps!==void 0?Je(Je({},E.type.defaultProps),E.props):E.props,B=vd(E.type);if(B==="Bar"){var z=(R.data||[]).find(function($){return Yve(w,$)});if(z)return{graphicalItem:C,payload:z}}else if(B==="RadialBar"){var V=(R.data||[]).find(function($){return _E(w,$)});if(V)return{graphicalItem:C,payload:V}}else if(D2(C,L)||R2(C,L)||xy(C,L)){var U=R1e({graphicalItem:C,activeTooltipItem:L,itemData:I.data}),K=I.activeIndex===void 0?U:I.activeIndex;return{graphicalItem:Je(Je({},C),{},{childIndex:K}),payload:xy(C,L)?I.data[U]:C.props.data[U]}}}return null}},{key:"render",value:function(){var w=this;if(!gC(this))return null;var S=this.props,A=S.children,L=S.className,P=S.width,k=S.height,C=S.style,R=S.compact,E=S.title,I=S.desc,B=eO(S,c5e),z=Ot(B,!1);if(R)return xe.createElement(LT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(vS,vp({},z,{width:P,height:k,title:E,desc:I}),this.renderClipPath(),yC(A,this.renderMap)));if(this.props.accessibilityLayer){var V,U;z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,z.role=(U=this.props.role)!==null&&U!==void 0?U:"application",z.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},z.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return xe.createElement(LT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",vp({className:or("recharts-wrapper",L),style:Je({position:"relative",cursor:"default",width:P,height:k},C)},K,{ref:function(W){w.container=W}}),xe.createElement(vS,vp({},z,{width:P,height:k,title:E,desc:I,style:k5e}),this.renderClipPath(),yC(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Kt(x,"displayName",n),Kt(x,"defaultProps",Je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Kt(x,"getDerivedStateFromProps",function(v,b){var _=v.dataKey,w=v.data,S=v.children,A=v.width,L=v.height,P=v.layout,k=v.stackOffset,C=v.margin,R=b.dataStartIndex,E=b.dataEndIndex;if(b.updateId===void 0){var I=nO(v);return Je(Je(Je({},I),{},{updateId:0},f(Je(Je({props:v},I),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:A,prevHeight:L,prevLayout:P,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(_!==b.prevDataKey||w!==b.prevData||A!==b.prevWidth||L!==b.prevHeight||P!==b.prevLayout||k!==b.prevStackOffset||!Ep(C,b.prevMargin)){var B=nO(v),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=Je(Je({},rO(b,w,P)),{},{updateId:b.updateId+1}),U=Je(Je(Je({},B),z),V);return Je(Je(Je({},U),f(Je({props:v},U),b)),{},{prevDataKey:_,prevData:w,prevWidth:A,prevHeight:L,prevLayout:P,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!xS(S,b.prevChildren)){var K,$,W,te,J=lo(S,xg),M=J&&(K=($=J.props)===null||$===void 0?void 0:$.startIndex)!==null&&K!==void 0?K:R,G=J&&(W=(te=J.props)===null||te===void 0?void 0:te.endIndex)!==null&&W!==void 0?W:E,X=M!==R||G!==E,ie=!ar(w),re=ie&&!X?b.updateId:b.updateId+1;return Je(Je({updateId:re},f(Je(Je({props:v},b),{},{updateId:re,dataStartIndex:M,dataEndIndex:G}),b)),{},{prevChildren:S,dataStartIndex:M,dataEndIndex:G})}return null}),Kt(x,"renderActiveDot",function(v,b,_){var w;return j.isValidElement(v)?w=j.cloneElement(v,b):Yt(v)?w=v(b):w=xe.createElement(tv,b),xe.createElement(Lr,{className:"recharts-active-dot",key:_},w)});var g=j.forwardRef(function(b,_){return xe.createElement(x,vp({},b,{ref:_}))});return g.displayName=x.displayName,g},D5e=W2({chartName:"LineChart",GraphicalChild:Uf,axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:ek}),aO=W2({chartName:"BarChart",GraphicalChild:wd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:ek}),dk=W2({chartName:"PieChart",GraphicalChild:$l,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:M2},{axisType:"radiusAxis",AxisComp:L2}],formatAxisMap:m0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),E0=W2({chartName:"AreaChart",GraphicalChild:fi,axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:ek});function ds(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Pc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function R5e(e,t){const n=ds(e);return isNaN(t)?Pc(e,NaN):n}function s9(e,t){const n=ds(e);if(isNaN(t))return Pc(e,NaN);if(!t)return n;const s=n.getDate(),a=Pc(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const a9=6048e5,F5e=864e5,i9=6e4,o9=36e5;let $5e={};function rv(){return $5e}function am(e,t){const n=rv(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ds(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function mw(e){return am(e,{weekStartsOn:1})}function l9(e){const t=ds(e),n=t.getFullYear(),s=Pc(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=mw(s),i=Pc(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=mw(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function pw(e){const t=ds(e);return t.setHours(0,0,0,0),t}function iO(e){const t=ds(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function B5e(e,t){const n=pw(e),s=pw(t),a=+n-iO(n),i=+s-iO(s);return Math.round((a-i)/F5e)}function z5e(e){const t=l9(e),n=Pc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),mw(n)}function sd(e,t){const n=pw(e),s=pw(t);return+n==+s}function U5e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function q5e(e){if(!U5e(e)&&typeof e!="number")return!1;const t=ds(e);return!isNaN(Number(t))}function W5e(e){const t=ds(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function oO(e,t){const n=ds(e.start),s=ds(e.end);let a=+n>+s;const i=a?+n:+s,o=a?s:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(ds(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function V5e(e){const t=ds(e);return t.setDate(1),t.setHours(0,0,0,0),t}function H5e(e){const t=ds(e),n=Pc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lO(e,t){const n=rv(),s=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ds(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const G5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},K5e=(e,t,n)=>{let s;const a=G5e[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function zN(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Y5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Z5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J5e={date:zN({formats:Y5e,defaultWidth:"full"}),time:zN({formats:Z5e,defaultWidth:"full"}),dateTime:zN({formats:X5e,defaultWidth:"full"})},Q5e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eSe=(e,t,n,s)=>Q5e[e];function r0(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const tSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oSe=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lSe={ordinalNumber:oSe,era:r0({values:tSe,defaultWidth:"wide"}),quarter:r0({values:rSe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:r0({values:nSe,defaultWidth:"wide"}),day:r0({values:sSe,defaultWidth:"wide"}),dayPeriod:r0({values:aSe,defaultWidth:"wide",formattingValues:iSe,defaultFormattingWidth:"wide"})};function n0(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?dSe(l,h=>h.test(o)):cSe(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function cSe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function dSe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function uSe(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const hSe=/^(\d+)(th|st|nd|rd)?/i,fSe=/\d+/i,mSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pSe={any:[/^b/i,/^(a|c)/i]},gSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xSe={any:[/1/i,/2/i,/3/i,/4/i]},ySe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SSe={ordinalNumber:uSe({matchPattern:hSe,parsePattern:fSe,valueCallback:e=>parseInt(e,10)}),era:n0({matchPatterns:mSe,defaultMatchWidth:"wide",parsePatterns:pSe,defaultParseWidth:"any"}),quarter:n0({matchPatterns:gSe,defaultMatchWidth:"wide",parsePatterns:xSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:n0({matchPatterns:ySe,defaultMatchWidth:"wide",parsePatterns:vSe,defaultParseWidth:"any"}),day:n0({matchPatterns:bSe,defaultMatchWidth:"wide",parsePatterns:wSe,defaultParseWidth:"any"}),dayPeriod:n0({matchPatterns:jSe,defaultMatchWidth:"any",parsePatterns:NSe,defaultParseWidth:"any"})},_Se={code:"en-US",formatDistance:K5e,formatLong:J5e,formatRelative:eSe,localize:lSe,match:SSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kSe(e){const t=ds(e);return B5e(t,H5e(t))+1}function ASe(e){const t=ds(e),n=+mw(t)-+z5e(t);return Math.round(n/a9)+1}function c9(e,t){const n=ds(e),s=n.getFullYear(),a=rv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Pc(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=am(o,t),c=Pc(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=am(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function CSe(e,t){const n=rv(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=c9(e,t),i=Pc(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),am(i,t)}function PSe(e,t){const n=ds(e),s=+am(n,t)-+CSe(n,t);return Math.round(s/a9)+1}function mn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const ku={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return mn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mn(n+1,2)},d(e,t){return mn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mn(e.getHours()%12||12,t.length)},H(e,t){return mn(e.getHours(),t.length)},m(e,t){return mn(e.getMinutes(),t.length)},s(e,t){return mn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return mn(a,t.length)}},np={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cO={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return ku.y(e,t)},Y:function(e,t,n,s){const a=c9(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return mn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):mn(i,t.length)},R:function(e,t){const n=l9(e);return mn(n,t.length)},u:function(e,t){const n=e.getFullYear();return mn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return mn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return mn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return ku.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return mn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=PSe(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):mn(a,t.length)},I:function(e,t,n){const s=ASe(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):mn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ku.d(e,t)},D:function(e,t,n){const s=kSe(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):mn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return mn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=np.noon:s===0?a=np.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=np.evening:s>=12?a=np.afternoon:s>=4?a=np.morning:a=np.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return ku.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ku.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):mn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):mn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ku.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ku.s(e,t)},S:function(e,t){return ku.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return uO(s);case"XXXX":case"XX":return uf(s);case"XXXXX":case"XXX":default:return uf(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return uO(s);case"xxxx":case"xx":return uf(s);case"xxxxx":case"xxx":default:return uf(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+dO(s,":");case"OOOO":default:return"GMT"+uf(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+dO(s,":");case"zzzz":default:return"GMT"+uf(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return mn(s,t.length)},T:function(e,t,n){const s=e.getTime();return mn(s,t.length)}};function dO(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+mn(i,2)}function uO(e,t){return e%60===0?(e>0?"-":"+")+mn(Math.abs(e)/60,2):uf(e,t)}function uf(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=mn(Math.trunc(s/60),2),i=mn(s%60,2);return n+a+t+i}const hO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},d9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ESe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return hO(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",hO(s,t)).replace("{{time}}",d9(a,t))},TSe={p:d9,P:ESe},OSe=/^D+$/,LSe=/^Y+$/,ISe=["D","DD","YY","YYYY"];function MSe(e){return OSe.test(e)}function DSe(e){return LSe.test(e)}function RSe(e,t,n){const s=FSe(e,t,n);if(console.warn(s),ISe.includes(e))throw new RangeError(s)}function FSe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $Se=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zSe=/^'([^]*?)'?$/,USe=/''/g,qSe=/[a-zA-Z]/;function jn(e,t,n){const s=rv(),a=s.locale??_Se,i=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=ds(e);if(!q5e(l))throw new RangeError("Invalid time value");let c=t.match(BSe).map(u=>{const h=u[0];if(h==="p"||h==="P"){const p=TSe[h];return p(u,a.formatLong)}return u}).join("").match($Se).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:WSe(u)};if(cO[h])return{isToken:!0,value:u};if(h.match(qSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(DSe(h)||MSe(h))&&RSe(h,t,String(e));const p=cO[h[0]];return p(l,h,a.localize,d)}).join("")}function WSe(e){const t=e.match(zSe);return t?t[1].replace(USe,"'"):e}function VSe(e,t){const n=ds(e),s=ds(t);return n.getTime()>s.getTime()}function HSe(e,t){const n=ds(e),s=ds(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function kn(e,t){const s=ZSe(e);let a;if(s.date){const c=XSe(s.date,2);a=JSe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(s.time&&(o=QSe(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=e_e(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const yb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},GSe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,KSe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,YSe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZSe(e){const t={},n=e.split(yb.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],yb.timeZoneDelimiter.test(t.date)&&(t.date=e.split(yb.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=yb.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function XSe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function JSe(e,t){if(t===null)return new Date(NaN);const n=e.match(GSe);if(!n)return new Date(NaN);const s=!!n[4],a=s0(n[1]),i=s0(n[2])-1,o=s0(n[3]),l=s0(n[4]),c=s0(n[5])-1;if(s)return a_e(t,l,c)?t_e(t,l,c):new Date(NaN);{const d=new Date(0);return!n_e(t,i,o)||!s_e(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function s0(e){return e?parseInt(e):1}function QSe(e){const t=e.match(KSe);if(!t)return NaN;const n=UN(t[1]),s=UN(t[2]),a=UN(t[3]);return i_e(n,s,a)?n*o9+s*i9+a*1e3:NaN}function UN(e){return e&&parseFloat(e.replace(",","."))||0}function e_e(e){if(e==="Z")return 0;const t=e.match(YSe);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return o_e(s,a)?n*(s*o9+a*i9):NaN}function t_e(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const r_e=[31,null,31,30,31,30,31,31,30,31,30,31];function u9(e){return e%400===0||e%4===0&&e%100!==0}function n_e(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(r_e[t]||(u9(e)?29:28))}function s_e(e,t){return t>=1&&t<=(u9(e)?366:365)}function a_e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function i_e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function o_e(e,t){return t>=0&&t<=59}function l_e(e,t){return s9(e,-t)}const fO=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444"],mO=()=>{const e=un(),[t,n]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState("30days"),l="asst_crm_operations_v1",c=b=>{switch(b.type){case"email":break;case"booking":break;case"client":d(b);break;case"invoice":u(b);break}h()},d=b=>{b.action==="view_clients"&&e("/admin/clients")},u=b=>{b.action==="view_invoices"&&e("/admin/invoices")};j.useEffect(()=>{h()},[i]);const h=async()=>{try{a(!0);const[b,_,w,S]=await Promise.allSettled([fetch("/api/crm/dashboard/metrics"),fetch("/api/leads/list?status=any&limit=50&offset=0"),fetch("/api/photography/sessions"),fetch("/api/crm/invoices")]),A=b.status==="fulfilled"&&b.value.ok?await b.value.json():{},L=_.status==="fulfilled"&&_.value.ok?await _.value.json():{rows:[],count:0},P=Array.isArray(L)?L:L.rows||[],k=w.status==="fulfilled"&&w.value.ok?await w.value.json():[],C=S.status==="fulfilled"&&S.value.ok?await S.value.json():[],R=P.filter(U=>{try{const K=new Date(U.createdAt||U.created_at);if(isNaN(K.getTime()))return!1;const $=new Date;return $.setDate($.getDate()-30),K>=$}catch{return!1}}),E=C.filter(U=>U.status==="paid"),I=Array.isArray(A.trendData)?A.trendData.map(U=>({label:(()=>{try{return jn(new Date(U.date),"MMM dd")}catch{return String(U.date)}})(),revenue:Number(U.value||0),bookings:0})):[],B=R.filter(U=>U.status==="CONVERTED"||U.status==="converted").length,z=[{label:"Last 30 days",leads:R.length,converted:B}],V={totalRevenue:A.totalRevenue||0,monthlyRevenue:A.totalRevenue||0,totalClients:A.totalClients||0,newLeads:R.length,pendingInvoices:C.filter(U=>U.status==="pending").length,upcomingBookings:A.upcomingSessions||0,revenueChart:I,leadConversionChart:z,serviceDistribution:[],recentLeads:R.slice(0,5),recentBookings:k.slice(0,5),recentInvoices:E.slice(0,5),monthlyGrowth:0,conversionRate:P.length>0?P.filter(U=>U.status==="CONVERTED").length/P.length*100:0,averageOrderValue:A.avgOrderValue||0,clientSatisfaction:4.8};n(V)}catch{}finally{a(!1)}},p=({title:b,value:_,change:w,icon:S,color:A})=>r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`p-3 rounded-lg ${A}`,children:r.jsx(S,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:b}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:_}),w!==void 0&&r.jsxs("div",{className:"flex items-center mt-1",children:[w>=0?r.jsx(_s,{className:"h-4 w-4 text-green-500 mr-1"}):r.jsx(IM,{className:"h-4 w-4 text-red-500 mr-1"}),r.jsxs("span",{className:`text-sm ${w>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(w).toFixed(1),"%"]})]})]})]})}),f=()=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(p,{title:"Total Revenue",value:`€${(t?.totalRevenue??0).toLocaleString()}`,change:t?.monthlyGrowth,icon:go,color:"bg-purple-500"}),r.jsx(p,{title:"New Leads",value:t?.newLeads??0,icon:ln,color:"bg-blue-500"}),r.jsx(p,{title:"Upcoming Bookings",value:t?.upcomingBookings??0,icon:dn,color:"bg-green-500"}),r.jsx(p,{title:"Conversion Rate",value:`${(t?.conversionRate??0).toFixed(1)}%`,icon:_s,color:"bg-orange-500"})]}),x=()=>r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(E0,{data:t?.revenueChart||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"label"}),r.jsx(uo,{}),r.jsx($s,{}),r.jsx(fi,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Service Distribution"}),t?.serviceDistribution&&t.serviceDistribution.length>0?r.jsx(_l,{width:"100%",height:300,children:r.jsxs(dk,{children:[r.jsx($l,{data:t.serviceDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({service:b,count:_})=>`${b} (${_})`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:t.serviceDistribution.map((b,_)=>r.jsx(ex,{fill:fO[_%fO.length]},`cell-${_}`))}),r.jsx($s,{formatter:b=>[`€${b}`,"Revenue"]})]})}):r.jsx("div",{className:"text-sm text-gray-500",children:"No service distribution data yet."})]})]}),g=()=>r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Leads"}),r.jsx("button",{onClick:()=>e("/admin/leads"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:(t?.recentLeads||[]).slice(0,5).map((b,_)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:b.name}),r.jsx("p",{className:"text-sm text-gray-600",children:b.email}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${b.status==="new"?"bg-blue-100 text-blue-800":b.status==="contacted"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:b.status})]}),r.jsx("p",{className:"text-xs text-gray-500",children:(()=>{try{const w=new Date(b.createdAt||b.created_at);return isNaN(w.getTime())?"Recent":jn(w,"MMM dd")}catch{return"Recent"}})()})]},_))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Bookings"}),r.jsx("button",{onClick:()=>e("/admin/calendar"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View Calendar"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:(t?.recentBookings||[]).slice(0,5).map((b,_)=>r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:b.client_name||"Client"}),r.jsx("p",{className:"text-sm text-gray-600",children:b.service_type}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(bs,{className:"h-3 w-3 mr-1"}),(()=>{try{const w=new Date(b.booking_date||b.sessionDate||b.created_at);return isNaN(w.getTime())?"No date":jn(w,"MMM dd, HH:mm")}catch{return"No date"}})()]})]})},_))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Invoices"}),r.jsx("button",{onClick:()=>e("/admin/invoices"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:(t?.recentInvoices||[]).slice(0,5).map((b,_)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["Invoice #",b.id?.substring(0,8)]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["€",(parseFloat(b.total)||0).toFixed(2)]}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${b.status==="PENDING"?"bg-yellow-100 text-yellow-800":b.status==="PAID"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.status})]}),r.jsx("p",{className:"text-xs text-gray-500",children:(()=>{try{const w=new Date(b.createdAt||b.created_at);return isNaN(w.getTime())?"Recent":jn(w,"MMM dd")}catch{return"Recent"}})()})]},_))})})]})]}),v=()=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:()=>e("/admin/leads"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(ln,{className:"h-5 w-5 text-purple-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Lead"})]}),r.jsxs("button",{onClick:()=>e("/admin/calendar"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(dn,{className:"h-5 w-5 text-blue-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Schedule"})]}),r.jsxs("button",{onClick:()=>e("/admin/invoices"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Hn,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Create Invoice"})]}),r.jsxs("button",{onClick:()=>e("/admin/gallery"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(ta,{className:"h-5 w-5 text-orange-600 mr-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Upload Photos"})]})]})]});return s?r.jsx(Nr,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Overview of your photography business"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"7days",children:"Last 7 Days"}),r.jsx("option",{value:"30days",children:"Last 30 Days"}),r.jsx("option",{value:"90days",children:"Last 90 Days"})]}),r.jsxs("button",{onClick:()=>e("/admin/reports"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(kM,{size:16,className:"mr-2"}),"View Reports"]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>c("reply_to_emails"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border border-blue-200 rounded-lg text-left transition-all group",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-600 group-hover:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Reply to emails"})]}),r.jsxs("button",{onClick:()=>c("send_booking_confirmations"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border border-green-200 rounded-lg text-left transition-all group",children:[r.jsx("svg",{className:"h-5 w-5 text-green-600 group-hover:text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Send booking confirmations"})]}),r.jsxs("button",{onClick:()=>c("add_new_client"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 border border-purple-200 rounded-lg text-left transition-all group",children:[r.jsx("svg",{className:"h-5 w-5 text-purple-600 group-hover:text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Add new client"})]}),r.jsxs("button",{onClick:()=>c("generate_invoice"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-200 border border-yellow-200 rounded-lg text-left transition-all group",children:[r.jsx("svg",{className:"h-5 w-5 text-yellow-600 group-hover:text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Generate invoice"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"CRM Operations Assistant"]}),r.jsx(u1,{assistantId:l,onCRMAction:c,height:"600px",title:"CRM Operations Assistant",className:"w-full"})]})]}),f(),v(),x(),g()]})})},c_e=()=>{const[e,t]=j.useState({avgOrderValue:0,activeUsers:0,bookedRevenue:0,trendData:[]}),[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(0),[c,d]=j.useState(!0);j.useEffect(()=>{u()},[]);const u=async()=>{try{t({avgOrderValue:245.5,activeUsers:1247,bookedRevenue:15420,trendData:[{date:"2025-01-01",value:1200},{date:"2025-01-02",value:1350},{date:"2025-01-03",value:1180},{date:"2025-01-04",value:1420},{date:"2025-01-05",value:1380}]}),s([{id:"1",name:"Sarah Mueller",email:"sarah@example.com",phone:"+43 123 456 789",service:"Family Photoshoot",status:"new",createdAt:"2025-01-25T10:30:00Z"},{id:"2",name:"Michael Schmidt",email:"michael@example.com",phone:"+43 987 654 321",service:"Wedding Photography",status:"contacted",createdAt:"2025-01-25T09:15:00Z"},{id:"3",name:"Anna Weber",email:"anna@example.com",phone:"+43 555 123 456",service:"Newborn Photoshoot",status:"new",createdAt:"2025-01-24T16:45:00Z"}]),i([{id:"1",url:"https://images.pexels.com/photos/1668928/pexels-photo-1668928.jpeg",title:"Family Portrait Session",views:1250},{id:"2",url:"https://images.pexels.com/photos/3875080/pexels-photo-3875080.jpeg",title:"Newborn Photography",views:980},{id:"3",url:"https://images.pexels.com/photos/3662850/pexels-photo-3662850.jpeg",title:"Maternity Shoot",views:875}])}catch{}finally{d(!1)}},h=x=>{const v={new:{bg:"bg-blue-100",text:"text-blue-800",label:"New"},contacted:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Contacted"},qualified:{bg:"bg-purple-100",text:"text-purple-800",label:"Qualified"},converted:{bg:"bg-green-100",text:"text-green-800",label:"Converted"}}[x];return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.text}`,children:v.label})},p=()=>{l(x=>(x+1)%a.length)},f=()=>{l(x=>(x-1+a.length)%a.length)};return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"CRM Dashboard (Development Mode)"}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:"Auth Bypassed"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(go,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e.avgOrderValue]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(ln,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.activeUsers.toLocaleString()})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(_s,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booked Revenue"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e.bookedRevenue.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(dn,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"24"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New Leads"}),r.jsxs("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm flex items-center",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Add Lead"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(x=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),r.jsx("div",{className:"text-sm text-gray-500",children:x.email})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.service}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h(x.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:r.jsx(Mn,{size:16})}),r.jsx("button",{className:"text-green-600 hover:text-green-900",children:r.jsx(Aa,{size:16})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",children:r.jsx(Ts,{size:16})})]})})]},x.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Popular Images"})}),r.jsx("div",{className:"p-6",children:a.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:r.jsx("img",{src:a[o].url,alt:a[o].title,className:"w-full h-48 object-cover rounded-lg"})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:a[o].title}),r.jsxs("p",{className:"text-sm text-gray-500",children:[a[o].views," views"]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:f,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:r.jsx(Hy,{size:16})}),r.jsx("button",{onClick:p,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:r.jsx(vc,{size:16})})]})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[r.jsx(Cr,{size:20,className:"mr-2 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"Add New Lead"})]}),r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[r.jsx(dn,{size:20,className:"mr-2 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"Schedule Shoot"})]}),r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[r.jsx(ln,{size:20,className:"mr-2 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"Add Client"})]}),r.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[r.jsx(_s,{size:20,className:"mr-2 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"View Reports"})]})]})]})]})]})},d_e=()=>{const[e,t]=j.useState("matt@newagefotografie.com"),[n,s]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,h]=j.useState(!0),p=un(),{signIn:f,user:x,isAdmin:g}=Yw();j.useEffect(()=>{v()},[]),j.useEffect(()=>{x&&g&&p("/admin/dashboard")},[x,g,p]);const v=async()=>{h(!0);try{const P=await fetch("/api/status");if(P.ok)d({active:!0,error:null,statusCode:P.status});else throw new Error("API not responding")}catch{d({active:!1,error:"Failed to connect to database",statusCode:0})}finally{h(!1)}},b=async P=>{if(P.preventDefault(),P.stopPropagation(),!o){i(""),l(!0);try{await f(e,n)}catch(k){let C="Login failed";k instanceof Error?C=k.message:typeof k=="object"&&k!==null&&"message"in k&&(C=String(k.message)),i(C),(C.toLowerCase().includes("project paused")||C.toLowerCase().includes("project_paused"))&&setTimeout(()=>{v()},1e3)}finally{l(!1)}}},_=async()=>{await v()},w=()=>u?"text-yellow-400":c?.active?"text-green-400":c?.statusCode===503?"text-orange-400":"text-red-400",S=()=>u?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-400 mr-2"}):c?.active?r.jsx(jr,{className:"h-4 w-4 mr-2"}):r.jsx(MM,{className:"h-4 w-4 mr-2"}),A=()=>u?"Checking...":c?.active?"Active":c?.statusCode===503?"Paused":c?.statusCode===500?"Database Error":"Issue Detected",L=c?.statusCode===503||c?.error&&c.error.includes("paused");return r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-0",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mx-auto h-24 w-auto flex items-center justify-center mb-8",children:r.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-24 w-auto object-contain"})}),r.jsx("h2",{className:"text-center text-3xl font-extrabold text-white",children:"Admin Login"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Access the CRM dashboard"})]}),r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Database Status:"}),r.jsxs("div",{className:`flex items-center ${w()}`,children:[S(),r.jsx("span",{className:"text-sm",children:A()})]})]}),!u&&!c?.active&&r.jsxs("div",{className:`mt-3 p-3 border rounded ${L?"bg-orange-900 border-orange-700":"bg-red-900 border-red-700"}`,children:[r.jsx("p",{className:`text-sm mb-2 ${L?"text-orange-100":"text-red-100"}`,children:c?.error||"Database is not accessible"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs("button",{onClick:_,disabled:u,className:`flex items-center justify-center text-xs px-3 py-1 rounded border transition-colors ${L?"text-orange-300 border-orange-600 hover:text-orange-100 hover:border-orange-500":"text-red-300 border-red-600 hover:text-red-100 hover:border-red-500"} disabled:opacity-50`,children:[r.jsx(hh,{className:`h-3 w-3 mr-1 ${u?"animate-spin":""}`}),"Retry Check"]}),L&&r.jsxs("a",{href:"https://console.neon.tech",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center text-xs text-orange-300 hover:text-orange-100 px-3 py-1 rounded border border-orange-600 hover:border-orange-500 transition-colors",children:[r.jsx(Yf,{className:"h-3 w-3 mr-1"}),"Open Database Console"]})]})]})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[r.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pr,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-600 placeholder-gray-400 text-white bg-gray-800 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:P=>t(P.target.value),disabled:o})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Zf,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-600 placeholder-gray-400 text-white bg-gray-800 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:P=>s(P.target.value),disabled:o})]})]})]}),a&&r.jsx("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),r.jsx("div",{className:"text-sm whitespace-pre-line",children:a})]})}),r.jsxs("div",{children:[r.jsx("button",{type:"submit",disabled:o||!c?.active&&!u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"}),!c?.active&&!u&&r.jsx("p",{className:"mt-2 text-xs text-gray-400 text-center",children:L?"Login disabled - Database project is paused":"Login disabled due to database connection issues"})]})]}),!c?.active&&!u&&r.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:L?"Project Paused - Action Required:":"Troubleshooting Steps:"}),L?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-orange-200 mb-2",children:"Your database project appears to be paused. This commonly happens due to:"}),r.jsxs("ul",{className:"text-xs text-orange-300 space-y-1 ml-4",children:[r.jsx("li",{children:"• Project inactivity (free tier projects pause after 1 week of inactivity)"}),r.jsx("li",{children:"• Billing issues or plan limitations"}),r.jsx("li",{children:"• Manual project suspension"})]}),r.jsxs("div",{className:"mt-3 p-2 bg-orange-800 rounded",children:[r.jsx("p",{className:"text-xs text-orange-100 font-medium",children:"To resolve:"}),r.jsxs("ol",{className:"text-xs text-orange-200 mt-1 space-y-1",children:[r.jsxs("li",{children:["1. Visit your ",r.jsx("a",{href:"https://console.neon.tech",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-100",children:"Neon Console"})]}),r.jsx("li",{children:"2. Find your project and check if it shows as paused"}),r.jsx("li",{children:"3. Verify your billing plan is active"}),r.jsx("li",{children:"4. Wait 1-2 minutes for the project to fully resume"}),r.jsx("li",{children:'5. Click "Retry Check" above to test the connection'})]})]})]}):r.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[r.jsx("li",{children:"1. Check your Neon console to ensure the project is active"}),r.jsx("li",{children:"2. Verify environment variables match your project settings"}),r.jsx("li",{children:"3. Check database connection logs for specific errors"}),r.jsx("li",{children:"4. Ensure your project hasn't been paused due to inactivity"}),r.jsx("li",{children:"5. Try refreshing your connection string if the issue persists"}),r.jsx("li",{children:"6. Check the Neon status page for service outages"})]})]})]})})},u_e=({variant:e,children:t})=>r.jsx("div",{className:`p-3 rounded-md border ${e==="destructive"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:t}),h_e=({children:e})=>r.jsx("div",{children:e});function f_e(){const[e,t]=j.useState("admin@newagefotografie.com"),[n,s]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState("");un();const c=async u=>{u.preventDefault(),i(!0),l("");try{const p=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:n})})).json();p.success?(localStorage.setItem("admin_user",JSON.stringify(p.user)),window.location.href="/admin/dashboard"):l(p.error||"Login failed")}catch(h){l("Network error: "+(h.message||"Unable to connect to server"))}finally{i(!1)}},d=async()=>{if(!e||!n){l("Please enter email and password to create admin account");return}i(!0),l("");try{const h=await(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n,firstName:"Admin",lastName:"User"})})).json();h.success?(l("Admin account created! You can now log in."),setTimeout(()=>l(""),3e3)):l(h.error||"Registration failed")}catch(u){l("Network error: "+(u.message||"Unable to connect to server"))}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-purple-600 p-3 rounded-full",children:r.jsx(ta,{className:"h-8 w-8 text-white"})})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"New Age Fotografie"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Admin Dashboard Login"})]}),r.jsx(Rt,{className:"bg-white border-green-200",children:r.jsxs(Jt,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(o1,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Neon Database"}),r.jsxs(ra,{variant:"secondary",className:"bg-green-100 text-green-800",children:[r.jsx(VK,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Independent Neon PostgreSQL - Complete data migration successful"})]})}),r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsxs(zr,{className:"flex items-center space-x-2",children:[r.jsx(Zf,{className:"h-5 w-5"}),r.jsx("span",{children:"Admin Login"})]}),r.jsx(_a,{children:"Access the CRM dashboard with your admin credentials"})]}),r.jsx(Jt,{children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"email",children:"Email"}),r.jsx(gs,{id:"email",type:"email",value:e,onChange:u=>t(u.target.value),placeholder:"admin@newagefotografie.com",required:!0,disabled:a})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"password",children:"Password"}),r.jsx(gs,{id:"password",type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,disabled:a})]}),o&&r.jsx(u_e,{variant:o.includes("created")?"default":"destructive",children:r.jsx(h_e,{children:o})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx($t,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),r.jsx($t,{type:"button",variant:"outline",className:"w-full",onClick:d,disabled:a,children:"Create Admin Account"})]})]})})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500",children:[r.jsx("p",{children:"CRM Agent System - 74 Tools Registered"}),r.jsx("p",{children:"Complete Neon Migration - All Data Preserved"})]})]})})}async function m_e(e){try{const t=e?.status||"NEW",n=e?.q?`&q=${encodeURIComponent(e.q)}`:"",s=typeof e?.limit=="number"?`&limit=${e.limit}`:"",a=typeof e?.offset=="number"?`&offset=${e.offset}`:"",i=`/api/leads/list?status=${t.toLowerCase()}${n}${s}${a}`,o=await fetch(i,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!o.ok){const d=await o.text();throw new Error(`Failed to fetch leads: ${o.status} - ${d}`)}const l=await o.json(),c=(l.rows||[]).map(d=>({id:d.id,first_name:d.full_name?String(d.full_name).split(" ")[0]:"",last_name:d.full_name?String(d.full_name).split(" ").slice(1).join(" "):"",email:d.email,phone:d.phone,message:d.message,form_source:(d.form_type||"MANUAL").toUpperCase(),status:(d.status||"new").toUpperCase(),created_at:d.created_at}));return{rows:c,count:l.count||c.length}}catch(t){throw t}}async function pO(e,t){try{const n=await fetch(`/api/leads/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t.toLowerCase()})});if(!n.ok)throw new Error("Failed to update lead status");return await n.json()}catch(n){throw n}}async function p_e(e){try{if(!(await fetch(`/api/leads/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"archived"})})).ok)throw new Error("Failed to delete lead");return!0}catch(t){throw t}}const g_e=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(""),[a,i]=j.useState("NEW"),[o,l]=j.useState("all"),[c,d]=j.useState(!0),[u,h]=j.useState(null),[p,f]=j.useState(null),[x,g]=j.useState(null),[v,b]=j.useState(null),[_,w]=j.useState(!1),[S,A]=j.useState({first_name:"",last_name:"",email:"",phone:"",message:"",form_source:"MANUAL"}),[L,P]=j.useState({first_name:"",last_name:"",email:"",phone:"",message:"",status:"NEW"}),[k,C]=j.useState(0),[R,E]=j.useState(1),I=25,[B,z]=j.useState(null),V=Q=>{const pe=`toast-${Date.now()}`,ge="app-toasts";let Ae=document.getElementById(ge);Ae||(Ae=document.createElement("div"),Ae.id=ge,Ae.className="fixed top-4 right-4 z-[9999] space-y-2",document.body.appendChild(Ae));const Ne=document.createElement("div");if(Ne.id=pe,Ne.className=`shadow-lg rounded-md px-4 py-3 text-sm ${Q.variant==="error"?"bg-red-600 text-white":"bg-emerald-600 text-white"}`,Ne.innerHTML=`<div class="font-semibold">${Q.title}</div>${Q.description?`<div class="opacity-90">${Q.description}</div>`:""}`,Q.action){const ke=document.createElement("button");ke.type="button",ke.textContent=Q.action.label,ke.className="mt-2 inline-flex items-center bg-white/20 hover:bg-white/30 text-white font-medium px-3 py-1 rounded",ke.addEventListener("click",()=>{try{Q.action&&Q.action.onClick()}finally{Ne.remove(),Ae&&Ae.childElementCount===0&&Ae.remove()}}),Ne.appendChild(ke)}Ae.appendChild(Ne);const Y=Q.action?5e3:3500;setTimeout(()=>{Ne.remove(),Ae&&Ae.childElementCount===0&&Ae.remove()},Y)};j.useEffect(()=>{U()},[a,n,R]),j.useEffect(()=>{(async()=>{try{const Q=await fetch("/api/admin/email-settings");if(Q.ok){const pe=await Q.json();pe&&pe.notificationEmail&&z(pe.notificationEmail)}}catch{}})()},[]);const U=async()=>{try{d(!0);const{rows:Q,count:pe}=await m_e({status:a,q:n||void 0,limit:I,offset:(R-1)*I});t(Q),C(pe)}catch{h("Failed to load leads. Please try again."),t([]),C(0)}finally{d(!1)}},K=Math.max(1,Math.ceil(k/I)),$=Q=>{s(Q),E(1)},W=Q=>{i(Q==="all"?"ANY":Q),E(1)},te=async()=>{try{const Q=await fetch("/api/leads/bulk/mark-new-contacted",{method:"POST"});if(!Q.ok)throw new Error("Bulk update failed");const pe=await Q.json().catch(()=>({ok:!0,updated:0}));V({title:"Updated leads",description:`${pe.updated||0} lead(s) marked as Contacted`,variant:"success"}),await U()}catch{V({title:"Bulk action failed",description:"Please try again",variant:"error"}),h("Failed to apply bulk action.")}},J=async(Q,pe)=>{try{await pO(Q,pe),t(ge=>ge.map(Ae=>Ae.id===Q?{...Ae,status:pe}:Ae))}catch{h("Failed to update lead status. Please try again.")}},M=async()=>{try{const Q=await fetch("/api/leads/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:`${S.first_name} ${S.last_name}`.trim(),email:S.email,phone:S.phone,message:S.message,source:S.form_source,status:"new"})});if(!Q.ok)throw new Error("Failed to create lead");const pe=await Q.json().catch(()=>({})),ge={id:pe&&pe.id||`${Date.now()}`,first_name:S.first_name,last_name:S.last_name,email:S.email,phone:S.phone,message:S.message,status:"NEW",form_source:S.form_source,created_at:new Date().toISOString()};V({title:"Lead created",description:"The new lead was saved successfully.",variant:"success",action:{label:"View lead",onClick:()=>g(ge)}}),await U(),w(!1),A({first_name:"",last_name:"",email:"",phone:"",message:"",form_source:"MANUAL"})}catch{h("Failed to create lead. Please try again.")}},G=async Q=>{try{await p_e(Q),t(pe=>pe.filter(ge=>ge.id!==Q)),f(null)}catch{h("Failed to delete lead. Please try again.")}},X=Q=>{g(Q)},ie=Q=>{b(Q),P({first_name:Q.first_name||"",last_name:Q.last_name||"",email:Q.email,phone:Q.phone||"",message:Q.message||"",status:Q.status})},re=async()=>{if(v)try{await pO(v.id,L.status),t(Q=>Q.map(pe=>pe.id===v.id?{...pe,status:L.status}:pe)),b(null)}catch{h("Failed to update lead. Please try again.")}},fe=Q=>{switch(Q){case"NEW":return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"})," New"]});case"CONTACTED":return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"})," Contacted"]});case"CONVERTED":return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"})," Converted"]});default:return null}},we=Q=>{switch(Q){case"WARTELISTE":return r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Waitlist"});case"KONTAKT":return r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Contact"});default:return null}},Z=Q=>{const pe=new Date(Q);return pe.toLocaleDateString()+" "+pe.toLocaleTimeString()};return r.jsxs(Nr,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:r.jsx(pr,{size:20,className:"text-blue-600"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Lead Notifications Active"}),r.jsxs("p",{className:"text-sm text-blue-700",children:["New lead notifications are automatically sent to ",r.jsx("strong",{children:B||"Not configured"})," when leads are submitted via contact forms, waitlist, or created manually.",!B&&r.jsxs(r.Fragment,{children:[" ",r.jsx("button",{onClick:()=>window.location.assign("/admin/settings/email"),className:"underline text-blue-700 hover:text-blue-900",children:"configure now"})]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"New Leads"}),r.jsx("p",{className:"text-gray-600",children:"Manage and track your potential clients"}),r.jsxs("div",{className:"mt-2 flex items-center space-x-1 text-sm text-blue-600",children:[r.jsx(pr,{size:14}),r.jsxs("span",{children:["Email notifications sent to: ",r.jsx("strong",{children:B||"Not configured"})]}),!B&&r.jsx("button",{onClick:()=>window.location.assign("/admin/settings/email"),className:"ml-2 underline text-blue-700 hover:text-blue-900",children:"configure"})]})]}),r.jsxs("button",{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Cr,{size:20,className:"mr-2"}),"Add Lead"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search leads...",value:n,onChange:Q=>$(Q.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("select",{value:a,onChange:Q=>W(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"NEW",children:"New"}),r.jsx("option",{value:"CONTACTED",children:"Contacted"}),r.jsx("option",{value:"CONVERTED",children:"Converted"})]}),r.jsxs("select",{value:o,onChange:Q=>l(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"all",children:"All Sources"}),r.jsx("option",{value:"WARTELISTE",children:"Waitlist"}),r.jsx("option",{value:"KONTAKT",children:"Contact"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-3 border-b flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[k," results"]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:te,className:"text-sm bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1.5 rounded",children:"Mark all New as Contacted"})})]}),c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u?r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg m-6",children:u}):e.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(Q=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Q.first_name," ",Q.last_name]}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(pr,{size:14,className:"mr-1"}),Q.email]}),Q.phone&&r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(Xf,{size:14,className:"mr-1"}),Q.phone]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:we(Q.form_source)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("select",{value:Q.status,onChange:pe=>J(Q.id,pe.target.value),className:"text-xs border-0 bg-transparent focus:ring-0",children:[r.jsx("option",{value:"NEW",children:"New"}),r.jsx("option",{value:"CONTACTED",children:"Contacted"}),r.jsx("option",{value:"CONVERTED",children:"Converted"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(dn,{size:14,className:"mr-1"}),Z(Q.created_at)]})}),"                      ",r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>X(Q),className:"text-blue-600 hover:text-blue-900",title:"View Lead Details",children:r.jsx(Mn,{size:16})}),r.jsx("button",{onClick:()=>ie(Q),className:"text-purple-600 hover:text-purple-900",title:"Edit Lead",children:r.jsx(Aa,{size:16})}),r.jsx("button",{onClick:()=>J(Q.id,"CONTACTED"),className:"text-green-600 hover:text-green-900",title:"Mark as Contacted",children:r.jsx(Xw,{size:16})}),r.jsx("button",{onClick:()=>J(Q.id,"CONVERTED"),className:"text-amber-600 hover:text-amber-900",title:"Mark as Converted",children:r.jsx(IY,{size:16})}),r.jsx("button",{onClick:()=>f(Q.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(Ts,{size:16})})]})})]},Q.id))})]})}):r.jsx("div",{className:"p-6 text-center text-gray-500",children:"No leads found."}),r.jsxs("div",{className:"px-6 py-3 border-t flex items-center justify-between",children:[r.jsx("button",{disabled:R<=1,onClick:()=>E(Q=>Math.max(1,Q-1)),className:"px-3 py-1.5 rounded border disabled:opacity-50",children:"Previous"}),r.jsxs("div",{className:"text-sm",children:["Page ",R," of ",K]}),r.jsx("button",{disabled:R>=K,onClick:()=>E(Q=>Math.min(K,Q+1)),className:"px-3 py-1.5 rounded border disabled:opacity-50",children:"Next"})]})]})]}),"      ",p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this lead? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>p&&G(p),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lead Details"}),r.jsxs("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:x.first_name||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:x.last_name||"N/A"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:x.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:x.phone||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded min-h-[60px]",children:x.message||"N/A"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("div",{className:"bg-gray-50 p-2 rounded",children:fe(x.status)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),r.jsx("div",{className:"bg-gray-50 p-2 rounded",children:we(x.form_source)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Z(x.created_at)})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Lead"}),r.jsxs("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("input",{type:"text",value:L.first_name,onChange:Q=>P({...L,first_name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{type:"text",value:L.last_name,onChange:Q=>P({...L,last_name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:L.email,onChange:Q=>P({...L,email:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:L.phone,onChange:Q=>P({...L,phone:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{value:L.message,onChange:Q=>P({...L,message:Q.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:L.status,onChange:Q=>P({...L,status:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"NEW",children:"New"}),r.jsx("option",{value:"CONTACTED",children:"Contacted"}),r.jsx("option",{value:"CONVERTED",children:"Converted"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[r.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:re,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Save Changes"})]})]})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Lead"}),r.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("input",{type:"text",value:S.first_name,onChange:Q=>A({...S,first_name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{type:"text",value:S.last_name,onChange:Q=>A({...S,last_name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:S.email,onChange:Q=>A({...S,email:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:S.phone,onChange:Q=>A({...S,phone:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),r.jsxs("select",{value:S.form_source,onChange:Q=>A({...S,form_source:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"MANUAL",children:"Manual Entry"}),r.jsx("option",{value:"WARTELISTE",children:"Waitlist"}),r.jsx("option",{value:"KONTAKT",children:"Contact Form"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{value:S.message,onChange:Q=>A({...S,message:Q.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter lead details or notes..."})]})]}),r.jsxs("div",{className:"mt-6 flex space-x-3",children:[r.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:M,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",disabled:!S.first_name||!S.last_name||!S.email,children:"Create Lead"})]})]})})]})};function x_e(){const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,i]=j.useState(null);async function o(c="new"){try{s(!0);const d=await fetch(`/api/leads/list?status=${c}`),u=await d.json();if(!d.ok)throw new Error(u?.error||"Failed to load leads");t(u.rows||[])}catch(d){i(d?.message||"Failed to load")}finally{s(!1)}}async function l(c,d){(await fetch(`/api/leads/${c}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:d})})).ok&&o("new")}return j.useEffect(()=>{o("new")},[]),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"New Leads"}),r.jsx("button",{onClick:()=>o("any"),className:"px-3 py-1 text-sm rounded bg-gray-200 hover:bg-gray-300",children:"Show All"})]}),n&&r.jsx("div",{children:"Loading…"}),a&&r.jsx("div",{className:"text-red-600",children:a}),!n&&e.length===0&&r.jsx("div",{children:"No leads yet."}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"When"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Form"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Phone"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Source"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(c=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:new Date(c.created_at).toLocaleString()}),r.jsx("td",{className:"px-4 py-2 text-sm",children:c.form_type}),r.jsx("td",{className:"px-4 py-2 text-sm",children:c.full_name||"—"}),r.jsx("td",{className:"px-4 py-2 text-sm",children:c.email}),r.jsx("td",{className:"px-4 py-2 text-sm",children:c.phone||"—"}),r.jsx("td",{className:"px-4 py-2 text-sm",children:c.source_path||"—"}),r.jsxs("td",{className:"px-4 py-2 text-sm space-x-2",children:[r.jsx("button",{onClick:()=>l(c.id,"contacted"),className:"px-2 py-1 text-xs rounded bg-blue-600 text-white",children:"Mark Contacted"}),r.jsx("button",{onClick:()=>l(c.id,"converted"),className:"px-2 py-1 text-xs rounded bg-green-600 text-white",children:"Converted"}),r.jsx("button",{onClick:()=>l(c.id,"archived"),className:"px-2 py-1 text-xs rounded bg-gray-500 text-white",children:"Archive"})]})]},c.id))})]})})]})}var y_e=nM[" useId ".trim().toString()]||(()=>{}),v_e=0;function Lp(e){const[t,n]=j.useState(y_e());return Ya(()=>{n(s=>s??String(v_e++))},[e]),t?`radix-${t}`:""}function im(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>t.current?.(...n),[])}function b_e(e,t=globalThis?.document){const n=im(e);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var w_e="DismissableLayer",W_="dismissableLayer.update",j_e="dismissableLayer.pointerDownOutside",N_e="dismissableLayer.focusOutside",gO,h9=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uk=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=j.useContext(h9),[u,h]=j.useState(null),p=u?.ownerDocument??globalThis?.document,[,f]=j.useState({}),x=Gn(t,P=>h(P)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),_=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=_>=b,A=k_e(P=>{const k=P.target,C=[...d.branches].some(R=>R.contains(k));!S||C||(a?.(P),o?.(P),P.defaultPrevented||l?.())},p),L=A_e(P=>{const k=P.target;[...d.branches].some(R=>R.contains(k))||(i?.(P),o?.(P),P.defaultPrevented||l?.())},p);return b_e(P=>{_===d.layers.size-1&&(s?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},p),j.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gO=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),xO(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gO)}},[u,p,n,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),xO())},[u,d]),j.useEffect(()=>{const P=()=>f({});return document.addEventListener(W_,P),()=>document.removeEventListener(W_,P)},[]),r.jsx(tn.div,{...c,ref:x,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Sn(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Sn(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Sn(e.onPointerDownCapture,A.onPointerDownCapture)})});uk.displayName=w_e;var S_e="DismissableLayerBranch",__e=j.forwardRef((e,t)=>{const n=j.useContext(h9),s=j.useRef(null),a=Gn(t,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(tn.div,{...e,ref:a})});__e.displayName=S_e;function k_e(e,t=globalThis?.document){const n=im(e),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){f9(j_e,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function A_e(e,t=globalThis?.document){const n=im(e),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&f9(N_e,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function xO(){const e=new CustomEvent(W_);document.dispatchEvent(e)}function f9(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?SJ(a,i):a.dispatchEvent(i)}var qN="focusScope.autoFocusOnMount",WN="focusScope.autoFocusOnUnmount",yO={bubbles:!1,cancelable:!0},C_e="FocusScope",hk=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),d=im(a),u=im(i),h=j.useRef(null),p=Gn(t,g=>c(g)),f=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let g=function(w){if(f.paused||!l)return;const S=w.target;l.contains(S)?h.current=S:Tu(h.current,{select:!0})},v=function(w){if(f.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Tu(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const A of w)A.removedNodes.length>0&&Tu(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const _=new MutationObserver(b);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),_.disconnect()}}},[s,l,f.paused]),j.useEffect(()=>{if(l){bO.add(f);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(qN,yO);l.addEventListener(qN,d),l.dispatchEvent(b),b.defaultPrevented||(P_e(I_e(m9(l)),{select:!0}),document.activeElement===g&&Tu(l))}return()=>{l.removeEventListener(qN,d),setTimeout(()=>{const b=new CustomEvent(WN,yO);l.addEventListener(WN,u),l.dispatchEvent(b),b.defaultPrevented||Tu(g??document.body,{select:!0}),l.removeEventListener(WN,u),bO.remove(f)},0)}}},[l,d,u,f]);const x=j.useCallback(g=>{if(!n&&!s||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const _=g.currentTarget,[w,S]=E_e(_);w&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&Tu(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),n&&Tu(S,{select:!0})):b===_&&g.preventDefault()}},[n,s,f.paused]);return r.jsx(tn.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});hk.displayName=C_e;function P_e(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Tu(s,{select:t}),document.activeElement!==n)return}function E_e(e){const t=m9(e),n=vO(t,e),s=vO(t.reverse(),e);return[n,s]}function m9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vO(e,t){for(const n of e)if(!T_e(n,{upTo:t}))return n}function T_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function O_e(e){return e instanceof HTMLInputElement&&"select"in e}function Tu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&O_e(e)&&t&&e.select()}}var bO=L_e();function L_e(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=wO(e,t),e.unshift(t)},remove(t){e=wO(e,t),e[0]?.resume()}}}function wO(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function I_e(e){return e.filter(t=>t.tagName!=="A")}var M_e="Portal",fk=j.forwardRef((e,t)=>{const{container:n,...s}=e,[a,i]=j.useState(!1);Ya(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?MG.createPortal(r.jsx(tn.div,{...s,ref:t}),o):null});fk.displayName=M_e;var VN=0;function p9(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jO()),document.body.insertAdjacentElement("beforeend",e[1]??jO()),VN++,()=>{VN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),VN--}},[])}function jO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hc=function(){return hc=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hc.apply(this,arguments)};function g9(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function D_e(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Vb="right-scroll-bar-position",Hb="width-before-scroll-bar",R_e="with-scroll-bars-hidden",F_e="--removed-body-scroll-bar-size";function HN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $_e(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var B_e=typeof window<"u"?j.useLayoutEffect:j.useEffect,NO=new WeakMap;function z_e(e,t){var n=$_e(null,function(s){return e.forEach(function(a){return HN(a,s)})});return B_e(function(){var s=NO.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||HN(l,null)}),i.forEach(function(l){a.has(l)||HN(l,o)})}NO.set(n,e)},[e]),n}function U_e(e){return e}function q_e(e,t){t===void 0&&(t=U_e);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function W_e(e){e===void 0&&(e={});var t=q_e(null);return t.options=hc({async:!0,ssr:!1},e),t}var x9=function(e){var t=e.sideCar,n=g9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,hc({},n))};x9.isSideCarExport=!0;function V_e(e,t){return e.useMedium(t),x9}var y9=W_e(),GN=function(){},V2=j.forwardRef(function(e,t){var n=j.useRef(null),s=j.useState({onScrollCapture:GN,onWheelCapture:GN,onTouchMoveCapture:GN}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,x=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,_=b===void 0?"div":b,w=e.gapMode,S=g9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,L=z_e([n,t]),P=hc(hc({},S),a);return j.createElement(j.Fragment,null,u&&j.createElement(A,{sideCar:y9,removeScrollBar:d,shards:h,noRelative:f,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?j.cloneElement(j.Children.only(l),hc(hc({},P),{ref:L})):j.createElement(_,hc({},P,{className:c,ref:L}),l))});V2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V2.classNames={fullWidth:Hb,zeroRight:Vb};var H_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G_e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=H_e();return t&&e.setAttribute("nonce",t),e}function K_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Y_e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Z_e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=G_e())&&(K_e(t,n),Y_e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},X_e=function(){var e=Z_e();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},v9=function(){var e=X_e(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},J_e={left:0,top:0,right:0,gap:0},KN=function(e){return parseInt(e||"",10)||0},Q_e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[KN(n),KN(s),KN(a)]},e4e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return J_e;var t=Q_e(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},t4e=v9(),Ip="data-scroll-locked",r4e=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(R_e,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ip,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vb,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Hb,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Vb," .").concat(Vb,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Hb," .").concat(Hb,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ip,`] {
    `).concat(F_e,": ").concat(l,`px;
  }
`)},SO=function(){var e=parseInt(document.body.getAttribute(Ip)||"0",10);return isFinite(e)?e:0},n4e=function(){j.useEffect(function(){return document.body.setAttribute(Ip,(SO()+1).toString()),function(){var e=SO()-1;e<=0?document.body.removeAttribute(Ip):document.body.setAttribute(Ip,e.toString())}},[])},s4e=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;n4e();var i=j.useMemo(function(){return e4e(a)},[a]);return j.createElement(t4e,{styles:r4e(i,!t,a,n?"":"!important")})},V_=!1;if(typeof window<"u")try{var vb=Object.defineProperty({},"passive",{get:function(){return V_=!0,!0}});window.addEventListener("test",vb,vb),window.removeEventListener("test",vb,vb)}catch{V_=!1}var sp=V_?{passive:!1}:!1,a4e=function(e){return e.tagName==="TEXTAREA"},b9=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!a4e(e)&&n[t]==="visible")},i4e=function(e){return b9(e,"overflowY")},o4e=function(e){return b9(e,"overflowX")},_O=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=w9(e,s);if(a){var i=j9(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},l4e=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},c4e=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},w9=function(e,t){return e==="v"?i4e(t):o4e(t)},j9=function(e,t){return e==="v"?l4e(t):c4e(t)},d4e=function(e,t){return e==="h"&&t==="rtl"?-1:1},u4e=function(e,t,n,s,a){var i=d4e(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,p=0;do{if(!l)break;var f=j9(e,l),x=f[0],g=f[1],v=f[2],b=g-v-i*x;(x||b)&&w9(e,l)&&(h+=b,p+=x);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(p)<1||!a))&&(d=!0),d},bb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kO=function(e){return[e.deltaX,e.deltaY]},AO=function(e){return e&&"current"in e?e.current:e},h4e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f4e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},m4e=0,ap=[];function p4e(e){var t=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(m4e++)[0],i=j.useState(v9)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=D_e([e.lockRef.current],(e.shards||[]).map(AO),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=bb(g),_=n.current,w="deltaX"in g?g.deltaX:_[0]-b[0],S="deltaY"in g?g.deltaY:_[1]-b[1],A,L=g.target,P=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&P==="h"&&L.type==="range")return!1;var k=_O(P,L);if(!k)return!0;if(k?A=P:(A=P==="v"?"h":"v",k=_O(P,L)),!k)return!1;if(!s.current&&"changedTouches"in g&&(w||S)&&(s.current=A),!A)return!0;var C=s.current||A;return u4e(C,v,g,C==="h"?w:S,!0)},[]),c=j.useCallback(function(g){var v=g;if(!(!ap.length||ap[ap.length-1]!==i)){var b="deltaY"in v?kO(v):bb(v),_=t.current.filter(function(A){return A.name===v.type&&(A.target===v.target||v.target===A.shadowParent)&&h4e(A.delta,b)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(AO).filter(Boolean).filter(function(A){return A.contains(v.target)}),S=w.length>0?l(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),d=j.useCallback(function(g,v,b,_){var w={name:g,delta:v,target:b,should:_,shadowParent:g4e(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=j.useCallback(function(g){n.current=bb(g),s.current=void 0},[]),h=j.useCallback(function(g){d(g.type,kO(g),g.target,l(g,e.lockRef.current))},[]),p=j.useCallback(function(g){d(g.type,bb(g),g.target,l(g,e.lockRef.current))},[]);j.useEffect(function(){return ap.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,sp),document.addEventListener("touchmove",c,sp),document.addEventListener("touchstart",u,sp),function(){ap=ap.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,sp),document.removeEventListener("touchmove",c,sp),document.removeEventListener("touchstart",u,sp)}},[]);var f=e.removeScrollBar,x=e.inert;return j.createElement(j.Fragment,null,x?j.createElement(i,{styles:f4e(a)}):null,f?j.createElement(s4e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function g4e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const x4e=V_e(y9,p4e);var mk=j.forwardRef(function(e,t){return j.createElement(V2,hc({},e,{ref:t,sideCar:x4e}))});mk.classNames=V2.classNames;var y4e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ip=new WeakMap,wb=new WeakMap,jb={},YN=0,N9=function(e){return e&&(e.host||N9(e.parentNode))},v4e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=N9(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},b4e=function(e,t,n,s){var a=v4e(t,Array.isArray(e)?e:[e]);jb[n]||(jb[n]=new WeakMap);var i=jb[n],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))u(p);else try{var f=p.getAttribute(s),x=f!==null&&f!=="false",g=(ip.get(p)||0)+1,v=(i.get(p)||0)+1;ip.set(p,g),i.set(p,v),o.push(p),g===1&&x&&wb.set(p,!0),v===1&&p.setAttribute(n,"true"),x||p.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(t),l.clear(),YN++,function(){o.forEach(function(h){var p=ip.get(h)-1,f=i.get(h)-1;ip.set(h,p),i.set(h,f),p||(wb.has(h)||h.removeAttribute(s),wb.delete(h)),f||h.removeAttribute(n)}),YN--,YN||(ip=new WeakMap,ip=new WeakMap,wb=new WeakMap,jb={})}},S9=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=y4e(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),b4e(s,a,n,"aria-hidden")):function(){return null}},H2="Dialog",[_9,WMe]=Wg(H2),[w4e,Bl]=_9(H2),k9=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[d,u]=U0({prop:s,defaultProp:a??!1,onChange:i,caller:H2});return r.jsx(w4e,{scope:t,triggerRef:l,contentRef:c,contentId:Lp(),titleId:Lp(),descriptionId:Lp(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};k9.displayName=H2;var A9="DialogTrigger",C9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Bl(A9,n),i=Gn(t,a.triggerRef);return r.jsx(tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xk(a.open),...s,ref:i,onClick:Sn(e.onClick,a.onOpenToggle)})});C9.displayName=A9;var pk="DialogPortal",[j4e,P9]=_9(pk,{forceMount:void 0}),E9=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Bl(pk,t);return r.jsx(j4e,{scope:t,forceMount:n,children:j.Children.map(s,o=>r.jsx(Gy,{present:n||i.open,children:r.jsx(fk,{asChild:!0,container:a,children:o})}))})};E9.displayName=pk;var gw="DialogOverlay",T9=j.forwardRef((e,t)=>{const n=P9(gw,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Bl(gw,e.__scopeDialog);return i.modal?r.jsx(Gy,{present:s||i.open,children:r.jsx(S4e,{...a,ref:t})}):null});T9.displayName=gw;var N4e=z0("DialogOverlay.RemoveScroll"),S4e=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Bl(gw,n);return r.jsx(mk,{as:N4e,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(tn.div,{"data-state":xk(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),om="DialogContent",O9=j.forwardRef((e,t)=>{const n=P9(om,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Bl(om,e.__scopeDialog);return r.jsx(Gy,{present:s||i.open,children:i.modal?r.jsx(_4e,{...a,ref:t}):r.jsx(k4e,{...a,ref:t})})});O9.displayName=om;var _4e=j.forwardRef((e,t)=>{const n=Bl(om,e.__scopeDialog),s=j.useRef(null),a=Gn(t,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return S9(i)},[]),r.jsx(L9,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sn(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Sn(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Sn(e.onFocusOutside,i=>i.preventDefault())})}),k4e=j.forwardRef((e,t)=>{const n=Bl(om,e.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return r.jsx(L9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),L9=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Bl(om,n),c=j.useRef(null),d=Gn(t,c);return p9(),r.jsxs(r.Fragment,{children:[r.jsx(hk,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(uk,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xk(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(A4e,{titleId:l.titleId}),r.jsx(P4e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gk="DialogTitle",I9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Bl(gk,n);return r.jsx(tn.h2,{id:a.titleId,...s,ref:t})});I9.displayName=gk;var M9="DialogDescription",D9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Bl(M9,n);return r.jsx(tn.p,{id:a.descriptionId,...s,ref:t})});D9.displayName=M9;var R9="DialogClose",F9=j.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Bl(R9,n);return r.jsx(tn.button,{type:"button",...s,ref:t,onClick:Sn(e.onClick,()=>a.onOpenChange(!1))})});F9.displayName=R9;function xk(e){return e?"open":"closed"}var $9="DialogTitleWarning",[VMe,B9]=AJ($9,{contentName:om,titleName:gk,docsSlug:"dialog"}),A4e=({titleId:e})=>{const t=B9($9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},C4e="DialogDescriptionWarning",P4e=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B9(C4e).contentName}}.`;return j.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},E4e=k9,T4e=C9,O4e=E9,z9=T9,U9=O9,q9=I9,W9=D9,L4e=F9;const H_=E4e,I4e=T4e,M4e=O4e,V9=j.forwardRef(({className:e,...t},n)=>r.jsx(z9,{ref:n,className:En("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));V9.displayName=z9.displayName;const xw=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(M4e,{children:[r.jsx(V9,{}),r.jsxs(U9,{ref:s,className:En("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(L4e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(gn,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xw.displayName=U9.displayName;const yw=({className:e,...t})=>r.jsx("div",{className:En("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yw.displayName="DialogHeader";const G_=({className:e,...t})=>r.jsx("div",{className:En("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});G_.displayName="DialogFooter";const vw=j.forwardRef(({className:e,...t},n)=>r.jsx(q9,{ref:n,className:En("text-lg font-semibold leading-none tracking-tight",e),...t}));vw.displayName=q9.displayName;const K_=j.forwardRef(({className:e,...t},n)=>r.jsx(W9,{ref:n,className:En("text-sm text-muted-foreground",e),...t}));K_.displayName=W9.displayName;const bw=j.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:En("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));bw.displayName="Textarea";var G2="Switch",[D4e,HMe]=Wg(G2),[R4e,F4e]=D4e(G2),H9=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[p,f]=j.useState(null),x=Gn(t,w=>f(w)),g=j.useRef(!1),v=p?u||!!p.closest("form"):!0,[b,_]=U0({prop:a,defaultProp:i??!1,onChange:d,caller:G2});return r.jsxs(R4e,{scope:n,checked:b,disabled:l,children:[r.jsx(tn.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Z9(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:Sn(e.onClick,w=>{_(S=>!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&r.jsx(Y9,{control:p,bubbles:!g.current,name:s,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});H9.displayName=G2;var G9="SwitchThumb",K9=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=F4e(G9,n);return r.jsx(tn.span,{"data-state":Z9(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});K9.displayName=G9;var $4e="SwitchBubbleInput",Y9=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=j.useRef(null),l=Gn(o,i),c=Q4(n),d=e6(t);return j.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&f){const x=new Event("click",{bubbles:s});f.call(u,n),u.dispatchEvent(x)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y9.displayName=$4e;function Z9(e){return e?"checked":"unchecked"}var X9=H9,B4e=K9;const Sy=j.forwardRef(({className:e,...t},n)=>r.jsx(X9,{className:En("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(B4e,{className:En("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sy.displayName=X9.displayName;const yk=j.createContext(void 0),K2=({value:e,defaultValue:t="",className:n,children:s,onValueChange:a})=>{const[i,o]=j.useState(e??t);xe.useEffect(()=>{typeof e=="string"&&e!==i&&o(e)},[e]);const l=c=>{o(c),a&&a(c)};return r.jsx(yk.Provider,{value:{activeTab:i,setActiveTab:l},children:r.jsx("div",{className:En("w-full",n),children:s})})},Y2=({className:e,children:t})=>r.jsx("div",{className:En("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),children:t}),Ga=({value:e,className:t,children:n})=>{const s=j.useContext(yk);if(!s)throw new Error("TabsTrigger must be used within Tabs");const{activeTab:a,setActiveTab:i}=s,o=a===e;return r.jsx("button",{onClick:()=>i(e),className:En("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-background text-foreground shadow-sm":"hover:bg-muted",t),children:n})},Ka=({value:e,className:t,children:n})=>{const s=j.useContext(yk);if(!s)throw new Error("TabsContent must be used within Tabs");const{activeTab:a}=s;return a!==e?null:r.jsx("div",{className:En("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),children:n})};function CO(e,[t,n]){return Math.min(n,Math.max(t,e))}function z4e(e){const t=e+"CollectionProvider",[n,s]=Wg(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,_=xe.useRef(null),w=xe.useRef(new Map).current;return r.jsx(a,{scope:v,itemMap:w,collectionRef:_,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=z0(l),d=xe.forwardRef((g,v)=>{const{scope:b,children:_}=g,w=i(l,b),S=Gn(v,w.collectionRef);return r.jsx(c,{ref:S,children:_})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",p=z0(u),f=xe.forwardRef((g,v)=>{const{scope:b,children:_,...w}=g,S=xe.useRef(null),A=Gn(v,S),L=i(u,b);return xe.useEffect(()=>(L.itemMap.set(S,{ref:S,...w}),()=>void L.itemMap.delete(S))),r.jsx(p,{[h]:"",ref:A,children:_})});f.displayName=u;function x(g){const v=i(e+"CollectionConsumer",g);return xe.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((L,P)=>w.indexOf(L.ref.current)-w.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},x,s]}var U4e=j.createContext(void 0);function q4e(e){const t=j.useContext(U4e);return e||t||"ltr"}const W4e=["top","right","bottom","left"],fh=Math.min,ho=Math.max,ww=Math.round,Nb=Math.floor,Nc=e=>({x:e,y:e}),V4e={left:"right",right:"left",bottom:"top",top:"bottom"},H4e={start:"end",end:"start"};function Y_(e,t,n){return ho(e,fh(t,n))}function Pd(e,t){return typeof e=="function"?e(t):e}function Ed(e){return e.split("-")[0]}function ax(e){return e.split("-")[1]}function vk(e){return e==="x"?"y":"x"}function bk(e){return e==="y"?"height":"width"}const G4e=new Set(["top","bottom"]);function xc(e){return G4e.has(Ed(e))?"y":"x"}function wk(e){return vk(xc(e))}function K4e(e,t,n){n===void 0&&(n=!1);const s=ax(e),a=wk(e),i=bk(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=jw(o)),[o,jw(o)]}function Y4e(e){const t=jw(e);return[Z_(e),t,Z_(t)]}function Z_(e){return e.replace(/start|end/g,t=>H4e[t])}const PO=["left","right"],EO=["right","left"],Z4e=["top","bottom"],X4e=["bottom","top"];function J4e(e,t,n){switch(e){case"top":case"bottom":return n?t?EO:PO:t?PO:EO;case"left":case"right":return t?Z4e:X4e;default:return[]}}function Q4e(e,t,n,s){const a=ax(e);let i=J4e(Ed(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Z_)))),i}function jw(e){return e.replace(/left|right|bottom|top/g,t=>V4e[t])}function e6e(e){return{top:0,right:0,bottom:0,left:0,...e}}function J9(e){return typeof e!="number"?e6e(e):{top:e,right:e,bottom:e,left:e}}function Nw(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function TO(e,t,n){let{reference:s,floating:a}=e;const i=xc(t),o=wk(t),l=bk(o),c=Ed(t),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:s.y-a.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-a.width,y:h};break;default:f={x:s.x,y:s.y}}switch(ax(t)){case"start":f[o]-=p*(n&&d?-1:1);break;case"end":f[o]+=p*(n&&d?-1:1);break}return f}const t6e=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=TO(d,s,c),p=s,f={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:_,y:w,data:S,reset:A}=await b({x:u,y:h,initialPlacement:s,placement:p,strategy:a,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=_??u,h=w??h,f={...f,[v]:{...f[v],...S}},A&&x<=50&&(x++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:u,y:h}=TO(d,p,c)),g=-1)}return{x:u,y:h,placement:p,strategy:a,middlewareData:f}};async function _y(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Pd(t,e),x=J9(f),v=l[p?h==="floating"?"reference":"floating":h],b=Nw(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),_=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},A=Nw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:w,strategy:c}):_);return{top:(b.top-A.top+x.top)/S.y,bottom:(A.bottom-b.bottom+x.bottom)/S.y,left:(b.left-A.left+x.left)/S.x,right:(A.right-b.right+x.right)/S.x}}const r6e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Pd(e,t)||{};if(d==null)return{};const h=J9(u),p={x:n,y:s},f=wk(a),x=bk(f),g=await o.getDimensions(d),v=f==="y",b=v?"top":"left",_=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[f]-p[f]-i.floating[x],A=p[f]-i.reference[f],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=L?L[w]:0;(!P||!await(o.isElement==null?void 0:o.isElement(L)))&&(P=l.floating[w]||i.floating[x]);const k=S/2-A/2,C=P/2-g[x]/2-1,R=fh(h[b],C),E=fh(h[_],C),I=R,B=P-g[x]-E,z=P/2-g[x]/2+k,V=Y_(I,z,B),U=!c.arrow&&ax(a)!=null&&z!==V&&i.reference[x]/2-(z<I?R:E)-g[x]/2<0,K=U?z<I?z-I:z-B:0;return{[f]:p[f]+K,data:{[f]:V,centerOffset:z-V-K,...U&&{alignmentOffset:K}},reset:U}}}),n6e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=Pd(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Ed(a),_=xc(l),w=Ed(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=p||(w||!g?[jw(l)]:Y4e(l)),L=x!=="none";!p&&L&&A.push(...Q4e(l,g,x,S));const P=[l,...A],k=await _y(t,v),C=[];let R=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&C.push(k[b]),h){const z=K4e(a,o,S);C.push(k[z[0]],k[z[1]])}if(R=[...R,{placement:a,overflows:C}],!C.every(z=>z<=0)){var E,I;const z=(((E=i.flip)==null?void 0:E.index)||0)+1,V=P[z];if(V&&(!(h==="alignment"?_!==xc(V):!1)||R.every($=>xc($.placement)===_?$.overflows[0]>0:!0)))return{data:{index:z,overflows:R},reset:{placement:V}};let U=(I=R.filter(K=>K.overflows[0]<=0).sort((K,$)=>K.overflows[1]-$.overflows[1])[0])==null?void 0:I.placement;if(!U)switch(f){case"bestFit":{var B;const K=(B=R.filter($=>{if(L){const W=xc($.placement);return W===_||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,te)=>W+te,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:B[0];K&&(U=K);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function OO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function LO(e){return W4e.some(t=>e[t]>=0)}const s6e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Pd(e,t);switch(s){case"referenceHidden":{const i=await _y(t,{...a,elementContext:"reference"}),o=OO(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:LO(o)}}}case"escaped":{const i=await _y(t,{...a,altBoundary:!0}),o=OO(i,n.floating);return{data:{escapedOffsets:o,escaped:LO(o)}}}default:return{}}}}},Q9=new Set(["left","top"]);async function a6e(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ed(n),l=ax(n),c=xc(n)==="y",d=Q9.has(o)?-1:1,u=i&&c?-1:1,h=Pd(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const i6e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await a6e(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},o6e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...c}=Pd(e,t),d={x:n,y:s},u=await _y(t,c),h=xc(Ed(a)),p=vk(h);let f=d[p],x=d[h];if(i){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=f+u[v],w=f-u[b];f=Y_(_,f,w)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=x+u[v],w=x-u[b];x=Y_(_,x,w)}const g=l.fn({...t,[p]:f,[h]:x});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[p]:i,[h]:o}}}}}},l6e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Pd(e,t),u={x:n,y:s},h=xc(a),p=vk(h);let f=u[p],x=u[h];const g=Pd(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",S=i.reference[p]-i.floating[w]+v.mainAxis,A=i.reference[p]+i.reference[w]-v.mainAxis;f<S?f=S:f>A&&(f=A)}if(d){var b,_;const w=p==="y"?"width":"height",S=Q9.has(Ed(a)),A=i.reference[h]-i.floating[w]+(S&&((b=o.offset)==null?void 0:b[h])||0)+(S?0:v.crossAxis),L=i.reference[h]+i.reference[w]+(S?0:((_=o.offset)==null?void 0:_[h])||0)-(S?v.crossAxis:0);x<A?x=A:x>L&&(x=L)}return{[p]:f,[h]:x}}}},c6e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Pd(e,t),u=await _y(t,d),h=Ed(a),p=ax(a),f=xc(a)==="y",{width:x,height:g}=i.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=p==="end"?"top":"bottom");const _=g-u.top-u.bottom,w=x-u.left-u.right,S=fh(g-u[v],_),A=fh(x-u[b],w),L=!t.middlewareData.shift;let P=S,k=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=_),L&&!p){const R=ho(u.left,0),E=ho(u.right,0),I=ho(u.top,0),B=ho(u.bottom,0);f?k=x-2*(R!==0||E!==0?R+E:ho(u.left,u.right)):P=g-2*(I!==0||B!==0?I+B:ho(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:P});const C=await o.getDimensions(l.floating);return x!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Z2(){return typeof window<"u"}function ix(e){return e$(e)?(e.nodeName||"").toLowerCase():"#document"}function vo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lc(e){var t;return(t=(e$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function e$(e){return Z2()?e instanceof Node||e instanceof vo(e).Node:!1}function Ml(e){return Z2()?e instanceof Element||e instanceof vo(e).Element:!1}function Ec(e){return Z2()?e instanceof HTMLElement||e instanceof vo(e).HTMLElement:!1}function IO(e){return!Z2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vo(e).ShadowRoot}const d6e=new Set(["inline","contents"]);function nv(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=Dl(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!d6e.has(a)}const u6e=new Set(["table","td","th"]);function h6e(e){return u6e.has(ix(e))}const f6e=[":popover-open",":modal"];function X2(e){return f6e.some(t=>{try{return e.matches(t)}catch{return!1}})}const m6e=["transform","translate","scale","rotate","perspective"],p6e=["transform","translate","scale","rotate","perspective","filter"],g6e=["paint","layout","strict","content"];function jk(e){const t=Nk(),n=Ml(e)?Dl(e):e;return m6e.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||p6e.some(s=>(n.willChange||"").includes(s))||g6e.some(s=>(n.contain||"").includes(s))}function x6e(e){let t=mh(e);for(;Ec(t)&&!Pg(t);){if(jk(t))return t;if(X2(t))return null;t=mh(t)}return null}function Nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y6e=new Set(["html","body","#document"]);function Pg(e){return y6e.has(ix(e))}function Dl(e){return vo(e).getComputedStyle(e)}function J2(e){return Ml(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mh(e){if(ix(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IO(e)&&e.host||Lc(e);return IO(t)?t.host:t}function t$(e){const t=mh(e);return Pg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ec(t)&&nv(t)?t:t$(t)}function ky(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=t$(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=vo(a);if(i){const l=X_(o);return t.concat(o,o.visualViewport||[],nv(a)?a:[],l&&n?ky(l):[])}return t.concat(a,ky(a,[],n))}function X_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r$(e){const t=Dl(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Ec(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=ww(n)!==i||ww(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Sk(e){return Ml(e)?e:e.contextElement}function Mp(e){const t=Sk(e);if(!Ec(t))return Nc(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=r$(t);let o=(i?ww(n.width):n.width)/s,l=(i?ww(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const v6e=Nc(0);function n$(e){const t=vo(e);return!Nk()||!t.visualViewport?v6e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b6e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==vo(e)?!1:t}function lm(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Sk(e);let o=Nc(1);t&&(s?Ml(s)&&(o=Mp(s)):o=Mp(e));const l=b6e(i,n,s)?n$(i):Nc(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const p=vo(i),f=s&&Ml(s)?vo(s):s;let x=p,g=X_(x);for(;g&&s&&f!==x;){const v=Mp(g),b=g.getBoundingClientRect(),_=Dl(g),w=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*v.x,S=b.top+(g.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=S,x=vo(g),g=X_(x)}}return Nw({width:u,height:h,x:c,y:d})}function Q2(e,t){const n=J2(e).scrollLeft;return t?t.left+n:lm(Lc(e)).left+n}function s$(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Q2(e,n),a=n.top+t.scrollTop;return{x:s,y:a}}function w6e(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Lc(s),l=t?X2(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Nc(1);const u=Nc(0),h=Ec(s);if((h||!h&&!i)&&((ix(s)!=="body"||nv(o))&&(c=J2(s)),Ec(s))){const f=lm(s);d=Mp(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}const p=o&&!h&&!i?s$(o,c):Nc(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function j6e(e){return Array.from(e.getClientRects())}function N6e(e){const t=Lc(e),n=J2(e),s=e.ownerDocument.body,a=ho(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=ho(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Q2(e);const l=-n.scrollTop;return Dl(s).direction==="rtl"&&(o+=ho(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const MO=25;function S6e(e,t){const n=vo(e),s=Lc(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Nk();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Q2(s);if(d<=0){const u=s.ownerDocument,h=u.body,p=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(s.clientWidth-h.clientWidth-f);x<=MO&&(i-=x)}else d<=MO&&(i+=d);return{width:i,height:o,x:l,y:c}}const _6e=new Set(["absolute","fixed"]);function k6e(e,t){const n=lm(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ec(e)?Mp(e):Nc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function DO(e,t,n){let s;if(t==="viewport")s=S6e(e,n);else if(t==="document")s=N6e(Lc(e));else if(Ml(t))s=k6e(t,n);else{const a=n$(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Nw(s)}function a$(e,t){const n=mh(e);return n===t||!Ml(n)||Pg(n)?!1:Dl(n).position==="fixed"||a$(n,t)}function A6e(e,t){const n=t.get(e);if(n)return n;let s=ky(e,[],!1).filter(l=>Ml(l)&&ix(l)!=="body"),a=null;const i=Dl(e).position==="fixed";let o=i?mh(e):e;for(;Ml(o)&&!Pg(o);){const l=Dl(o),c=jk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&_6e.has(a.position)||nv(o)&&!c&&a$(e,o))?s=s.filter(u=>u!==o):a=l,o=mh(o)}return t.set(e,s),s}function C6e(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?X2(t)?[]:A6e(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,u)=>{const h=DO(t,u,a);return d.top=ho(h.top,d.top),d.right=fh(h.right,d.right),d.bottom=fh(h.bottom,d.bottom),d.left=ho(h.left,d.left),d},DO(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function P6e(e){const{width:t,height:n}=r$(e);return{width:t,height:n}}function E6e(e,t,n){const s=Ec(t),a=Lc(t),i=n==="fixed",o=lm(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Nc(0);function d(){c.x=Q2(a)}if(s||!s&&!i)if((ix(t)!=="body"||nv(a))&&(l=J2(t)),s){const f=lm(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?s$(a,l):Nc(0),h=o.left+l.scrollLeft-c.x-u.x,p=o.top+l.scrollTop-c.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function ZN(e){return Dl(e).position==="static"}function RO(e,t){if(!Ec(e)||Dl(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Lc(e)===n&&(n=n.ownerDocument.body),n}function i$(e,t){const n=vo(e);if(X2(e))return n;if(!Ec(e)){let a=mh(e);for(;a&&!Pg(a);){if(Ml(a)&&!ZN(a))return a;a=mh(a)}return n}let s=RO(e,t);for(;s&&h6e(s)&&ZN(s);)s=RO(s,t);return s&&Pg(s)&&ZN(s)&&!jk(s)?n:s||x6e(e)||n}const T6e=async function(e){const t=this.getOffsetParent||i$,n=this.getDimensions,s=await n(e.floating);return{reference:E6e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function O6e(e){return Dl(e).direction==="rtl"}const L6e={convertOffsetParentRelativeRectToViewportRelativeRect:w6e,getDocumentElement:Lc,getClippingRect:C6e,getOffsetParent:i$,getElementRects:T6e,getClientRects:j6e,getDimensions:P6e,getScale:Mp,isElement:Ml,isRTL:O6e};function o$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function I6e(e,t){let n=null,s;const a=Lc(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=d;if(l||t(),!p||!f)return;const x=Nb(h),g=Nb(a.clientWidth-(u+p)),v=Nb(a.clientHeight-(h+f)),b=Nb(u),w={rootMargin:-x+"px "+-g+"px "+-v+"px "+-b+"px",threshold:ho(0,fh(1,c))||1};let S=!0;function A(L){const P=L[0].intersectionRatio;if(P!==c){if(!S)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!o$(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(A,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(A,w)}n.observe(e)}return o(!0),i}function M6e(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Sk(e),u=a||i?[...d?ky(d):[],...ky(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&l?I6e(d,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(b=>{let[_]=b;_&&_.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let x,g=c?lm(e):null;c&&v();function v(){const b=lm(e);g&&!o$(g,b)&&n(),g=b,x=requestAnimationFrame(v)}return n(),()=>{var b;u.forEach(_=>{a&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h?.(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const D6e=i6e,R6e=o6e,F6e=n6e,$6e=c6e,B6e=s6e,FO=r6e,z6e=l6e,U6e=(e,t,n)=>{const s=new Map,a={platform:L6e,...n},i={...a.platform,_c:s};return t6e(e,t,{...a,platform:i})};var q6e=typeof document<"u",W6e=function(){},Gb=q6e?j.useLayoutEffect:W6e;function Sw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Sw(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Sw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function l$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $O(e,t){const n=l$(e);return Math.round(t*n)/n}function XN(e){const t=j.useRef(e);return Gb(()=>{t.current=e}),t}function V6e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=j.useState(s);Sw(p,s)||f(s);const[x,g]=j.useState(null),[v,b]=j.useState(null),_=j.useCallback($=>{$!==L.current&&(L.current=$,g($))},[]),w=j.useCallback($=>{$!==P.current&&(P.current=$,b($))},[]),S=i||x,A=o||v,L=j.useRef(null),P=j.useRef(null),k=j.useRef(u),C=c!=null,R=XN(c),E=XN(a),I=XN(d),B=j.useCallback(()=>{if(!L.current||!P.current)return;const $={placement:t,strategy:n,middleware:p};E.current&&($.platform=E.current),U6e(L.current,P.current,$).then(W=>{const te={...W,isPositioned:I.current!==!1};z.current&&!Sw(k.current,te)&&(k.current=te,Wy.flushSync(()=>{h(te)}))})},[p,t,n,E,I]);Gb(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[d]);const z=j.useRef(!1);Gb(()=>(z.current=!0,()=>{z.current=!1}),[]),Gb(()=>{if(S&&(L.current=S),A&&(P.current=A),S&&A){if(R.current)return R.current(S,A,B);B()}},[S,A,B,R,C]);const V=j.useMemo(()=>({reference:L,floating:P,setReference:_,setFloating:w}),[_,w]),U=j.useMemo(()=>({reference:S,floating:A}),[S,A]),K=j.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const W=$O(U.floating,u.x),te=$O(U.floating,u.y);return l?{...$,transform:"translate("+W+"px, "+te+"px)",...l$(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:te}},[n,l,U.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:B,refs:V,elements:U,floatingStyles:K}),[u,B,V,U,K])}const H6e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?FO({element:s.current,padding:a}).fn(n):{}:s?FO({element:s,padding:a}).fn(n):{}}}},G6e=(e,t)=>({...D6e(e),options:[e,t]}),K6e=(e,t)=>({...R6e(e),options:[e,t]}),Y6e=(e,t)=>({...z6e(e),options:[e,t]}),Z6e=(e,t)=>({...F6e(e),options:[e,t]}),X6e=(e,t)=>({...$6e(e),options:[e,t]}),J6e=(e,t)=>({...B6e(e),options:[e,t]}),Q6e=(e,t)=>({...H6e(e),options:[e,t]});var eke="Arrow",c$=j.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(tn.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});c$.displayName=eke;var tke=c$,_k="Popper",[d$,u$]=Wg(_k),[rke,h$]=d$(_k),f$=e=>{const{__scopePopper:t,children:n}=e,[s,a]=j.useState(null);return r.jsx(rke,{scope:t,anchor:s,onAnchorChange:a,children:n})};f$.displayName=_k;var m$="PopperAnchor",p$=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=h$(m$,n),o=j.useRef(null),l=Gn(t,o),c=j.useRef(null);return j.useEffect(()=>{const d=c.current;c.current=s?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),s?null:r.jsx(tn.div,{...a,ref:l})});p$.displayName=m$;var kk="PopperContent",[nke,ske]=d$(kk),g$=j.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...g}=e,v=h$(kk,n),[b,_]=j.useState(null),w=Gn(t,fe=>_(fe)),[S,A]=j.useState(null),L=e6(S),P=L?.width??0,k=L?.height??0,C=s+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},E=Array.isArray(d)?d:[d],I=E.length>0,B={padding:R,boundary:E.filter(ike),altBoundary:I},{refs:z,floatingStyles:V,placement:U,isPositioned:K,middlewareData:$}=V6e({strategy:"fixed",placement:C,whileElementsMounted:(...fe)=>M6e(...fe,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[G6e({mainAxis:a+k,alignmentAxis:o}),c&&K6e({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Y6e():void 0,...B}),c&&Z6e({...B}),X6e({...B,apply:({elements:fe,rects:we,availableWidth:Z,availableHeight:Q})=>{const{width:pe,height:ge}=we.reference,Ae=fe.floating.style;Ae.setProperty("--radix-popper-available-width",`${Z}px`),Ae.setProperty("--radix-popper-available-height",`${Q}px`),Ae.setProperty("--radix-popper-anchor-width",`${pe}px`),Ae.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),S&&Q6e({element:S,padding:l}),oke({arrowWidth:P,arrowHeight:k}),p&&J6e({strategy:"referenceHidden",...B})]}),[W,te]=v$(U),J=im(x);Ya(()=>{K&&J?.()},[K,J]);const M=$.arrow?.x,G=$.arrow?.y,X=$.arrow?.centerOffset!==0,[ie,re]=j.useState();return Ya(()=>{b&&re(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:K?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(nke,{scope:n,placedSide:W,onArrowChange:A,arrowX:M,arrowY:G,shouldHideArrow:X,children:r.jsx(tn.div,{"data-side":W,"data-align":te,...g,ref:w,style:{...g.style,animation:K?void 0:"none"}})})})});g$.displayName=kk;var x$="PopperArrow",ake={top:"bottom",right:"left",bottom:"top",left:"right"},y$=j.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=ske(x$,s),o=ake[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(tke,{...a,ref:n,style:{...a.style,display:"block"}})})});y$.displayName=x$;function ike(e){return e!==null}var oke=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=v$(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(a.arrow?.x??0)+l/2,f=(a.arrow?.y??0)+c/2;let x="",g="";return d==="bottom"?(x=o?h:`${p}px`,g=`${-c}px`):d==="top"?(x=o?h:`${p}px`,g=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?h:`${f}px`):d==="left"&&(x=`${s.floating.width+c}px`,g=o?h:`${f}px`),{data:{x,y:g}}}});function v$(e){const[t,n="center"]=e.split("-");return[t,n]}var lke=f$,cke=p$,dke=g$,uke=y$,b$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hke="VisuallyHidden",fke=j.forwardRef((e,t)=>r.jsx(tn.span,{...e,ref:t,style:{...b$,...e.style}}));fke.displayName=hke;var mke=[" ","Enter","ArrowUp","ArrowDown"],pke=[" ","Enter"],cm="Select",[ej,tj,gke]=z4e(cm),[ox,GMe]=Wg(cm,[gke,u$]),rj=u$(),[xke,Sh]=ox(cm),[yke,vke]=ox(cm),w$=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:p,required:f,form:x}=e,g=rj(t),[v,b]=j.useState(null),[_,w]=j.useState(null),[S,A]=j.useState(!1),L=q4e(d),[P,k]=U0({prop:s,defaultProp:a??!1,onChange:i,caller:cm}),[C,R]=U0({prop:o,defaultProp:l,onChange:c,caller:cm}),E=j.useRef(null),I=v?x||!!v.closest("form"):!0,[B,z]=j.useState(new Set),V=Array.from(B).map(U=>U.props.value).join(";");return r.jsx(lke,{...g,children:r.jsxs(xke,{required:f,scope:t,trigger:v,onTriggerChange:b,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:A,contentId:Lp(),value:C,onValueChange:R,open:P,onOpenChange:k,dir:L,triggerPointerDownPosRef:E,disabled:p,children:[r.jsx(ej.Provider,{scope:t,children:r.jsx(yke,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(U=>{z(K=>new Set(K).add(U))},[]),onNativeOptionRemove:j.useCallback(U=>{z(K=>{const $=new Set(K);return $.delete(U),$})},[]),children:n})}),I?r.jsxs(V$,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:U=>R(U.target.value),disabled:p,form:x,children:[C===void 0?r.jsx("option",{value:""}):null,Array.from(B)]},V):null]})})};w$.displayName=cm;var j$="SelectTrigger",N$=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=rj(n),o=Sh(j$,n),l=o.disabled||s,c=Gn(t,o.onTriggerChange),d=tj(n),u=j.useRef("touch"),[h,p,f]=G$(g=>{const v=d().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),_=K$(v,g,b);_!==void 0&&o.onValueChange(_.value)}),x=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(cke,{asChild:!0,...i,children:r.jsx(tn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":H$(o.value)?"":void 0,...a,ref:c,onClick:Sn(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:Sn(a.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Sn(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&mke.includes(g.key)&&(x(),g.preventDefault())})})})});N$.displayName=j$;var S$="SelectValue",_$=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Sh(S$,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Gn(t,c.onValueNodeChange);return Ya(()=>{d(u)},[d,u]),r.jsx(tn.span,{...l,ref:h,style:{pointerEvents:"none"},children:H$(c.value)?r.jsx(r.Fragment,{children:o}):i})});_$.displayName=S$;var bke="SelectIcon",k$=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(tn.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});k$.displayName=bke;var wke="SelectPortal",A$=e=>r.jsx(fk,{asChild:!0,...e});A$.displayName=wke;var dm="SelectContent",C$=j.forwardRef((e,t)=>{const n=Sh(dm,e.__scopeSelect),[s,a]=j.useState();if(Ya(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Wy.createPortal(r.jsx(P$,{scope:e.__scopeSelect,children:r.jsx(ej.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(E$,{...e,ref:t})});C$.displayName=dm;var wl=10,[P$,_h]=ox(dm),jke="SelectContentImpl",Nke=z0("SelectContent.RemoveScroll"),E$=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v,...b}=e,_=Sh(dm,n),[w,S]=j.useState(null),[A,L]=j.useState(null),P=Gn(t,fe=>S(fe)),[k,C]=j.useState(null),[R,E]=j.useState(null),I=tj(n),[B,z]=j.useState(!1),V=j.useRef(!1);j.useEffect(()=>{if(w)return S9(w)},[w]),p9();const U=j.useCallback(fe=>{const[we,...Z]=I().map(ge=>ge.ref.current),[Q]=Z.slice(-1),pe=document.activeElement;for(const ge of fe)if(ge===pe||(ge?.scrollIntoView({block:"nearest"}),ge===we&&A&&(A.scrollTop=0),ge===Q&&A&&(A.scrollTop=A.scrollHeight),ge?.focus(),document.activeElement!==pe))return},[I,A]),K=j.useCallback(()=>U([k,w]),[U,k,w]);j.useEffect(()=>{B&&K()},[B,K]);const{onOpenChange:$,triggerPointerDownPosRef:W}=_;j.useEffect(()=>{if(w){let fe={x:0,y:0};const we=Q=>{fe={x:Math.abs(Math.round(Q.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(Q.pageY)-(W.current?.y??0))}},Z=Q=>{fe.x<=10&&fe.y<=10?Q.preventDefault():w.contains(Q.target)||$(!1),document.removeEventListener("pointermove",we),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,$,W]),j.useEffect(()=>{const fe=()=>$(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[$]);const[te,J]=G$(fe=>{const we=I().filter(pe=>!pe.disabled),Z=we.find(pe=>pe.ref.current===document.activeElement),Q=K$(we,fe,Z);Q&&setTimeout(()=>Q.ref.current.focus())}),M=j.useCallback((fe,we,Z)=>{const Q=!V.current&&!Z;(_.value!==void 0&&_.value===we||Q)&&(C(fe),Q&&(V.current=!0))},[_.value]),G=j.useCallback(()=>w?.focus(),[w]),X=j.useCallback((fe,we,Z)=>{const Q=!V.current&&!Z;(_.value!==void 0&&_.value===we||Q)&&E(fe)},[_.value]),ie=s==="popper"?J_:T$,re=ie===J_?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return r.jsx(P$,{scope:n,content:w,viewport:A,onViewportChange:L,itemRefCallback:M,selectedItem:k,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:K,selectedItemText:R,position:s,isPositioned:B,searchRef:te,children:r.jsx(mk,{as:Nke,allowPinchZoom:!0,children:r.jsx(hk,{asChild:!0,trapped:_.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Sn(a,fe=>{_.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:r.jsx(uk,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:r.jsx(ie,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:fe=>fe.preventDefault(),...b,...re,onPlaced:()=>z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Sn(b.onKeyDown,fe=>{const we=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!we&&fe.key.length===1&&J(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let Q=I().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const pe=fe.target,ge=Q.indexOf(pe);Q=Q.slice(ge+1)}setTimeout(()=>U(Q)),fe.preventDefault()}})})})})})})});E$.displayName=jke;var Ske="SelectItemAlignedPosition",T$=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Sh(dm,n),o=_h(dm,n),[l,c]=j.useState(null),[d,u]=j.useState(null),h=Gn(t,P=>u(P)),p=tj(n),f=j.useRef(!1),x=j.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:_}=o,w=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&b){const P=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(i.dir!=="rtl"){const pe=R.left-k.left,ge=C.left-pe,Ae=P.left-ge,Ne=P.width+Ae,Y=Math.max(Ne,k.width),ke=window.innerWidth-wl,We=CO(ge,[wl,Math.max(wl,ke-Y)]);l.style.minWidth=Ne+"px",l.style.left=We+"px"}else{const pe=k.right-R.right,ge=window.innerWidth-C.right-pe,Ae=window.innerWidth-P.right-ge,Ne=P.width+Ae,Y=Math.max(Ne,k.width),ke=window.innerWidth-wl,We=CO(ge,[wl,Math.max(wl,ke-Y)]);l.style.minWidth=Ne+"px",l.style.right=We+"px"}const E=p(),I=window.innerHeight-wl*2,B=g.scrollHeight,z=window.getComputedStyle(d),V=parseInt(z.borderTopWidth,10),U=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),$=parseInt(z.paddingBottom,10),W=V+U+B+$+K,te=Math.min(v.offsetHeight*5,W),J=window.getComputedStyle(g),M=parseInt(J.paddingTop,10),G=parseInt(J.paddingBottom,10),X=P.top+P.height/2-wl,ie=I-X,re=v.offsetHeight/2,fe=v.offsetTop+re,we=V+U+fe,Z=W-we;if(we<=X){const pe=E.length>0&&v===E[E.length-1].ref.current;l.style.bottom="0px";const ge=d.clientHeight-g.offsetTop-g.offsetHeight,Ae=Math.max(ie,re+(pe?G:0)+ge+K),Ne=we+Ae;l.style.height=Ne+"px"}else{const pe=E.length>0&&v===E[0].ref.current;l.style.top="0px";const Ae=Math.max(X,V+g.offsetTop+(pe?M:0)+re)+Z;l.style.height=Ae+"px",g.scrollTop=we-X+g.offsetTop}l.style.margin=`${wl}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=I+"px",s?.(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,d,g,v,b,i.dir,s]);Ya(()=>w(),[w]);const[S,A]=j.useState();Ya(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const L=j.useCallback(P=>{P&&x.current===!0&&(w(),_?.(),x.current=!1)},[w,_]);return r.jsx(kke,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:L,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(tn.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});T$.displayName=Ske;var _ke="SelectPopperPosition",J_=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=wl,...i}=e,o=rj(n);return r.jsx(dke,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J_.displayName=_ke;var[kke,Ak]=ox(dm,{}),Q_="SelectViewport",O$=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=_h(Q_,n),o=Ak(Q_,n),l=Gn(t,i.onViewportChange),c=j.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(ej.Slot,{scope:n,children:r.jsx(tn.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Sn(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p?.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const x=window.innerHeight-wl*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(g,v);if(b<x){const _=b+f,w=Math.min(x,_),S=_-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});O$.displayName=Q_;var L$="SelectGroup",[Ake,Cke]=ox(L$),Pke=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Lp();return r.jsx(Ake,{scope:n,id:a,children:r.jsx(tn.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Pke.displayName=L$;var I$="SelectLabel",M$=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Cke(I$,n);return r.jsx(tn.div,{id:a.id,...s,ref:t})});M$.displayName=I$;var _w="SelectItem",[Eke,D$]=ox(_w),R$=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=Sh(_w,n),c=_h(_w,n),d=l.value===s,[u,h]=j.useState(i??""),[p,f]=j.useState(!1),x=Gn(t,_=>c.itemRefCallback?.(_,s,a)),g=Lp(),v=j.useRef("touch"),b=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Eke,{scope:n,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:j.useCallback(_=>{h(w=>w||(_?.textContent??"").trim())},[]),children:r.jsx(ej.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(tn.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Sn(o.onFocus,()=>f(!0)),onBlur:Sn(o.onBlur,()=>f(!1)),onClick:Sn(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Sn(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Sn(o.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:Sn(o.onPointerMove,_=>{v.current=_.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Sn(o.onPointerLeave,_=>{_.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Sn(o.onKeyDown,_=>{c.searchRef?.current!==""&&_.key===" "||(pke.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});R$.displayName=_w;var m0="SelectItemText",F$=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=Sh(m0,n),l=_h(m0,n),c=D$(m0,n),d=vke(m0,n),[u,h]=j.useState(null),p=Gn(t,b=>h(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),f=u?.textContent,x=j.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return Ya(()=>(g(x),()=>v(x)),[g,v,x]),r.jsxs(r.Fragment,{children:[r.jsx(tn.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wy.createPortal(i.children,o.valueNode):null]})});F$.displayName=m0;var $$="SelectItemIndicator",B$=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return D$($$,n).isSelected?r.jsx(tn.span,{"aria-hidden":!0,...s,ref:t}):null});B$.displayName=$$;var e4="SelectScrollUpButton",z$=j.forwardRef((e,t)=>{const n=_h(e4,e.__scopeSelect),s=Ak(e4,e.__scopeSelect),[a,i]=j.useState(!1),o=Gn(t,s.onScrollButtonChange);return Ya(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(q$,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});z$.displayName=e4;var t4="SelectScrollDownButton",U$=j.forwardRef((e,t)=>{const n=_h(t4,e.__scopeSelect),s=Ak(t4,e.__scopeSelect),[a,i]=j.useState(!1),o=Gn(t,s.onScrollButtonChange);return Ya(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(q$,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});U$.displayName=t4;var q$=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=_h("SelectScrollButton",n),o=j.useRef(null),l=tj(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Ya(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),r.jsx(tn.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Sn(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Sn(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Sn(a.onPointerLeave,()=>{c()})})}),Tke="SelectSeparator",W$=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(tn.div,{"aria-hidden":!0,...s,ref:t})});W$.displayName=Tke;var r4="SelectArrow",Oke=j.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=rj(n),i=Sh(r4,n),o=_h(r4,n);return i.open&&o.position==="popper"?r.jsx(uke,{...a,...s,ref:t}):null});Oke.displayName=r4;var Lke="SelectBubbleInput",V$=j.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=j.useRef(null),i=Gn(s,a),o=Q4(t);return j.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),r.jsx(tn.select,{...n,style:{...b$,...n.style},ref:i,defaultValue:t})});V$.displayName=Lke;function H$(e){return e===""||e===void 0}function G$(e){const t=im(e),n=j.useRef(""),s=j.useRef(0),a=j.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=j.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function K$(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Ike(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function Ike(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Mke=w$,Y$=N$,Dke=_$,Rke=k$,Fke=A$,Z$=C$,$ke=O$,X$=M$,J$=R$,Bke=F$,zke=B$,Q$=z$,eB=U$,tB=W$;const Uke=Mke,qke=Dke,rB=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Y$,{ref:s,className:En("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(Rke,{asChild:!0,children:r.jsx(tg,{className:"h-4 w-4 opacity-50"})})]}));rB.displayName=Y$.displayName;const nB=j.forwardRef(({className:e,...t},n)=>r.jsx(Q$,{ref:n,className:En("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(HK,{className:"h-4 w-4"})}));nB.displayName=Q$.displayName;const sB=j.forwardRef(({className:e,...t},n)=>r.jsx(eB,{ref:n,className:En("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(tg,{className:"h-4 w-4"})}));sB.displayName=eB.displayName;const aB=j.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(Fke,{children:r.jsxs(Z$,{ref:a,className:En("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(nB,{}),r.jsx($ke,{className:En("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(sB,{})]})}));aB.displayName=Z$.displayName;const Wke=j.forwardRef(({className:e,...t},n)=>r.jsx(X$,{ref:n,className:En("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Wke.displayName=X$.displayName;const n4=j.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(J$,{ref:s,className:En("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(zke,{children:r.jsx(sa,{className:"h-4 w-4"})})}),r.jsx(Bke,{children:t})]}));n4.displayName=J$.displayName;const Vke=j.forwardRef(({className:e,...t},n)=>r.jsx(tB,{ref:n,className:En("-mx-1 my-1 h-px bg-muted",e),...t}));Vke.displayName=tB.displayName;var Jr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Jr||(Jr={}));var BO;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(BO||(BO={}));const Pt=Jr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Iu=e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return Number.isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:e===null?Pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pt.promise:typeof Map<"u"&&e instanceof Map?Pt.map:typeof Set<"u"&&e instanceof Set?Pt.set:typeof Date<"u"&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},ut=Jr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Td extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof Td))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Td.create=e=>new Td(e);const s4=(e,t)=>{let n;switch(e.code){case ut.invalid_type:e.received===Pt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ut.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Jr.jsonStringifyReplacer)}`;break;case ut.unrecognized_keys:n=`Unrecognized key(s) in object: ${Jr.joinValues(e.keys,", ")}`;break;case ut.invalid_union:n="Invalid input";break;case ut.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Jr.joinValues(e.options)}`;break;case ut.invalid_enum_value:n=`Invalid enum value. Expected ${Jr.joinValues(e.options)}, received '${e.received}'`;break;case ut.invalid_arguments:n="Invalid function arguments";break;case ut.invalid_return_type:n="Invalid function return type";break;case ut.invalid_date:n="Invalid date";break;case ut.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Jr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ut.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ut.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ut.custom:n="Invalid input";break;case ut.invalid_intersection_types:n="Intersection results could not be merged";break;case ut.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ut.not_finite:n="Number must be finite";break;default:n=t.defaultError,Jr.assertNever(e)}return{message:n}};let Hke=s4;function Gke(){return Hke}const Kke=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function wt(e,t){const n=Gke(),s=Kke({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===s4?void 0:s4].filter(a=>!!a)});e.common.issues.push(s)}class bo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const a of n){if(a.status==="aborted")return cr;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const a of n){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return bo.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return cr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const cr=Object.freeze({status:"aborted"}),p0=e=>({status:"dirty",value:e}),Qo=e=>({status:"valid",value:e}),zO=e=>e.status==="aborted",UO=e=>e.status==="dirty",Eg=e=>e.status==="valid",kw=e=>typeof Promise<"u"&&e instanceof Promise;var Tt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Tt||(Tt={}));class ph{constructor(t,n,s,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qO=(e,t)=>{if(Eg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Td(e.common.issues);return this._error=n,this._error}}};function Pr(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:a}}class Kr{get description(){return this._def.description}_getType(t){return Iu(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Iu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new bo,ctx:{common:t.parent.common,data:t.data,parsedType:Iu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(kw(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Iu(t)},a=this._parseSync({data:t,path:s.path,parent:s});return qO(s,a)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Iu(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return Eg(s)?{value:s.value}:{issues:n.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>Eg(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Iu(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(kw(a)?a:Promise.resolve(a));return qO(s,i)}refine(t,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ut.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(t){return new Lg({schema:this,typeName:dr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return oh.create(this,this._def)}nullable(){return Ig.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sc.create(this)}promise(){return Ew.create(this,this._def)}or(t){return Cw.create([this,t],this._def)}and(t){return Pw.create(this,t,this._def)}transform(t){return new Lg({...Pr(this._def),schema:this,typeName:dr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new o4({...Pr(this._def),innerType:this,defaultValue:n,typeName:dr.ZodDefault})}brand(){return new x3e({typeName:dr.ZodBranded,type:this,...Pr(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new l4({...Pr(this._def),innerType:this,catchValue:n,typeName:dr.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ck.create(this,t)}readonly(){return c4.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yke=/^c[^\s-]{8,}$/i,Zke=/^[0-9a-z]+$/,Xke=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Jke=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qke=/^[a-z0-9_-]{21}$/i,e3e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,t3e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,r3e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,n3e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let JN;const s3e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a3e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,i3e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,o3e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l3e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,c3e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",d3e=new RegExp(`^${iB}$`);function oB(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function u3e(e){return new RegExp(`^${oB(e)}$`)}function h3e(e){let t=`${iB}T${oB(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function f3e(e,t){return!!((t==="v4"||!t)&&s3e.test(e)||(t==="v6"||!t)&&i3e.test(e))}function m3e(e,t){if(!e3e.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function p3e(e,t){return!!((t==="v4"||!t)&&a3e.test(e)||(t==="v6"||!t)&&o3e.test(e))}class Zu extends Kr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pt.string){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_type,expected:Pt.string,received:i.parsedType}),cr}const s=new bo;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?wt(a,{code:ut.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&wt(a,{code:ut.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")r3e.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"email",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")JN||(JN=new RegExp(n3e,"u")),JN.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"emoji",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Jke.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"uuid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Qke.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"nanoid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Yke.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"cuid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Zke.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"cuid2",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Xke.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"ulid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),wt(a,{validation:"url",code:ut.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"regex",code:ut.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?h3e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?d3e.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?u3e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?t3e.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"duration",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?f3e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"ip",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?m3e(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"jwt",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?p3e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"cidr",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?l3e.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"base64",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?c3e.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"base64url",code:ut.invalid_string,message:i.message}),s.dirty()):Jr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(a=>t.test(a),{validation:n,code:ut.invalid_string,...Tt.errToObj(s)})}_addCheck(t){return new Zu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Tt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Tt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Tt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Tt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Tt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Tt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Tt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Tt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Tt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Tt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Tt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Tt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Tt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Tt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Tt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Tt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Tt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Tt.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Tt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Tt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Tt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Tt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Tt.errToObj(n)})}nonempty(t){return this.min(1,Tt.errToObj(t))}trim(){return new Zu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Zu.create=e=>new Zu({checks:[],typeName:dr.ZodString,coerce:e?.coerce??!1,...Pr(e)});function g3e(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Tg extends Kr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pt.number){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_type,expected:Pt.number,received:i.parsedType}),cr}let s;const a=new bo;for(const i of this._def.checks)i.kind==="int"?Jr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?g3e(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.not_finite,message:i.message}),a.dirty()):Jr.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Tt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Tt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Tt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Tt.toString(n))}setLimit(t,n,s,a){return new Tg({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Tt.toString(a)}]})}_addCheck(t){return new Tg({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Tt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Tt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Tt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Jr.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Tg.create=e=>new Tg({checks:[],typeName:dr.ZodNumber,coerce:e?.coerce||!1,...Pr(e)});class Ay extends Kr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pt.bigint)return this._getInvalidInput(t);let s;const a=new bo;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Jr.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return wt(n,{code:ut.invalid_type,expected:Pt.bigint,received:n.parsedType}),cr}gte(t,n){return this.setLimit("min",t,!0,Tt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Tt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Tt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Tt.toString(n))}setLimit(t,n,s,a){return new Ay({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Tt.toString(a)}]})}_addCheck(t){return new Ay({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Tt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ay.create=e=>new Ay({checks:[],typeName:dr.ZodBigInt,coerce:e?.coerce??!1,...Pr(e)});class a4 extends Kr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pt.boolean){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.boolean,received:s.parsedType}),cr}return Qo(t.data)}}a4.create=e=>new a4({typeName:dr.ZodBoolean,coerce:e?.coerce||!1,...Pr(e)});class Aw extends Kr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pt.date){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_type,expected:Pt.date,received:i.parsedType}),cr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_date}),cr}const s=new bo;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Jr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Aw({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Tt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Tt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Aw.create=e=>new Aw({checks:[],coerce:e?.coerce||!1,typeName:dr.ZodDate,...Pr(e)});class WO extends Kr{_parse(t){if(this._getType(t)!==Pt.symbol){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.symbol,received:s.parsedType}),cr}return Qo(t.data)}}WO.create=e=>new WO({typeName:dr.ZodSymbol,...Pr(e)});class VO extends Kr{_parse(t){if(this._getType(t)!==Pt.undefined){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.undefined,received:s.parsedType}),cr}return Qo(t.data)}}VO.create=e=>new VO({typeName:dr.ZodUndefined,...Pr(e)});class HO extends Kr{_parse(t){if(this._getType(t)!==Pt.null){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.null,received:s.parsedType}),cr}return Qo(t.data)}}HO.create=e=>new HO({typeName:dr.ZodNull,...Pr(e)});class GO extends Kr{constructor(){super(...arguments),this._any=!0}_parse(t){return Qo(t.data)}}GO.create=e=>new GO({typeName:dr.ZodAny,...Pr(e)});class KO extends Kr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qo(t.data)}}KO.create=e=>new KO({typeName:dr.ZodUnknown,...Pr(e)});class gh extends Kr{_parse(t){const n=this._getOrReturnCtx(t);return wt(n,{code:ut.invalid_type,expected:Pt.never,received:n.parsedType}),cr}}gh.create=e=>new gh({typeName:dr.ZodNever,...Pr(e)});class YO extends Kr{_parse(t){if(this._getType(t)!==Pt.undefined){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.void,received:s.parsedType}),cr}return Qo(t.data)}}YO.create=e=>new YO({typeName:dr.ZodVoid,...Pr(e)});class Sc extends Kr{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),a=this._def;if(n.parsedType!==Pt.array)return wt(n,{code:ut.invalid_type,expected:Pt.array,received:n.parsedType}),cr;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(wt(n,{code:o?ut.too_big:ut.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(wt(n,{code:ut.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(wt(n,{code:ut.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new ph(n,o,n.path,l)))).then(o=>bo.mergeArray(s,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new ph(n,o,n.path,l)));return bo.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Sc({...this._def,minLength:{value:t,message:Tt.toString(n)}})}max(t,n){return new Sc({...this._def,maxLength:{value:t,message:Tt.toString(n)}})}length(t,n){return new Sc({...this._def,exactLength:{value:t,message:Tt.toString(n)}})}nonempty(t){return this.min(1,t)}}Sc.create=(e,t)=>new Sc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:dr.ZodArray,...Pr(t)});function up(e){if(e instanceof ys){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=oh.create(up(s))}return new ys({...e._def,shape:()=>t})}else return e instanceof Sc?new Sc({...e._def,type:up(e.element)}):e instanceof oh?oh.create(up(e.unwrap())):e instanceof Ig?Ig.create(up(e.unwrap())):e instanceof um?um.create(e.items.map(t=>up(t))):e}class ys extends Kr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Jr.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Pt.object){const d=this._getOrReturnCtx(t);return wt(d,{code:ut.invalid_type,expected:Pt.object,received:d.parsedType}),cr}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof gh&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ph(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof gh){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(wt(a,{code:ut.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ph(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,p=await u.value;d.push({key:h,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>bo.mergeObjectSync(s,d)):bo.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Tt.errToObj,new ys({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{const a=this._def.errorMap?.(n,s).message??s.defaultError;return n.code==="unrecognized_keys"?{message:Tt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ys({...this._def,unknownKeys:"strip"})}passthrough(){return new ys({...this._def,unknownKeys:"passthrough"})}extend(t){return new ys({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ys({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:dr.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ys({...this._def,catchall:t})}pick(t){const n={};for(const s of Jr.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ys({...this._def,shape:()=>n})}omit(t){const n={};for(const s of Jr.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new ys({...this._def,shape:()=>n})}deepPartial(){return up(this)}partial(t){const n={};for(const s of Jr.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?n[s]=a:n[s]=a.optional()}return new ys({...this._def,shape:()=>n})}required(t){const n={};for(const s of Jr.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof oh;)i=i._def.innerType;n[s]=i}return new ys({...this._def,shape:()=>n})}keyof(){return lB(Jr.objectKeys(this.shape))}}ys.create=(e,t)=>new ys({shape:()=>e,unknownKeys:"strip",catchall:gh.create(),typeName:dr.ZodObject,...Pr(t)});ys.strictCreate=(e,t)=>new ys({shape:()=>e,unknownKeys:"strict",catchall:gh.create(),typeName:dr.ZodObject,...Pr(t)});ys.lazycreate=(e,t)=>new ys({shape:e,unknownKeys:"strip",catchall:gh.create(),typeName:dr.ZodObject,...Pr(t)});class Cw extends Kr{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Td(l.ctx.common.issues));return wt(n,{code:ut.invalid_union,unionErrors:o}),cr}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Td(c));return wt(n,{code:ut.invalid_union,unionErrors:l}),cr}}get options(){return this._def.options}}Cw.create=(e,t)=>new Cw({options:e,typeName:dr.ZodUnion,...Pr(t)});function i4(e,t){const n=Iu(e),s=Iu(t);if(e===t)return{valid:!0,data:e};if(n===Pt.object&&s===Pt.object){const a=Jr.objectKeys(t),i=Jr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=i4(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Pt.array&&s===Pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=i4(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Pt.date&&s===Pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Pw extends Kr{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(zO(i)||zO(o))return cr;const l=i4(i.value,o.value);return l.valid?((UO(i)||UO(o))&&n.dirty(),{status:n.value,value:l.data}):(wt(s,{code:ut.invalid_intersection_types}),cr)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Pw.create=(e,t,n)=>new Pw({left:e,right:t,typeName:dr.ZodIntersection,...Pr(n)});class um extends Kr{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.array)return wt(s,{code:ut.invalid_type,expected:Pt.array,received:s.parsedType}),cr;if(s.data.length<this._def.items.length)return wt(s,{code:ut.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cr;!this._def.rest&&s.data.length>this._def.items.length&&(wt(s,{code:ut.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ph(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>bo.mergeArray(n,o)):bo.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new um({...this._def,rest:t})}}um.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new um({items:e,typeName:dr.ZodTuple,rest:null,...Pr(t)})};class ZO extends Kr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.map)return wt(s,{code:ut.invalid_type,expected:Pt.map,received:s.parsedType}),cr;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new ph(s,l,s.path,[d,"key"])),value:i._parse(new ph(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return cr;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return cr;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}ZO.create=(e,t,n)=>new ZO({valueType:t,keyType:e,typeName:dr.ZodMap,...Pr(n)});class Cy extends Kr{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.set)return wt(s,{code:ut.invalid_type,expected:Pt.set,received:s.parsedType}),cr;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(wt(s,{code:ut.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(wt(s,{code:ut.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return cr;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new ph(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Cy({...this._def,minSize:{value:t,message:Tt.toString(n)}})}max(t,n){return new Cy({...this._def,maxSize:{value:t,message:Tt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Cy.create=(e,t)=>new Cy({valueType:e,minSize:null,maxSize:null,typeName:dr.ZodSet,...Pr(t)});class XO extends Kr{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}XO.create=(e,t)=>new XO({getter:e,typeName:dr.ZodLazy,...Pr(t)});class JO extends Kr{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return wt(n,{received:n.data,code:ut.invalid_literal,expected:this._def.value}),cr}return{status:"valid",value:t.data}}get value(){return this._def.value}}JO.create=(e,t)=>new JO({value:e,typeName:dr.ZodLiteral,...Pr(t)});function lB(e,t){return new Og({values:e,typeName:dr.ZodEnum,...Pr(t)})}class Og extends Kr{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return wt(n,{expected:Jr.joinValues(s),received:n.parsedType,code:ut.invalid_type}),cr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return wt(n,{received:n.data,code:ut.invalid_enum_value,options:s}),cr}return Qo(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Og.create(t,{...this._def,...n})}exclude(t,n=this._def){return Og.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Og.create=lB;class QO extends Kr{_parse(t){const n=Jr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Pt.string&&s.parsedType!==Pt.number){const a=Jr.objectValues(n);return wt(s,{expected:Jr.joinValues(a),received:s.parsedType,code:ut.invalid_type}),cr}if(this._cache||(this._cache=new Set(Jr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Jr.objectValues(n);return wt(s,{received:s.data,code:ut.invalid_enum_value,options:a}),cr}return Qo(t.data)}get enum(){return this._def.values}}QO.create=(e,t)=>new QO({values:e,typeName:dr.ZodNativeEnum,...Pr(t)});class Ew extends Kr{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.promise&&n.common.async===!1)return wt(n,{code:ut.invalid_type,expected:Pt.promise,received:n.parsedType}),cr;const s=n.parsedType===Pt.promise?n.data:Promise.resolve(n.data);return Qo(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ew.create=(e,t)=>new Ew({type:e,typeName:dr.ZodPromise,...Pr(t)});class Lg extends Kr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===dr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{wt(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return cr;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?cr:c.status==="dirty"||n.value==="dirty"?p0(c.value):c});{if(n.value==="aborted")return cr;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?cr:l.status==="dirty"||n.value==="dirty"?p0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?cr:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?cr:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Eg(o))return cr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Eg(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):cr);Jr.assertNever(a)}}Lg.create=(e,t,n)=>new Lg({schema:e,typeName:dr.ZodEffects,effect:t,...Pr(n)});Lg.createWithPreprocess=(e,t,n)=>new Lg({schema:t,effect:{type:"preprocess",transform:e},typeName:dr.ZodEffects,...Pr(n)});class oh extends Kr{_parse(t){return this._getType(t)===Pt.undefined?Qo(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}oh.create=(e,t)=>new oh({innerType:e,typeName:dr.ZodOptional,...Pr(t)});class Ig extends Kr{_parse(t){return this._getType(t)===Pt.null?Qo(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ig.create=(e,t)=>new Ig({innerType:e,typeName:dr.ZodNullable,...Pr(t)});class o4 extends Kr{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===Pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}o4.create=(e,t)=>new o4({innerType:e,typeName:dr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Pr(t)});class l4 extends Kr{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return kw(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Td(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Td(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}l4.create=(e,t)=>new l4({innerType:e,typeName:dr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Pr(t)});class e8 extends Kr{_parse(t){if(this._getType(t)!==Pt.nan){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.nan,received:s.parsedType}),cr}return{status:"valid",value:t.data}}}e8.create=e=>new e8({typeName:dr.ZodNaN,...Pr(e)});class x3e extends Kr{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ck extends Kr{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?cr:i.status==="dirty"?(n.dirty(),p0(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?cr:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,n){return new Ck({in:t,out:n,typeName:dr.ZodPipeline})}}class c4 extends Kr{_parse(t){const n=this._def.innerType._parse(t),s=a=>(Eg(a)&&(a.value=Object.freeze(a.value)),a);return kw(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}c4.create=(e,t)=>new c4({innerType:e,typeName:dr.ZodReadonly,...Pr(t)});ys.lazycreate;var dr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(dr||(dr={}));const yf=Zu.create,_f=Tg.create,cB=a4.create;gh.create;Sc.create;const dB=ys.create;ys.strictCreate;Cw.create;Pw.create;um.create;const y3e=Og.create;Ew.create;oh.create;Ig.create;function v3e({adminToken:e}){const t=Kw(),[n,s]=xe.useState(""),[a,i]=xe.useState(null),[o,l]=xe.useState(30),{data:c,isLoading:d,error:u}=v0({queryKey:["print-queue",e],queryFn:async()=>{const x=await fetch("/api/admin/vouchers/print-queue",{headers:{"x-admin-token":e}});if(!x.ok)throw new Error("Failed to load print queue");return(await x.json()).vouchers||[]},enabled:!!e}),h=_p({mutationFn:async x=>{if(!(await fetch(`/api/admin/vouchers/${encodeURIComponent(x)}/mark-fulfilled`,{method:"POST",headers:{"x-admin-token":e}})).ok)throw new Error("Failed to mark fulfilled")},onSuccess:()=>t.invalidateQueries({queryKey:["print-queue",e]})}),p=_p({mutationFn:async x=>{if(!(await fetch(`/api/admin/vouchers/${encodeURIComponent(x)}/regenerate-pdf`,{method:"POST",headers:{"x-admin-token":e}})).ok)throw new Error("Failed to regenerate PDF")},onSuccess:()=>t.invalidateQueries({queryKey:["print-queue",e]})}),f=async()=>{if(i(null),!n)return;const x=Math.max(60,Math.floor(o*60)),g=await fetch(`/api/admin/vouchers/secure-link?session_id=${encodeURIComponent(n)}&ttl=${x}`,{headers:{"x-admin-token":e}});if(g.ok){const v=await g.json();i(v.url)}else i(null)};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Print Queue"}),r.jsx("p",{className:"text-gray-600",children:"Vouchers requiring hard-copy printing"})]}),d?r.jsx("p",{children:"Loading…"}):u?r.jsx("p",{className:"text-red-600",children:String(u)}):r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c&&c.length===0&&r.jsx("p",{className:"text-gray-600",children:"No items in print queue."}),c?.map(x=>r.jsxs(Rt,{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:["Session: ",x.session_id]}),r.jsx("div",{className:"text-sm text-gray-600",children:x.email})]}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(x.created_at||"").toLocaleString()})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Personalization"}),r.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded overflow-auto max-h-40",children:JSON.stringify(x.personalization,null,2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Design Preview"}),x.preview_url?r.jsx("img",{src:x.preview_url,alt:"Voucher Preview",className:"border rounded max-h-40 object-contain"}):r.jsx("div",{className:"text-xs text-gray-500",children:"No preview available"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Delivery"}),r.jsx("div",{className:"text-sm text-gray-700 capitalize",children:x.delivery||"pdf"})]}),(()=>{let g=null;try{g=typeof x.shipping=="string"?JSON.parse(x.shipping):x.shipping}catch{g=null}const v=g?.address||g?.shipping?.address||null,b=g?.name||g?.recipient||x.personalization?.recipient_name||"";return!v&&x.delivery!=="post"?null:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:"Shipping Address"}),v?r.jsxs("div",{className:"text-sm text-gray-700 leading-5",children:[b&&r.jsx("div",{className:"font-medium",children:b}),v.line1&&r.jsx("div",{children:v.line1}),v.line2&&r.jsx("div",{children:v.line2}),r.jsxs("div",{children:[(v.postal_code||v.zip)&&r.jsx("span",{children:v.postal_code||v.zip})," ",v.city||v.town]}),r.jsx("div",{children:v.state||""}),r.jsx("div",{children:v.country||""}),g?.phone&&r.jsxs("div",{className:"mt-1 text-gray-600",children:["Phone: ",g.phone]})]}):r.jsx("div",{className:"text-xs text-gray-500",children:"No shipping details"})]})})()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($t,{variant:"secondary",onClick:()=>p.mutate(x.session_id),disabled:p.isPending,children:p.isPending?"Regenerating…":"Regenerate PDF"}),r.jsx($t,{onClick:()=>h.mutate(x.session_id),disabled:h.isPending,children:h.isPending?"Marking…":"Mark Fulfilled"}),x.pdf_url&&r.jsx("a",{href:x.pdf_url,target:"_blank",rel:"noreferrer",children:r.jsx($t,{variant:"outline",children:"Open PDF"})})]})]},x.session_id))]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Secure Download Link"}),r.jsx("p",{className:"text-gray-600",children:"Generate a short-lived, signed download URL for a customer."}),r.jsxs("div",{className:"flex gap-2 max-w-xl",children:[r.jsx(gs,{placeholder:"Stripe session_id",value:n,onChange:x=>s(x.target.value)}),r.jsx(gs,{type:"number",min:1,max:1440,value:o,onChange:x=>l(parseInt(x.target.value||"30",10)),className:"w-28"}),r.jsx($t,{onClick:f,children:"Generate"})]}),a&&r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:[r.jsx("div",{className:"text-sm font-medium",children:"Link"}),r.jsx("a",{className:"text-green-700 break-all",href:a,target:"_blank",rel:"noreferrer",children:a})]})]})]})}dB({name:yf().min(1,"Product name is required"),description:yf().min(1,"Description is required"),price:_f().min(.01,"Price must be greater than 0"),validityMonths:_f().min(1,"Validity must be at least 1 month"),isActive:cB().default(!0),displayOrder:_f().default(1)});dB({code:yf().min(3,"Coupon code must be at least 3 characters"),name:yf().min(1,"Coupon name is required"),description:yf().min(1,"Description is required"),discountType:y3e(["percentage","fixed_amount"]),discountValue:_f().min(.01,"Discount value must be greater than 0"),minOrderAmount:_f().optional(),maxDiscountAmount:_f().optional(),startDate:yf().optional(),endDate:yf().optional(),isActive:cB().default(!0),usageLimit:_f().optional()});function b3e(){const[e,t]=j.useState("overview"),[n,s]=j.useState(()=>localStorage.getItem("ADMIN_TOKEN")||""),a=C=>{s(C),C?localStorage.setItem("ADMIN_TOKEN",C):localStorage.removeItem("ADMIN_TOKEN")},[i,o]=j.useState(null),[l,c]=j.useState(null),[d,u]=j.useState(!1),[h,p]=j.useState(!1),f=Kw(),x=({title:C,description:R,variant:E})=>{alert(`${C}: ${R}`)},{data:g,isLoading:v}=v0({queryKey:["/api/vouchers/products"]}),{data:b,isLoading:_}=v0({queryKey:["/api/admin/coupons",n],queryFn:async()=>{const C=await fetch("/api/admin/coupons",{headers:{"x-admin-token":n||""}});if(C.status===401)throw new Error("Unauthorized");return((await C.json()).coupons||[]).map(I=>({id:I.id,code:I.code,name:I.code,description:I.description||"",discountType:I.type==="amount"?"fixed_amount":"percentage",discountValue:I.type==="amount"?Number(I.amount||0):Number(I.percent||0),minOrderAmount:void 0,maxDiscountAmount:void 0,startDate:I.starts_at,endDate:I.ends_at,allowedSkus:Array.isArray(I.allowed_skus)?I.allowed_skus:[],isActive:!!I.is_active,usageLimit:void 0,usageCount:0,createdAt:I.created_at||new Date().toISOString()}))},enabled:!!n}),w=_p({mutationFn:async C=>{const R=await fetch("/api/admin/coupons",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":n||""},body:JSON.stringify(C)});if(!R.ok)throw new Error("Create failed");return R.json()},onSuccess:()=>f.invalidateQueries({queryKey:["/api/admin/coupons",n]})}),S=_p({mutationFn:async({id:C,payload:R})=>{const E=await fetch(`/api/admin/coupons/${encodeURIComponent(C)}`,{method:"PUT",headers:{"Content-Type":"application/json","x-admin-token":n||""},body:JSON.stringify(R)});if(!E.ok)throw new Error("Update failed");return E.json()},onSuccess:()=>f.invalidateQueries({queryKey:["/api/admin/coupons",n]})}),A=_p({mutationFn:async C=>{const R=await fetch(`/api/admin/coupons/${encodeURIComponent(C)}`,{method:"DELETE",headers:{"x-admin-token":n||""}});if(!R.ok)throw new Error("Delete failed");return R.json()},onSuccess:()=>f.invalidateQueries({queryKey:["/api/admin/coupons",n]})}),{data:L,isLoading:P}=v0({queryKey:["/api/vouchers/sales"]}),k={totalRevenue:L?.reduce((C,R)=>C+Number(R.finalAmount),0)||0,totalSales:L?.length||0,activeProducts:g?.filter(C=>C.isActive).length||0,activeCoupons:b?.filter(C=>C.isActive).length||0,avgOrderValue:L?.length?L.reduce((C,R)=>C+Number(R.finalAmount),0)/L.length:0,totalDiscountGiven:L?.reduce((C,R)=>C+Number(R.discountAmount),0)||0};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Voucher Management"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create and manage photography vouchers, discount codes, and track sales performance"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs($t,{variant:"outline",size:"sm",children:[r.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Export Data"]}),r.jsxs($t,{variant:"outline",size:"sm",children:[r.jsx(aa,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs(K2,{value:e,onValueChange:t,className:"space-y-8",children:[r.jsxs(Y2,{className:"grid w-full grid-cols-5 lg:w-2/3",children:[r.jsxs(Ga,{value:"overview",className:"flex items-center space-x-2",children:[r.jsx(_s,{className:"h-4 w-4"}),r.jsx("span",{children:"Overview"})]}),r.jsxs(Ga,{value:"products",className:"flex items-center space-x-2",children:[r.jsx(Jv,{className:"h-4 w-4"}),r.jsx("span",{children:"Products"})]}),r.jsxs(Ga,{value:"coupons",className:"flex items-center space-x-2",children:[r.jsx(mc,{className:"h-4 w-4"}),r.jsx("span",{children:"Coupons"})]}),r.jsxs(Ga,{value:"sales",className:"flex items-center space-x-2",children:[r.jsx(_d,{className:"h-4 w-4"}),r.jsx("span",{children:"Sales"})]}),r.jsxs(Ga,{value:"fulfillment",className:"flex items-center space-x-2",children:[r.jsx(w0,{className:"h-4 w-4"}),r.jsx("span",{children:"Fulfillment"})]})]}),r.jsxs(Ka,{value:"overview",className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs(Rt,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:[r.jsxs(Or,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(zr,{className:"text-sm font-medium text-blue-100",children:"Total Revenue"}),r.jsx(rS,{className:"h-4 w-4 text-blue-200"})]}),r.jsxs(Jt,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:["€",k.totalRevenue.toFixed(2)]}),r.jsxs("p",{className:"text-xs text-blue-100 mt-1",children:["From ",k.totalSales," voucher sales"]})]})]}),r.jsxs(Rt,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:[r.jsxs(Or,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(zr,{className:"text-sm font-medium text-green-100",children:"Active Products"}),r.jsx(Jv,{className:"h-4 w-4 text-green-200"})]}),r.jsxs(Jt,{children:[r.jsx("div",{className:"text-2xl font-bold",children:k.activeProducts}),r.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Available for purchase"})]})]}),r.jsxs(Rt,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:[r.jsxs(Or,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(zr,{className:"text-sm font-medium text-purple-100",children:"Active Coupons"}),r.jsx(mc,{className:"h-4 w-4 text-purple-200"})]}),r.jsxs(Jt,{children:[r.jsx("div",{className:"text-2xl font-bold",children:k.activeCoupons}),r.jsx("p",{className:"text-xs text-purple-100 mt-1",children:"Currently valid codes"})]})]}),r.jsxs(Rt,{children:[r.jsxs(Or,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(zr,{className:"text-sm font-medium text-gray-600",children:"Average Order Value"}),r.jsx(_s,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(Jt,{children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["€",k.avgOrderValue.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per voucher sale"})]})]}),r.jsxs(Rt,{children:[r.jsxs(Or,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(zr,{className:"text-sm font-medium text-gray-600",children:"Total Discounts"}),r.jsx(LA,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(Jt,{children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["€",k.totalDiscountGiven.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Given to customers"})]})]}),r.jsxs(Rt,{children:[r.jsxs(Or,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(zr,{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),r.jsx(_s,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(Jt,{children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[k.totalDiscountGiven>0?(k.totalRevenue/(k.totalRevenue+k.totalDiscountGiven)*100).toFixed(1):0,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Revenue vs discounts"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Rt,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 border-dashed border-gray-300 hover:border-blue-500",children:[r.jsxs(Or,{className:"text-center pb-4",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Jv,{className:"h-6 w-6 text-blue-600"})}),r.jsx(zr,{className:"text-xl",children:"Create Voucher Product"}),r.jsx(_a,{children:"Add a new photography voucher package that customers can purchase"})]}),r.jsx(nb,{className:"pt-0",children:r.jsxs($t,{onClick:()=>{o(null),u(!0)},className:"w-full",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Product"]})})]}),r.jsxs(Rt,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 border-dashed border-gray-300 hover:border-purple-500",children:[r.jsxs(Or,{className:"text-center pb-4",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(mc,{className:"h-6 w-6 text-purple-600"})}),r.jsx(zr,{className:"text-xl",children:"Create Discount Coupon"}),r.jsx(_a,{children:"Generate discount codes for promotional campaigns and special offers"})]}),r.jsx(nb,{className:"pt-0",children:r.jsxs($t,{onClick:()=>{c(null),p(!0)},className:"w-full",variant:"secondary",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Coupon"]})})]})]})]}),r.jsxs(Ka,{value:"products",className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Voucher Products"}),r.jsx("p",{className:"text-gray-600",children:"Manage your photography voucher offerings"})]}),r.jsxs($t,{onClick:()=>{o(null),u(!0)},children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),v?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(C=>r.jsxs(Rt,{className:"animate-pulse",children:[r.jsxs(Or,{children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),r.jsx(Jt,{children:r.jsx("div",{className:"h-16 bg-gray-200 rounded"})})]},C))}):g&&g.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>r.jsxs(Rt,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(Or,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(zr,{className:"text-lg",children:C.name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(ra,{variant:C.isActive?"default":"secondary",children:C.isActive?"Active":"Inactive"}),r.jsxs(ra,{variant:"outline",children:[C.validityMonths," months"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["€",C.price]})})]})}),r.jsx(Jt,{children:r.jsx("p",{className:"text-gray-600 text-sm line-clamp-3",children:C.description})}),r.jsxs(nb,{className:"flex justify-between",children:[r.jsxs($t,{variant:"outline",size:"sm",onClick:()=>{o(C),u(!0)},children:[r.jsx(Aa,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs($t,{variant:"outline",size:"sm",children:[r.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Preview"]})]})]},C.id))}):r.jsx(Rt,{className:"text-center py-12",children:r.jsxs(Jt,{children:[r.jsx(Jv,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voucher products yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first voucher product to start selling photography packages"}),r.jsxs($t,{onClick:()=>{o(null),u(!0)},children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Your First Product"]})]})})]}),r.jsxs(Ka,{value:"coupons",className:"space-y-6",children:[!n&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("p",{className:"text-sm mb-2",children:"Enter Admin Token to manage coupons:"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(gs,{placeholder:"Admin token",value:n,onChange:C=>a(C.target.value)})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discount Coupons"}),r.jsx("p",{className:"text-gray-600",children:"Manage promotional codes and special offers"})]}),r.jsxs($t,{onClick:()=>{c(null),p(!0)},children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Coupon"]})]}),_?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>r.jsx(Rt,{className:"animate-pulse",children:r.jsxs(Or,{children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},C))}):b&&b.length>0?r.jsx("div",{className:"space-y-4",children:b.map(C=>r.jsxs(Rt,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Or,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("code",{className:"bg-gray-100 px-3 py-1 rounded text-lg font-mono font-bold",children:C.code}),r.jsx($t,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(C.code),x({title:"Copied!",description:"Coupon code copied to clipboard"})},children:r.jsx(rh,{className:"h-4 w-4"})})]}),r.jsx(zr,{className:"text-lg mt-2",children:C.name}),r.jsx(_a,{children:C.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsx(ra,{variant:C.isActive?"default":"secondary",className:"mb-2",children:C.isActive?"Active":"Inactive"}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Used: ",C.usageCount," / ",C.usageLimit||"∞"]})]})]})}),r.jsx(Jt,{children:r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(LA,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{children:C.discountType==="percentage"?`${C.discountValue}% off`:`€${C.discountValue} off`})]}),C.minOrderAmount&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(rS,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{children:["Min: €",C.minOrderAmount]})]}),C.endDate&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(dn,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{children:["Expires: ",new Date(C.endDate).toLocaleDateString()]})]})]})}),r.jsxs(nb,{className:"flex justify-between",children:[r.jsxs($t,{variant:"outline",size:"sm",onClick:()=>{c(C),p(!0)},children:[r.jsx(Aa,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsxs($t,{variant:"destructive",size:"sm",onClick:async()=>{if(!n)return x({title:"Token required",description:"Enter admin token above"});if(confirm(`Delete coupon ${C.code}?`))try{await A.mutateAsync(C.id),x({title:"Deleted",description:`Coupon ${C.code} removed`})}catch(R){x({title:"Error",description:R.message||"Failed to delete"})}},children:[r.jsx(Ts,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},C.id))}):r.jsx(Rt,{className:"text-center py-12",children:r.jsxs(Jt,{children:[r.jsx(mc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No discount coupons yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Create promotional codes to offer discounts to your customers"}),r.jsxs($t,{onClick:()=>{c(null),p(!0)},children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Your First Coupon"]})]})})]}),r.jsxs(Ka,{value:"sales",className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sales History"}),r.jsx("p",{className:"text-gray-600",children:"Track all voucher sales and redemptions"})]}),r.jsxs($t,{variant:"outline",children:[r.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Export Sales"]})]}),P?r.jsx(Rt,{children:r.jsx(Jt,{className:"p-6",children:r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4,5].map(C=>r.jsx("div",{className:"h-16 bg-gray-200 rounded"},C))})})}):L&&L.length>0?r.jsx(Rt,{children:r.jsx(Jt,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voucher Code"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-sm",children:C.voucherCode})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:C.purchaserName}),r.jsx("div",{className:"text-sm text-gray-500",children:C.purchaserEmail})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",Number(C.originalAmount).toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:["-€",Number(C.discountAmount).toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["€",Number(C.finalAmount).toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(ra,{variant:C.status==="active"?"default":"secondary",children:C.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.createdAt).toLocaleDateString()})]},C.id))})]})})})}):r.jsx(Rt,{className:"text-center py-12",children:r.jsxs(Jt,{children:[r.jsx(_d,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),r.jsx("p",{className:"text-gray-600",children:"Voucher sales will appear here once customers start purchasing"})]})})]}),r.jsxs(Ka,{value:"fulfillment",className:"space-y-6",children:[!n&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("p",{className:"text-sm mb-2",children:"Enter Admin Token to access print queue:"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(gs,{placeholder:"Admin token",value:n,onChange:C=>a(C.target.value)})})]}),n&&r.jsx(v3e,{adminToken:n})]})]})}),r.jsx(H_,{open:d,onOpenChange:u,children:r.jsxs(xw,{className:"sm:max-w-[600px]",children:[r.jsxs(yw,{children:[r.jsx(vw,{children:i?"Edit Voucher Product":"Create New Voucher Product"}),r.jsx(K_,{children:i?"Update the details of this voucher product":"Create a new voucher product that customers can purchase"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"name",children:"Product Name"}),r.jsx(gs,{id:"name",placeholder:"e.g., Family Photo Session Voucher",defaultValue:i?.name||""})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"price",children:"Price (€)"}),r.jsx(gs,{id:"price",type:"number",placeholder:"199.00",defaultValue:i?.price||""})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"description",children:"Description"}),r.jsx(bw,{id:"description",placeholder:"Describe what's included in this voucher package...",rows:3,defaultValue:i?.description||""})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"validity",children:"Validity (Months)"}),r.jsx(gs,{id:"validity",type:"number",placeholder:"12",defaultValue:i?.validityMonths||""})]}),r.jsxs("div",{className:"space-y-2 flex items-center space-x-2 pt-6",children:[r.jsx(Sy,{id:"active",defaultChecked:i?.isActive??!0}),r.jsx(Js,{htmlFor:"active",children:"Active for sale"})]})]})]}),r.jsxs(G_,{children:[r.jsx($t,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),r.jsx($t,{onClick:()=>{x({title:"Success!",description:i?"Product updated successfully":"Product created successfully"}),u(!1)},children:i?"Update Product":"Create Product"})]})]})}),r.jsx(H_,{open:h,onOpenChange:p,children:r.jsxs(xw,{className:"sm:max-w-[600px]",children:[r.jsxs(yw,{children:[r.jsx(vw,{children:l?"Edit Discount Coupon":"Create New Discount Coupon"}),r.jsx(K_,{children:l?"Update the details of this discount coupon":"Create a new discount coupon for promotional campaigns"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"code",children:"Coupon Code"}),r.jsx(gs,{id:"code",placeholder:"e.g., WELCOME15",defaultValue:l?.code||""})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"coupon-name",children:"Coupon Name"}),r.jsx(gs,{id:"coupon-name",placeholder:"e.g., Welcome Discount",defaultValue:l?.name||""})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"coupon-description",children:"Description"}),r.jsx(bw,{id:"coupon-description",placeholder:"Describe this discount offer...",rows:2,defaultValue:l?.description||""})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"discount-type",children:"Discount Type"}),r.jsxs(Uke,{defaultValue:l?.discountType||"percentage",onValueChange:C=>{document._couponType=C},children:[r.jsx(rB,{children:r.jsx(qke,{placeholder:"Select type"})}),r.jsxs(aB,{children:[r.jsx(n4,{value:"percentage",children:"Percentage (%)"}),r.jsx(n4,{value:"fixed_amount",children:"Fixed Amount (€)"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"discount-value",children:"Discount Value"}),r.jsx(gs,{id:"discount-value",type:"number",placeholder:"15",defaultValue:l?.discountValue||""})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"min-order",children:"Min Order (€)"}),r.jsx(gs,{id:"min-order",type:"number",placeholder:"100",defaultValue:l?.minOrderAmount||""})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"starts-at",children:"Start Date"}),r.jsx(gs,{id:"starts-at",type:"date",defaultValue:l?.startDate?l.startDate.slice(0,10):""})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"ends-at",children:"End Date"}),r.jsx(gs,{id:"ends-at",type:"date",defaultValue:l?.endDate?l.endDate.slice(0,10):""})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"allowed-skus",children:"Allowed SKUs (comma separated)"}),r.jsx(gs,{id:"allowed-skus",placeholder:"e.g., Maternity-Basic,Family-Premium",defaultValue:(l?.allowedSkus||[]).join(",")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Js,{htmlFor:"usage-limit",children:"Usage Limit"}),r.jsx(gs,{id:"usage-limit",type:"number",placeholder:"100",defaultValue:l?.usageLimit||""})]}),r.jsxs("div",{className:"space-y-2 flex items-center space-x-2 pt-6",children:[r.jsx(Sy,{id:"coupon-active",defaultChecked:l?.isActive??!0}),r.jsx(Js,{htmlFor:"coupon-active",children:"Active"})]})]})]}),r.jsxs(G_,{children:[r.jsx($t,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),r.jsx($t,{onClick:async()=>{if(!n){x({title:"Token required",description:"Enter admin token above"});return}const C=document.getElementById("code")?.value?.trim();document.getElementById("coupon-name")?.value?.trim(),document.getElementById("coupon-description")?.value?.trim();const R=document._couponType||l?.discountType||"percentage",E=parseFloat(document.getElementById("discount-value")?.value||"0"),I=document.getElementById("starts-at")?.value||"",B=document.getElementById("ends-at")?.value||"",z=document.getElementById("allowed-skus")?.value||"",V=document.getElementById("coupon-active")?.checked;if(!C){x({title:"Code required",description:"Please enter coupon code"});return}const U={code:C,type:R==="fixed_amount"?"amount":"percentage"};U.type==="amount"?U.amount=E:U.percent=E,I&&(U.starts_at=new Date(I).toISOString()),B&&(U.ends_at=new Date(B).toISOString()),z&&(U.allowed_skus=z.split(",").map(K=>K.trim()).filter(Boolean)),V!==void 0&&(U.is_active=!!V);try{l?(await S.mutateAsync({id:l.id,payload:U}),x({title:"Updated",description:"Coupon updated successfully"})):(await w.mutateAsync(U),x({title:"Created",description:"Coupon created successfully"})),p(!1)}catch(K){x({title:"Error",description:K.message||"Operation failed"})}},children:l?"Update Coupon":"Create Coupon"})]})]})})]})}const w3e=()=>{const{t:e}=ia(),t=un(),[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(""),[c,d]=j.useState(!0),[u,h]=j.useState(null),[p,f]=j.useState("asc"),[x,g]=j.useState("name"),[v,b]=j.useState(!1),[_,w]=j.useState(!1),[S,A]=j.useState([]),[L,P]=j.useState("email"),[k,C]=j.useState("keep-oldest"),[R,E]=j.useState(!1),[I,B]=j.useState(null),[z,V]=j.useState(!1),[U,K]=j.useState(()=>localStorage.getItem("ADMIN_TOKEN")||""),$=Y=>{K(Y),Y?localStorage.setItem("ADMIN_TOKEN",Y):localStorage.removeItem("ADMIN_TOKEN")},[W,te]=j.useState(!1),J=(Y,ke)=>{A(We=>We.map(Ie=>{if(Ie.key!==Y||Ie.primary?.id===ke)return Ie;const ze=Ie.duplicates.find(Se=>Se.id===ke);if(!ze)return Ie;const le=Ie.duplicates.filter(Se=>Se.id!==ke),se=Ie.primary;return{...Ie,primary:ze,duplicates:[se,...le]}}))};j.useEffect(()=>{M()},[]),j.useEffect(()=>{G()},[n,o,p,x]);const M=async()=>{try{d(!0);const Y=await fetch("/api/crm/clients");if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);const We=(await Y.json())?.map(Ie=>({id:Ie.id,firstName:Ie.firstName||"",lastName:Ie.lastName||"",clientId:Ie.clientId||Ie.id,email:Ie.email||"",phone:Ie.phone||"",address:Ie.address||"",city:Ie.city||"",state:Ie.state||"",zip:Ie.zip||"",country:Ie.country||"",total_sales:Ie.total_sales||0,outstanding_balance:Ie.outstanding_balance||0,createdAt:Ie.createdAt,updatedAt:Ie.updatedAt}));s(We||[])}catch{h("Failed to load clients. Please try again.")}finally{d(!1)}},G=()=>{let Y=n;if(o.trim()){const ke=o.toLowerCase();Y=n.filter(We=>We.firstName.toLowerCase().includes(ke)||We.lastName.toLowerCase().includes(ke)||We.email.toLowerCase().includes(ke)||We.phone.toLowerCase().includes(ke)||We.clientId.toLowerCase().includes(ke))}Y.sort((ke,We)=>{let Ie=0;if(x==="name"){const ze=ke.lastName||"",le=ke.firstName||"",se=We.lastName||"",Se=We.firstName||"",Pe=`${ze} ${le}`.trim().toLowerCase(),$e=`${se} ${Se}`.trim().toLowerCase();Pe&&$e?Ie=Pe.localeCompare($e):Pe&&!$e?Ie=-1:!Pe&&$e?Ie=1:Ie=(ke.email||"").toLowerCase().localeCompare((We.email||"").toLowerCase())}else x==="created"&&(Ie=new Date(ke.createdAt).getTime()-new Date(We.createdAt).getTime());return p==="asc"?Ie:-Ie}),i(Y)},X=()=>{f(Y=>Y==="asc"?"desc":"asc")},ie=Y=>{t(`/admin/clients/${Y}`)},re=Y=>{t(`/admin/clients/${Y}/edit`)},fe=async Y=>{if(window.confirm(e("message.confirmDelete")))try{if(!(await fetch(`/api/crm/clients/${Y.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");s(We=>We.filter(Ie=>Ie.id!==Y.id)),i(We=>We.filter(Ie=>Ie.id!==Y.id)),alert(e("message.success"))}catch{alert(e("message.error"))}},we=()=>{try{const ke=[["ID","First Name","Last Name","Email","Phone","Address","City","State","ZIP","Country","Total Sales","Outstanding Balance","Created At"].join(","),...a.map(le=>[le.clientId,`"${le.firstName||""}"`,`"${le.lastName||""}"`,`"${le.email||""}"`,`"${le.phone||""}"`,`"${le.address||""}"`,`"${le.city||""}"`,`"${le.state||""}"`,`"${le.zip||""}"`,`"${le.country||""}"`,le.total_sales||0,le.outstanding_balance||0,le.createdAt].join(","))].join(`
`),We=new Blob([ke],{type:"text/csv;charset=utf-8;"}),Ie=document.createElement("a"),ze=URL.createObjectURL(We);Ie.setAttribute("href",ze),Ie.setAttribute("download",`clients_export_${new Date().toISOString().split("T")[0]}.csv`),Ie.style.visibility="hidden",document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie)}catch{alert(e("message.error"))}},Z=async()=>{w(!0),B(null);try{const Y=await fetch(`/api/crm/clients/merge-suggestions?by=${L}&strategy=${k}&limit=100`);if(!Y.ok)throw new Error("Failed to fetch merge suggestions");const We=((await Y.json())?.suggestions||[]).map(Ie=>({...Ie,selected:!0}));A(We)}catch(Y){B(Y.message||"Error loading suggestions")}finally{w(!1)}},Q=()=>{b(!0),Z()},pe=async()=>{const Y=S.filter($e=>$e.selected);if(Y.length===0){B("No groups selected to merge.");return}if(!U){B("Admin token required to execute merges.");return}if(!window.confirm(`Merge ${Y.length} duplicate group(s)? This cannot be undone.`))return;E(!0),B("Starting merges...");let ke=0,We=0,Ie=0,ze=!1;const le=async $e=>{if(ze)return;const He={primaryId:$e.primary.id,duplicateIds:$e.duplicates.map(je=>je.id)};try{const je=await fetch("/api/crm/clients/merge-execute",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":U||""},body:JSON.stringify(He)});if(!je.ok)throw new Error(`HTTP ${je.status}`);(await je.json())?.merged>0?ke++:We++}catch{We++,W&&(ze=!0)}finally{Ie++,B(`Progress: ${Ie}/${Y.length} — merged ${ke}, failed ${We}${ze?" (stopping on error)":""}`)}},se=4;let Se=0,Pe=0;await new Promise($e=>{const He=()=>{if(Se>=Y.length&&Pe===0||ze)return $e();for(;Pe<se&&Se<Y.length&&!ze;){const je=Y[Se++];Pe++,le(je).finally(()=>{Pe--,He()})}};He()}),B(`Done: merged ${ke}, failed ${We}. Refreshing...`),await M(),await Z(),E(!1)},ge=Y=>{A(ke=>ke.map(We=>We.key===Y?{...We,selected:!We.selected}:We))},Ae=Y=>{A(ke=>ke.map(We=>({...We,selected:Y})))},Ne=()=>{const Y=S.length,ke=S.reduce((Ie,ze)=>Ie+1+ze.duplicates.length,0),We=S.reduce((Ie,ze)=>{const le=ze.type||"email";return Ie[le]=(Ie[le]||0)+1,Ie},{});return{totalGroups:Y,totalClientsImpacted:ke,byType:We}};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("page.clients")}),r.jsx("p",{className:"text-gray-600",children:e("clients.manage_database")})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:Q,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(OA,{size:20,className:"mr-2"}),"Merge Wizard"]}),r.jsxs("button",{onClick:we,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Vn,{size:20,className:"mr-2"}),e("action.export")," CSV"]}),r.jsxs(Vt,{to:"/admin/clients/import",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Ko,{size:20,className:"mr-2"}),e("action.import")," CSV"]}),r.jsxs(Vt,{to:"/admin/clients/import-logs",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Hn,{size:20,className:"mr-2"}),e("clients.import_logs")]}),r.jsxs("button",{onClick:()=>t("/admin/clients/new"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Cr,{size:20,className:"mr-2"}),e("clients.add")]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:e("clients.search"),value:o,onChange:Y=>l(Y.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("select",{value:x,onChange:Y=>g(Y.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"name",children:e("clients.sort_by_name")}),r.jsx("option",{value:"created",children:e("clients.sort_by_date")})]}),r.jsx("button",{onClick:X,className:"flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:`${e("action.sort")} ${e(p==="asc"?"clients.descending":"clients.ascending")}`,children:p==="asc"?r.jsx(BK,{size:20}):r.jsx(_M,{size:20})})]}),r.jsxs("button",{onClick:()=>V(!0),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(rg,{size:20,className:"mr-2"}),e("clients.more_filters")]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e("pagination.showing")," ",a.length," ",e("common.of")," ",n.length," ",e("clients.clients")]})]})}),c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u?r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}):a.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(Y=>r.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Y.lastName||Y.firstName?`${Y.lastName||""}, ${Y.firstName||""}`.replace(/^,\s*/,"").replace(/,\s*$/,""):e("clients.unnamed_client")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y.email}),r.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",Y.clientId]})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[r.jsx(Xf,{size:14,className:"mr-2"}),Y.phone||e("clients.no_phone")]}),Y.address&&r.jsxs("p",{className:"text-sm text-gray-600 flex items-start",children:[r.jsx(pm,{size:14,className:"mr-2 mt-0.5"}),Y.address,Y.city&&`, ${Y.city}`]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[e("clients.since")," ",new Date(Y.createdAt).toLocaleDateString()]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ie(Y.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:e("action.view"),children:r.jsx(Mn,{size:16})}),r.jsx("button",{onClick:()=>re(Y.id),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:e("action.edit"),children:r.jsx(Aa,{size:16})}),r.jsx("button",{onClick:()=>fe(Y),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:e("action.delete"),children:r.jsx(Ts,{size:16})})]})]})]})},Y.id))}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:e("clients.no_clients_found")})}),v&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 overflow-auto p-6",children:r.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-lg shadow-lg p-6 relative",children:[r.jsx("button",{className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",onClick:()=>b(!1),children:"✕"}),r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[r.jsx(OA,{className:"mr-2",size:22}),"Merge Wizard"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:["Found ",S.length," duplicate group",S.length===1?"":"s"]}),(()=>{const Y=Ne();return r.jsxs(r.Fragment,{children:[Y.byType.email?r.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-50 text-gray-700 border border-gray-200",children:["Email: ",Y.byType.email]}):null,Y.byType.phone?r.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-50 text-gray-700 border border-gray-200",children:["Phone: ",Y.byType.phone]}):null]})})()]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Search Duplicates By"}),r.jsxs("select",{value:L,onChange:Y=>{P(Y.target.value),Z()},className:"border rounded px-2 py-1",children:[r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"phone",children:"Phone"}),r.jsx("option",{value:"both",children:"Both"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Strategy"}),r.jsxs("select",{value:k,onChange:Y=>{C(Y.target.value),Z()},className:"border rounded px-2 py-1",children:[r.jsx("option",{value:"keep-oldest",children:"Keep Oldest"}),r.jsx("option",{value:"keep-newest",children:"Keep Newest"})]})]}),!U&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Admin Token"}),r.jsx("input",{type:"password",value:U,onChange:Y=>$(Y.target.value),placeholder:"Enter admin token",className:"border rounded px-2 py-1"})]}),r.jsx("div",{className:"text-sm text-gray-600",children:_?"Loading suggestions...":`${S.length} group(s) found`}),r.jsxs("div",{className:"ml-auto flex gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 mr-2",children:[r.jsx("input",{type:"checkbox",checked:W,onChange:Y=>te(Y.target.checked)}),"Stop on error"]}),r.jsx("button",{className:"px-3 py-2 text-xs rounded bg-gray-200 hover:bg-gray-300",onClick:()=>Ae(!0),children:"Select All"}),r.jsx("button",{className:"px-3 py-2 text-xs rounded bg-gray-200 hover:bg-gray-300",onClick:()=>Ae(!1),children:"Deselect All"}),r.jsx("button",{disabled:R||_,onClick:pe,className:"px-4 py-2 rounded bg-orange-600 hover:bg-orange-700 text-white disabled:opacity-60",children:R?"Merging...":"Execute Merges"})]})]}),I&&r.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:I}),r.jsx("div",{className:"overflow-auto max-h-[60vh] border rounded",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-100 text-gray-600 text-xs uppercase",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2",children:"Select"}),r.jsx("th",{className:"p-2",children:"Key"}),r.jsx("th",{className:"p-2",children:"Primary"}),r.jsx("th",{className:"p-2",children:"Duplicates"}),r.jsx("th",{className:"p-2",children:"Preview"})]})}),r.jsxs("tbody",{children:[S.map(Y=>r.jsxs("tr",{className:Y.selected?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"p-2 align-top",children:r.jsx("input",{type:"checkbox",checked:Y.selected,onChange:()=>ge(Y.key)})}),r.jsx("td",{className:"p-2 align-top font-mono text-xs",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:Y.key}),"type"in Y&&r.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] border ${Y.type==="phone"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-indigo-50 text-indigo-700 border-indigo-200"}`,children:Y.type==="phone"?"Phone":"Email"})]})}),r.jsx("td",{className:"p-2 align-top w-56",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:[Y.primary.last_name||Y.primary.lastName||""," ",Y.primary.first_name||Y.primary.firstName||""]}),r.jsx("div",{className:"text-xs text-gray-500 break-all",children:Y.primary.email||Y.primary.phone}),r.jsxs("div",{className:"text-[10px] text-gray-400",children:["id: ",Y.primary.id]})]}),r.jsx("div",{className:"ml-2",children:r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-[10px] bg-green-50 text-green-700 border border-green-200",title:"This contact will be kept",children:[r.jsx(El,{size:12,className:"mr-1 fill-green-600 text-green-600"})," Keep"]})})]})}),r.jsx("td",{className:"p-2 align-top w-72",children:Y.duplicates.map(ke=>r.jsx("div",{className:"mb-2 border-b last:border-b-0 pb-1",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:[ke.last_name||ke.lastName||""," ",ke.first_name||ke.firstName||""]}),r.jsx("div",{className:"text-xs text-gray-500 break-all",children:ke.email||ke.phone}),r.jsxs("div",{className:"text-[10px] text-gray-400",children:["id: ",ke.id]})]}),r.jsx("button",{className:"ml-2 px-2 py-1 text-[10px] rounded border bg-white hover:bg-gray-50 text-gray-700",title:"Keep this contact instead",onClick:()=>J(Y.key,ke.id),children:r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(El,{size:12,className:"mr-1"})," Make Primary"]})})]})},ke.id))}),r.jsx("td",{className:"p-2 align-top text-xs w-72",children:r.jsx("div",{className:"space-y-1",children:["phone","address","city","state","zip","country","company","notes"].map(ke=>{const We=Y.primary[ke]||"",Ie=Y.duplicates.find(ze=>ze[ke])?.[ke];return!Ie||We?null:r.jsxs("div",{className:"flex justify-between gap-2",children:[r.jsxs("span",{className:"text-gray-500",children:[ke,":"]}),r.jsx("span",{className:"font-medium text-gray-800 truncate max-w-[160px]",title:Ie,children:String(Ie).slice(0,60)})]},ke)})})})]},Y.key)),!_&&S.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-500",children:"No duplicate groups found."})}),_&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Loading..."})})]})]})}),r.jsx("div",{className:"mt-4 text-xs text-gray-500",children:(()=>{const Y=Ne();return`Groups: ${Y.totalGroups} | Total Clients Impacted: ${Y.totalClientsImpacted}`})()})]})}),z&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[r.jsx("button",{onClick:()=>V(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:"✕"}),r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[r.jsx(rg,{className:"mr-2",size:18}),"Advanced Filters"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"(Placeholder) Add additional filtering options here (status, date range, has email, has phone, etc.)."}),r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-sm",children:e("action.close")})})]})})]})})};var t8={};class j3e{constructor(){this.isAuthenticated=!1,this.config={calendarId:"parrottsimon02@gmail.com",apiKey:t8.REACT_APP_GOOGLE_CALENDAR_API_KEY||"",clientId:t8.REACT_APP_GOOGLE_CLIENT_ID||""}}async initialize(){try{return console.log("Google Calendar service initialized"),!0}catch(t){return console.error("Failed to initialize Google Calendar:",t),!1}}async createEvent(t,n={}){try{const s={id:t.id||`event_${Date.now()}`,title:t.title,description:t.description||"",startTime:t.startTime.toISOString(),endTime:t.endTime.toISOString(),location:t.location||"",attendees:t.attendees||[],clientId:t.clientId},a=this.getLocalEvents();if(a.push(s),localStorage.setItem("calendarEvents",JSON.stringify(a)),n.promptGoogle){const i=this.generateGoogleCalendarUrl(t);window.confirm("Would you like to also add this event to Google Calendar?")&&window.open(i,"_blank")}return s.id}catch(s){return console.error("Failed to create calendar event:",s),null}}async updateEvent(t,n){try{const s=this.getLocalEvents(),a=s.findIndex(i=>i.id===t);if(a===-1)throw new Error("Event not found");return s[a]={...s[a],...n},localStorage.setItem("calendarEvents",JSON.stringify(s)),!0}catch(s){return console.error("Failed to update calendar event:",s),!1}}async deleteEvent(t){try{const s=this.getLocalEvents().filter(a=>a.id!==t);return localStorage.setItem("calendarEvents",JSON.stringify(s)),!0}catch(n){return console.error("Failed to delete calendar event:",n),!1}}async getEvents(t,n){try{return this.getLocalEvents().filter(a=>{const i=new Date(a.startTime);return i>=t&&i<=n}).map(a=>({...a,startTime:new Date(a.startTime),endTime:new Date(a.endTime)}))}catch(s){return console.error("Failed to get calendar events:",s),[]}}async getClientEvents(t){try{return this.getLocalEvents().filter(s=>s.clientId===t).map(s=>({...s,startTime:new Date(s.startTime),endTime:new Date(s.endTime)}))}catch(n){return console.error("Failed to get client events:",n),[]}}generateGoogleCalendarUrl(t){const n="https://calendar.google.com/calendar/render?action=TEMPLATE",s=new URLSearchParams({text:t.title,dates:`${this.formatDateForGoogle(t.startTime)}/${this.formatDateForGoogle(t.endTime)}`,details:t.description||"",location:t.location||"",ctz:"Europe/Vienna"});return`${n}&${s.toString()}`}formatDateForGoogle(t){return t.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")}getLocalEvents(){try{const t=localStorage.getItem("calendarEvents");return t?JSON.parse(t):[]}catch(t){return console.error("Failed to get local events:",t),[]}}getPublicCalendarUrl(){return"https://calendar.google.com/calendar/u/0?cid=cGFycm90dHNpbW9uMDJAZ21haWwuY29t"}getEmbedUrl(){return"https://calendar.google.com/calendar/embed?src=parrottsimon02%40gmail.com&ctz=Europe%2FVienna"}}const r8=new j3e,N3e=({isOpen:e,onClose:t,client:n})=>{const[s,a]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(!1),[d,u]=j.useState(null),h=async()=>{try{a(!0),u(null);const g=await fetch("/api/admin/create-questionnaire-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n.id,template_id:"default-questionnaire"})});if(!g.ok)throw new Error("Failed to generate questionnaire link");const v=await g.json();o(v.link)}catch(g){u(g instanceof Error?g.message:"Failed to generate link")}finally{a(!1)}},p=async()=>{if(i)try{await navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),2e3)}catch(g){console.error("Failed to copy link:",g)}},f=()=>{if(!i)return"";const g=`Hallo! Bitte füllen Sie unseren Fragebogen hier aus: ${i}`;return`https://wa.me/?text=${encodeURIComponent(g)}`},x=()=>{if(!i)return"";const g="Ihr Fragebogen - New Age Fotografie",v=`Hallo ${n.firstName},

bitte füllen Sie unseren Fragebogen über den folgenden Link aus:

${i}

Vielen Dank!

Mit freundlichen Grüßen,
New Age Fotografie Team`;return`mailto:${n.email}?subject=${encodeURIComponent(g)}&body=${encodeURIComponent(v)}`};return xe.useEffect(()=>{e&&!i&&h()},[e]),e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Questionnaire"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:24})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Send questionnaire link to:"}),r.jsxs("p",{className:"font-medium text-gray-900",children:[n.firstName," ",n.lastName]}),r.jsx("p",{className:"text-sm text-gray-600",children:n.email})]}),d&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:r.jsx("p",{className:"text-sm text-red-600",children:d})}),s&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-600",children:"Generating questionnaire link..."})}),i&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Questionnaire Link"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:i,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm"}),r.jsx("button",{onClick:p,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",title:"Copy link",children:l?r.jsx(sa,{size:16,className:"text-green-600"}):r.jsx(rh,{size:16})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("a",{href:x(),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(pr,{size:16}),r.jsx("span",{children:"Email"})]}),r.jsxs("a",{href:f(),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[r.jsx(Zw,{size:16}),r.jsx("span",{children:"WhatsApp"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[r.jsx("p",{children:"• Email: Opens your default email client with pre-filled message"}),r.jsx("p",{children:"• WhatsApp: Opens WhatsApp with ready-to-send message"}),r.jsx("p",{children:"• Link expires in 30 days"})]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t",children:r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})})]})}):null},S3e=({isOpen:e,onClose:t,clientId:n,clientName:s})=>{const[a,i]=j.useState([]),[o,l]=j.useState(null),[c,d]=j.useState(!1);j.useEffect(()=>{e&&n&&u()},[e,n]);const u=async()=>{d(!0);try{i([{id:"1",subject:"Welcome to New Age Fotografie",from:"hallo@newagefotografie.com",to:"client@example.com",content:"Thank you for choosing New Age Fotografie for your photography needs...",timestamp:"2024-01-15T10:30:00Z",type:"sent"},{id:"2",subject:"Re: Photography Session Details",from:"client@example.com",to:"hallo@newagefotografie.com",content:"Thank you for the information. I would like to schedule...",timestamp:"2024-01-16T14:20:00Z",type:"received"}])}catch(p){console.error("Failed to fetch emails:",p)}finally{d(!1)}},h=p=>new Date(p).toLocaleDateString("de-DE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl h-[80vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Email Communications"}),r.jsxs("p",{className:"text-gray-600",children:["Emails for ",s]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(gn,{size:20})})]}),r.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r.jsx("div",{className:"w-1/2 border-r overflow-y-auto",children:c?r.jsx("div",{className:"p-6 text-center text-gray-600",children:"Loading emails..."}):a.length===0?r.jsxs("div",{className:"p-6 text-center text-gray-600",children:[r.jsx(pr,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"No emails found for this client"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Email tracking will be implemented in future updates"})]}):r.jsx("div",{className:"p-4 space-y-2",children:a.map(p=>r.jsxs("div",{onClick:()=>l(p),className:`p-4 rounded-lg cursor-pointer transition-colors ${o?.id===p.id?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${p.type==="sent"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:p.type==="sent"?"Sent":"Received"}),r.jsx("span",{className:"text-xs text-gray-500",children:h(p.timestamp)})]}),r.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-1",children:p.subject}),r.jsx("p",{className:"text-xs text-gray-600",children:p.type==="sent"?`To: ${p.to}`:`From: ${p.from}`})]},p.id))})}),r.jsx("div",{className:"w-1/2 overflow-y-auto",children:o?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.subject}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"From:"})," ",o.from]}),r.jsxs("p",{children:[r.jsx("strong",{children:"To:"})," ",o.to]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",h(o.timestamp)]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:o.content})})]}):r.jsx("div",{className:"p-6 flex items-center justify-center h-full text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mn,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Select an email to view its content"})]})})})]})]})}):null},_3e=({isOpen:e,onClose:t,clientId:n,clientName:s})=>{const[a,i]=j.useState([]),[o,l]=j.useState(null),[c,d]=j.useState(!1);j.useEffect(()=>{e&&n&&u()},[e,n]);const u=async()=>{d(!0);try{const x=await fetch(`/api/admin/client-questionnaires/${n}`);if(x.ok){const g=await x.json();i(g)}else console.error("Failed to fetch questionnaires:",x.statusText),i([])}catch(x){console.error("Failed to fetch questionnaires:",x),i([])}finally{d(!1)}},h=x=>new Date(x).toLocaleDateString("de-DE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=x=>{switch(x){case"responded":return"bg-green-100 text-green-700";case"sent":return"bg-yellow-100 text-yellow-700";case"expired":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},f=()=>{if(!o||!o.responses)return;const x=window.open("","_blank");if(!x)return;const g=`
      <html>
        <head>
          <title>Questionnaire Response - ${o.questionnaireName}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
            .question { margin-bottom: 15px; }
            .question-label { font-weight: bold; color: #333; }
            .answer { margin-top: 5px; padding: 8px; background-color: #f5f5f5; border-radius: 4px; }
            .meta-info { background-color: #f9f9f9; padding: 10px; border-radius: 4px; margin-bottom: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>New Age Fotografie</h1>
            <h2>Questionnaire Response</h2>
          </div>
          <div class="meta-info">
            <p><strong>Client:</strong> ${s}</p>
            <p><strong>Questionnaire:</strong> ${o.questionnaireName}</p>
            <p><strong>Sent:</strong> ${h(o.sentDate)}</p>
            <p><strong>Responded:</strong> ${o.responseDate?h(o.responseDate):"Not yet responded"}</p>
          </div>
          <div class="responses">
            ${Object.entries(o.responses).map(([v,b],_)=>`
              <div class="question">
                <div class="question-label">${_+1}. ${v.replace("question","Question ")}</div>
                <div class="answer">${b}</div>
              </div>
            `).join("")}
          </div>
        </body>
      </html>
    `;x.document.write(g),x.document.close(),x.print()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl h-[80vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Questionnaires & Surveys"}),r.jsxs("p",{className:"text-gray-600",children:["Questionnaires for ",s]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(gn,{size:20})})]}),r.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r.jsx("div",{className:"w-1/2 border-r overflow-y-auto",children:c?r.jsx("div",{className:"p-6 text-center text-gray-600",children:"Loading questionnaires..."}):a.length===0?r.jsxs("div",{className:"p-6 text-center text-gray-600",children:[r.jsx(Hn,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"No questionnaires found for this client"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Send a questionnaire to get started"})]}):r.jsx("div",{className:"p-4 space-y-2",children:a.map(x=>r.jsxs("div",{onClick:()=>l(x),className:`p-4 rounded-lg cursor-pointer transition-colors ${o?.id===x.id?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${p(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)}),r.jsx("span",{className:"text-xs text-gray-500",children:h(x.sentDate)})]}),r.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-1",children:x.questionnaireName}),x.responseDate&&r.jsxs("p",{className:"text-xs text-green-600",children:["Responded: ",h(x.responseDate)]})]},x.id))})}),r.jsx("div",{className:"w-1/2 overflow-y-auto",children:o?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.questionnaireName}),o.responses&&r.jsxs("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg flex items-center text-sm",children:[r.jsx(Vn,{size:16,className:"mr-1"}),"Print"]})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Sent:"})," ",h(o.sentDate)]}),o.responseDate&&r.jsxs("p",{children:[r.jsx("strong",{children:"Responded:"})," ",h(o.responseDate)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${p(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]})]})]}),o.responses?r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Responses:"}),r.jsx("div",{className:"space-y-4",children:Object.entries(o.responses).map(([x,g],v)=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"font-medium text-gray-700 mb-2",children:[v+1,". ",x.replace("question","Question ")]}),r.jsx("div",{className:"text-gray-800",children:g})]},x))})]}):o.status==="sent"?r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-yellow-800",children:"This questionnaire has been sent but not yet responded to."}),o.link&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Questionnaire Link:"}),r.jsx("code",{className:"text-xs bg-white p-2 rounded border block break-all",children:o.link})]})]})}):r.jsx("div",{className:"border-t pt-4",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-red-800",children:"This questionnaire has expired without a response."})})})]}):r.jsx("div",{className:"p-6 flex items-center justify-center h-full text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mn,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Select a questionnaire to view details"})]})})})]})]})}):null},k3e=()=>{const{id:e}=Ri(),t=un(),[n,s]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(!0),[c,d]=j.useState(null),[u,h]=j.useState(!1),[p,f]=j.useState(!1),[x,g]=j.useState(!1);j.useEffect(()=>{e&&(v(e),b(e))},[e]);const v=async V=>{try{l(!0);const U=await fetch(`/api/crm/clients/${V}`);if(!U.ok)throw new Error("Client not found");const K=await U.json();s(K)}catch{d("Failed to load client details")}finally{l(!1)}},b=async V=>{try{const U=await fetch(`/api/crm/invoices?clientId=${V}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const K=await U.json();i(K.invoices||[])}}catch(U){console.error("Failed to fetch client invoices:",U)}},_=async(V,U)=>{try{const K=await fetch(`/api/crm/invoices/${V}/pdf`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!K.ok)throw new Error(`PDF generation failed: ${K.status}`);const $=await K.blob(),W=window.URL.createObjectURL($),te=document.createElement("a");te.style.display="none",te.href=W,te.download=`Rechnung-${U||V}.pdf`,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(W),document.body.removeChild(te)}catch{alert("PDF download failed. Please try again.")}},w=async V=>{const K=`${window.location.origin}/invoice/${V}`;try{await navigator.clipboard.writeText(K),alert("Invoice link copied to clipboard!")}catch{const W=document.createElement("textarea");W.value=K,document.body.appendChild(W),W.select(),document.execCommand("copy"),document.body.removeChild(W),alert("Invoice link copied to clipboard!")}},S=V=>{const K=`${window.location.origin}/invoice/${V}`,W=`https://wa.me/?text=${encodeURIComponent(`Hi ${n?.firstName||"there"}! Here's your invoice: ${K}`)}`;window.open(W,"_blank")},A=()=>{t(`/admin/clients/${e}/edit`)},L=async()=>{if(n&&window.confirm(`Are you sure you want to delete ${n.firstName} ${n.lastName}? This action cannot be undone.`))try{if(!(await fetch(`/api/crm/clients/${n.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");alert("Client deleted successfully"),t("/admin/clients")}catch{alert("Failed to delete client. Please try again.")}},P=async()=>{if(n)try{const V=new Date;V.setDate(V.getDate()+1),V.setHours(14,0,0,0);const U=new Date(V);U.setHours(16,0,0,0);const K={title:`Fotoshooting - ${n.firstName} ${n.lastName}`,description:`Fotoshooting-Termin mit ${n.firstName} ${n.lastName}

Kontakt:
E-Mail: ${n.email}
Telefon: ${n.phone||"Nicht angegeben"}

Adresse: ${n.address||"Nicht angegeben"}`,startTime:V,endTime:U,location:"New Age Fotografie Studio, Wehrgasse 11A/2+5, 1050 Wien",attendees:[n.email],clientId:n.id};await r8.createEvent(K,{promptGoogle:!1}),t(`/admin/calendar?clientId=${n.id}`)}catch(V){console.error("Failed to schedule session:",V),alert("Failed to schedule session. Please try again.")}},k=async()=>{if(!n)return;const V=new Date;V.setHours(V.getHours()+2,0,0,0);const U=new Date(V);U.setHours(U.getHours()+1);const K={title:`Appointment - ${n.firstName} ${n.lastName}`,description:`Linked to client ${n.firstName} ${n.lastName} (${n.email})`,startTime:V,endTime:U,clientId:n.id};await r8.createEvent(K,{promptGoogle:!1}),t(`/admin/calendar?clientId=${n.id}`)},C=()=>{t(`/admin/invoices?clientId=${n?.id}&action=new`)},R=async()=>{n&&t(`/admin/inbox?compose=1&to=${encodeURIComponent(n.email)}&name=${encodeURIComponent(n.firstName+" "+n.lastName)}`)},E=async()=>{if(n){if(!n.phone){alert("No phone number available for this client");return}try{const V=`Hallo ${n.firstName}, vielen Dank für Ihr Interesse an New Age Fotografie. Bei Fragen stehen wir gerne zur Verfügung!`;t(`/admin/communications?action=sms&clientId=${n.id}&phone=${encodeURIComponent(n.phone)}&message=${encodeURIComponent(V)}`)}catch(V){console.error("Failed to compose SMS:",V),alert("Failed to open SMS composer")}}},I=()=>{f(!0)},B=()=>{g(!0)},z=V=>{const U={active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},inactive:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Inactive"},archived:{bg:"bg-gray-100",text:"text-gray-800",label:"Archived"}},K=U[V]||U.active;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.bg} ${K.text}`,children:K.label})};return o?r.jsx(Nr,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):c||!n?r.jsx(Nr,{children:r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c||"Client not found"})}):r.jsxs(Nr,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>t("/admin/clients"),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Pn,{size:20})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:[n.firstName," ",n.lastName]}),r.jsx("p",{className:"text-gray-600",children:"Client Details"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Aa,{size:16,className:"mr-2"}),"Edit"]}),r.jsxs("button",{onClick:()=>h(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Hn,{size:16,className:"mr-2"}),"Send Questionnaire"]}),r.jsxs("button",{onClick:I,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(CM,{size:16,className:"mr-2"}),"View Emails"]}),r.jsxs("button",{onClick:B,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(b0,{size:16,className:"mr-2"}),"View Questionnaires"]}),r.jsxs("button",{onClick:L,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Ts,{size:16,className:"mr-2"}),"Delete"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[n.firstName," ",n.lastName]}),n.company&&r.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[r.jsx(qK,{size:16,className:"mr-2"}),n.company]})]}),z(n.status)]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(pr,{size:16,className:"text-gray-400 mr-3"}),r.jsx("a",{href:`mailto:${n.email}`,className:"text-purple-600 hover:text-purple-700",children:n.email})]}),n.phone&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Xf,{size:16,className:"text-gray-400 mr-3"}),r.jsx("a",{href:`tel:${n.phone}`,className:"text-purple-600 hover:text-purple-700",children:n.phone})]}),n.address&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(pm,{size:16,className:"text-gray-400 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-900",children:n.address}),n.city&&r.jsxs("p",{className:"text-gray-600",children:[n.zip&&`${n.zip} `,n.city,n.state&&`, ${n.state}`,n.country&&`, ${n.country}`]})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Details"}),r.jsxs("div",{className:"space-y-3",children:[n.clientId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Client ID"}),r.jsx("p",{className:"text-gray-900",children:n.clientId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Member Since"}),r.jsx("p",{className:"text-gray-900",children:new Date(n.createdAt).toLocaleDateString()})]}),n.notes&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),r.jsx("p",{className:"text-gray-900",children:n.notes})]})]})]})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice History"}),r.jsxs("button",{onClick:C,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[r.jsx(Cr,{className:"w-4 h-4 mr-2"}),"New Invoice"]})]}),a.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Hn,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating an invoice for this client."}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[r.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Create First Invoice"]})})]}):r.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(V=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",V.invoiceNumber||V.id]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",(V.total||V.totalAmount||0).toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V.status==="PAID"?"bg-green-100 text-green-800":V.status==="SENT"?"bg-blue-100 text-blue-800":V.status==="OVERDUE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:V.status||"DRAFT"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.dueDate?new Date(V.dueDate).toLocaleDateString():"N/A"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[r.jsx("button",{onClick:()=>t("/admin/invoices"),className:"text-blue-600 hover:text-blue-900",title:"View Invoice",children:r.jsx(Mn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>_(V.id,V.invoiceNumber),className:"text-green-600 hover:text-green-900",title:"Download PDF",children:r.jsx(Vn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(V.id),className:"text-purple-600 hover:text-purple-900",title:"Copy Link",children:r.jsx(K4,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>S(V.id),className:"text-green-500 hover:text-green-700",title:"Share via WhatsApp",children:r.jsx(LM,{className:"w-4 h-4"})})]})]},V.id))})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:P,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-purple-300 transition-colors flex items-center justify-center",children:[r.jsx(dn,{size:20,className:"mr-2 text-purple-600"}),r.jsx("span",{children:"Schedule Session"})]}),r.jsxs("button",{onClick:k,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-purple-300 transition-colors flex items-center justify-center",children:[r.jsx(Cr,{size:20,className:"mr-2 text-purple-600"}),r.jsx("span",{children:"Add Appointment"})]}),r.jsxs("button",{onClick:R,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-blue-300 transition-colors flex items-center justify-center",children:[r.jsx(pr,{size:20,className:"mr-2 text-blue-600"}),r.jsx("span",{children:"Send Email"})]}),r.jsxs("button",{onClick:E,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-orange-300 transition-colors flex items-center justify-center",disabled:!n?.phone,children:[r.jsx(Xw,{size:20,className:"mr-2 text-orange-600"}),r.jsx("span",{children:"Send SMS"})]})]})]}),n&&r.jsx(N3e,{isOpen:u,onClose:()=>h(!1),client:n}),n&&r.jsx(S3e,{isOpen:p,onClose:()=>f(!1),clientId:n.id,clientName:`${n.firstName} ${n.lastName}`}),n&&r.jsx(_3e,{isOpen:x,onClose:()=>g(!1),clientId:n.id,clientName:`${n.firstName} ${n.lastName}`})]})},n8=e=>{if(!e)return"";const t=["van","de","der","da","von","del","la","du","di","le"];return e.toLowerCase().split(" ").map((n,s)=>s===0?n.charAt(0).toUpperCase()+n.slice(1):t.includes(n)?n:n.charAt(0).toUpperCase()+n.slice(1)).join(" ")},QN=()=>{const e=un(),{id:t}=Ri(),n=!!t,[s,a]=j.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zip:"",country:"Austria",company:"",notes:""}),[i,o]=j.useState(!1),[l,c]=j.useState(null);j.useEffect(()=>{n&&t&&d()},[n,t]);const d=async()=>{try{o(!0);const p=await fetch(`/api/crm/clients/${t}`);if(!p.ok)throw new Error("Failed to fetch client");const f=await p.json();a({firstName:f.firstName||"",lastName:f.lastName||"",email:f.email||"",phone:f.phone||"",address:f.address||"",city:f.city||"",state:f.state||"",zip:f.zip||"",country:f.country||"Austria",company:f.company||"",notes:f.notes||""})}catch(p){console.error("Failed to load client:",p),c("Failed to load client data")}finally{o(!1)}},u=p=>{const{name:f,value:x}=p.target;let g=x;(f==="firstName"||f==="lastName")&&(g=n8(x)),f==="city"&&(g=n8(x)),a(v=>({...v,[f]:g}))},h=async p=>{p.preventDefault(),o(!0),c(null);try{const f=n?`/api/crm/clients/${t}`:"/api/crm/clients",x=n?"PUT":"POST";console.log("Submitting client data:",s),console.log("URL:",f,"Method:",x);const g=await fetch(f,{method:x,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("Response status:",g.status),console.log("Response ok:",g.ok),!g.ok){const b=await g.text();throw console.error("Error response:",b),new Error(`Failed to save client: ${g.status} ${b}`)}const v=await g.json();console.log("Success:",v),e("/admin/clients")}catch(f){console.error("Failed to save client:",f),c(f.message||"Failed to save client")}finally{o(!1)}};return i&&n?r.jsx(Nr,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):r.jsx(Nr,{children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4 mb-4",children:r.jsxs("button",{onClick:()=>e("/admin/clients"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[r.jsx(Pn,{className:"h-5 w-5 mr-2"}),"Back to Clients"]})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Client":"Add New Client"}),r.jsx("p",{className:"text-gray-600",children:n?"Update client information":"Create a new client profile"})]}),l&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:r.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Ho,{className:"h-5 w-5 mr-2"}),"Personal Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),r.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter first name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),r.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter last name"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),r.jsx("input",{type:"text",name:"company",value:s.company,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(pr,{className:"h-5 w-5 mr-2"}),"Contact Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(pm,{className:"h-5 w-5 mr-2"}),"Address Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsx("input",{type:"text",name:"address",value:s.address,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter street address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),r.jsx("input",{type:"text",name:"city",value:s.city,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter city"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),r.jsx("input",{type:"text",name:"zip",value:s.zip,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter ZIP code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),r.jsx("input",{type:"text",name:"state",value:s.state,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter state or province"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),r.jsxs("select",{name:"country",value:s.country,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Austria",children:"Austria"}),r.jsx("option",{value:"Germany",children:"Germany"}),r.jsx("option",{value:"Switzerland",children:"Switzerland"}),r.jsx("option",{value:"Czech Republic",children:"Czech Republic"}),r.jsx("option",{value:"Slovakia",children:"Slovakia"}),r.jsx("option",{value:"Hungary",children:"Hungary"}),r.jsx("option",{value:"Slovenia",children:"Slovenia"}),r.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{name:"notes",value:s.notes,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any additional notes about this client..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>e("/admin/clients"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[i&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r.jsx(Go,{className:"h-4 w-4 mr-2"}),n?"Update Client":"Create Client"]})]})]})})]})})};var uB={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,s)=>{e.exports=s()})(Uo,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function u(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(C){var R=A(C);R.chunkSize=parseInt(R.chunkSize),C.step||C.chunk||(R.chunkSize=null),this._handle=new g(R),(this._handle.streamer=this)._config=R}.call(this,k),this.parseChunk=function(C,R){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let B=this._config.newline;B||(I=this._config.quoteChar||'"',B=this._handle.guessLineEndings(C,I)),C=[...C.split(B).slice(E)].join(B)}this.isFirstChunk&&P(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(C))!==void 0&&(C=I),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+C,I=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=I.meta.cursor,E=(this._finished||(this._partialLine=E.substring(C-this._baseIndex),this._baseIndex=C),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:I,workerId:d.WORKER_ID,finished:E});else if(P(this._config.chunk)&&!R){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!E||!P(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(C){P(this._config.error)?this._config.error(C):o&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:C,finished:!1})}}function h(k){var C;(k=k||{}).chunkSize||(k.chunkSize=d.RemoteChunkSize),u.call(this,k),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),i||(C.onload=L(this._chunkLoaded,this),C.onerror=L(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var R,E=this._config.downloadRequestHeaders;for(R in E)C.setRequestHeader(R,E[R])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+I));try{C.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}i&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(R=>(R=R.getResponseHeader("Content-Range"))!==null?parseInt(R.substring(R.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(R){R=C.statusText||R,this._sendError(new Error(R))}}function p(k){(k=k||{}).chunkSize||(k.chunkSize=d.LocalChunkSize),u.call(this,k);var C,R,E=typeof FileReader<"u";this.stream=function(I){this._input=I,R=I.slice||I.webkitSlice||I.mozSlice,E?((C=new FileReader).onload=L(this._chunkLoaded,this),C.onerror=L(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),I=R.call(I,this._start,B)),C.readAsText(I,this._config.encoding));E||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(C.error)}}function f(k){var C;u.call(this,k=k||{}),this.stream=function(R){return C=R,this._nextChunk()},this._nextChunk=function(){var R,E;if(!this._finished)return R=this._config.chunkSize,C=R?(E=C.substring(0,R),C.substring(R)):(E=C,""),this._finished=!C,this.parseChunk(E)}}function x(k){u.call(this,k=k||{});var C=[],R=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):R=!0},this._streamData=L(function(I){try{C.push(typeof I=="string"?I:I.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(B){this._streamError(B)}},this),this._streamError=L(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=L(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(k){var C,R,E,I,B=Math.pow(2,53),z=-B,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,$=0,W=0,te=!1,J=!1,M=[],G={data:[],errors:[],meta:{}};function X(we){return k.skipEmptyLines==="greedy"?we.join("").trim()==="":we.length===1&&we[0].length===0}function ie(){if(G&&E&&(fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),E=!1),k.skipEmptyLines&&(G.data=G.data.filter(function(pe){return!X(pe)})),re()){let pe=function(ge,Ae){P(k.transformHeader)&&(ge=k.transformHeader(ge,Ae)),M.push(ge)};if(G)if(Array.isArray(G.data[0])){for(var we=0;re()&&we<G.data.length;we++)G.data[we].forEach(pe);G.data.splice(0,1)}else G.data.forEach(pe)}function Z(pe,ge){for(var Ae=k.header?{}:[],Ne=0;Ne<pe.length;Ne++){var Y=Ne,ke=pe[Ne],ke=((We,Ie)=>(ze=>(k.dynamicTypingFunction&&k.dynamicTyping[ze]===void 0&&(k.dynamicTyping[ze]=k.dynamicTypingFunction(ze)),(k.dynamicTyping[ze]||k.dynamicTyping)===!0))(We)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((ze=>{if(V.test(ze)&&(ze=parseFloat(ze),z<ze&&ze<B))return 1})(Ie)?parseFloat(Ie):U.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(Y=k.header?Ne>=M.length?"__parsed_extra":M[Ne]:Y,ke=k.transform?k.transform(ke,Y):ke);Y==="__parsed_extra"?(Ae[Y]=Ae[Y]||[],Ae[Y].push(ke)):Ae[Y]=ke}return k.header&&(Ne>M.length?fe("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+Ne,W+ge):Ne<M.length&&fe("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+Ne,W+ge)),Ae}var Q;G&&(k.header||k.dynamicTyping||k.transform)&&(Q=1,!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(Z),Q=G.data.length):G.data=Z(G.data,0),k.header&&G.meta&&(G.meta.fields=M),W+=Q)}function re(){return k.header&&M.length===0}function fe(we,Z,Q,pe){we={type:we,code:Z,message:Q},pe!==void 0&&(we.row=pe),G.errors.push(we)}P(k.step)&&(I=k.step,k.step=function(we){G=we,re()?ie():(ie(),G.data.length!==0&&($+=we.data.length,k.preview&&$>k.preview?R.abort():(G.data=G.data[0],I(G,K))))}),this.parse=function(we,Z,Q){var pe=k.quoteChar||'"',pe=(k.newline||(k.newline=this.guessLineEndings(we,pe)),E=!1,k.delimiter?P(k.delimiter)&&(k.delimiter=k.delimiter(we),G.meta.delimiter=k.delimiter):((pe=((ge,Ae,Ne,Y,ke)=>{var We,Ie,ze,le;ke=ke||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var se=0;se<ke.length;se++){for(var Se,Pe=ke[se],$e=0,He=0,je=0,Fe=(ze=void 0,new b({comments:Y,delimiter:Pe,newline:Ae,preview:10}).parse(ge)),Ze=0;Ze<Fe.data.length;Ze++)Ne&&X(Fe.data[Ze])?je++:(Se=Fe.data[Ze].length,He+=Se,ze===void 0?ze=Se:0<Se&&($e+=Math.abs(Se-ze),ze=Se));0<Fe.data.length&&(He/=Fe.data.length-je),(Ie===void 0||$e<=Ie)&&(le===void 0||le<He)&&1.99<He&&(Ie=$e,We=Pe,le=He)}return{successful:!!(k.delimiter=We),bestDelimiter:We}})(we,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=pe.bestDelimiter:(E=!0,k.delimiter=d.DefaultDelimiter),G.meta.delimiter=k.delimiter),A(k));return k.preview&&k.header&&pe.preview++,C=we,R=new b(pe),G=R.parse(C,Z,Q),ie(),te?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,R.abort(),C=P(k.chunk)?"":C.substring(R.getCharIndex())},this.resume=function(){K.streamer._halted?(te=!1,K.streamer.parseChunk(C,!0)):setTimeout(K.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,R.abort(),G.meta.aborted=!0,P(k.complete)&&k.complete(G),C=""},this.guessLineEndings=function(ge,pe){ge=ge.substring(0,1048576);var pe=new RegExp(v(pe)+"([^]*?)"+v(pe),"gm"),Q=(ge=ge.replace(pe,"")).split("\r"),pe=ge.split(`
`),ge=1<pe.length&&pe[0].length<Q[0].length;if(Q.length===1||ge)return`
`;for(var Ae=0,Ne=0;Ne<Q.length;Ne++)Q[Ne][0]===`
`&&Ae++;return Ae>=Q.length/2?`\r
`:"\r"}}function v(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(k){var C=(k=k||{}).delimiter,R=k.newline,E=k.comments,I=k.step,B=k.preview,z=k.fastMode,V=null,U=!1,K=k.quoteChar==null?'"':k.quoteChar,$=K;if(k.escapeChar!==void 0&&($=k.escapeChar),(typeof C!="string"||-1<d.BAD_DELIMITERS.indexOf(C))&&(C=","),E===C)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<d.BAD_DELIMITERS.indexOf(E))&&(E=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var W=0,te=!1;this.parse=function(J,M,G){if(typeof J!="string")throw new Error("Input must be a string");var X=J.length,ie=C.length,re=R.length,fe=E.length,we=P(I),Z=[],Q=[],pe=[],ge=W=0;if(!J)return $e();if(z||z!==!1&&J.indexOf(K)===-1){for(var Ae=J.split(R),Ne=0;Ne<Ae.length;Ne++){if(pe=Ae[Ne],W+=pe.length,Ne!==Ae.length-1)W+=R.length;else if(G)return $e();if(!E||pe.substring(0,fe)!==E){if(we){if(Z=[],le(pe.split(C)),He(),te)return $e()}else le(pe.split(C));if(B&&B<=Ne)return Z=Z.slice(0,B),$e(!0)}}return $e()}for(var Y=J.indexOf(C,W),ke=J.indexOf(R,W),We=new RegExp(v($)+v(K),"g"),Ie=J.indexOf(K,W);;)if(J[W]===K)for(Ie=W,W++;;){if((Ie=J.indexOf(K,Ie+1))===-1)return G||Q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:W}),Se();if(Ie===X-1)return Se(J.substring(W,Ie).replace(We,K));if(K===$&&J[Ie+1]===$)Ie++;else if(K===$||Ie===0||J[Ie-1]!==$){Y!==-1&&Y<Ie+1&&(Y=J.indexOf(C,Ie+1));var ze=se((ke=ke!==-1&&ke<Ie+1?J.indexOf(R,Ie+1):ke)===-1?Y:Math.min(Y,ke));if(J.substr(Ie+1+ze,ie)===C){pe.push(J.substring(W,Ie).replace(We,K)),J[W=Ie+1+ze+ie]!==K&&(Ie=J.indexOf(K,W)),Y=J.indexOf(C,W),ke=J.indexOf(R,W);break}if(ze=se(ke),J.substring(Ie+1+ze,Ie+1+ze+re)===R){if(pe.push(J.substring(W,Ie).replace(We,K)),Pe(Ie+1+ze+re),Y=J.indexOf(C,W),Ie=J.indexOf(K,W),we&&(He(),te))return $e();if(B&&Z.length>=B)return $e(!0);break}Q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:W}),Ie++}}else if(E&&pe.length===0&&J.substring(W,W+fe)===E){if(ke===-1)return $e();W=ke+re,ke=J.indexOf(R,W),Y=J.indexOf(C,W)}else if(Y!==-1&&(Y<ke||ke===-1))pe.push(J.substring(W,Y)),W=Y+ie,Y=J.indexOf(C,W);else{if(ke===-1)break;if(pe.push(J.substring(W,ke)),Pe(ke+re),we&&(He(),te))return $e();if(B&&Z.length>=B)return $e(!0)}return Se();function le(je){Z.push(je),ge=W}function se(je){var Fe=0;return Fe=je!==-1&&(je=J.substring(Ie+1,je))&&je.trim()===""?je.length:Fe}function Se(je){return G||(je===void 0&&(je=J.substring(W)),pe.push(je),W=X,le(pe),we&&He()),$e()}function Pe(je){W=je,le(pe),pe=[],ke=J.indexOf(R,W)}function $e(je){if(k.header&&!M&&Z.length&&!U){var Fe=Z[0],Ze=Object.create(null),tt=new Set(Fe);let it=!1;for(let lt=0;lt<Fe.length;lt++){let jt=Fe[lt];if(Ze[jt=P(k.transformHeader)?k.transformHeader(jt,lt):jt]){let Lt,Nt=Ze[jt];for(;Lt=jt+"_"+Nt,Nt++,tt.has(Lt););tt.add(Lt),Fe[lt]=Lt,Ze[jt]++,it=!0,(V=V===null?{}:V)[Lt]=jt}else Ze[jt]=1,Fe[lt]=jt;tt.add(jt)}it&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:Z,errors:Q,meta:{delimiter:C,linebreak:R,aborted:te,truncated:!!je,cursor:ge+(M||0),renamedHeaders:V}}}function He(){I($e()),Z=[],Q=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return W}}function _(k){var C=k.data,R=l[C.workerId],E=!1;if(C.error)R.userError(C.error,C.file);else if(C.results&&C.results.data){var I={abort:function(){E=!0,w(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(P(R.userStep)){for(var B=0;B<C.results.data.length&&(R.userStep({data:C.results.data[B],errors:C.results.errors,meta:C.results.meta},I),!E);B++);delete C.results}else P(R.userChunk)&&(R.userChunk(C.results,I,C.file),delete C.results)}C.finished&&!E&&w(C.workerId,C.results)}function w(k,C){var R=l[k];P(R.userComplete)&&R.userComplete(C),R.terminate(),delete l[k]}function S(){throw new Error("Not implemented.")}function A(k){if(typeof k!="object"||k===null)return k;var C,R=Array.isArray(k)?[]:{};for(C in k)R[C]=A(k[C]);return R}function L(k,C){return function(){k.apply(C,arguments)}}function P(k){return typeof k=="function"}return d.parse=function(k,C){var R=(C=C||{}).dynamicTyping||!1;if(P(R)&&(C.dynamicTypingFunction=R,R={}),C.dynamicTyping=R,C.transform=!!P(C.transform)&&C.transform,!C.worker||!d.WORKERS_SUPPORTED)return R=null,d.NODE_STREAM_INPUT,typeof k=="string"?(k=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(k),R=new(C.download?h:f)(C)):k.readable===!0&&P(k.read)&&P(k.on)?R=new x(C):(s.File&&k instanceof File||k instanceof Object)&&(R=new p(C)),R.stream(k);(R=(()=>{var E;return!!d.WORKERS_SUPPORTED&&(E=(()=>{var I=s.URL||s.webkitURL||null,B=n.toString();return d.BLOB_URL||(d.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(E=new s.Worker(E)).onmessage=_,E.id=c++,l[E.id]=E)})()).userStep=C.step,R.userChunk=C.chunk,R.userComplete=C.complete,R.userError=C.error,C.step=P(C.step),C.chunk=P(C.chunk),C.complete=P(C.complete),C.error=P(C.error),delete C.worker,R.postMessage({input:k,config:C,workerId:R.id})},d.unparse=function(k,C){var R=!1,E=!0,I=",",B=`\r
`,z='"',V=z+z,U=!1,K=null,$=!1,W=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||d.BAD_DELIMITERS.filter(function(M){return C.delimiter.indexOf(M)!==-1}).length||(I=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(R=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(U=C.skipEmptyLines),typeof C.newline=="string"&&(B=C.newline),typeof C.quoteChar=="string"&&(z=C.quoteChar),typeof C.header=="boolean"&&(E=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");K=C.columns}C.escapeChar!==void 0&&(V=C.escapeChar+z),C.escapeFormulae instanceof RegExp?$=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&($=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(z),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return te(null,k,U);if(typeof k[0]=="object")return te(K||Object.keys(k[0]),k,U)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||K),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),te(k.fields||[],k.data||[],U);throw new Error("Unable to serialize unrecognized input");function te(M,G,X){var ie="",re=(typeof M=="string"&&(M=JSON.parse(M)),typeof G=="string"&&(G=JSON.parse(G)),Array.isArray(M)&&0<M.length),fe=!Array.isArray(G[0]);if(re&&E){for(var we=0;we<M.length;we++)0<we&&(ie+=I),ie+=J(M[we],we);0<G.length&&(ie+=B)}for(var Z=0;Z<G.length;Z++){var Q=(re?M:G[Z]).length,pe=!1,ge=re?Object.keys(G[Z]).length===0:G[Z].length===0;if(X&&!re&&(pe=X==="greedy"?G[Z].join("").trim()==="":G[Z].length===1&&G[Z][0].length===0),X==="greedy"&&re){for(var Ae=[],Ne=0;Ne<Q;Ne++){var Y=fe?M[Ne]:Ne;Ae.push(G[Z][Y])}pe=Ae.join("").trim()===""}if(!pe){for(var ke=0;ke<Q;ke++){0<ke&&!ge&&(ie+=I);var We=re&&fe?M[ke]:ke;ie+=J(G[Z][We],ke)}Z<G.length-1&&(!X||0<Q&&!ge)&&(ie+=B)}}return ie}function J(M,G){var X,ie;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(ie=!1,$&&typeof M=="string"&&$.test(M)&&(M="'"+M,ie=!0),X=M.toString().replace(W,V),(ie=ie||R===!0||typeof R=="function"&&R(M,G)||Array.isArray(R)&&R[G]||((re,fe)=>{for(var we=0;we<fe.length;we++)if(-1<re.indexOf(fe[we]))return!0;return!1})(X,d.BAD_DELIMITERS)||-1<X.indexOf(I)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?z+X+z:X)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=b,d.ParserHandle=g,d.NetworkStreamer=h,d.FileStreamer=p,d.StringStreamer=f,d.ReadableStreamStreamer=x,s.jQuery&&((a=s.jQuery).fn.parse=function(k){var C=k.config||{},R=[];return this.each(function(B){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)R.push({file:this.files[z],inputElem:this,instanceConfig:a.extend({},C)})}),E(),this;function E(){if(R.length===0)P(k.complete)&&k.complete();else{var B,z,V,U,K=R[0];if(P(k.before)){var $=k.before(K.file,K.inputElem);if(typeof $=="object"){if($.action==="abort")return B="AbortError",z=K.file,V=K.inputElem,U=$.reason,void(P(k.error)&&k.error({name:B},z,V,U));if($.action==="skip")return void I();typeof $.config=="object"&&(K.instanceConfig=a.extend(K.instanceConfig,$.config))}else if($==="skip")return void I()}var W=K.instanceConfig.complete;K.instanceConfig.complete=function(te){P(W)&&W(te,K.file,K.inputElem),I()},d.parse(K.file,K.instanceConfig)}}function I(){R.splice(0,1),E()}}),o&&(s.onmessage=function(k){k=k.data,d.WORKER_ID===void 0&&k&&(d.WORKER_ID=k.workerId),typeof k.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(k.input,k.config),finished:!0}):(s.File&&k.input instanceof File||k.input instanceof Object)&&(k=d.parse(k.input,k.config))&&s.postMessage({workerId:d.WORKER_ID,results:k,finished:!0})}),(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(u.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(x.prototype=Object.create(u.prototype)).constructor=x,d})})(uB);var s8=uB.exports;const A3e=()=>{const[e,t]=j.useState(1),[n,s]=j.useState(null),[a,i]=j.useState(null),[o,l]=j.useState({}),[c,d]=j.useState(!1),[u,h]=j.useState(null),[p,f]=j.useState(null),x=j.useRef(null),g=[{key:"firstName",label:"First Name",required:!0},{key:"lastName",label:"Last Name",required:!0},{key:"name",label:"Full Name (auto-split)",required:!1},{key:"email",label:"Email",required:!0},{key:"phone",label:"Phone",required:!1},{key:"address",label:"Address",required:!1},{key:"company",label:"Company",required:!1},{key:"notes",label:"Notes",required:!1},{key:"clientId",label:"Client ID",required:!1}],v=E=>{const I={};let B=!1,z=!1;return E.forEach(V=>{const U=V.toLowerCase().trim();U.includes("first")&&U.includes("name")?B=!0:U.includes("last")&&U.includes("name")&&(z=!0)}),E.forEach(V=>{const U=V.toLowerCase().trim();U.includes("first")&&U.includes("name")?I[V]="firstName":U.includes("last")&&U.includes("name")?I[V]="lastName":U.includes("name")&&!B&&!z?I[V]="name":U.includes("email")||U.includes("e-mail")?I[V]="email":U.includes("phone")||U.includes("mobile")||U.includes("tel")?I[V]="phone":U.includes("address")||U.includes("street")||U.includes("location")?I[V]="address":U.includes("company")||U.includes("business")||U.includes("organization")?I[V]="company":(U.includes("note")||U.includes("comment")||U.includes("description"))&&(I[V]="notes")}),I},b=E=>{if(!E.name.toLowerCase().endsWith(".csv")){f("Please select a CSV file");return}s(E),f(null),s8.parse(E,{complete:I=>{if(I.errors.length>0){f("Error parsing CSV file: "+I.errors[0].message);return}const B=I.data;if(B.length<2){f("CSV file must contain at least a header row and one data row");return}const z=B[0],V=B.slice(1,6);i({headers:z,rows:V,totalRows:B.length-1});const U=v(z);l(U),t(2)},header:!1,skipEmptyLines:!0})},_=E=>{const I=E.target.files?.[0];I&&b(I)},w=E=>{E.preventDefault();const I=E.dataTransfer.files?.[0];I&&b(I)},S=E=>{E.preventDefault()},A=()=>{const E=g.filter(B=>B.required),I=Object.values(o);for(const B of E)if(!I.includes(B.key))return f(`Required field "${B.label}" must be mapped`),!1;return!0},L=async()=>{if(!(!n||!a||!A())){d(!0),f(null);try{s8.parse(n,{complete:async E=>{const I=E.data,B=I[0],z=I.slice(1);let V=0,U=0;const K=[];for(let $=0;$<z.length;$++){const W=z[$];try{if(W.every(X=>!X||X.trim()===""))continue;const te={};let J="",M="",G="";if(B.forEach((X,ie)=>{const re=o[X];if(re&&W[ie]){let fe=W[ie].trim();re==="name"?G=fe:re==="firstName"?(J=fe,te.firstName=fe):re==="lastName"?(M=fe,te.lastName=fe):te[re]=fe}}),G&&!J&&!M){const X=G.trim().split(" ");X.length>=2?(te.firstName=X[0],te.lastName=X.slice(1).join(" ")):(te.firstName=G,te.lastName="")}else(J||M)&&(te.firstName=J||"",te.lastName=M||"");if(!te.firstName||!te.email){K.push(`Row ${$+2}: Missing required fields (firstName or email)`),U++;continue}te.lastName||(te.lastName=""),te.status="active";try{await SK("POST","/api/crm/clients",te),V++}catch(X){K.push(`Row ${$+2}: ${X.message||"Failed to create client"}`),U++}}catch(te){K.push(`Row ${$+2}: ${te.message}`),U++}}h({successful:V,failed:U,errors:K}),t(3)},header:!1,skipEmptyLines:!0})}catch(E){f("Import failed: "+E.message)}finally{d(!1)}}},P=()=>{t(1),s(null),i(null),l({}),h(null),f(null),x.current&&(x.current.value="")},k=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",onDrop:w,onDragOver:S,children:[r.jsx(Ko,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Upload your CSV file"}),r.jsx("p",{className:"text-gray-500",children:"Drag and drop your file here, or click to browse"})]}),r.jsx("input",{ref:x,type:"file",accept:".csv",onChange:_,className:"hidden"}),r.jsx("button",{onClick:()=>x.current?.click(),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Choose File"})]}),n&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hn,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800 font-medium",children:n.name}),r.jsx("button",{onClick:()=>s(null),className:"ml-auto text-green-600 hover:text-green-800",children:r.jsx(gn,{size:16})})]})})]}),C=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"CSV Preview"}),r.jsxs("p",{className:"text-blue-700 text-sm mb-3",children:["Found ",a?.totalRows," rows in your CSV file. Preview of first few rows:"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-xs",children:[r.jsx("thead",{children:r.jsx("tr",{className:"bg-blue-100",children:a?.headers.map((E,I)=>r.jsx("th",{className:"px-2 py-1 text-left font-medium text-blue-900 border-r border-blue-200",children:E},I))})}),r.jsx("tbody",{children:a?.rows.slice(0,3).map((E,I)=>r.jsx("tr",{className:"border-b border-blue-200",children:E.map((B,z)=>r.jsx("td",{className:"px-2 py-1 text-blue-800 border-r border-blue-200 max-w-[100px] truncate",children:B},z))},I))})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Map CSV Columns to Client Fields"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select which client field each CSV column should map to. Required fields are marked with *."}),r.jsx("div",{className:"space-y-3",children:a?.headers.map(E=>r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-1",children:r.jsx("label",{className:"font-medium text-gray-900",children:E})}),r.jsx("div",{className:"flex-1",children:r.jsxs("select",{value:o[E]||"",onChange:I=>l(B=>({...B,[E]:I.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"-- Skip this column --"}),g.map(I=>r.jsxs("option",{value:I.key,children:[I.label," ",I.required?"*":""]},I.key))]})})]},E))}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[r.jsx("button",{onClick:()=>t(1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Back"}),r.jsx("button",{onClick:L,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center disabled:opacity-50",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin h-4 w-4 mr-2"}),"Importing..."]}):r.jsxs(r.Fragment,{children:["Import Clients",r.jsx(Kf,{className:"h-4 w-4 ml-2"})]})})]})]})]}),R=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(sa,{className:"h-8 w-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Import Complete"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:u?.successful||0}),r.jsx("div",{className:"text-green-800",children:"Successfully Imported"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:u?.failed||0}),r.jsx("div",{className:"text-red-800",children:"Failed"})]})]}),u?.errors&&u.errors.length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Import Errors"}),r.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[u.errors.slice(0,10).map((E,I)=>r.jsx("div",{className:"text-yellow-800 text-sm py-1",children:E},I)),u.errors.length>10&&r.jsxs("div",{className:"text-yellow-600 text-sm italic",children:["... and ",u.errors.length-10," more errors"]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Import Another File"})})]});return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3].map(E=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=E?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>E?r.jsx(sa,{size:16}):E}),E<3&&r.jsx("div",{className:`w-12 h-0.5 ${e>E?"bg-blue-600":"bg-gray-200"}`})]},E))}),r.jsx("div",{className:"flex justify-center mt-2",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[e===1&&"Upload CSV File",e===2&&"Map Columns",e===3&&"Import Results"]})})]}),p&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:p})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e===1&&k(),e===2&&C(),e===3&&R()]})]})},C3e=()=>r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs(Vt,{to:"/admin/clients",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[r.jsx(Pn,{size:16,className:"mr-1"})," Back to clients"]}),r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Clients"}),r.jsx("p",{className:"text-gray-600",children:"Bulk import clients from a CSV file"})]})}),"        ",r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsx(A3e,{})})]})});async function P3e(){try{const{data:{session:e},error:t}=await Fs.auth.getSession();if(t)throw new Error(`Authentication error: ${t.message}`);if(!e?.access_token)throw new Error("Authentication required");const{data:n,error:s}=await Fs.from("import_logs").select("*, imported_by(email)").order("created_at",{ascending:!1});if(s)throw s;return n||[]}catch(e){throw e}}const E3e=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,i]=j.useState(null);j.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const c=await P3e();t(c)}catch{i("Failed to load import logs. Please try again.")}finally{s(!1)}},l=c=>{const d=new Date(c);return d.toLocaleDateString()+" "+d.toLocaleTimeString()};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Logs"}),r.jsx("p",{className:"text-gray-600",children:"View history of client imports"})]}),r.jsxs(Vt,{to:"/admin/clients/import",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Hn,{size:20,className:"mr-2"}),"New Import"]})]}),n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):a?r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}):e.length>0?r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imported By"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processed"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(c=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hn,{size:16,className:"text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.filename})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(dn,{size:16,className:"mr-2"}),l(c.created_at)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Ho,{size:16,className:"mr-2"}),c.imported_by.email]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.rows_processed}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[r.jsx(jr,{size:16,className:"mr-2"}),c.rows_success]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.rows_error>0?r.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[r.jsx(MM,{size:16,className:"mr-2"}),c.rows_error]}):r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(jr,{size:16,className:"mr-2"}),"0"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.error_file_url&&r.jsx("a",{href:c.error_file_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-900",title:"Download Error File",children:r.jsx(Vn,{size:16})})})]},c.id))})]})})}):r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[r.jsx(Gf,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Import Logs Found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't imported any client data yet."}),r.jsx(Vt,{to:"/admin/clients/import",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Import Clients"})]})]})})},T3e=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[a,i]=j.useState(!0),[o,l]=j.useState("lifetime_value"),[c,d]=j.useState("revenue");j.useEffect(()=>{u(),h()},[o,c]);const u=async()=>{try{const g=await fetch(`/api/crm/top-clients?orderBy=${o}&limit=20`);if(g.ok){const v=await g.json();t(v||[])}}catch(g){console.error("Failed to fetch top clients:",g)}},h=async()=>{try{const g=await fetch(`/api/crm/client-segments?segmentBy=${c}`);if(g.ok){const v=await g.json();s(v.segments||[])}}catch(g){console.error("Failed to fetch client segments:",g)}finally{i(!1)}},p=g=>new Intl.NumberFormat("de-AT",{style:"currency",currency:"EUR"}).format(isFinite(g)&&g||0),f=g=>g?new Date(g).toLocaleDateString("de-AT"):"Never",x=g=>g>=1e3?{tier:"VIP",color:"bg-gold-500 text-white",icon:i1}:g>=500?{tier:"Premium",color:"bg-purple-500 text-white",icon:_s}:g>=200?{tier:"Standard",color:"bg-blue-500 text-white",icon:ln}:{tier:"Basic",color:"bg-gray-500 text-white",icon:ln};return a?r.jsx(Nr,{children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{children:"Loading client data..."})})}):r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[r.jsx(i1,{className:"h-8 w-8 text-yellow-500"}),"High-Value Clients"]})}),r.jsxs(K2,{defaultValue:"top-clients",className:"w-full",children:[r.jsxs(Y2,{className:"grid w-full grid-cols-3",children:[r.jsx(Ga,{value:"top-clients",children:"Top Clients"}),r.jsx(Ga,{value:"segments",children:"Client Segments"}),r.jsx(Ga,{value:"analytics",children:"Analytics"})]}),r.jsxs(Ka,{value:"top-clients",className:"space-y-4",children:[r.jsx("div",{className:"flex gap-2 mb-4",children:r.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"p-2 border rounded",children:[r.jsx("option",{value:"lifetime_value",children:"By Lifetime Value"}),r.jsx("option",{value:"total_revenue",children:"By Total Revenue"}),r.jsx("option",{value:"session_count",children:"By Session Count"}),r.jsx("option",{value:"recent_activity",children:"By Recent Activity"})]})}),r.jsx("div",{className:"grid gap-4",children:e.map((g,v)=>{const b=Number(g.total_revenue||0),_=Number(g.invoice_count||0),w=Number(g.session_count||0),S=Number(g.average_invoice||(_?b/_:0)),A=x(b),L=A.icon;return r.jsx(Rt,{children:r.jsxs(Jt,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-2xl font-bold text-gray-400",children:["#",v+1]}),r.jsxs("div",{className:`px-2 py-1 rounded-full text-xs ${A.color} flex items-center gap-1`,children:[r.jsx(L,{className:"h-3 w-3"}),A.tier]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold",children:[g.first_name," ",g.last_name]}),r.jsx("p",{className:"text-gray-600",children:g.email}),g.city&&r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(pm,{className:"h-3 w-3"}),g.city]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:p(b)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Lifetime Value"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold",children:_}),r.jsx("div",{className:"text-xs text-gray-500",children:"Invoices"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold",children:w}),r.jsx("div",{className:"text-xs text-gray-500",children:"Sessions"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold",children:p(S)}),r.jsx("div",{className:"text-xs text-gray-500",children:"Avg Invoice"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold",children:f(g.last_invoice_date)}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last Invoice"})]})]})]})},g.id)})})]}),r.jsxs(Ka,{value:"segments",className:"space-y-4",children:[r.jsx("div",{className:"flex gap-2 mb-4",children:r.jsxs("select",{value:c,onChange:g=>d(g.target.value),className:"p-2 border rounded",children:[r.jsx("option",{value:"revenue",children:"By Revenue"}),r.jsx("option",{value:"frequency",children:"By Session Frequency"}),r.jsx("option",{value:"geography",children:"By Location"})]})}),r.jsx("div",{className:"grid gap-4",children:n.map((g,v)=>r.jsx(Rt,{children:r.jsx(Jt,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:g.segment}),r.jsxs("p",{className:"text-sm text-gray-600",children:[g.client_count," clients"]})]}),r.jsxs("div",{className:"text-right",children:[g.segment_revenue&&r.jsx("div",{className:"text-xl font-bold text-green-600",children:p(g.segment_revenue)}),g.total_sessions&&r.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[g.total_sessions," sessions"]}),g.avg_revenue_per_client&&r.jsxs("div",{className:"text-sm text-gray-500",children:["Avg: ",p(g.avg_revenue_per_client),"/client"]})]})]})})},v))})]}),r.jsx(Ka,{value:"analytics",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(rS,{className:"h-5 w-5"}),"Revenue Concentration"]})}),r.jsx(Jt,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:(()=>{if(e.length===0)return"0%";const g=e.slice(0,5).reduce((_,w)=>_+Number(w.total_revenue||0),0),v=e.reduce((_,w)=>_+Number(w.total_revenue||0),0);return`${v>0?Math.round(g/v*100):0}%`})()}),r.jsx("p",{className:"text-sm text-gray-600",children:"Top 5 clients revenue share"})]})})]}),r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"h-5 w-5"}),"Client Retention"]})}),r.jsx(Jt,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:e.filter(g=>g.session_count>1).length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Repeat clients"})]})})]}),r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(_s,{className:"h-5 w-5"}),"Average Value"]})}),r.jsx(Jt,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:e.length>0&&p(e.reduce((g,v)=>g+v.total_revenue,0)/e.length)}),r.jsx("p",{className:"text-sm text-gray-600",children:"Per top client"})]})})]})]})})]})]})})},O3e=()=>{const e=un(),[t,n]=j.useState([]),[s,a]=j.useState([]),[i,o]=j.useState(!0),[l,c]=j.useState(!1),[d,u]=j.useState(""),[h,p]=j.useState({title:"",description:"",clientId:"",isPublic:!0,isPasswordProtected:!1,password:""});j.useEffect(()=>{f(),x()},[d]);const f=async()=>{try{o(!0);const w=new URLSearchParams;d&&w.append("clientId",d);const S=await fetch(`/api/galleries?${w.toString()}`);if(S.ok){const A=await S.json();n(A)}}catch(w){console.error("Failed to fetch galleries:",w)}finally{o(!1)}},x=async()=>{try{const w=await fetch("/api/crm/clients");if(w.ok){const S=await w.json();a(S)}}catch(w){console.error("Failed to fetch clients:",w)}},g=async()=>{try{const w=await fetch("/api/galleries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(w.ok){const S=await w.json();n([S,...t]),c(!1),p({title:"",description:"",clientId:"",isPublic:!0,isPasswordProtected:!1,password:""}),S?.id&&e(`/admin/galleries/${S.id}`)}}catch(w){console.error("Failed to create gallery:",w)}},v=async(w,S)=>{if(confirm(`Are you sure you want to delete "${S}"? This will also delete all images in this gallery.`))try{(await fetch(`/api/galleries/${w}`,{method:"DELETE"})).ok&&n(t.filter(L=>L.id!==w))}catch(A){console.error("Failed to delete gallery:",A)}},b=w=>new Date(w).toLocaleDateString("de-AT",{year:"numeric",month:"short",day:"numeric"}),_=w=>w.is_password_protected?r.jsxs(ra,{variant:"secondary",children:[r.jsx(Zf,{className:"w-3 h-3 mr-1"}),"Protected"]}):w.is_public?r.jsxs(ra,{variant:"default",children:[r.jsx(Mi,{className:"w-3 h-3 mr-1"}),"Public"]}):r.jsxs(ra,{variant:"outline",children:[r.jsx(Mn,{className:"w-3 h-3 mr-1"}),"Private"]});return i?r.jsx(Nr,{children:r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-600",children:"Loading galleries..."})})})}):r.jsx(Nr,{children:r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Client Galleries"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage photo galleries for client delivery"})]}),r.jsxs(H_,{open:l,onOpenChange:c,children:[r.jsx(I4e,{asChild:!0,children:r.jsxs($t,{children:[r.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Create Gallery"]})}),r.jsxs(xw,{className:"max-w-md",children:[r.jsx(yw,{children:r.jsx(vw,{children:"Create New Gallery"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gallery Title"}),r.jsx(gs,{value:h.title,onChange:w=>p({...h,title:w.target.value}),placeholder:"e.g., Smith Family Session - December 2024"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client"}),r.jsxs("select",{value:h.clientId,onChange:w=>p({...h,clientId:w.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Select a client"}),s.map(w=>r.jsxs("option",{value:w.id,children:[w.first_name," ",w.last_name," (",w.email,")"]},w.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx(bw,{value:h.description,onChange:w=>p({...h,description:w.target.value}),placeholder:"Optional description or notes about this gallery",rows:3})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium",children:"Public Gallery"}),r.jsx(Sy,{checked:h.isPublic,onCheckedChange:w=>p({...h,isPublic:w})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium",children:"Password Protected"}),r.jsx(Sy,{checked:h.isPasswordProtected,onCheckedChange:w=>p({...h,isPasswordProtected:w})})]}),h.isPasswordProtected&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),r.jsx(gs,{type:"password",value:h.password,onChange:w=>p({...h,password:w.target.value}),placeholder:"Enter gallery password"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx($t,{onClick:g,className:"flex-1",children:"Create Gallery"}),r.jsx($t,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex gap-4 items-center",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filter by Client"}),r.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"All Clients"}),s.map(w=>r.jsxs("option",{value:w.id,children:[w.first_name," ",w.last_name]},w.id))]})]})})}),t.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>r.jsxs(Rt,{className:"overflow-hidden",children:[r.jsx(Or,{className:"pb-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(zr,{className:"text-lg line-clamp-2",children:w.title}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[w.client_name," • ",b(w.created_at)]})]}),_(w)]})}),r.jsxs(Jt,{className:"pt-0",children:[w.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:w.description}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{className:"w-4 h-4 mr-1"}),w.image_count," images"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ln,{className:"w-4 h-4 mr-1"}),w.client_name]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($t,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>e(`/admin/galleries/${w.id}/edit`),children:[r.jsx(Aa,{className:"w-3 h-3 mr-1"}),"Edit"]}),r.jsxs($t,{size:"sm",variant:"outline",onClick:()=>window.open(`/gallery/${w.slug}`,"_blank"),children:[r.jsx(Yf,{className:"w-3 h-3 mr-1"}),"View"]}),r.jsx($t,{size:"sm",variant:"outline",onClick:()=>v(w.id,w.title),className:"text-red-600 hover:text-red-700",children:r.jsx(Ts,{className:"w-3 h-3"})})]})]})]},w.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ka,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No galleries found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:d?"No galleries found for the selected client.":"Create your first client gallery to organize and deliver photos."}),r.jsxs($t,{onClick:()=>c(!0),children:[r.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Create First Gallery"]})]})]})})};async function d4(e){try{const t=await fetch(`/api/galleries/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to fetch gallery")}return await t.json()}catch(t){throw t}}async function L3e(e){try{const t=await fetch(`/api/galleries/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to fetch gallery")}return await t.json()}catch(t){throw t}}async function I3e(e){try{let t=null;if(e.coverImage)try{const o=new FileReader;t=await new Promise((c,d)=>{o.onload=()=>c(o.result),o.onerror=d,o.readAsDataURL(e.coverImage)})}catch{}const n=e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").substring(0,50),s={title:e.title,description:e.description||null,slug:n,coverImage:t,client_id:e.clientId,is_public:e.isPublic,is_password_protected:e.isPasswordProtected,password:e.password},a=await fetch("/api/galleries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const o=await a.text();throw new Error(`HTTP error! status: ${a.status}, message: ${o}`)}return await a.json()}catch(t){throw t}}async function M3e(e,t){try{const n=await fetch(`/api/galleries/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to update gallery")}return await n.json()}catch(n){throw n}}async function D3e(e){try{const t=await fetch(`/api/galleries/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const s=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${s}`)}const n=await t.json()}catch(t){throw t}}async function R3e(e,t){try{const n=new FormData;n.append("galleryId",e),t.forEach(a=>{n.append("images",a)});const s=await fetch(`/api/galleries/${e}/upload`,{method:"POST",body:n});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to upload images")}return await s.json()}catch(n){throw n}}async function e5(e){try{const t=await fetch(`/api/galleries/${e}/images`);if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to fetch gallery images")}return await t.json()}catch(t){throw t}}async function F3e(e){try{const t=await fetch(`/api/galleries/${e}/visitors`);if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to fetch gallery visitors")}return await t.json()}catch(t){throw t}}async function $3e(e){try{const t=await fetch(`/api/galleries/${e}/access-logs`);if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to fetch gallery access logs")}return await t.json()}catch(t){throw t}}async function B3e(e){try{const t=await fetch(`/api/galleries/images/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to delete image")}}catch(t){throw t}}async function z3e(e,t){try{const n=await fetch(`/api/galleries/${e}/cover-image`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:t})});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to set cover image")}}catch(n){throw n}}async function U3e(e){try{const t=await fetch(`/api/galleries/${e}/stats`);if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to fetch gallery stats")}return await t.json()}catch(t){throw t}}async function q3e(e,t){try{const n=await fetch(`/api/galleries/${e}/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const s=await n.json();throw new Error(s.error||"Authentication failed")}return await n.json()}catch(n){throw n}}async function W3e(e,t){try{const n=await fetch(`/api/galleries/${e}/images`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to fetch gallery images")}return await n.json()}catch(n){throw n}}async function V3e(e,t){try{const n=await fetch(`/api/galleries/images/${e}/favorite`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to toggle favorite status")}}catch(n){throw n}}async function H3e(e){const t=await fetch("/api/galleries/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gallery_id:e.galleryId,slug:e.slug,to:e.to,message:e.message})}),n=await t.json();if(!t.ok)throw new Error(n?.error||"Failed to send email");return n}async function G3e(e){const t=await fetch("/api/galleries/send-whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gallery_id:e.galleryId,slug:e.slug,to_phone:e.toPhone})}),n=await t.json();if(!t.ok)throw new Error(n?.error||"Failed to send WhatsApp");return n}async function K3e(e){const t=await fetch("/api/galleries/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gallery_id:e.galleryId,slug:e.slug,to_phone:e.toPhone})}),n=await t.json();if(!t.ok)throw new Error(n?.error||"Failed to send SMS");return n}async function Y3e(e){try{const t=await fetch("/api/galleries");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();return e?n.slice(0,e):n}catch(t){throw t}}const hB=({gallery:e,isEditing:t=!1})=>{const n=un(),[s,a]=j.useState("details"),[i,o]=j.useState({title:"",description:"",downloadEnabled:!0,status:"ACTIVE",expiresAt:""}),[l,c]=j.useState(""),[d,u]=j.useState(!1),[h,p]=j.useState(null),[f,x]=j.useState([]),[g,v]=j.useState([]),[b,_]=j.useState(!1),[w,S]=j.useState(null),[A,L]=j.useState(!1),[P,k]=j.useState(0),[C,R]=j.useState(null),[E,I]=j.useState(""),B=[{id:"details",label:"Details",icon:Hn,description:"Gallery title and description"},{id:"upload",label:"Upload",icon:Ko,description:"Add images to gallery"},{id:"settings",label:"Settings",icon:aa,description:"Access and sharing options"},{id:"preview",label:"Preview",icon:Mn,description:"Review and publish"}];j.useEffect(()=>{e&&t&&(o({title:e.title||"",description:"",downloadEnabled:e.downloadEnabled,status:"ACTIVE",expiresAt:""}),u(!!e.passwordHash),I(e.coverImage||""),e.id&&z(e.id))},[e,t]);const z=async Z=>{try{const{data:Q,error:pe}=await Fs.from("gallery_images").select("*").eq("gallery_id",Z).order("order_index");if(pe)throw pe;x(Q||[])}catch{}},V=(Z,Q)=>{o(pe=>({...pe,[Z]:Q})),S(null)},U=Z=>B.findIndex(Q=>Q.id===Z),K=Z=>{switch(Z){case"details":return!!i.title.trim();case"upload":return g.length>0||f.length>0;case"settings":return!0;case"preview":return!0;default:return!1}},$=()=>{const Z=U(s);Z<B.length-1&&K(s)&&a(B[Z+1].id)},W=()=>{const Z=U(s);Z>0&&a(B[Z-1].id)},te=async Z=>{try{L(!0);const Q=Z.name.split(".").pop(),pe=`galleries/covers/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${Q}`,{error:ge}=await Fs.storage.from("images").upload(pe,Z);if(ge)throw ge;const{data:{publicUrl:Ae}}=Fs.storage.from("images").getPublicUrl(pe);I(Ae),p(Z)}catch{S("Failed to upload cover image. Please try again.")}finally{L(!1)}},J=async Z=>{try{L(!0),k(0);const Q=Z.map(async(ge,Ae)=>{const Ne=ge.name.split(".").pop(),Y=`galleries/images/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${Ne}`,{error:ke}=await Fs.storage.from("images").upload(Y,ge);if(ke)throw ke;const{data:{publicUrl:We}}=Fs.storage.from("images").getPublicUrl(Y);return k((Ae+1)/Z.length*100),{original_url:We,display_url:We,thumb_url:We,filename:ge.name,size_bytes:ge.size,content_type:ge.type,order_index:f.length+Ae}}),pe=await Promise.all(Q);x(ge=>[...ge,...pe]),v([])}catch{S("Failed to upload images. Please try again.")}finally{L(!1),k(0)}},M=async()=>{if(!i.title.trim()){S("Gallery title is required");return}try{_(!0),S(null);const{data:{user:Z}}=await Fs.auth.getUser();if(!Z)throw new Error("You must be logged in to create or edit galleries");const Q={title:i.title,password:d?l:void 0,downloadEnabled:i.downloadEnabled,coverImage:h};let pe;if(t&&e?.id?(pe=(await M3e(e.id,Q)).id,R("Gallery updated successfully!")):(pe=(await I3e(Q)).id,R("Gallery created successfully!")),g.length>0){await J(g);const ge=f.map(Ne=>({...Ne,gallery_id:pe})),{error:Ae}=await Fs.from("gallery_images").insert(ge);if(Ae)throw Ae}setTimeout(()=>{n("/admin/galleries")},1500)}catch(Z){let Q="An error occurred while saving the gallery";Z&&typeof Z=="object"&&("message"in Z?Q=Z.message:"error"in Z?Q=Z.error:"details"in Z&&(Q=Z.details)),S(Q)}finally{_(!1)}},G=()=>r.jsx("div",{className:"flex items-center justify-between mb-8",children:B.map((Z,Q)=>{const pe=Z.id===s,ge=K(Z.id)&&U(s)>Q,Ae=Z.icon;return r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors
                ${pe?"bg-purple-600 border-purple-600 text-white":ge?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
              `,children:ge?r.jsx(sa,{size:20}):r.jsx(Ae,{size:20})}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("div",{className:`text-sm font-medium ${pe?"text-purple-600":"text-gray-600"}`,children:Z.label}),r.jsx("div",{className:"text-xs text-gray-500 max-w-24",children:Z.description})]})]}),Q<B.length-1&&r.jsx("div",{className:`w-16 h-0.5 mx-4 ${ge?"bg-green-600":"bg-gray-300"}`})]},Z.id)})}),X=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gallery Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:i.title,onChange:Z=>V("title",Z.target.value),className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter gallery title..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",r.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),r.jsx("textarea",{value:i.description||"",onChange:Z=>V("description",Z.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe this gallery..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cover Image ",r.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),"        ",E?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:E,alt:"Cover preview",className:"w-full h-64 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>I(""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:r.jsx(gn,{size:16})})]}):r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ka,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium",children:"Upload a cover image"}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Z=>{const Q=Z.target.files?.[0];Q&&te(Q)}})]})]})})]})]}),ie=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Images"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[r.jsx(Ko,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium text-lg",children:"Choose images to upload"}),r.jsx("span",{className:"block text-gray-500 mt-1",children:"or drag and drop them here"}),r.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:Z=>{const Q=Array.from(Z.target.files||[]);v(pe=>[...pe,...Q])}})]})]}),A&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Uploading images..."}),r.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(P),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${P}%`}})})]}),g.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Selected Images (",g.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:g.map((Z,Q)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:URL.createObjectURL(Z),alt:`Preview ${Q}`,className:"w-full h-full object-cover"})}),r.jsx("button",{type:"button",onClick:()=>v(pe=>pe.filter((ge,Ae)=>Ae!==Q)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(gn,{size:12})}),r.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-50 text-white text-xs p-1 rounded truncate",children:Z.name})]},Q))})]}),f.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Uploaded Images (",f.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:f.map((Z,Q)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:Z.thumb_url||Z.display_url,alt:Z.filename,className:"w-full h-full object-cover"})}),r.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-50 text-white text-xs p-1 rounded truncate",children:Z.filename})]},Q))})]})]})}),re=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Settings"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password Protection"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Require a password to view this gallery"})]}),r.jsx("button",{type:"button",onClick:()=>u(!d),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${d?"bg-purple-600":"bg-gray-200"}`,children:r.jsx("span",{className:`${d?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]}),d&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Password"}),r.jsx("input",{type:"password",value:l,onChange:Z=>c(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter password"})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Download Enabled"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow visitors to download images"})]}),"            ",r.jsx("button",{type:"button",onClick:()=>V("downloadEnabled",!i.downloadEnabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.downloadEnabled?"bg-purple-600":"bg-gray-200"}`,children:r.jsx("span",{className:`${i.downloadEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expiration Date ",r.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),r.jsx("input",{type:"datetime-local",value:i.expiresAt||"",onChange:Z=>V("expiresAt",Z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for no expiration"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Status"}),r.jsxs("select",{value:i.status,onChange:Z=>V("status",Z.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"SHARED",children:"Shared"}),r.jsx("option",{value:"ARCHIVED",children:"Archived"})]})]})]})}),fe=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Preview"}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"mb-6",children:["            ",E&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:E,alt:"Cover",className:"w-full h-48 object-cover rounded-lg"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.title}),i.description&&r.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{size:16,className:"mr-1"}),g.length+f.length," images"]}),d&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zf,{size:16,className:"mr-1"}),"Password protected"]}),"              ",r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vn,{size:16,className:"mr-1"}),i.downloadEnabled?"Downloads enabled":"View only"]}),i.expiresAt&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(dn,{size:16,className:"mr-1"}),"Expires ",new Date(i.expiresAt).toLocaleDateString()]})]})]}),(g.length>0||f.length>0)&&r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[f.slice(0,8).map((Z,Q)=>r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:Z.thumb_url||Z.display_url,alt:Z.filename,className:"w-full h-full object-cover"})},Q)),g.slice(0,8-f.length).map((Z,Q)=>r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:URL.createObjectURL(Z),alt:`Preview ${Q}`,className:"w-full h-full object-cover"})},`selected-${Q}`)),g.length+f.length>8&&r.jsx("div",{className:"aspect-square flex items-center justify-center bg-gray-100 rounded-lg",children:r.jsxs("span",{className:"text-gray-500",children:["+",g.length+f.length-8," more"]})})]})]})]})}),we=()=>{switch(s){case"details":return X();case"upload":return ie();case"settings":return re();case"preview":return fe();default:return X()}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[w&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-6",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:w})]}),C&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:C}),G(),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[we(),r.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[r.jsxs("button",{type:"button",onClick:W,disabled:U(s)===0,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Pn,{size:16,className:"mr-2"}),"Previous"]}),r.jsx("div",{className:"flex space-x-3",children:U(s)===B.length-1?r.jsxs(r.Fragment,{children:["                ",r.jsxs("button",{type:"button",onClick:M,disabled:b||!K(s),className:"flex items-center px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:[b?r.jsx(Mr,{className:"animate-spin mr-2 h-4 w-4"}):r.jsx(Go,{className:"mr-2 h-4 w-4"}),"Save Draft"]}),r.jsxs("button",{type:"button",onClick:M,disabled:b||!K(s),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[b?r.jsx(Mr,{className:"animate-spin mr-2 h-4 w-4"}):r.jsx(kp,{className:"mr-2 h-4 w-4"}),"Share Gallery"]})]}):r.jsxs("button",{type:"button",onClick:$,disabled:!K(s),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:["Next",r.jsx(Kf,{size:16,className:"ml-2"})]})})]})]})]})},Z3e=()=>r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs(Vt,{to:"/admin/galleries",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[r.jsx(Pn,{size:16,className:"mr-1"})," Back to galleries"]}),r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create New Gallery"}),r.jsx("p",{className:"text-gray-600",children:"Create a client photo gallery with our advanced editor"})]})}),r.jsx(hB,{})]})}),X3e=()=>{const{id:e}=Ri(),[t,n]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState(null);j.useEffect(()=>{e&&l(e)},[e]);const l=async c=>{try{a(!0);const d=await d4(c);n(d)}catch{o("Failed to load gallery. Please try again.")}finally{a(!1)}};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs(Vt,{to:"/admin/galleries",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[r.jsx(Pn,{size:16,className:"mr-1"}),r.jsx("span",{children:"Back to Galleries"})]}),r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Edit Gallery"}),r.jsx("p",{className:"text-gray-600",children:"Update gallery settings"})]}),"        ",r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):i?r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:i})]}):t?r.jsx(hB,{gallery:t,isEditing:!0}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-500",children:"Gallery not found."}),r.jsx(Vt,{to:"/admin/galleries",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:"Return to galleries"})]})})]})})};let Sb;const J3e=new Uint8Array(16);function Q3e(){if(!Sb&&(Sb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sb(J3e)}const ja=[];for(let e=0;e<256;++e)ja.push((e+256).toString(16).slice(1));function eAe(e,t=0){return ja[e[t+0]]+ja[e[t+1]]+ja[e[t+2]]+ja[e[t+3]]+"-"+ja[e[t+4]]+ja[e[t+5]]+"-"+ja[e[t+6]]+ja[e[t+7]]+"-"+ja[e[t+8]]+ja[e[t+9]]+"-"+ja[e[t+10]]+ja[e[t+11]]+ja[e[t+12]]+ja[e[t+13]]+ja[e[t+14]]+ja[e[t+15]]}const tAe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),a8={randomUUID:tAe};function rAe(e,t,n){if(a8.randomUUID&&!t&&!e)return a8.randomUUID();e=e||{};const s=e.random||(e.rng||Q3e)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,eAe(s)}const nAe=({galleryId:e,onUploadComplete:t})=>{const[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState(0),[u,h]=j.useState(null),[p,f]=j.useState(""),[x,g]=j.useState(!1),v=j.useRef(null),[b,_]=j.useState({}),w=E=>{if(!E.target.files||E.target.files.length===0)return;const I=Array.from(E.target.files);k(I)},S=E=>{E.preventDefault(),E.stopPropagation()},A=E=>{E.preventDefault(),E.stopPropagation()},L=E=>{E.preventDefault(),E.stopPropagation()},P=E=>{if(E.preventDefault(),E.stopPropagation(),!E.dataTransfer.files||E.dataTransfer.files.length===0)return;const B=Array.from(E.dataTransfer.files).filter(z=>z.type.startsWith("image/"));if(B.length===0){h("Please upload image files only.");return}k(B)},k=E=>{const I=E.map(B=>{const z=rAe();return{file:B,id:z}});s(B=>[...B,...I.map(z=>z.file)]),I.forEach(({file:B,id:z})=>{const V=new FileReader;V.onloadend=()=>{i(U=>[...U,V.result]),_(U=>({...U,[z]:!1}))},V.readAsDataURL(B)})},C=E=>{a[E]&&a[E].startsWith("blob:")&&URL.revokeObjectURL(a[E]),s(I=>I.filter((B,z)=>z!==E)),i(I=>I.filter((B,z)=>z!==E))},R=async()=>{if(n.length===0){h("Please select at least one image to upload.");return}if(!e){h("Gallery ID is missing. Please save the gallery first.");return}if(!p.trim()){h("Please enter a folder name for organizing your images.");return}try{l(!0),h(null);const E=setInterval(()=>{d(I=>I>=95?(clearInterval(E),I):I+5)},500);await R3e(e,n,p.trim()),clearInterval(E),d(100),a.forEach(I=>{I.startsWith("blob:")&&URL.revokeObjectURL(I)}),s([]),i([]),f(""),g(!1),t(),setTimeout(()=>{d(0),l(!1)},1e3)}catch(E){h(E instanceof Error?E.message:"Failed to upload images. Please try again."),l(!1),d(0)}};return r.jsxs("div",{className:"space-y-6",children:[u&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:u})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center cursor-pointer hover:border-purple-500 transition-colors",onDragOver:S,onDragEnter:A,onDragLeave:L,onDrop:P,onClick:()=>v.current?.click(),children:[r.jsx("input",{type:"file",ref:v,className:"hidden",accept:"image/*",multiple:!0,onChange:w,disabled:o}),r.jsx(Ko,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Upload Images"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Drag and drop image files here, or click to browse"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Supported formats: JPG, PNG, GIF, WEBP"})]}),a.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Selected Images (",a.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:a.map((E,I)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:E,alt:`Preview ${I}`,className:"w-full h-full object-cover"})}),r.jsx("button",{type:"button",onClick:()=>C(I),disabled:o,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(gn,{size:14})}),r.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:n[I]?.name||"Image"})]},I))}),o&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700",children:[r.jsx("span",{children:"Uploading..."}),r.jsxs("span",{children:[c,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${c}%`}})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:R,disabled:o||a.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ko,{className:"-ml-1 mr-2 h-5 w-5"}),"Upload ",a.length," ",a.length===1?"Image":"Images"]})})})]})]})},fB=({images:e,galleryId:t,isAdmin:n=!1,isPublic:s=!1,authToken:a="",downloadEnabled:i=!0,onImageDeleted:o,onSetCover:l})=>{const[c,d]=j.useState(null),[u,h]=j.useState(!1),[p,f]=j.useState(!1),[x,g]=j.useState(0);j.useEffect(()=>{},[e]),j.useEffect(()=>{const k=C=>{u&&(C.key==="Escape"?b():C.key==="ArrowLeft"?_("prev"):C.key==="ArrowRight"&&_("next"))};return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[u]);const v=(k,C)=>{d(k),g(C),h(!0)},b=()=>{h(!1),d(null)},_=k=>{if(e.length<=1)return;let C;k==="next"?C=(x+1)%e.length:C=(x-1+e.length)%e.length,g(C),d(e[C])},w=async(k,C)=>{if(C&&C.stopPropagation(),!(!s||!a))try{f(!0),await V3e(k.id,a),k.isFavorite=!k.isFavorite,f(!1)}catch{f(!1)}},S=async(k,C)=>{if(C.stopPropagation(),!!i)try{const R=await fetch(k.displayUrl,{headers:a?{Authorization:`Bearer ${a}`}:{}});if(!R.ok)throw new Error("Failed to fetch image");const E=await R.blob(),I=window.URL.createObjectURL(E),B=document.createElement("a");B.href=I,B.download=k.filename,document.body.appendChild(B),B.click(),document.body.removeChild(B),window.URL.revokeObjectURL(I)}catch{const E=document.createElement("a");E.href=k.displayUrl,E.download=k.filename,E.target="_blank",document.body.appendChild(E),E.click(),document.body.removeChild(E)}},A=async(k,C)=>{if(C.stopPropagation(),!!n&&window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{f(!0),await B3e(k.id),f(!1),o&&o()}catch{f(!1)}},L=async(k,C)=>{if(C.stopPropagation(),!!n)try{f(!0),await z3e(t,k.id),f(!1),l&&l()}catch{f(!1)}},P=async(k,C)=>{if(C.stopPropagation(),!!n)try{if(f(!0),!(await fetch(`undefined/rest/v1/gallery_images?id=eq.${k.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined",apikey:void 0,Prefer:"return=minimal"},body:JSON.stringify({shared_to_togninja:!0})})).ok)throw new Error("Failed to update image status");k.sharedToTogninja=!0,f(!1),alert("Image shared to JpegWriter successfully!")}catch{f(!1),alert("Failed to share image to JpegWriter. Please try again.")}};return r.jsxs("div",{children:[e.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[r.jsx(ka,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Yet"}),r.jsx("p",{className:"text-gray-500",children:n?"Upload images to get started.":"This gallery is empty. Check back later."})]}):r.jsx("div",{className:"gallery-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((k,C)=>r.jsxs("div",{className:"gallery-item relative group cursor-pointer",onClick:()=>v(k,C),children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:k.thumbUrl,alt:k.filename,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"})}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity flex items-center justify-center opacity-0 group-hover:opacity-100",children:r.jsxs("div",{className:"flex space-x-2",children:[s&&r.jsx("button",{onClick:R=>w(k,R),className:`p-2 rounded-full ${k.isFavorite?"bg-red-500 text-white":"bg-white text-gray-800 hover:text-red-500"}`,disabled:p,children:r.jsx(Un,{size:16,className:k.isFavorite?"fill-current":""})}),i&&r.jsx("button",{onClick:R=>S(k,R),className:"p-2 rounded-full bg-white text-gray-800 hover:text-blue-500",disabled:p,children:r.jsx(Vn,{size:16})}),n&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:R=>L(k,R),className:"p-2 rounded-full bg-white text-gray-800 hover:text-purple-500",title:"Set as Cover Image",disabled:p,children:r.jsx(ka,{size:16})}),r.jsx("button",{onClick:R=>P(k,R),className:`p-2 rounded-full bg-white text-gray-800 ${k.sharedToTogninja?"text-green-500":"hover:text-green-500"}`,title:k.sharedToTogninja?"Shared to JpegWriter":"Share to JpegWriter",disabled:p||k.sharedToTogninja,children:r.jsx(kp,{size:16})}),r.jsx("button",{onClick:R=>A(k,R),className:"p-2 rounded-full bg-white text-gray-800 hover:text-red-500",title:"Delete Image",disabled:p,children:r.jsx(Ts,{size:16})})]})]})}),s&&k.isFavorite&&r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(Un,{size:16,className:"text-red-500 fill-current"})}),n&&k.sharedToTogninja&&r.jsx("div",{className:"absolute top-2 left-2",children:r.jsx(kp,{size:16,className:"text-green-500"})}),n&&r.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("p",{className:"text-xs text-white bg-black bg-opacity-50 p-1 rounded truncate",children:k.filename})})]},k.id))}),u&&c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center",onClick:b,children:r.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:k=>k.stopPropagation(),children:[r.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 z-20 bg-black bg-opacity-50 rounded-full p-2",onClick:b,title:"Close (ESC)",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("button",{className:"absolute top-4 left-4 text-white hover:text-gray-300 z-20 bg-black bg-opacity-50 rounded-full p-2 flex items-center space-x-2",onClick:b,title:"Back to Gallery",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),r.jsx("span",{className:"text-sm hidden sm:block",children:"Back to Gallery"})]}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",onClick:k=>{k.stopPropagation(),_("prev")},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",onClick:k=>{k.stopPropagation(),_("next")},children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsx("img",{src:c.displayUrl,alt:c.filename,className:"max-w-[95vw] max-h-[90vh] mx-auto object-contain"}),r.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[s&&r.jsx("button",{onClick:k=>{k.stopPropagation(),w(c)},className:`p-2 rounded-full ${c.isFavorite?"bg-red-500 text-white":"bg-white text-gray-800 hover:text-red-500"}`,disabled:p,children:r.jsx(Un,{size:20,className:c.isFavorite?"fill-current":""})}),i&&r.jsx("button",{onClick:k=>S(c,k),className:"p-2 rounded-full bg-white text-gray-800 hover:text-blue-500",disabled:p,children:r.jsx(Vn,{size:20})}),n&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:k=>L(c,k),className:"p-2 rounded-full bg-white text-gray-800 hover:text-purple-500",title:"Set as Cover Image",disabled:p,children:r.jsx(ka,{size:20})}),r.jsx("button",{onClick:k=>P(c,k),className:`p-2 rounded-full bg-white text-gray-800 ${c.sharedToTogninja?"text-green-500":"hover:text-green-500"}`,title:c.sharedToTogninja?"Shared to JpegWriter":"Share to JpegWriter",disabled:p||c.sharedToTogninja,children:r.jsx(kp,{size:20})}),r.jsx("button",{onClick:k=>A(c,k),className:"p-2 rounded-full bg-white text-gray-800 hover:text-red-500",title:"Delete Image",disabled:p,children:r.jsx(Ts,{size:20})})]})]}),r.jsx("div",{className:"absolute bottom-16 left-0 right-0 text-center",children:r.jsx("p",{className:"text-sm text-white bg-black bg-opacity-50 inline-block px-2 py-1 rounded",children:c.filename})})]})})]})},sAe=({stats:e})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ln,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Visitors"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.uniqueVisitors})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Mn,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Views"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalViews})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx(Un,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Favorites"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalFavorites})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Vn,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Downloads"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalDownloads})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Over Time"}),e.dailyStats.length>0?r.jsx("div",{className:"h-64",children:r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"Chart would be displayed here"})})}):r.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-gray-500",children:"No activity data available yet"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Most Popular Images"}),e.topImages.length>0?r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.topImages.map((t,n)=>r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:r.jsx("img",{src:t.thumbUrl,alt:`Popular image ${n+1}`,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Mn,{size:12,className:"mr-1"})," ",t.views]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Un,{size:12,className:"mr-1"})," ",t.favorites]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Vn,{size:12,className:"mr-1"})," ",t.downloads]})]})]},t.imageId))}):r.jsx("div",{className:"h-40 flex items-center justify-center bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-gray-500",children:"No image popularity data available yet"})})]})]}),aAe=()=>{const{id:e}=Ri(),t=un(),[n,s]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(null),[c,d]=j.useState([]),[u,h]=j.useState([]),[p,f]=j.useState("images"),[x,g]=j.useState(!0),[v,b]=j.useState(null),[_,w]=j.useState(!1),[S,A]=j.useState(""),[L,P]=j.useState(""),[k,C]=j.useState(""),[R,E]=j.useState(!1),I=j.useRef(null),B=j.useRef(null),z=j.useRef(null),V=j.useRef(null);j.useEffect(()=>{e&&U(e)},[e]);const U=async re=>{try{g(!0);const fe=await d4(re);s(fe);const we=await e5(re);i(we);try{const Z=await U3e(re);l(Z)}catch{}try{const Z=await F3e(re);d(Z)}catch{}try{const Z=await $3e(re);h(Z)}catch{}}catch{b("Failed to load gallery. Please try again.")}finally{g(!1)}},K=re=>{f(re),re==="images"&&I.current?I.current.scrollIntoView({behavior:"smooth",block:"nearest"}):re==="upload"&&B.current?B.current.scrollIntoView({behavior:"smooth",block:"nearest"}):re==="stats"&&z.current?z.current.scrollIntoView({behavior:"smooth",block:"nearest"}):re==="visitors"&&V.current&&V.current.scrollIntoView({behavior:"smooth",block:"nearest"})},$=()=>{e&&e5(e).then(re=>{i(re),f("images")}).catch(re=>{})},W=()=>{e&&e5(e).then(re=>{i(re)}).catch(re=>{})},te=()=>{e&&d4(e).then(re=>{s(re)}).catch(re=>{})},J=async()=>{if(n&&window.confirm(`Are you sure you want to delete the gallery "${n.title}"? This action cannot be undone and will delete all images.`))try{g(!0),await D3e(n.id),t("/admin/galleries")}catch{b("Failed to delete gallery. Please try again."),g(!1)}},M=()=>w(!0),G=async()=>{if(!(!n||!S))try{E(!0);const re=await H3e({galleryId:n.id,to:S,message:k});alert(`Email sent. Link: ${re.link}`),w(!1),A(""),C("")}catch(re){alert(re?.message||"Failed to send email")}finally{E(!1)}},X=async()=>{if(n)try{E(!0);const re=await G3e({galleryId:n.id,toPhone:L});re.sent?alert("WhatsApp sent."):re.share?window.open(re.share,"_blank"):alert(`Link: ${re.link}`),w(!1),P("")}catch(re){alert(re?.message||"Failed to send WhatsApp")}finally{E(!1)}},ie=async()=>{if(!(!n||!L))try{E(!0);const re=await K3e({galleryId:n.id,toPhone:L});alert(re.sent?"SMS sent.":"SMS provider not configured. Link copied."),w(!1),P("")}catch(re){alert(re?.message||"Failed to send SMS")}finally{E(!1)}};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs(Vt,{to:"/admin/galleries",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[r.jsx(Pn,{size:16,className:"mr-1"}),r.jsx("span",{children:"Back to Galleries"})]}),x?r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Loading gallery..."}):n?r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-2",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:n.title}),r.jsxs("p",{className:"text-gray-600",children:[a.length," ",a.length===1?"image":"images"," • Created ",new Date(n.createdAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-2",children:[r.jsxs("button",{onClick:M,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[r.jsx(kp,{size:16,className:"mr-2"}),"Share"]}),r.jsxs(Vt,{to:`/admin/galleries/${n.id}/edit`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[r.jsx(Aa,{size:16,className:"mr-2"}),"Edit"]}),r.jsxs("button",{onClick:J,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[r.jsx(Ts,{size:16,className:"mr-2"}),"Delete"]})]})]}):r.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Gallery not found"})]}),v&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:v})]}),x?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{ref:I,onClick:()=>K("images"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="images"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Images (",a.length,")"]}),r.jsxs("button",{ref:B,onClick:()=>K("upload"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="upload"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Ko,{size:16,className:"inline mr-1"}),"Upload Images"]}),r.jsxs("button",{ref:z,onClick:()=>K("stats"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="stats"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(kM,{size:16,className:"inline mr-1"}),"Analytics"]}),r.jsxs("button",{ref:V,onClick:()=>K("visitors"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="visitors"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(ln,{size:16,className:"inline mr-1"}),"Visitors (",c.length,")"]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[p==="images"&&r.jsx(fB,{images:a,galleryId:n.id,isAdmin:!0,onImageDeleted:W,onSetCover:te}),p==="upload"&&r.jsx(nAe,{galleryId:n.id,onUploadComplete:$}),p==="stats"&&(o?r.jsx(sAe,{stats:o}):r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]})),p==="visitors"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Visitors"}),c.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Access"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Access"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(re=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.firstName&&re.lastName?`${re.firstName} ${re.lastName}`:"Not provided"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(re.createdAt).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(re.createdAt).toLocaleString()})]},re.id))})]})}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[r.jsx(ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Visitors Yet"}),r.jsx("p",{className:"text-gray-500",children:"This gallery hasn't been viewed by any visitors yet."})]}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-8 mb-4",children:"Recent Access Logs"}),u&&u.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Time"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Browser"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(re=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.firstName&&re.lastName?`${re.firstName} ${re.lastName}`:"Not provided"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(re.accessedAt).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-xs",children:re.userAgent?re.userAgent.split(" ")[0]:"Unknown"})]},re.id))})]})}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[r.jsx(bs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Access Logs"}),r.jsx("p",{className:"text-gray-500",children:"No access logs have been recorded for this gallery yet."})]})]})]})]}):r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:r.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Gallery not found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The gallery you're looking for doesn't exist or has been deleted."}),r.jsx("div",{className:"mt-6",children:r.jsx(Vt,{to:"/admin/galleries",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Return to galleries"})})]}),_&&n&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Share Gallery"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Send the gallery link to a recipient via Email, WhatsApp, or SMS."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient email"}),r.jsx("input",{className:"w-full border rounded px-3 py-2",value:S,onChange:re=>A(re.target.value),placeholder:"name@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recipient phone (for WhatsApp/SMS)"}),r.jsx("input",{className:"w-full border rounded px-3 py-2",value:L,onChange:re=>P(re.target.value),placeholder:"+43..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message (optional)"}),r.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:3,value:k,onChange:re=>C(re.target.value),placeholder:`Gallery: ${n.title}`})]})]}),r.jsx("div",{className:"flex items-center justify-between mt-4",children:r.jsxs("div",{className:"text-sm text-gray-500 truncate",children:["Link: ",`${window.location.origin}/gallery/${n.slug}`]})}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{disabled:R||!S,onClick:G,className:"flex-1 inline-flex items-center justify-center px-3 py-2 rounded bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:"Email"}),r.jsx("button",{disabled:R,onClick:X,className:"flex-1 inline-flex items-center justify-center px-3 py-2 rounded border",children:"WhatsApp"}),r.jsx("button",{disabled:R||!L,onClick:ie,className:"flex-1 inline-flex items-center justify-center px-3 py-2 rounded border",children:"SMS"})]}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsx("button",{onClick:()=>w(!1),className:"px-3 py-2 text-sm text-gray-600",children:"Close"})})]})})]})})},mB=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),nj=j.createContext({}),sj=j.createContext(null),aj=typeof document<"u",Pk=aj?j.useLayoutEffect:j.useEffect,pB=j.createContext({strict:!1}),Ek=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),iAe="framerAppearId",gB="data-"+Ek(iAe);function oAe(e,t,n,s){const{visualElement:a}=j.useContext(nj),i=j.useContext(pB),o=j.useContext(sj),l=j.useContext(mB).reducedMotion,c=j.useRef();s=s||i.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;j.useInsertionEffect(()=>{d&&d.update(n,o)});const u=j.useRef(!!(n[gB]&&!window.HandoffComplete));return Pk(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function bp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lAe(e,t,n){return j.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):bp(n)&&(n.current=s))},[t])}function Py(e){return typeof e=="string"||Array.isArray(e)}function ij(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ok=["initial",...Tk];function oj(e){return ij(e.animate)||Ok.some(t=>Py(e[t]))}function xB(e){return!!(oj(e)||e.variants)}function cAe(e,t){if(oj(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Py(n)?n:void 0,animate:Py(s)?s:void 0}}return e.inherit!==!1?t:{}}function dAe(e){const{initial:t,animate:n}=cAe(e,j.useContext(nj));return j.useMemo(()=>({initial:t,animate:n}),[i8(t),i8(n)])}function i8(e){return Array.isArray(e)?e.join(" "):e}const o8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ey={};for(const e in o8)Ey[e]={isEnabled:t=>o8[e].some(n=>!!t[n])};function uAe(e){for(const t in e)Ey[t]={...Ey[t],...e[t]}}const Lk=j.createContext({}),yB=j.createContext({}),hAe=Symbol.for("motionComponentSymbol");function fAe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){e&&uAe(e);function i(l,c){let d;const u={...j.useContext(mB),...l,layoutId:mAe(l)},{isStatic:h}=u,p=dAe(l),f=s(l,h);if(!h&&aj){p.visualElement=oAe(a,f,u,t);const x=j.useContext(yB),g=j.useContext(pB).strict;p.visualElement&&(d=p.visualElement.loadFeatures(u,g,e,x))}return j.createElement(nj.Provider,{value:p},d&&p.visualElement?j.createElement(d,{visualElement:p.visualElement,...u}):null,n(a,l,lAe(f,p.visualElement,c),f,h,p.visualElement))}const o=j.forwardRef(i);return o[hAe]=a,o}function mAe({layoutId:e}){const t=j.useContext(Lk).id;return t&&e!==void 0?t+"-"+e:e}function pAe(e){function t(s,a={}){return fAe(e(s,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const gAe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ik(e){return typeof e!="string"||e.includes("-")?!1:!!(gAe.indexOf(e)>-1||/[A-Z]/.test(e))}const Tw={};function xAe(e){Object.assign(Tw,e)}const sv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wm=new Set(sv);function vB(e,{layout:t,layoutId:n}){return wm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tw[e]||e==="opacity")}const Di=e=>!!(e&&e.getVelocity),yAe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vAe=sv.length;function bAe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,a){let i="";for(let o=0;o<vAe;o++){const l=sv[o];if(e[l]!==void 0){const c=yAe[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,s?"":i):n&&s&&(i="none"),i}const bB=e=>t=>typeof t=="string"&&t.startsWith(e),wB=bB("--"),u4=bB("var(--"),wAe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,jAe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xh=(e,t,n)=>Math.min(Math.max(n,e),t),jm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},T0={...jm,transform:e=>xh(0,1,e)},_b={...jm,default:1},O0=e=>Math.round(e*1e5)/1e5,lj=/(-)?([\d]*\.?[\d])+/g,jB=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,NAe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function av(e){return typeof e=="string"}const iv=e=>({test:t=>av(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ou=iv("deg"),_c=iv("%"),Xt=iv("px"),SAe=iv("vh"),_Ae=iv("vw"),l8={..._c,parse:e=>_c.parse(e)/100,transform:e=>_c.transform(e*100)},c8={...jm,transform:Math.round},NB={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,size:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,rotate:Ou,rotateX:Ou,rotateY:Ou,rotateZ:Ou,scale:_b,scaleX:_b,scaleY:_b,scaleZ:_b,skew:Ou,skewX:Ou,skewY:Ou,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:T0,originX:l8,originY:l8,originZ:Xt,zIndex:c8,fillOpacity:T0,strokeOpacity:T0,numOctaves:c8};function Mk(e,t,n,s){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const p=t[h];if(wB(h)){i[h]=p;continue}const f=NB[h],x=jAe(p,f);if(wm.has(h)){if(c=!0,o[h]=x,!u)continue;p!==(f.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=x):a[h]=x}if(t.transform||(c||s?a.transform=bAe(e.transform,n,u,s):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:f=0}=l;a.transformOrigin=`${h} ${p} ${f}`}}const Dk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SB(e,t,n){for(const s in t)!Di(t[s])&&!vB(s,n)&&(e[s]=t[s])}function kAe({transformTemplate:e},t,n){return j.useMemo(()=>{const s=Dk();return Mk(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function AAe(e,t,n){const s=e.style||{},a={};return SB(a,s,e),Object.assign(a,kAe(e,t,n)),e.transformValues?e.transformValues(a):a}function CAe(e,t,n){const s={},a=AAe(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const PAe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ow(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PAe.has(e)}let _B=e=>!Ow(e);function EAe(e){e&&(_B=t=>t.startsWith("on")?!Ow(t):e(t))}try{EAe(require("@emotion/is-prop-valid").default)}catch{}function TAe(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(_B(a)||n===!0&&Ow(a)||!t&&!Ow(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function d8(e,t,n){return typeof e=="string"?e:Xt.transform(t+n*e)}function OAe(e,t,n){const s=d8(t,e.x,e.width),a=d8(n,e.y,e.height);return`${s} ${a}`}const LAe={offset:"stroke-dashoffset",array:"stroke-dasharray"},IAe={offset:"strokeDashoffset",array:"strokeDasharray"};function MAe(e,t,n=1,s=0,a=!0){e.pathLength=1;const i=a?LAe:IAe;e[i.offset]=Xt.transform(-s);const o=Xt.transform(t),l=Xt.transform(n);e[i.array]=`${o} ${l}`}function Rk(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h,p){if(Mk(e,d,u,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:x,dimensions:g}=e;f.transform&&(g&&(x.transform=f.transform),delete f.transform),g&&(a!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=OAe(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),o!==void 0&&MAe(f,o,l,c,!1)}const kB=()=>({...Dk(),attrs:{}}),Fk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DAe(e,t,n,s){const a=j.useMemo(()=>{const i=kB();return Rk(i,t,{enableHardwareAcceleration:!1},Fk(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};SB(i,e.style,e),a.style={...i,...a.style}}return a}function RAe(e=!1){return(n,s,a,{latestValues:i},o)=>{const c=(Ik(n)?DAe:CAe)(s,i,o,n),u={...TAe(s,typeof n=="string",e),...c,ref:a},{children:h}=s,p=j.useMemo(()=>Di(h)?h.get():h,[h]);return j.createElement(n,{...u,children:p})}}function AB(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}const CB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PB(e,t,n,s){AB(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(CB.has(a)?a:Ek(a),t.attrs[a])}function $k(e,t){const{style:n}=e,s={};for(const a in n)(Di(n[a])||t.style&&Di(t.style[a])||vB(a,e))&&(s[a]=n[a]);return s}function EB(e,t){const n=$k(e,t);for(const s in e)if(Di(e[s])||Di(t[s])){const a=sv.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}function Bk(e,t,n,s={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,a)),t}function TB(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lw=e=>Array.isArray(e),FAe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$Ae=e=>Lw(e)?e[e.length-1]||0:e;function Kb(e){const t=Di(e)?e.get():e;return FAe(t)?t.toValue():t}function BAe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,a,i){const o={latestValues:zAe(s,a,i,e),renderState:t()};return n&&(o.mount=l=>n(s,l,o)),o}const OB=e=>(t,n)=>{const s=j.useContext(nj),a=j.useContext(sj),i=()=>BAe(e,t,s,a);return n?i():TB(i)};function zAe(e,t,n,s){const a={},i=s(e,{});for(const p in i)a[p]=Kb(i[p]);let{initial:o,animate:l}=e;const c=oj(e),d=xB(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!ij(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const x=Bk(e,f);if(!x)return;const{transitionEnd:g,transition:v,...b}=x;for(const _ in b){let w=b[_];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(a[_]=w)}for(const _ in g)a[_]=g[_]}),a}const Es=e=>e;class u8{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function UAe(e){let t=new u8,n=new u8,s=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&a,p=h?t:n;return d&&o.add(c),p.add(c)&&h&&a&&(s=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let d=0;d<s;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const kb=["prepare","read","update","preRender","render","postRender"],qAe=40;function WAe(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=kb.reduce((h,p)=>(h[p]=UAe(()=>n=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(h-a.timestamp,qAe),1),a.timestamp=h,a.isProcessing=!0,kb.forEach(o),a.isProcessing=!1,n&&t&&(s=!1,e(l))},c=()=>{n=!0,s=!0,a.isProcessing||e(l)};return{schedule:kb.reduce((h,p)=>{const f=i[p];return h[p]=(x,g=!1,v=!1)=>(n||c(),f.schedule(x,g,v)),h},{}),cancel:h=>kb.forEach(p=>i[p].cancel(h)),state:a,steps:i}}const{schedule:In,cancel:Od,state:qa,steps:t5}=WAe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Es,!0),VAe={useVisualState:OB({scrapeMotionValuesFromProps:EB,createRenderState:kB,onMount:(e,t,{renderState:n,latestValues:s})=>{In.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),In.render(()=>{Rk(n,s,{enableHardwareAcceleration:!1},Fk(t.tagName),e.transformTemplate),PB(t,n)})}})},HAe={useVisualState:OB({scrapeMotionValuesFromProps:$k,createRenderState:Dk})};function GAe(e,{forwardMotionProps:t=!1},n,s){return{...Ik(e)?VAe:HAe,preloadedFeatures:n,useRender:RAe(t),createVisualElement:s,Component:e}}function yd(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const LB=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function cj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const KAe=e=>t=>LB(t)&&e(t,cj(t));function jd(e,t,n,s){return yd(e,t,KAe(n),s)}const YAe=(e,t)=>n=>t(e(n)),lh=(...e)=>e.reduce(YAe);function IB(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const h8=IB("dragHorizontal"),f8=IB("dragVertical");function MB(e){let t=!1;if(e==="y")t=f8();else if(e==="x")t=h8();else{const n=h8(),s=f8();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function DB(){const e=MB(!0);return e?(e(),!1):!0}class kh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function m8(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||DB())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&In.update(()=>l[s](i,o))};return jd(e.current,n,a,{passive:!e.getProps()[s]})}class ZAe extends kh{mount(){this.unmount=lh(m8(this.node,!0),m8(this.node,!1))}unmount(){}}class XAe extends kh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lh(yd(this.node.current,"focus",()=>this.onFocus()),yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RB=(e,t)=>t?e===t?!0:RB(e,t.parentElement):!1;function r5(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,cj(n))}class JAe extends kh{constructor(){super(...arguments),this.removeStartListeners=Es,this.removeEndListeners=Es,this.removeAccessibleListeners=Es,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=jd(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();In.update(()=>{!h&&!RB(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=jd(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=lh(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||r5("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&In.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=yd(this.node.current,"keyup",o),r5("down",(l,c)=>{this.startPress(l,c)})},n=yd(this.node.current,"keydown",t),s=()=>{this.isPressing&&r5("cancel",(i,o)=>this.cancelPress(i,o))},a=yd(this.node.current,"blur",s);this.removeAccessibleListeners=lh(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&In.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!DB()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&In.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=jd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=yd(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=lh(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const h4=new WeakMap,n5=new WeakMap,QAe=e=>{const t=h4.get(e.target);t&&t(e)},eCe=e=>{e.forEach(QAe)};function tCe({root:e,...t}){const n=e||document;n5.has(n)||n5.set(n,{});const s=n5.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(eCe,{root:e,...t})),s[a]}function rCe(e,t,n){const s=tCe(t);return h4.set(e,n),s.observe(e),()=>{h4.delete(e),s.unobserve(e)}}const nCe={some:0,all:1};class sCe extends kh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:nCe[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=d?u:h;p&&p(c)};return rCe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aCe(t,n))&&this.startObserver()}unmount(){}}function aCe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const iCe={inView:{Feature:sCe},tap:{Feature:JAe},focus:{Feature:XAe},hover:{Feature:ZAe}};function FB(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function oCe(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function lCe(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function dj(e,t,n){const s=e.getProps();return Bk(s,t,n!==void 0?n:s.custom,oCe(e),lCe(e))}let Iw=Es;const qf=e=>e*1e3,Nd=e=>e/1e3,cCe={current:!1},$B=e=>Array.isArray(e)&&typeof e[0]=="number";function BB(e){return!!(!e||typeof e=="string"&&zB[e]||$B(e)||Array.isArray(e)&&e.every(BB))}const g0=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,zB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g0([0,.65,.55,1]),circOut:g0([.55,0,1,.45]),backIn:g0([.31,.01,.66,-.59]),backOut:g0([.33,1.53,.69,.99])};function UB(e){if(e)return $B(e)?g0(e):Array.isArray(e)?e.map(UB):zB[e]}function dCe(e,t,n,{delay:s=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=UB(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function uCe(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const qB=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,hCe=1e-7,fCe=12;function mCe(e,t,n,s,a){let i,o,l=0;do o=t+(n-t)/2,i=qB(o,s,a)-e,i>0?n=o:t=o;while(Math.abs(i)>hCe&&++l<fCe);return o}function ov(e,t,n,s){if(e===t&&n===s)return Es;const a=i=>mCe(i,0,1,e,n);return i=>i===0||i===1?i:qB(a(i),t,s)}const pCe=ov(.42,0,1,1),gCe=ov(0,0,.58,1),WB=ov(.42,0,.58,1),xCe=e=>Array.isArray(e)&&typeof e[0]!="number",VB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HB=e=>t=>1-e(1-t),zk=e=>1-Math.sin(Math.acos(e)),GB=HB(zk),yCe=VB(zk),KB=ov(.33,1.53,.69,.99),Uk=HB(KB),vCe=VB(Uk),bCe=e=>(e*=2)<1?.5*Uk(e):.5*(2-Math.pow(2,-10*(e-1))),p8={linear:Es,easeIn:pCe,easeInOut:WB,easeOut:gCe,circIn:zk,circInOut:yCe,circOut:GB,backIn:Uk,backInOut:vCe,backOut:KB,anticipate:bCe},g8=e=>{if(Array.isArray(e)){Iw(e.length===4);const[t,n,s,a]=e;return ov(t,n,s,a)}else if(typeof e=="string")return Iw(p8[e]!==void 0),p8[e];return e},qk=(e,t)=>n=>!!(av(n)&&NAe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),YB=(e,t,n)=>s=>{if(!av(s))return s;const[a,i,o,l]=s.match(lj);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},wCe=e=>xh(0,255,e),s5={...jm,transform:e=>Math.round(wCe(e))},kf={test:qk("rgb","red"),parse:YB("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+s5.transform(e)+", "+s5.transform(t)+", "+s5.transform(n)+", "+O0(T0.transform(s))+")"};function jCe(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const f4={test:qk("#"),parse:jCe,transform:kf.transform},wp={test:qk("hsl","hue"),parse:YB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+_c.transform(O0(t))+", "+_c.transform(O0(n))+", "+O0(T0.transform(s))+")"},ui={test:e=>kf.test(e)||f4.test(e)||wp.test(e),parse:e=>kf.test(e)?kf.parse(e):wp.test(e)?wp.parse(e):f4.parse(e),transform:e=>av(e)?e:e.hasOwnProperty("red")?kf.transform(e):wp.transform(e)},cs=(e,t,n)=>-n*e+n*t+e;function a5(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NCe({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=a5(c,l,e+1/3),i=a5(c,l,e),o=a5(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const i5=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},SCe=[f4,kf,wp],_Ce=e=>SCe.find(t=>t.test(e));function x8(e){const t=_Ce(e);let n=t.parse(e);return t===wp&&(n=NCe(n)),n}const ZB=(e,t)=>{const n=x8(e),s=x8(t),a={...n};return i=>(a.red=i5(n.red,s.red,i),a.green=i5(n.green,s.green,i),a.blue=i5(n.blue,s.blue,i),a.alpha=cs(n.alpha,s.alpha,i),kf.transform(a))};function kCe(e){var t,n;return isNaN(e)&&av(e)&&(((t=e.match(lj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(jB))===null||n===void 0?void 0:n.length)||0)>0}const XB={regex:wAe,countKey:"Vars",token:"${v}",parse:Es},JB={regex:jB,countKey:"Colors",token:"${c}",parse:ui.parse},QB={regex:lj,countKey:"Numbers",token:"${n}",parse:jm.parse};function o5(e,{regex:t,countKey:n,token:s,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...i.map(a)))}function Mw(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&o5(n,XB),o5(n,JB),o5(n,QB),n}function ez(e){return Mw(e).values}function tz(e){const{values:t,numColors:n,numVars:s,tokenised:a}=Mw(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<s?l=l.replace(XB.token,o[c]):c<s+n?l=l.replace(JB.token,ui.transform(o[c])):l=l.replace(QB.token,O0(o[c]));return l}}const ACe=e=>typeof e=="number"?0:e;function CCe(e){const t=ez(e);return tz(e)(t.map(ACe))}const yh={test:kCe,parse:ez,createTransformer:tz,getAnimatableNone:CCe},rz=(e,t)=>n=>`${n>0?t:e}`;function nz(e,t){return typeof e=="number"?n=>cs(e,t,n):ui.test(e)?ZB(e,t):e.startsWith("var(")?rz(e,t):az(e,t)}const sz=(e,t)=>{const n=[...e],s=n.length,a=e.map((i,o)=>nz(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=a[o](i);return n}},PCe=(e,t)=>{const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=nz(e[a],t[a]));return a=>{for(const i in s)n[i]=s[i](a);return n}},az=(e,t)=>{const n=yh.createTransformer(t),s=Mw(e),a=Mw(t);return s.numVars===a.numVars&&s.numColors===a.numColors&&s.numNumbers>=a.numNumbers?lh(sz(s.values,a.values),n):rz(e,t)},Ty=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},y8=(e,t)=>n=>cs(e,t,n);function ECe(e){return typeof e=="number"?y8:typeof e=="string"?ui.test(e)?ZB:az:Array.isArray(e)?sz:typeof e=="object"?PCe:y8}function TCe(e,t,n){const s=[],a=n||ECe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Es:t;l=lh(c,l)}s.push(l)}return s}function iz(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const i=e.length;if(Iw(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=TCe(t,s,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Ty(e[u],e[u+1],d);return o[u](h)};return n?d=>c(xh(e[0],e[i-1],d)):c}function OCe(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Ty(0,t,s);e.push(cs(n,1,a))}}function LCe(e){const t=[0];return OCe(t,e.length-1),t}function ICe(e,t){return e.map(n=>n*t)}function MCe(e,t){return e.map(()=>t||WB).splice(0,e.length-1)}function Dw({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=xCe(s)?s.map(g8):g8(s),i={done:!1,value:t[0]},o=ICe(n&&n.length===t.length?n:LCe(t),e),l=iz(o,t,{ease:Array.isArray(a)?a:MCe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function oz(e,t){return t?e*(1e3/t):0}const DCe=5;function lz(e,t,n){const s=Math.max(t-DCe,0);return oz(n-e(s),t-s)}const l5=.001,RCe=.01,FCe=10,$Ce=.05,BCe=1;function zCe({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let a,i,o=1-t;o=xh($Ce,BCe,o),e=xh(RCe,FCe,Nd(e)),o<1?(a=d=>{const u=d*o,h=u*e,p=u-n,f=m4(d,o),x=Math.exp(-h);return l5-p/f*x},i=d=>{const h=d*o*e,p=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-h),g=m4(Math.pow(d,2),o);return(-a(d)+l5>0?-1:1)*((p-f)*x)/g}):(a=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-l5+u*h},i=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=qCe(a,i,l);if(e=qf(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const UCe=12;function qCe(e,t,n){let s=n;for(let a=1;a<UCe;a++)s=s-e(s)/t(s);return s}function m4(e,t){return e*Math.sqrt(1-t*t)}const WCe=["duration","bounce"],VCe=["stiffness","damping","mass"];function v8(e,t){return t.some(n=>e[n]!==void 0)}function HCe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!v8(e,VCe)&&v8(e,WCe)){const n=zCe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function cz({keyframes:e,restDelta:t,restSpeed:n,...s}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=HCe({...s,velocity:-Nd(s.velocity||0)}),f=h||0,x=c/(2*Math.sqrt(l*d)),g=i-a,v=Nd(Math.sqrt(l/d)),b=Math.abs(g)<5;n||(n=b?.01:2),t||(t=b?.005:.5);let _;if(x<1){const w=m4(v,x);_=S=>{const A=Math.exp(-x*v*S);return i-A*((f+x*v*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(x===1)_=w=>i-Math.exp(-v*w)*(g+(f+v*g)*w);else{const w=v*Math.sqrt(x*x-1);_=S=>{const A=Math.exp(-x*v*S),L=Math.min(w*S,300);return i-A*((f+x*v*g)*Math.sinh(L)+w*g*Math.cosh(L))/w}}return{calculatedDuration:p&&u||null,next:w=>{const S=_(w);if(p)o.done=w>=u;else{let A=f;w!==0&&(x<1?A=lz(_,w,S):A=0);const L=Math.abs(A)<=n,P=Math.abs(i-S)<=t;o.done=L&&P}return o.value=o.done?i:S,o}}}function b8({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],p={done:!1,value:h},f=k=>l!==void 0&&k<l||c!==void 0&&k>c,x=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=n*t;const v=h+g,b=o===void 0?v:o(v);b!==v&&(g=b-h);const _=k=>-g*Math.exp(-k/s),w=k=>b+_(k),S=k=>{const C=_(k),R=w(k);p.done=Math.abs(C)<=d,p.value=p.done?b:R};let A,L;const P=k=>{f(p.value)&&(A=k,L=cz({keyframes:[p.value,x(p.value)],velocity:lz(w,k,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:k=>{let C=!1;return!L&&A===void 0&&(C=!0,S(k),P(k)),A!==void 0&&k>A?L.next(k-A):(!C&&S(k),p)}}}const GCe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>In.update(t,!0),stop:()=>Od(t),now:()=>qa.isProcessing?qa.timestamp:performance.now()}},w8=2e4;function j8(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<w8;)t+=n,s=e.next(t);return t>=w8?1/0:t}const KCe={decay:b8,inertia:b8,tween:Dw,keyframes:Dw,spring:cz};function Rw({autoplay:e=!0,delay:t=0,driver:n=GCe,keyframes:s,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...p}){let f=1,x=!1,g,v;const b=()=>{v=new Promise(J=>{g=J})};b();let _;const w=KCe[a]||Dw;let S;w!==Dw&&typeof s[0]!="number"&&(S=iz([0,100],s,{clamp:!1}),s=[0,100]);const A=w({...p,keyframes:s});let L;l==="mirror"&&(L=w({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let P="idle",k=null,C=null,R=null;A.calculatedDuration===null&&i&&(A.calculatedDuration=j8(A));const{calculatedDuration:E}=A;let I=1/0,B=1/0;E!==null&&(I=E+o,B=I*(i+1)-o);let z=0;const V=J=>{if(C===null)return;f>0&&(C=Math.min(C,J)),f<0&&(C=Math.min(J-B/f,C)),k!==null?z=k:z=Math.round(J-C)*f;const M=z-t*(f>=0?1:-1),G=f>=0?M<0:M>B;z=Math.max(M,0),P==="finished"&&k===null&&(z=B);let X=z,ie=A;if(i){const Z=Math.min(z,B)/I;let Q=Math.floor(Z),pe=Z%1;!pe&&Z>=1&&(pe=1),pe===1&&Q--,Q=Math.min(Q,i+1),!!(Q%2)&&(l==="reverse"?(pe=1-pe,o&&(pe-=o/I)):l==="mirror"&&(ie=L)),X=xh(0,1,pe)*I}const re=G?{done:!1,value:s[0]}:ie.next(X);S&&(re.value=S(re.value));let{done:fe}=re;!G&&E!==null&&(fe=f>=0?z>=B:z<=0);const we=k===null&&(P==="finished"||P==="running"&&fe);return h&&h(re.value),we&&$(),re},U=()=>{_&&_.stop(),_=void 0},K=()=>{P="idle",U(),g(),b(),C=R=null},$=()=>{P="finished",u&&u(),U(),g()},W=()=>{if(x)return;_||(_=n(V));const J=_.now();c&&c(),k!==null?C=J-k:(!C||P==="finished")&&(C=J),P==="finished"&&b(),R=C,k=null,P="running",_.start()};e&&W();const te={then(J,M){return v.then(J,M)},get time(){return Nd(z)},set time(J){J=qf(J),z=J,k!==null||!_||f===0?k=J:C=_.now()-J/f},get duration(){const J=A.calculatedDuration===null?j8(A):A.calculatedDuration;return Nd(J)},get speed(){return f},set speed(J){J===f||!_||(f=J,te.time=Nd(z))},get state(){return P},play:W,pause:()=>{P="paused",k=z},stop:()=>{x=!0,P!=="idle"&&(P="idle",d&&d(),K())},cancel:()=>{R!==null&&V(R),K()},complete:()=>{P="finished"},sample:J=>(C=0,V(J))};return te}function YCe(e){let t;return()=>(t===void 0&&(t=e()),t)}const ZCe=YCe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),XCe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ab=10,JCe=2e4,QCe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!BB(t.ease);function ePe(e,t,{onUpdate:n,onComplete:s,...a}){if(!(ZCe()&&XCe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(w=>{l=w})};u();let{keyframes:h,duration:p=300,ease:f,times:x}=a;if(QCe(t,a)){const w=Rw({...a,repeat:0,delay:0});let S={done:!1,value:h[0]};const A=[];let L=0;for(;!S.done&&L<JCe;)S=w.sample(L),A.push(S.value),L+=Ab;x=void 0,h=A,p=L-Ab,f="linear"}const g=dCe(e.owner.current,t,h,{...a,duration:p,ease:f,times:x}),v=()=>{d=!1,g.cancel()},b=()=>{d=!0,In.update(v),l(),u()};return g.onfinish=()=>{d||(e.set(uCe(h,a)),s&&s(),b())},{then(w,S){return c.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Es},get time(){return Nd(g.currentTime||0)},set time(w){g.currentTime=qf(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Nd(p)},play:()=>{o||(g.play(),Od(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=Rw({...a,autoplay:!1});e.setWithVelocity(S.sample(w-Ab).value,S.sample(w).value,Ab)}b()},complete:()=>{d||g.finish()},cancel:b}}function tPe({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const a=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Es,pause:Es,stop:Es,then:i=>(i(),Promise.resolve()),cancel:Es,complete:Es});return t?Rw({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const rPe={type:"spring",stiffness:500,damping:25,restSpeed:10},nPe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sPe={type:"keyframes",duration:.8},aPe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iPe=(e,{keyframes:t})=>t.length>2?sPe:wm.has(e)?e.startsWith("scale")?nPe(t[1]):rPe:aPe,p4=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yh.test(t)||t==="0")&&!t.startsWith("url(")),oPe=new Set(["brightness","contrast","saturate","opacity"]);function lPe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(lj)||[];if(!s)return e;const a=n.replace(s,"");let i=oPe.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+a+")"}const cPe=/([a-z-]*)\(.*?\)/g,g4={...yh,getAnimatableNone:e=>{const t=e.match(cPe);return t?t.map(lPe).join(" "):e}},dPe={...NB,color:ui,backgroundColor:ui,outlineColor:ui,fill:ui,stroke:ui,borderColor:ui,borderTopColor:ui,borderRightColor:ui,borderBottomColor:ui,borderLeftColor:ui,filter:g4,WebkitFilter:g4},Wk=e=>dPe[e];function dz(e,t){let n=Wk(e);return n!==g4&&(n=yh),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const uz=e=>/^0[^.\s]+$/.test(e);function uPe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||uz(e)}function hPe(e,t,n,s){const a=p4(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),uPe(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];i[u]=dz(t,l)}return i}function fPe({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function Vk(e,t){return e[t]||e.default||e}const mPe={skipAnimations:!1},Hk=(e,t,n,s={})=>a=>{const i=Vk(s,e)||{},o=i.delay||s.delay||0;let{elapsed:l=0}=s;l=l-qf(o);const c=hPe(t,e,n,i),d=c[0],u=c[c.length-1],h=p4(e,d),p=p4(e,u);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:x=>{t.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(fPe(i)||(f={...f,...iPe(e,f)}),f.duration&&(f.duration=qf(f.duration)),f.repeatDelay&&(f.repeatDelay=qf(f.repeatDelay)),!h||!p||cCe.current||i.type===!1||mPe.skipAnimations)return tPe(f);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=ePe(t,e,f);if(x)return x}return Rw(f)};function Fw(e){return!!(Di(e)&&e.add)}const hz=e=>/^\-?\d*\.?\d+$/.test(e);function Gk(e,t){e.indexOf(t)===-1&&e.push(t)}function Kk(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Yk{constructor(){this.subscriptions=[]}add(t){return Gk(this.subscriptions,t),()=>Kk(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pPe=e=>!isNaN(parseFloat(e));class gPe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,a=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:o}=qa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,In.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>In.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=pPe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Yk);const s=this.events[t].add(n);return t==="change"?()=>{s(),In.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oz(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mg(e,t){return new gPe(e,t)}const fz=e=>t=>t.test(e),xPe={test:e=>e==="auto",parse:e=>e},mz=[jm,Xt,_c,Ou,_Ae,SAe,xPe],a0=e=>mz.find(fz(e)),yPe=[...mz,ui,yh],vPe=e=>yPe.find(fz(e));function bPe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mg(n))}function wPe(e,t){const n=dj(e,t);let{transitionEnd:s={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const o in i){const l=$Ae(i[o]);bPe(e,o,l)}}function jPe(e,t,n){var s,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(hz(u)||uz(u))?u=parseFloat(u):!vPe(u)&&yh.test(d)&&(u=dz(c,d)),e.addValue(c,Mg(u,{owner:e})),n[c]===void 0&&(n[c]=u),u!==null&&e.setBaseTarget(c,u))}}function NPe(e,t){return t?(t[e]||t.default||t).from:void 0}function SPe(e,t,n){const s={};for(const a in e){const i=NPe(a,t);if(i!==void 0)s[a]=i;else{const o=n.getValue(a);o&&(s[a]=o.get())}}return s}function _Pe({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function kPe(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function pz(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(i=s);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const p=e.getValue(h),f=l[h];if(!p||f===void 0||u&&_Pe(u,h))continue;const x={delay:n,elapsed:0,...Vk(i||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[gB];if(b){const _=window.HandoffAppearAnimations(b,h,p,In);_!==null&&(x.elapsed=_,x.isHandoff=!0)}}let g=!x.isHandoff&&!kPe(p,f);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(Hk(h,p,f,e.shouldReduceMotion&&wm.has(h)?{type:!1}:x));const v=p.animation;Fw(c)&&(c.add(h),v.then(()=>c.remove(h))),d.push(v)}return o&&Promise.all(d).then(()=>{o&&wPe(e,o)}),d}function x4(e,t,n={}){const s=dj(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(pz(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return APe(e,t,d+c,u,h,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function APe(e,t,n=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(CPe).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(x4(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function CPe(e,t){return e.sortNodePosition(t)}function PPe(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>x4(e,i,n));s=Promise.all(a)}else if(typeof t=="string")s=x4(e,t,n);else{const a=typeof t=="function"?dj(e,t,n.custom):t;s=Promise.all(pz(e,a,n))}return s.then(()=>e.notify("AnimationComplete",t))}const EPe=[...Tk].reverse(),TPe=Tk.length;function OPe(e){return t=>Promise.all(t.map(({animation:n,options:s})=>PPe(e,n,s)))}function LPe(e){let t=OPe(e);const n=MPe();let s=!0;const a=(c,d)=>{const u=dj(e,d);if(u){const{transition:h,transitionEnd:p,...f}=u;c={...c,...f,...p}}return c};function i(c){t=c(e)}function o(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},p=[],f=new Set;let x={},g=1/0;for(let b=0;b<TPe;b++){const _=EPe[b],w=n[_],S=u[_]!==void 0?u[_]:h[_],A=Py(S),L=_===d?w.isActive:null;L===!1&&(g=b);let P=S===h[_]&&S!==u[_]&&A;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...x},!w.isActive&&L===null||!S&&!w.prevProp||ij(S)||typeof S=="boolean")continue;let C=IPe(w.prevProp,S)||_===d&&w.isActive&&!P&&A||b>g&&A,R=!1;const E=Array.isArray(S)?S:[S];let I=E.reduce(a,{});L===!1&&(I={});const{prevResolvedValues:B={}}=w,z={...B,...I},V=U=>{C=!0,f.has(U)&&(R=!0,f.delete(U)),w.needsAnimating[U]=!0};for(const U in z){const K=I[U],$=B[U];if(x.hasOwnProperty(U))continue;let W=!1;Lw(K)&&Lw($)?W=!FB(K,$):W=K!==$,W?K!==void 0?V(U):f.add(U):K!==void 0&&f.has(U)?V(U):w.protectedKeys[U]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(x={...x,...I}),s&&e.blockInitialAnimation&&(C=!1),C&&(!P||R)&&p.push(...E.map(U=>({animation:U,options:{type:_,...c}})))}if(f.size){const b={};f.forEach(_=>{const w=e.getBaseTarget(_);w!==void 0&&(b[_]=w)}),p.push({animation:b})}let v=!!p.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(p):Promise.resolve()}function l(c,d,u){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var x;return(x=f.animationState)===null||x===void 0?void 0:x.setActive(c,d)}),n[c].isActive=d;const p=o(u,c);for(const f in n)n[f].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function IPe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FB(t,e):!1}function of(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MPe(){return{animate:of(!0),whileInView:of(),whileHover:of(),whileTap:of(),whileDrag:of(),whileFocus:of(),exit:of()}}class DPe extends kh{constructor(t){super(t),t.animationState||(t.animationState=LPe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ij(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let RPe=0;class FPe extends kh{constructor(){super(...arguments),this.id=RPe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $Pe={animation:{Feature:DPe},exit:{Feature:FPe}},N8=(e,t)=>Math.abs(e-t);function BPe(e,t){const n=N8(e.x,t.x),s=N8(e.y,t.y);return Math.sqrt(n**2+s**2)}class gz{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=d5(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=BPe(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:x}=h,{timestamp:g}=qa;this.history.push({...x,timestamp:g});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=c5(p,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=d5(h.type==="pointercancel"?this.lastMoveEventInfo:c5(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,v),x&&x(h,v)},!LB(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const o=cj(t),l=c5(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=qa;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,d5(l,this.history)),this.removeListeners=lh(jd(this.contextWindow,"pointermove",this.handlePointerMove),jd(this.contextWindow,"pointerup",this.handlePointerUp),jd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Od(this.updatePoint)}}function c5(e,t){return t?{point:t(e.point)}:e}function S8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function d5({point:e},t){return{point:e,delta:S8(e,xz(t)),offset:S8(e,zPe(t)),velocity:UPe(t,.1)}}function zPe(e){return e[0]}function xz(e){return e[e.length-1]}function UPe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=xz(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>qf(t)));)n--;if(!s)return{x:0,y:0};const i=Nd(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wo(e){return e.max-e.min}function y4(e,t=0,n=.01){return Math.abs(e-t)<=n}function _8(e,t,n,s=.5){e.origin=s,e.originPoint=cs(t.min,t.max,e.origin),e.scale=wo(n)/wo(t),(y4(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=cs(n.min,n.max,e.origin)-e.originPoint,(y4(e.translate)||isNaN(e.translate))&&(e.translate=0)}function L0(e,t,n,s){_8(e.x,t.x,n.x,s?s.originX:void 0),_8(e.y,t.y,n.y,s?s.originY:void 0)}function k8(e,t,n){e.min=n.min+t.min,e.max=e.min+wo(t)}function qPe(e,t,n){k8(e.x,t.x,n.x),k8(e.y,t.y,n.y)}function A8(e,t,n){e.min=t.min-n.min,e.max=e.min+wo(t)}function I0(e,t,n){A8(e.x,t.x,n.x),A8(e.y,t.y,n.y)}function WPe(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?cs(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?cs(n,e,s.max):Math.min(e,n)),e}function C8(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function VPe(e,{top:t,left:n,bottom:s,right:a}){return{x:C8(e.x,n,a),y:C8(e.y,t,s)}}function P8(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function HPe(e,t){return{x:P8(e.x,t.x),y:P8(e.y,t.y)}}function GPe(e,t){let n=.5;const s=wo(e),a=wo(t);return a>s?n=Ty(t.min,t.max-s,e.min):s>a&&(n=Ty(e.min,e.max-a,t.min)),xh(0,1,n)}function KPe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const v4=.35;function YPe(e=v4){return e===!1?e=0:e===!0&&(e=v4),{x:E8(e,"left","right"),y:E8(e,"top","bottom")}}function E8(e,t,n){return{min:T8(e,t),max:T8(e,n)}}function T8(e,t){return typeof e=="number"?e:e[t]||0}const O8=()=>({translate:0,scale:1,origin:0,originPoint:0}),jp=()=>({x:O8(),y:O8()}),L8=()=>({min:0,max:0}),Ds=()=>({x:L8(),y:L8()});function $o(e){return[e("x"),e("y")]}function yz({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function ZPe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XPe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function u5(e){return e===void 0||e===1}function b4({scale:e,scaleX:t,scaleY:n}){return!u5(e)||!u5(t)||!u5(n)}function hf(e){return b4(e)||vz(e)||e.z||e.rotate||e.rotateX||e.rotateY}function vz(e){return I8(e.x)||I8(e.y)}function I8(e){return e&&e!=="0%"}function $w(e,t,n){const s=e-n,a=t*s;return n+a}function M8(e,t,n,s,a){return a!==void 0&&(e=$w(e,a,s)),$w(e,n,s)+t}function w4(e,t=0,n=1,s,a){e.min=M8(e.min,t,n,s,a),e.max=M8(e.max,t,n,s,a)}function bz(e,{x:t,y:n}){w4(e.x,t.translate,t.scale,t.originPoint),w4(e.y,n.translate,n.scale,n.originPoint)}function JPe(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Np(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bz(e,o)),s&&hf(i.latestValues)&&Np(e,i.latestValues))}t.x=D8(t.x),t.y=D8(t.y)}function D8(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Mu(e,t){e.min=e.min+t,e.max=e.max+t}function R8(e,t,[n,s,a]){const i=t[a]!==void 0?t[a]:.5,o=cs(e.min,e.max,i);w4(e,t[n],t[s],o,t.scale)}const QPe=["x","scaleX","originX"],eEe=["y","scaleY","originY"];function Np(e,t){R8(e.x,t,QPe),R8(e.y,t,eEe)}function wz(e,t){return yz(XPe(e.getBoundingClientRect(),t))}function tEe(e,t,n){const s=wz(e,n),{scroll:a}=t;return a&&(Mu(s.x,a.offset.x),Mu(s.y,a.offset.y)),s}const jz=({current:e})=>e?e.ownerDocument.defaultView:null,rEe=new WeakMap;class nEe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ds(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cj(u,"page").point)},i=(u,h)=>{const{drag:p,dragPropagation:f,onDragStart:x}=this.getProps();if(p&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=MB(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$o(v=>{let b=this.getAxisMotionValue(v).get()||0;if(_c.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[v];w&&(b=wo(w)*(parseFloat(b)/100))}}this.originPoint[v]=b}),x&&In.update(()=>x(u,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:x,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=h;if(f&&this.currentDirection===null){this.currentDirection=sEe(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(u,h)},l=(u,h)=>this.stop(u,h),c=()=>$o(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gz(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:jz(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&In.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Cb(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=WPe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&bp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=VPe(a.layoutBox,n):this.constraints=!1,this.elastic=YPe(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&$o(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=KPe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bp(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=tEe(s,a.root,this.visualElement.getTransformPagePoint());let o=HPe(a.layout.layoutBox,i);if(n){const l=n(ZPe(o));this.hasMutatedConstraints=!!l,l&&(o=yz(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=$o(u=>{if(!Cb(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const p=a?200:1e6,f=a?40:1e7,x={type:"inertia",velocity:s?t[u]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Hk(t,s,0,n))}stopAnimation(){$o(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$o(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){$o(n=>{const{drag:s}=this.getProps();if(!Cb(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-cs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!bp(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$o(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=GPe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$o(o=>{if(!Cb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(cs(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;rEe.set(this.visualElement,this);const t=this.visualElement.current,n=jd(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();bp(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),s();const o=yd(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&($o(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=v4,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Cb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sEe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class aEe extends kh{constructor(t){super(t),this.removeGroupControls=Es,this.removeListeners=Es,this.controls=new nEe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Es}unmount(){this.removeGroupControls(),this.removeListeners()}}const F8=e=>(t,n)=>{e&&In.update(()=>e(t,n))};class iEe extends kh{constructor(){super(...arguments),this.removePointerDownListener=Es}onPointerDown(t){this.session=new gz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:F8(t),onStart:F8(n),onMove:s,onEnd:(i,o)=>{delete this.session,a&&In.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=jd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function oEe(){const e=j.useContext(sj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,a=j.useId();return j.useEffect(()=>s(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const Yb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const i0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xt.test(e))e=parseFloat(e);else return e;const n=$8(e,t.target.x),s=$8(e,t.target.y);return`${n}% ${s}%`}},lEe={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=yh.parse(e);if(a.length>5)return s;const i=yh.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=cs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class cEe extends xe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;xAe(dEe),i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||In.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Nz(e){const[t,n]=oEe(),s=j.useContext(Lk);return xe.createElement(cEe,{...e,layoutGroup:s,switchLayoutGroup:j.useContext(yB),isPresent:t,safeToRemove:n})}const dEe={borderRadius:{...i0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:i0,borderTopRightRadius:i0,borderBottomLeftRadius:i0,borderBottomRightRadius:i0,boxShadow:lEe},Sz=["TopLeft","TopRight","BottomLeft","BottomRight"],uEe=Sz.length,B8=e=>typeof e=="string"?parseFloat(e):e,z8=e=>typeof e=="number"||Xt.test(e);function hEe(e,t,n,s,a,i){a?(e.opacity=cs(0,n.opacity!==void 0?n.opacity:1,fEe(s)),e.opacityExit=cs(t.opacity!==void 0?t.opacity:1,0,mEe(s))):i&&(e.opacity=cs(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<uEe;o++){const l=`border${Sz[o]}Radius`;let c=U8(t,l),d=U8(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||z8(c)===z8(d)?(e[l]=Math.max(cs(B8(c),B8(d),s),0),(_c.test(d)||_c.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=cs(t.rotate||0,n.rotate||0,s))}function U8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fEe=_z(0,.5,GB),mEe=_z(.5,.95,Es);function _z(e,t,n){return s=>s<e?0:s>t?1:n(Ty(e,t,s))}function q8(e,t){e.min=t.min,e.max=t.max}function Fo(e,t){q8(e.x,t.x),q8(e.y,t.y)}function W8(e,t,n,s,a){return e-=t,e=$w(e,1/n,s),a!==void 0&&(e=$w(e,1/a,s)),e}function pEe(e,t=0,n=1,s=.5,a,i=e,o=e){if(_c.test(t)&&(t=parseFloat(t),t=cs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=cs(i.min,i.max,s);e===i&&(l-=t),e.min=W8(e.min,t,n,l,a),e.max=W8(e.max,t,n,l,a)}function V8(e,t,[n,s,a],i,o){pEe(e,t[n],t[s],t[a],t.scale,i,o)}const gEe=["x","scaleX","originX"],xEe=["y","scaleY","originY"];function H8(e,t,n,s){V8(e.x,t,gEe,n?n.x:void 0,s?s.x:void 0),V8(e.y,t,xEe,n?n.y:void 0,s?s.y:void 0)}function G8(e){return e.translate===0&&e.scale===1}function kz(e){return G8(e.x)&&G8(e.y)}function yEe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Az(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function K8(e){return wo(e.x)/wo(e.y)}class vEe{constructor(){this.members=[]}add(t){Gk(this.members,t),t.scheduleRender()}remove(t){if(Kk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y8(e,t,n){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(s=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:d,rotateY:u}=n;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),u&&(s+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const bEe=(e,t)=>e.depth-t.depth;class wEe{constructor(){this.children=[],this.isDirty=!1}add(t){Gk(this.children,t),this.isDirty=!0}remove(t){Kk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bEe),this.isDirty=!1,this.children.forEach(t)}}function jEe(e,t){const n=performance.now(),s=({timestamp:a})=>{const i=a-n;i>=t&&(Od(s),e(i-t))};return In.read(s,!0),()=>Od(s)}function NEe(e){window.MotionDebug&&window.MotionDebug.record(e)}function SEe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function _Ee(e,t,n){const s=Di(e)?e:Mg(e);return s.start(Hk("",s,t,n)),s.animation}const Z8=["","X","Y","Z"],kEe={visibility:"hidden"},X8=1e3;let AEe=0;const ff={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Cz({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=AEe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ff.totalNodes=ff.resolvedTargetDeltas=ff.recalculatedProjection=0,this.nodes.forEach(EEe),this.nodes.forEach(MEe),this.nodes.forEach(DEe),this.nodes.forEach(TEe),NEe(ff)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wEe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SEe(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jEe(p,250),Yb.hasAnimatedSinceResize&&(Yb.hasAnimatedSinceResize=!1,this.nodes.forEach(Q8))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||zEe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),_=!this.targetLayout||!Az(this.targetLayout,x)||f,w=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const S={...Vk(g,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||Q8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Od(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(REe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J8);return}this.isUpdating||this.nodes.forEach(LEe),this.isUpdating=!1,this.nodes.forEach(IEe),this.nodes.forEach(CEe),this.nodes.forEach(PEe),this.clearAllSnapshots();const l=performance.now();qa.delta=xh(0,1e3/60,l-qa.timestamp),qa.timestamp=l,qa.isProcessing=!0,t5.update.process(qa),t5.preRender.process(qa),t5.render.process(qa),qa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(OEe),this.sharedNodes.forEach(FEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ds(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!kz(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||hf(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),UEe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ds();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Mu(l.x,c.offset.x),Mu(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ds();Fo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){Fo(l,o);const{scroll:p}=this.root;p&&(Mu(l.x,-p.offset.x),Mu(l.y,-p.offset.y))}Mu(l.x,u.offset.x),Mu(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Ds();Fo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Np(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hf(u.latestValues)&&Np(c,u.latestValues)}return hf(this.latestValues)&&Np(c,this.latestValues),c}removeTransform(o){const l=Ds();Fo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!hf(d.latestValues))continue;b4(d.latestValues)&&d.updateSnapshot();const u=Ds(),h=d.measurePageBox();Fo(u,h),H8(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return hf(this.latestValues)&&H8(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=qa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ds(),this.relativeTargetOrigin=Ds(),I0(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ds(),this.targetWithTransforms=Ds()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qPe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fo(this.target,this.layout.layoutBox),bz(this.target,this.targetDelta)):Fo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ds(),this.relativeTargetOrigin=Ds(),I0(this.relativeTargetOrigin,this.target,f.target),Fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ff.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||b4(this.parent.latestValues)||vz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qa.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Fo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;JPe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=jp(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=jp(),this.projectionDeltaWithTransform=jp());const g=this.projectionTransform;L0(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Y8(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ff.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=jp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ds(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=f!==x,v=this.getStack(),b=!v||v.members.length<=1,_=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(BEe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const A=S/1e3;eL(h.x,o.x,A),eL(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(I0(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$Ee(this.relativeTarget,this.relativeTargetOrigin,p,A),w&&yEe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ds()),Fo(w,this.relativeTarget)),g&&(this.animationValues=u,hEe(u,d,this.latestValues,A,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Od(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{Yb.hasAnimatedSinceResize=!0,this.currentAnimation=_Ee(0,X8,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Pz(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ds();const h=wo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=wo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Fo(l,c),Np(l,u),L0(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vEe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<Z8.length;u++){const h="rotate"+Z8[u];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kEe;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Kb(o?.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Kb(o?.pointerEvents)||""),this.hasProjected&&!hf(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Y8(this.projectionDeltaWithTransform,this.treeScale,p),u&&(d.transform=u(p,d.transform));const{x:f,y:x}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Tw){if(p[g]===void 0)continue;const{correct:v,applyTo:b}=Tw[g],_=d.transform==="none"?p[g]:v(p[g],h);if(b){const w=b.length;for(let S=0;S<w;S++)d[b[S]]=_}else d[g]=_}return this.options.layoutId&&(d.pointerEvents=h===this?Kb(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(J8),this.root.sharedNodes.clear()}}}function CEe(e){e.updateLayout()}function PEe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?$o(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],f=wo(p);p.min=s[h].min,p.max=p.min+f}):Pz(i,n.layoutBox,s)&&$o(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],f=wo(s[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=jp();L0(l,s,n.layoutBox);const c=jp();o?L0(c,e.applyTransform(a,!0),n.measuredBox):L0(c,s,n.layoutBox);const d=!kz(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const x=Ds();I0(x,n.layoutBox,p.layoutBox);const g=Ds();I0(g,s,f.layoutBox),Az(x,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function EEe(e){ff.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TEe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OEe(e){e.clearSnapshot()}function J8(e){e.clearMeasurements()}function LEe(e){e.isLayoutDirty=!1}function IEe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Q8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function MEe(e){e.resolveTargetDelta()}function DEe(e){e.calcProjection()}function REe(e){e.resetRotation()}function FEe(e){e.removeLeadSnapshot()}function eL(e,t,n){e.translate=cs(t.translate,0,n),e.scale=cs(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tL(e,t,n,s){e.min=cs(t.min,n.min,s),e.max=cs(t.max,n.max,s)}function $Ee(e,t,n,s){tL(e.x,t.x,n.x,s),tL(e.y,t.y,n.y,s)}function BEe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zEe={duration:.45,ease:[.4,0,.1,1]},rL=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),nL=rL("applewebkit/")&&!rL("chrome/")?Math.round:Es;function sL(e){e.min=nL(e.min),e.max=nL(e.max)}function UEe(e){sL(e.x),sL(e.y)}function Pz(e,t,n){return e==="position"||e==="preserve-aspect"&&!y4(K8(t),K8(n),.2)}const qEe=Cz({attachResizeListener:(e,t)=>yd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h5={current:void 0},Ez=Cz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!h5.current){const e=new qEe({});e.mount(window),e.setOptions({layoutScroll:!0}),h5.current=e}return h5.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WEe={pan:{Feature:iEe},drag:{Feature:aEe,ProjectionNode:Ez,MeasureLayout:Nz}},VEe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function HEe(e){const t=VEe.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function j4(e,t,n=1){const[s,a]=HEe(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return hz(o)?parseFloat(o):o}else return u4(a)?j4(a,t,n+1):a}function GEe(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!u4(i))return;const o=j4(i,s);o&&a.set(o)});for(const a in t){const i=t[a];if(!u4(i))continue;const o=j4(i,s);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const KEe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Tz=e=>KEe.has(e),YEe=e=>Object.keys(e).some(Tz),aL=e=>e===jm||e===Xt,iL=(e,t)=>parseFloat(e.split(", ")[t]),oL=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return iL(a[1],t);{const i=s.match(/^matrix\((.+)\)$/);return i?iL(i[1],e):0}},ZEe=new Set(["x","y","z"]),XEe=sv.filter(e=>!ZEe.has(e));function JEe(e){const t=[];return XEe.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Dg={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:oL(4,13),y:oL(5,14)};Dg.translateX=Dg.x;Dg.translateY=Dg.y;const QEe=(e,t,n)=>{const s=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(d=>{l[d]=Dg[d](s,i)}),t.render();const c=t.measureViewportBox();return n.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Dg[d](c,i)}),e},eTe=(e,t,n={},s={})=>{t={...t},s={...s};const a=Object.keys(t).filter(Tz);let i=[],o=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=n[c],h=a0(u);const p=t[c];let f;if(Lw(p)){const x=p.length,g=p[0]===null?1:0;u=p[g],h=a0(u);for(let v=g;v<x&&p[v]!==null;v++)f?Iw(a0(p[v])===f):f=a0(p[v])}else f=a0(p);if(h!==f)if(aL(h)&&aL(f)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&f===Xt&&(t[c]=p.map(parseFloat))}else h?.transform&&f?.transform&&(u===0||p===0)?u===0?d.set(f.transform(u)):t[c]=h.transform(p):(o||(i=JEe(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=QEe(t,e,l);return i.length&&i.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),aj&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:t,transitionEnd:s}};function tTe(e,t,n,s){return YEe(t)?eTe(e,t,n,s):{target:t,transitionEnd:s}}const rTe=(e,t,n,s)=>{const a=GEe(e,t,s);return t=a.target,s=a.transitionEnd,tTe(e,t,n,s)},N4={current:null},Oz={current:!1};function nTe(){if(Oz.current=!0,!!aj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>N4.current=e.matches;e.addListener(t),t()}else N4.current=!1}function sTe(e,t,n){const{willChange:s}=t;for(const a in t){const i=t[a],o=n[a];if(Di(i))e.addValue(a,i),Fw(s)&&s.add(a);else if(Di(o))e.addValue(a,Mg(i,{owner:e})),Fw(s)&&s.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,Mg(l!==void 0?l:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const lL=new WeakMap,Lz=Object.keys(Ey),aTe=Lz.length,cL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iTe=Ok.length;class oTe{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>In.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=oj(n),this.isVariantNode=xB(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const p=u[h];l[h]!==void 0&&Di(p)&&(p.set(l[h],!1),Fw(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,lL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Oz.current||nTe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:N4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lL.delete(this.current),this.projection&&this.projection.unmount(),Od(this.notifyUpdate),Od(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=wm.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&In.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,a,i){let o,l;for(let c=0;c<aTe;c++){const d=Lz[c],{isEnabled:u,Feature:h,ProjectionNode:p,MeasureLayout:f}=Ey[d];p&&(o=p),u(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:f}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&bp(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ds()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<cL.length;s++){const a=cL[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=sTe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<iTe;s++){const a=Ok[s],i=this.props[a];(Py(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Mg(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,a=typeof s=="string"||typeof s=="object"?(n=Bk(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Di(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Yk),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Iz extends oTe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:a},i){let o=SPe(s,t||{},this);if(a&&(n&&(n=a(n)),s&&(s=a(s)),o&&(o=a(o))),i){jPe(this,s,o);const l=rTe(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:n,...s}}}function lTe(e){return window.getComputedStyle(e)}class cTe extends Iz{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(wm.has(n)){const s=Wk(n);return s&&s.default||0}else{const s=lTe(t),a=(wB(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wz(t,n)}build(t,n,s,a){Mk(t,n,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return $k(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Di(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,a){AB(t,n,s,a)}}class dTe extends Iz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wm.has(n)){const s=Wk(n);return s&&s.default||0}return n=CB.has(n)?n:Ek(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ds()}scrapeMotionValuesFromProps(t,n){return EB(t,n)}build(t,n,s,a){Rk(t,n,s,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,s,a){PB(t,n,s,a)}mount(t){this.isSVGTag=Fk(t.tagName),super.mount(t)}}const uTe=(e,t)=>Ik(e)?new dTe(t,{enableHardwareAcceleration:!1}):new cTe(t,{enableHardwareAcceleration:!0}),hTe={layout:{ProjectionNode:Ez,MeasureLayout:Nz}},fTe={...$Pe,...iCe,...WEe,...hTe},mf=pAe((e,t)=>GAe(e,t,fTe,uTe));function Mz(){const e=j.useRef(!1);return Pk(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function mTe(){const e=Mz(),[t,n]=j.useState(0),s=j.useCallback(()=>{e.current&&n(t+1)},[t]);return[j.useCallback(()=>In.postRender(s),[s]),t]}class pTe extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gTe({children:e,isPresent:t}){const n=j.useId(),s=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!s.current||!i||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),j.createElement(pTe,{isPresent:t,childRef:s,sizeRef:a},j.cloneElement(e,{ref:s}))}const f5=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=TB(xTe),c=j.useId(),d=j.useMemo(()=>({id:c,initial:t,isPresent:n,custom:a,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;s&&s()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[n]);return j.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[n]),j.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=j.createElement(gTe,{isPresent:n},e)),j.createElement(sj.Provider,{value:d},e)};function xTe(){return new Map}function yTe(e){return j.useEffect(()=>()=>e(),[])}const pf=e=>e.key||"";function vTe(e,t){e.forEach(n=>{const s=pf(n);t.set(s,n)})}function bTe(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const Zb=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=j.useContext(Lk).forceRender||mTe()[0],c=Mz(),d=bTe(e);let u=d;const h=j.useRef(new Map).current,p=j.useRef(u),f=j.useRef(new Map).current,x=j.useRef(!0);if(Pk(()=>{x.current=!1,vTe(d,f),p.current=u}),yTe(()=>{x.current=!0,f.clear(),h.clear()}),x.current)return j.createElement(j.Fragment,null,u.map(_=>j.createElement(f5,{key:pf(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},_)));u=[...u];const g=p.current.map(pf),v=d.map(pf),b=g.length;for(let _=0;_<b;_++){const w=g[_];v.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((_,w)=>{if(v.indexOf(w)!==-1)return;const S=f.get(w);if(!S)return;const A=g.indexOf(w);let L=_;if(!L){const P=()=>{h.delete(w);const k=Array.from(f.keys()).filter(C=>!v.includes(C));if(k.forEach(C=>f.delete(C)),p.current=d.filter(C=>{const R=pf(C);return R===w||k.includes(R)}),!h.size){if(c.current===!1)return;l(),s&&s()}};L=j.createElement(f5,{key:pf(S),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:i,mode:o},S),h.set(w,L)}u.splice(A,0,L)}),u=u.map(_=>{const w=_.key;return h.has(w)?_:j.createElement(f5,{key:pf(_),isPresent:!0,presenceAffectsLayout:i,mode:o},_)}),j.createElement(j.Fragment,null,h.size?u:u.map(_=>j.cloneElement(_)))},wTe="modulepreload",jTe=function(e){return"/"+e},dL={},m5=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(n.map(c=>{if(c=jTe(c),c in dL)return;dL[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":wTe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var Rl=Uint8Array,mo=Uint16Array,Zk=Int32Array,Xk=new Rl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jk=new Rl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uL=new Rl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dz=function(e,t){for(var n=new mo(31),s=0;s<31;++s)n[s]=t+=1<<e[s-1];for(var a=new Zk(n[30]),s=1;s<30;++s)for(var i=n[s];i<n[s+1];++i)a[i]=i-n[s]<<5|s;return{b:n,r:a}},Rz=Dz(Xk,2),NTe=Rz.b,S4=Rz.r;NTe[28]=258,S4[258]=28;var STe=Dz(Jk,0),hL=STe.r,_4=new mo(32768);for(var qn=0;qn<32768;++qn){var Au=(qn&43690)>>1|(qn&21845)<<1;Au=(Au&52428)>>2|(Au&13107)<<2,Au=(Au&61680)>>4|(Au&3855)<<4,_4[qn]=((Au&65280)>>8|(Au&255)<<8)>>1}var M0=function(e,t,n){for(var s=e.length,a=0,i=new mo(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new mo(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(n){l=new mo(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],h=o[e[a]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)l[_4[h]>>c]=d}else for(l=new mo(s),a=0;a<s;++a)e[a]&&(l[a]=_4[o[e[a]-1]++]>>15-e[a]);return l},hm=new Rl(288);for(var qn=0;qn<144;++qn)hm[qn]=8;for(var qn=144;qn<256;++qn)hm[qn]=9;for(var qn=256;qn<280;++qn)hm[qn]=7;for(var qn=280;qn<288;++qn)hm[qn]=8;var Bw=new Rl(32);for(var qn=0;qn<32;++qn)Bw[qn]=5;var _Te=M0(hm,9,0),kTe=M0(Bw,5,0),Fz=function(e){return(e+7)/8|0},ATe=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Rl(e.subarray(t,n))},ad=function(e,t,n){n<<=t&7;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8},o0=function(e,t,n){n<<=t&7;var s=t/8|0;e[s]|=n,e[s+1]|=n>>8,e[s+2]|=n>>16},p5=function(e,t){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s,f:e[s]});var a=n.length,i=n.slice();if(!a)return{t:Bz,l:0};if(a==1){var o=new Rl(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(A,L){return A.f-L.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],d=0,u=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=n[n[d].f<n[h].f?d++:h++],c=n[d!=u&&n[d].f<n[h].f?d++:h++],n[u++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,s=1;s<a;++s)i[s].s>p&&(p=i[s].s);var f=new mo(p+1),x=k4(n[u-1],f,0);if(x>t){var s=0,g=0,v=x-t,b=1<<v;for(i.sort(function(L,P){return f[P.s]-f[L.s]||L.f-P.f});s<a;++s){var _=i[s].s;if(f[_]>t)g+=b-(1<<x-f[_]),f[_]=t;else break}for(g>>=v;g>0;){var w=i[s].s;f[w]<t?g-=1<<t-f[w]++-1:++s}for(;s>=0&&g;--s){var S=i[s].s;f[S]==t&&(--f[S],++g)}x=t}return{t:new Rl(f),l:x}},k4=function(e,t,n){return e.s==-1?Math.max(k4(e.l,t,n+1),k4(e.r,t,n+1)):t[e.s]=n},fL=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new mo(++t),s=0,a=e[0],i=1,o=function(c){n[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:n.subarray(0,s),n:t}},l0=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[s]*t[s];return n},$z=function(e,t,n){var s=n.length,a=Fz(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=n[i];return(a+4+s)*8},mL=function(e,t,n,s,a,i,o,l,c,d,u){ad(t,u++,n),++a[256];for(var h=p5(a,15),p=h.t,f=h.l,x=p5(i,15),g=x.t,v=x.l,b=fL(p),_=b.c,w=b.n,S=fL(g),A=S.c,L=S.n,P=new mo(19),k=0;k<_.length;++k)++P[_[k]&31];for(var k=0;k<A.length;++k)++P[A[k]&31];for(var C=p5(P,7),R=C.t,E=C.l,I=19;I>4&&!R[uL[I-1]];--I);var B=d+5<<3,z=l0(a,hm)+l0(i,Bw)+o,V=l0(a,p)+l0(i,g)+o+14+3*I+l0(P,R)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&B<=z&&B<=V)return $z(t,u,e.subarray(c,c+d));var U,K,$,W;if(ad(t,u,1+(V<z)),u+=2,V<z){U=M0(p,f,0),K=p,$=M0(g,v,0),W=g;var te=M0(R,E,0);ad(t,u,w-257),ad(t,u+5,L-1),ad(t,u+10,I-4),u+=14;for(var k=0;k<I;++k)ad(t,u+3*k,R[uL[k]]);u+=3*I;for(var J=[_,A],M=0;M<2;++M)for(var G=J[M],k=0;k<G.length;++k){var X=G[k]&31;ad(t,u,te[X]),u+=R[X],X>15&&(ad(t,u,G[k]>>5&127),u+=G[k]>>12)}}else U=_Te,K=hm,$=kTe,W=Bw;for(var k=0;k<l;++k){var ie=s[k];if(ie>255){var X=ie>>18&31;o0(t,u,U[X+257]),u+=K[X+257],X>7&&(ad(t,u,ie>>23&31),u+=Xk[X]);var re=ie&31;o0(t,u,$[re]),u+=W[re],re>3&&(o0(t,u,ie>>5&8191),u+=Jk[re])}else o0(t,u,U[ie]),u+=K[ie]}return o0(t,u,U[256]),u+K[256]},CTe=new Zk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bz=new Rl(0),PTe=function(e,t,n,s,a,i){var o=i.z||e.length,l=new Rl(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var h=CTe[t-1],p=h>>13,f=h&8191,x=(1<<n)-1,g=i.p||new mo(32768),v=i.h||new mo(x+1),b=Math.ceil(n/3),_=2*b,w=function(Ne){return(e[Ne]^e[Ne+1]<<b^e[Ne+2]<<_)&x},S=new Zk(25e3),A=new mo(288),L=new mo(32),P=0,k=0,C=i.i||0,R=0,E=i.w||0,I=0;C+2<o;++C){var B=w(C),z=C&32767,V=v[B];if(g[z]=V,v[B]=z,E<=C){var U=o-C;if((P>7e3||R>24576)&&(U>423||!d)){u=mL(e,c,0,S,A,L,k,R,I,C-I,u),R=P=k=0,I=C;for(var K=0;K<286;++K)A[K]=0;for(var K=0;K<30;++K)L[K]=0}var $=2,W=0,te=f,J=z-V&32767;if(U>2&&B==w(C-J))for(var M=Math.min(p,U)-1,G=Math.min(32767,C),X=Math.min(258,U);J<=G&&--te&&z!=V;){if(e[C+$]==e[C+$-J]){for(var ie=0;ie<X&&e[C+ie]==e[C+ie-J];++ie);if(ie>$){if($=ie,W=J,ie>M)break;for(var re=Math.min(J,ie-2),fe=0,K=0;K<re;++K){var we=C-J+K&32767,Z=g[we],Q=we-Z&32767;Q>fe&&(fe=Q,V=we)}}}z=V,V=g[z],J+=z-V&32767}if(W){S[R++]=268435456|S4[$]<<18|hL[W];var pe=S4[$]&31,ge=hL[W]&31;k+=Xk[pe]+Jk[ge],++A[257+pe],++L[ge],E=C+$,++P}else S[R++]=e[C],++A[e[C]]}}for(C=Math.max(C,E);C<o;++C)S[R++]=e[C],++A[e[C]];u=mL(e,c,d,S,A,L,k,R,I,C-I,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=v,i.p=g,i.i=C,i.w=E)}else{for(var C=i.w||0;C<o+d;C+=65535){var Ae=C+65535;Ae>=o&&(c[u/8|0]=d,Ae=o),u=$z(c,u+1,e.subarray(C,Ae))}i.i=o}return ATe(l,0,s+Fz(u)+a)},zz=function(){var e=1,t=0;return{p:function(n){for(var s=e,a=t,i=n.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=n[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ETe=function(e,t,n,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Rl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return PTe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,s,a)},Uz=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},TTe=function(e,t){var n=t.level,s=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=zz();a.p(t.dictionary),Uz(e,2,a.d())}};function A4(e,t){t||(t={});var n=zz();n.p(e);var s=ETe(e,t,t.dictionary?6:2,4);return TTe(s,t),Uz(s,s.length-4,n.d()),s}var OTe=typeof TextDecoder<"u"&&new TextDecoder,LTe=0;try{OTe.decode(Bz,{stream:!0}),LTe=1}catch{}function ITe(e){if(Array.isArray(e))return e}function MTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function pL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function DTe(e,t){if(e){if(typeof e=="string")return pL(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pL(e,t):void 0}}function RTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gL(e,t){return ITe(e)||MTe(e,t)||DTe(e,t)||RTe()}function xL(e,t="utf8"){return new TextDecoder(t).decode(e)}const FTe=new TextEncoder;function $Te(e){return FTe.encode(e)}const BTe=1024*8,zTe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),g5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Qk{constructor(t=BTe,n={}){fn(this,"buffer");fn(this,"byteLength");fn(this,"byteOffset");fn(this,"length");fn(this,"offset");fn(this,"lastWrittenByte");fn(this,"littleEndian");fn(this,"_data");fn(this,"_mark");fn(this,"_marks");let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const a=n.offset?n.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof Qk)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const s=g5[n].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===zTe&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new g5[n](l.buffer);return this.offset+=s,c.reverse(),c}const o=new g5[n](i);return this.offset+=s,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let s=0;s<t;s++)n+=this.readChar();return n}readUtf8(t=1){return xL(this.readBytes(t))}decodeText(t=1,n="utf8"){return xL(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes($Te(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const UTe=4,yL=0,vL=1,qTe=2;function lx(e){let t=e.length;for(;--t>=0;)e[t]=0}const WTe=0,qz=1,VTe=2,HTe=3,GTe=258,e3=29,lv=256,Oy=lv+1+e3,Dp=30,t3=19,Wz=2*Oy+1,Af=15,x5=16,KTe=7,r3=256,Vz=16,Hz=17,Gz=18,C4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Xb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YTe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Kz=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZTe=512,dd=new Array((Oy+2)*2);lx(dd);const D0=new Array(Dp*2);lx(D0);const Ly=new Array(ZTe);lx(Ly);const Iy=new Array(GTe-HTe+1);lx(Iy);const n3=new Array(e3);lx(n3);const zw=new Array(Dp);lx(zw);function y5(e,t,n,s,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=s,this.max_length=a,this.has_stree=e&&e.length}let Yz,Zz,Xz;function v5(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Jz=e=>e<256?Ly[e]:Ly[256+(e>>>7)],My=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ti=(e,t,n)=>{e.bi_valid>x5-n?(e.bi_buf|=t<<e.bi_valid&65535,My(e,e.bi_buf),e.bi_buf=t>>x5-e.bi_valid,e.bi_valid+=n-x5):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},fc=(e,t,n)=>{Ti(e,n[t*2],n[t*2+1])},Qz=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},XTe=e=>{e.bi_valid===16?(My(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},JTe=(e,t)=>{const n=t.dyn_tree,s=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,u,h,p,f,x,g=0;for(p=0;p<=Af;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<Wz;d++)u=e.heap[d],p=n[n[u*2+1]*2+1]+1,p>c&&(p=c,g++),n[u*2+1]=p,!(u>s)&&(e.bl_count[p]++,f=0,u>=l&&(f=o[u-l]),x=n[u*2],e.opt_len+=x*(p+f),i&&(e.static_len+=x*(a[u*2+1]+f)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(u=e.bl_count[p];u!==0;)h=e.heap[--d],!(h>s)&&(n[h*2+1]!==p&&(e.opt_len+=(p-n[h*2+1])*n[h*2],n[h*2+1]=p),u--)}},eU=(e,t,n)=>{const s=new Array(Af+1);let a=0,i,o;for(i=1;i<=Af;i++)a=a+n[i-1]<<1,s[i]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Qz(s[l]++,l))}},QTe=()=>{let e,t,n,s,a;const i=new Array(Af+1);for(n=0,s=0;s<e3-1;s++)for(n3[s]=n,e=0;e<1<<C4[s];e++)Iy[n++]=s;for(Iy[n-1]=s,a=0,s=0;s<16;s++)for(zw[s]=a,e=0;e<1<<Xb[s];e++)Ly[a++]=s;for(a>>=7;s<Dp;s++)for(zw[s]=a<<7,e=0;e<1<<Xb[s]-7;e++)Ly[256+a++]=s;for(t=0;t<=Af;t++)i[t]=0;for(e=0;e<=143;)dd[e*2+1]=8,e++,i[8]++;for(;e<=255;)dd[e*2+1]=9,e++,i[9]++;for(;e<=279;)dd[e*2+1]=7,e++,i[7]++;for(;e<=287;)dd[e*2+1]=8,e++,i[8]++;for(eU(dd,Oy+1,i),e=0;e<Dp;e++)D0[e*2+1]=5,D0[e*2]=Qz(e,5);Yz=new y5(dd,C4,lv+1,Oy,Af),Zz=new y5(D0,Xb,0,Dp,Af),Xz=new y5(new Array(0),YTe,0,t3,KTe)},tU=e=>{let t;for(t=0;t<Oy;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Dp;t++)e.dyn_dtree[t*2]=0;for(t=0;t<t3;t++)e.bl_tree[t*2]=0;e.dyn_ltree[r3*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},rU=e=>{e.bi_valid>8?My(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},bL=(e,t,n,s)=>{const a=t*2,i=n*2;return e[a]<e[i]||e[a]===e[i]&&s[t]<=s[n]},b5=(e,t,n)=>{const s=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&bL(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!bL(t,s,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=s},wL=(e,t,n)=>{let s,a,i=0,o,l;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+i++]&255,s+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],s===0?fc(e,a,t):(o=Iy[a],fc(e,o+lv+1,t),l=C4[o],l!==0&&(a-=n3[o],Ti(e,a,l)),s--,o=Jz(s),fc(e,o,n),l=Xb[o],l!==0&&(s-=zw[o],Ti(e,s,l)));while(i<e.sym_next);fc(e,r3,t)},P4=(e,t)=>{const n=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,c=-1,d;for(e.heap_len=0,e.heap_max=Wz,o=0;o<i;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,n[d*2]=1,e.depth[d]=0,e.opt_len--,a&&(e.static_len-=s[d*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)b5(e,n,o);d=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b5(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[d*2]=n[o*2]+n[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[o*2+1]=n[l*2+1]=d,e.heap[1]=d++,b5(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],JTe(e,t),eU(n,c,e.bl_count)},jL=(e,t,n)=>{let s,a=-1,i,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),t[(n+1)*2+1]=65535,s=0;s<=n;s++)i=o,o=t[(s+1)*2+1],!(++l<c&&i===o)&&(l<d?e.bl_tree[i*2]+=l:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[Vz*2]++):l<=10?e.bl_tree[Hz*2]++:e.bl_tree[Gz*2]++,l=0,a=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4))},NL=(e,t,n)=>{let s,a=-1,i,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),s=0;s<=n;s++)if(i=o,o=t[(s+1)*2+1],!(++l<c&&i===o)){if(l<d)do fc(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==a&&(fc(e,i,e.bl_tree),l--),fc(e,Vz,e.bl_tree),Ti(e,l-3,2)):l<=10?(fc(e,Hz,e.bl_tree),Ti(e,l-3,3)):(fc(e,Gz,e.bl_tree),Ti(e,l-11,7));l=0,a=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4)}},eOe=e=>{let t;for(jL(e,e.dyn_ltree,e.l_desc.max_code),jL(e,e.dyn_dtree,e.d_desc.max_code),P4(e,e.bl_desc),t=t3-1;t>=3&&e.bl_tree[Kz[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},tOe=(e,t,n,s)=>{let a;for(Ti(e,t-257,5),Ti(e,n-1,5),Ti(e,s-4,4),a=0;a<s;a++)Ti(e,e.bl_tree[Kz[a]*2+1],3);NL(e,e.dyn_ltree,t-1),NL(e,e.dyn_dtree,n-1)},rOe=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return yL;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return vL;for(n=32;n<lv;n++)if(e.dyn_ltree[n*2]!==0)return vL;return yL};let SL=!1;const nOe=e=>{SL||(QTe(),SL=!0),e.l_desc=new v5(e.dyn_ltree,Yz),e.d_desc=new v5(e.dyn_dtree,Zz),e.bl_desc=new v5(e.bl_tree,Xz),e.bi_buf=0,e.bi_valid=0,tU(e)},nU=(e,t,n,s)=>{Ti(e,(WTe<<1)+(s?1:0),3),rU(e),My(e,n),My(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},sOe=e=>{Ti(e,qz<<1,3),fc(e,r3,dd),XTe(e)},aOe=(e,t,n,s)=>{let a,i,o=0;e.level>0?(e.strm.data_type===qTe&&(e.strm.data_type=rOe(e)),P4(e,e.l_desc),P4(e,e.d_desc),o=eOe(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&t!==-1?nU(e,t,n,s):e.strategy===UTe||i===a?(Ti(e,(qz<<1)+(s?1:0),3),wL(e,dd,D0)):(Ti(e,(VTe<<1)+(s?1:0),3),tOe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),wL(e,e.dyn_ltree,e.dyn_dtree)),tU(e),s&&rU(e)},iOe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Iy[n]+lv+1)*2]++,e.dyn_dtree[Jz(t)*2]++),e.sym_next===e.sym_end);var oOe=nOe,lOe=nU,cOe=aOe,dOe=iOe,uOe=sOe,hOe={_tr_init:oOe,_tr_stored_block:lOe,_tr_flush_block:cOe,_tr_tally:dOe,_tr_align:uOe};const fOe=(e,t,n,s)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var Dy=fOe;const mOe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},pOe=new Uint32Array(mOe()),gOe=(e,t,n,s)=>{const a=pOe,i=s+n;e^=-1;for(let o=s;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var fa=gOe,Rg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:xOe,_tr_stored_block:E4,_tr_flush_block:yOe,_tr_tally:ch,_tr_align:vOe}=hOe,{Z_NO_FLUSH:dh,Z_PARTIAL_FLUSH:bOe,Z_FULL_FLUSH:wOe,Z_FINISH:Wo,Z_BLOCK:_L,Z_OK:Sa,Z_STREAM_END:kL,Z_STREAM_ERROR:kc,Z_DATA_ERROR:jOe,Z_BUF_ERROR:w5,Z_DEFAULT_COMPRESSION:NOe,Z_FILTERED:SOe,Z_HUFFMAN_ONLY:Pb,Z_RLE:_Oe,Z_FIXED:kOe,Z_DEFAULT_STRATEGY:AOe,Z_UNKNOWN:COe,Z_DEFLATED:uj}=cv,POe=9,EOe=15,TOe=8,OOe=29,LOe=256,T4=LOe+1+OOe,IOe=30,MOe=19,DOe=2*T4+1,ROe=15,Br=3,Xu=258,Ac=Xu+Br+1,FOe=32,Fg=42,s3=57,O4=69,L4=73,I4=91,M4=103,Cf=113,x0=666,xi=1,cx=2,fm=3,dx=4,$Oe=3,Pf=(e,t)=>(e.msg=Rg[t],t),AL=e=>e*2-(e>4?9:0),Ru=e=>{let t=e.length;for(;--t>=0;)e[t]=0},BOe=e=>{let t,n,s,a=e.w_size;t=e.hash_size,s=t;do n=e.head[--s],e.head[s]=n>=a?n-a:0;while(--t);t=a,s=t;do n=e.prev[--s],e.prev[s]=n>=a?n-a:0;while(--t)};let zOe=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,uh=zOe;const oo=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},po=(e,t)=>{yOe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,oo(e.strm)},rn=(e,t)=>{e.pending_buf[e.pending++]=t},c0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},D4=(e,t,n,s)=>{let a=e.avail_in;return a>s&&(a=s),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),e.state.wrap===1?e.adler=Dy(e.adler,t,a,n):e.state.wrap===2&&(e.adler=fa(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},sU=(e,t)=>{let n=e.max_chain_length,s=e.strstart,a,i,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-Ac?e.strstart-(e.w_size-Ac):0,d=e.window,u=e.w_mask,h=e.prev,p=e.strstart+Xu;let f=d[s+o-1],x=d[s+o];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(d[a+o]!==x||d[a+o-1]!==f||d[a]!==d[s]||d[++a]!==d[s+1])){s+=2,a++;do;while(d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&s<p);if(i=Xu-(p-s),s=p-Xu,i>o){if(e.match_start=t,o=i,i>=l)break;f=d[s+o-1],x=d[s+o]}}while((t=h[t&u])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},$g=e=>{const t=e.w_size;let n,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ac)&&(e.window.set(e.window.subarray(t,t+t-s),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),BOe(e),s+=t),e.strm.avail_in===0)break;if(n=D4(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=Br)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=uh(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=uh(e,e.ins_h,e.window[a+Br-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Br)););}while(e.lookahead<Ac&&e.strm.avail_in!==0)},aU=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,a,i,o=0,l=e.strm.avail_in;do{if(s=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,s>a+e.strm.avail_in&&(s=a+e.strm.avail_in),s>i&&(s=i),s<n&&(s===0&&t!==Wo||t===dh||s!==a+e.strm.avail_in)))break;o=t===Wo&&s===a+e.strm.avail_in?1:0,E4(e,0,0,o),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,oo(e.strm),a&&(a>s&&(a=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,s-=a),s&&(D4(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?dx:t!==dh&&t!==Wo&&e.strm.avail_in===0&&e.strstart===e.block_start?cx:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(D4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=n||(a||t===Wo)&&t!==dh&&e.strm.avail_in===0&&a<=i)&&(s=a>i?i:a,o=t===Wo&&e.strm.avail_in===0&&s===a?1:0,E4(e,e.block_start,s,o),e.block_start+=s,oo(e.strm)),o?fm:xi)},j5=(e,t)=>{let n,s;for(;;){if(e.lookahead<Ac){if($g(e),e.lookahead<Ac&&t===dh)return xi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Br&&(e.ins_h=uh(e,e.ins_h,e.window[e.strstart+Br-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Ac&&(e.match_length=sU(e,n)),e.match_length>=Br)if(s=ch(e,e.strstart-e.match_start,e.match_length-Br),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Br){e.match_length--;do e.strstart++,e.ins_h=uh(e,e.ins_h,e.window[e.strstart+Br-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=uh(e,e.ins_h,e.window[e.strstart+1]);else s=ch(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(po(e,!1),e.strm.avail_out===0))return xi}return e.insert=e.strstart<Br-1?e.strstart:Br-1,t===Wo?(po(e,!0),e.strm.avail_out===0?fm:dx):e.sym_next&&(po(e,!1),e.strm.avail_out===0)?xi:cx},op=(e,t)=>{let n,s,a;for(;;){if(e.lookahead<Ac){if($g(e),e.lookahead<Ac&&t===dh)return xi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Br&&(e.ins_h=uh(e,e.ins_h,e.window[e.strstart+Br-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Br-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ac&&(e.match_length=sU(e,n),e.match_length<=5&&(e.strategy===SOe||e.match_length===Br&&e.strstart-e.match_start>4096)&&(e.match_length=Br-1)),e.prev_length>=Br&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Br,s=ch(e,e.strstart-1-e.prev_match,e.prev_length-Br),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=uh(e,e.ins_h,e.window[e.strstart+Br-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Br-1,e.strstart++,s&&(po(e,!1),e.strm.avail_out===0))return xi}else if(e.match_available){if(s=ch(e,0,e.window[e.strstart-1]),s&&po(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return xi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=ch(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Br-1?e.strstart:Br-1,t===Wo?(po(e,!0),e.strm.avail_out===0?fm:dx):e.sym_next&&(po(e,!1),e.strm.avail_out===0)?xi:cx},UOe=(e,t)=>{let n,s,a,i;const o=e.window;for(;;){if(e.lookahead<=Xu){if($g(e),e.lookahead<=Xu&&t===dh)return xi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Br&&e.strstart>0&&(a=e.strstart-1,s=o[a],s===o[++a]&&s===o[++a]&&s===o[++a])){i=e.strstart+Xu;do;while(s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&a<i);e.match_length=Xu-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Br?(n=ch(e,1,e.match_length-Br),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ch(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(po(e,!1),e.strm.avail_out===0))return xi}return e.insert=0,t===Wo?(po(e,!0),e.strm.avail_out===0?fm:dx):e.sym_next&&(po(e,!1),e.strm.avail_out===0)?xi:cx},qOe=(e,t)=>{let n;for(;;){if(e.lookahead===0&&($g(e),e.lookahead===0)){if(t===dh)return xi;break}if(e.match_length=0,n=ch(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(po(e,!1),e.strm.avail_out===0))return xi}return e.insert=0,t===Wo?(po(e,!0),e.strm.avail_out===0?fm:dx):e.sym_next&&(po(e,!1),e.strm.avail_out===0)?xi:cx};function oc(e,t,n,s,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=s,this.func=a}const y0=[new oc(0,0,0,0,aU),new oc(4,4,8,4,j5),new oc(4,5,16,8,j5),new oc(4,6,32,32,j5),new oc(4,4,16,16,op),new oc(8,16,32,32,op),new oc(8,16,128,128,op),new oc(8,32,128,256,op),new oc(32,128,258,1024,op),new oc(32,258,258,4096,op)],WOe=e=>{e.window_size=2*e.w_size,Ru(e.head),e.max_lazy_match=y0[e.level].max_lazy,e.good_match=y0[e.level].good_length,e.nice_match=y0[e.level].nice_length,e.max_chain_length=y0[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Br-1,e.match_available=0,e.ins_h=0};function VOe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=uj,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(DOe*2),this.dyn_dtree=new Uint16Array((2*IOe+1)*2),this.bl_tree=new Uint16Array((2*MOe+1)*2),Ru(this.dyn_ltree),Ru(this.dyn_dtree),Ru(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ROe+1),this.heap=new Uint16Array(2*T4+1),Ru(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*T4+1),Ru(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const dv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Fg&&t.status!==s3&&t.status!==O4&&t.status!==L4&&t.status!==I4&&t.status!==M4&&t.status!==Cf&&t.status!==x0?1:0},iU=e=>{if(dv(e))return Pf(e,kc);e.total_in=e.total_out=0,e.data_type=COe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?s3:t.wrap?Fg:Cf,e.adler=t.wrap===2?0:1,t.last_flush=-2,xOe(t),Sa},oU=e=>{const t=iU(e);return t===Sa&&WOe(e.state),t},HOe=(e,t)=>dv(e)||e.state.wrap!==2?kc:(e.state.gzhead=t,Sa),lU=(e,t,n,s,a,i)=>{if(!e)return kc;let o=1;if(t===NOe&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),a<1||a>POe||n!==uj||s<8||s>15||t<0||t>9||i<0||i>kOe||s===8&&o!==1)return Pf(e,kc);s===8&&(s=9);const l=new VOe;return e.state=l,l.strm=e,l.status=Fg,l.wrap=o,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Br-1)/Br),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=n,oU(e)},GOe=(e,t)=>lU(e,t,uj,EOe,TOe,AOe),KOe=(e,t)=>{if(dv(e)||t>_L||t<0)return e?Pf(e,kc):kc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===x0&&t!==Wo)return Pf(e,e.avail_out===0?w5:kc);const s=n.last_flush;if(n.last_flush=t,n.pending!==0){if(oo(e),e.avail_out===0)return n.last_flush=-1,Sa}else if(e.avail_in===0&&AL(t)<=AL(s)&&t!==Wo)return Pf(e,w5);if(n.status===x0&&e.avail_in!==0)return Pf(e,w5);if(n.status===Fg&&n.wrap===0&&(n.status=Cf),n.status===Fg){let a=uj+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=Pb||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,a|=i<<6,n.strstart!==0&&(a|=FOe),a+=31-a%31,c0(n,a),n.strstart!==0&&(c0(n,e.adler>>>16),c0(n,e.adler&65535)),e.adler=1,n.status=Cf,oo(e),n.pending!==0)return n.last_flush=-1,Sa}if(n.status===s3){if(e.adler=0,rn(n,31),rn(n,139),rn(n,8),n.gzhead)rn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),rn(n,n.gzhead.time&255),rn(n,n.gzhead.time>>8&255),rn(n,n.gzhead.time>>16&255),rn(n,n.gzhead.time>>24&255),rn(n,n.level===9?2:n.strategy>=Pb||n.level<2?4:0),rn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(rn(n,n.gzhead.extra.length&255),rn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=fa(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=O4;else if(rn(n,0),rn(n,0),rn(n,0),rn(n,0),rn(n,0),rn(n,n.level===9?2:n.strategy>=Pb||n.level<2?4:0),rn(n,$Oe),n.status=Cf,oo(e),n.pending!==0)return n.last_flush=-1,Sa}if(n.status===O4){if(n.gzhead.extra){let a=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>a&&(e.adler=fa(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex+=l,oo(e),n.pending!==0)return n.last_flush=-1,Sa;a=0,i-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>a&&(e.adler=fa(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=L4}if(n.status===L4){if(n.gzhead.name){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=fa(e.adler,n.pending_buf,n.pending-a,a)),oo(e),n.pending!==0)return n.last_flush=-1,Sa;a=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,rn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=fa(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex=0}n.status=I4}if(n.status===I4){if(n.gzhead.comment){let a=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>a&&(e.adler=fa(e.adler,n.pending_buf,n.pending-a,a)),oo(e),n.pending!==0)return n.last_flush=-1,Sa;a=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,rn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>a&&(e.adler=fa(e.adler,n.pending_buf,n.pending-a,a))}n.status=M4}if(n.status===M4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(oo(e),n.pending!==0))return n.last_flush=-1,Sa;rn(n,e.adler&255),rn(n,e.adler>>8&255),e.adler=0}if(n.status=Cf,oo(e),n.pending!==0)return n.last_flush=-1,Sa}if(e.avail_in!==0||n.lookahead!==0||t!==dh&&n.status!==x0){let a=n.level===0?aU(n,t):n.strategy===Pb?qOe(n,t):n.strategy===_Oe?UOe(n,t):y0[n.level].func(n,t);if((a===fm||a===dx)&&(n.status=x0),a===xi||a===fm)return e.avail_out===0&&(n.last_flush=-1),Sa;if(a===cx&&(t===bOe?vOe(n):t!==_L&&(E4(n,0,0,!1),t===wOe&&(Ru(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),oo(e),e.avail_out===0))return n.last_flush=-1,Sa}return t!==Wo?Sa:n.wrap<=0?kL:(n.wrap===2?(rn(n,e.adler&255),rn(n,e.adler>>8&255),rn(n,e.adler>>16&255),rn(n,e.adler>>24&255),rn(n,e.total_in&255),rn(n,e.total_in>>8&255),rn(n,e.total_in>>16&255),rn(n,e.total_in>>24&255)):(c0(n,e.adler>>>16),c0(n,e.adler&65535)),oo(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Sa:kL)},YOe=e=>{if(dv(e))return kc;const t=e.state.status;return e.state=null,t===Cf?Pf(e,jOe):Sa},ZOe=(e,t)=>{let n=t.length;if(dv(e))return kc;const s=e.state,a=s.wrap;if(a===2||a===1&&s.status!==Fg||s.lookahead)return kc;if(a===1&&(e.adler=Dy(e.adler,t,n,0)),s.wrap=0,n>=s.w_size){a===0&&(Ru(s.head),s.strstart=0,s.block_start=0,s.insert=0);let c=new Uint8Array(s.w_size);c.set(t.subarray(n-s.w_size,n),0),t=c,n=s.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,$g(s);s.lookahead>=Br;){let c=s.strstart,d=s.lookahead-(Br-1);do s.ins_h=uh(s,s.ins_h,s.window[c+Br-1]),s.prev[c&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=c,c++;while(--d);s.strstart=c,s.lookahead=Br-1,$g(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Br-1,s.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,s.wrap=a,Sa};var XOe=GOe,JOe=lU,QOe=oU,e8e=iU,t8e=HOe,r8e=KOe,n8e=YOe,s8e=ZOe,a8e="pako deflate (from Nodeca project)",R0={deflateInit:XOe,deflateInit2:JOe,deflateReset:QOe,deflateResetKeep:e8e,deflateSetHeader:t8e,deflate:r8e,deflateEnd:n8e,deflateSetDictionary:s8e,deflateInfo:a8e};const i8e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o8e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const s in n)i8e(n,s)&&(e[s]=n[s])}}return e},l8e=e=>{let t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].length;const n=new Uint8Array(t);for(let s=0,a=0,i=e.length;s<i;s++){let o=e[s];n.set(o,a),a+=o.length}return n},hj={assign:o8e,flattenChunks:l8e};let cU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cU=!1}const Ry=new Uint8Array(256);for(let e=0;e<256;e++)Ry[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ry[254]=Ry[254]=1;var c8e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,s,a,i,o=e.length,l=0;for(a=0;a<o;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(n=65536+(n-55296<<10)+(s-56320),a++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(n=65536+(n-55296<<10)+(s-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const d8e=(e,t)=>{if(t<65534&&e.subarray&&cU)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n};var u8e=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,a;const i=new Array(n*2);for(a=0,s=0;s<n;){let o=e[s++];if(o<128){i[a++]=o;continue}let l=Ry[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<n;)o=o<<6|e[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return d8e(i,a)},h8e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Ry[e[n]]>t?n:t},Fy={string2buf:c8e,buf2string:u8e,utf8border:h8e};function f8e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dU=f8e;const uU=Object.prototype.toString,{Z_NO_FLUSH:m8e,Z_SYNC_FLUSH:p8e,Z_FULL_FLUSH:g8e,Z_FINISH:x8e,Z_OK:Uw,Z_STREAM_END:y8e,Z_DEFAULT_COMPRESSION:v8e,Z_DEFAULT_STRATEGY:b8e,Z_DEFLATED:w8e}=cv;function a3(e){this.options=hj.assign({level:v8e,method:w8e,chunkSize:16384,windowBits:15,memLevel:8,strategy:b8e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dU,this.strm.avail_out=0;let n=R0.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Uw)throw new Error(Rg[n]);if(t.header&&R0.deflateSetHeader(this.strm,t.header),t.dictionary){let s;if(typeof t.dictionary=="string"?s=Fy.string2buf(t.dictionary):uU.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,n=R0.deflateSetDictionary(this.strm,s),n!==Uw)throw new Error(Rg[n]);this._dict_set=!0}}a3.prototype.push=function(e,t){const n=this.strm,s=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?x8e:m8e,typeof e=="string"?n.input=Fy.string2buf(e):uU.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),(i===p8e||i===g8e)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=R0.deflate(n,i),a===y8e)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=R0.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Uw;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};a3.prototype.onData=function(e){this.chunks.push(e)};a3.prototype.onEnd=function(e){e===Uw&&(this.result=hj.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Eb=16209,j8e=16191;var N8e=function(t,n){let s,a,i,o,l,c,d,u,h,p,f,x,g,v,b,_,w,S,A,L,P,k,C,R;const E=t.state;s=t.next_in,C=t.input,a=s+(t.avail_in-5),i=t.next_out,R=t.output,o=i-(n-t.avail_out),l=i+(t.avail_out-257),c=E.dmax,d=E.wsize,u=E.whave,h=E.wnext,p=E.window,f=E.hold,x=E.bits,g=E.lencode,v=E.distcode,b=(1<<E.lenbits)-1,_=(1<<E.distbits)-1;e:do{x<15&&(f+=C[s++]<<x,x+=8,f+=C[s++]<<x,x+=8),w=g[f&b];t:for(;;){if(S=w>>>24,f>>>=S,x-=S,S=w>>>16&255,S===0)R[i++]=w&65535;else if(S&16){A=w&65535,S&=15,S&&(x<S&&(f+=C[s++]<<x,x+=8),A+=f&(1<<S)-1,f>>>=S,x-=S),x<15&&(f+=C[s++]<<x,x+=8,f+=C[s++]<<x,x+=8),w=v[f&_];r:for(;;){if(S=w>>>24,f>>>=S,x-=S,S=w>>>16&255,S&16){if(L=w&65535,S&=15,x<S&&(f+=C[s++]<<x,x+=8,x<S&&(f+=C[s++]<<x,x+=8)),L+=f&(1<<S)-1,L>c){t.msg="invalid distance too far back",E.mode=Eb;break e}if(f>>>=S,x-=S,S=i-o,L>S){if(S=L-S,S>u&&E.sane){t.msg="invalid distance too far back",E.mode=Eb;break e}if(P=0,k=p,h===0){if(P+=d-S,S<A){A-=S;do R[i++]=p[P++];while(--S);P=i-L,k=R}}else if(h<S){if(P+=d+h-S,S-=h,S<A){A-=S;do R[i++]=p[P++];while(--S);if(P=0,h<A){S=h,A-=S;do R[i++]=p[P++];while(--S);P=i-L,k=R}}}else if(P+=h-S,S<A){A-=S;do R[i++]=p[P++];while(--S);P=i-L,k=R}for(;A>2;)R[i++]=k[P++],R[i++]=k[P++],R[i++]=k[P++],A-=3;A&&(R[i++]=k[P++],A>1&&(R[i++]=k[P++]))}else{P=i-L;do R[i++]=R[P++],R[i++]=R[P++],R[i++]=R[P++],A-=3;while(A>2);A&&(R[i++]=R[P++],A>1&&(R[i++]=R[P++]))}}else if(S&64){t.msg="invalid distance code",E.mode=Eb;break e}else{w=v[(w&65535)+(f&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){E.mode=j8e;break e}else{t.msg="invalid literal/length code",E.mode=Eb;break e}else{w=g[(w&65535)+(f&(1<<S)-1)];continue t}break}}while(s<a&&i<l);A=x>>3,s-=A,x-=A<<3,f&=(1<<x)-1,t.next_in=s,t.next_out=i,t.avail_in=s<a?5+(a-s):5-(s-a),t.avail_out=i<l?257+(l-i):257-(i-l),E.hold=f,E.bits=x};const lp=15,CL=852,PL=592,EL=0,N5=1,TL=2,S8e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_8e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),k8e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A8e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),C8e=(e,t,n,s,a,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,p=0,f=0,x=0,g=0,v=0,b=0,_=0,w,S,A,L,P,k=null,C;const R=new Uint16Array(lp+1),E=new Uint16Array(lp+1);let I=null,B,z,V;for(d=0;d<=lp;d++)R[d]=0;for(u=0;u<s;u++)R[t[n+u]]++;for(f=c,p=lp;p>=1&&R[p]===0;p--);if(f>p&&(f=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&R[h]===0;h++);for(f<h&&(f=h),v=1,d=1;d<=lp;d++)if(v<<=1,v-=R[d],v<0)return-1;if(v>0&&(e===EL||p!==1))return-1;for(E[1]=0,d=1;d<lp;d++)E[d+1]=E[d]+R[d];for(u=0;u<s;u++)t[n+u]!==0&&(o[E[t[n+u]]++]=u);if(e===EL?(k=I=o,C=20):e===N5?(k=S8e,I=_8e,C=257):(k=k8e,I=A8e,C=0),_=0,u=0,d=h,P=i,x=f,g=0,A=-1,b=1<<f,L=b-1,e===N5&&b>CL||e===TL&&b>PL)return 1;for(;;){B=d-g,o[u]+1<C?(z=0,V=o[u]):o[u]>=C?(z=I[o[u]-C],V=k[o[u]-C]):(z=96,V=0),w=1<<d-g,S=1<<x,h=S;do S-=w,a[P+(_>>g)+S]=B<<24|z<<16|V|0;while(S!==0);for(w=1<<d-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,u++,--R[d]===0){if(d===p)break;d=t[n+o[u]]}if(d>f&&(_&L)!==A){for(g===0&&(g=f),P+=h,x=d-g,v=1<<x;x+g<p&&(v-=R[x+g],!(v<=0));)x++,v<<=1;if(b+=1<<x,e===N5&&b>CL||e===TL&&b>PL)return 1;A=_&L,a[A]=f<<24|x<<16|P-i|0}}return _!==0&&(a[P+_]=d-g<<24|64<<16|0),l.bits=f,0};var F0=C8e;const P8e=0,hU=1,fU=2,{Z_FINISH:OL,Z_BLOCK:E8e,Z_TREES:Tb,Z_OK:mm,Z_STREAM_END:T8e,Z_NEED_DICT:O8e,Z_STREAM_ERROR:Zo,Z_DATA_ERROR:mU,Z_MEM_ERROR:pU,Z_BUF_ERROR:L8e,Z_DEFLATED:LL}=cv,fj=16180,IL=16181,ML=16182,DL=16183,RL=16184,FL=16185,$L=16186,BL=16187,zL=16188,UL=16189,qw=16190,id=16191,S5=16192,qL=16193,_5=16194,WL=16195,VL=16196,HL=16197,GL=16198,Ob=16199,Lb=16200,KL=16201,YL=16202,ZL=16203,XL=16204,JL=16205,k5=16206,QL=16207,eI=16208,Jn=16209,gU=16210,xU=16211,I8e=852,M8e=592,D8e=15,R8e=D8e,tI=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function F8e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<fj||t.mode>xU?1:0},yU=e=>{if(Nm(e))return Zo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=fj,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(I8e),t.distcode=t.distdyn=new Int32Array(M8e),t.sane=1,t.back=-1,mm},vU=e=>{if(Nm(e))return Zo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,yU(e)},bU=(e,t)=>{let n;if(Nm(e))return Zo;const s=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Zo:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=n,s.wbits=t,vU(e))},wU=(e,t)=>{if(!e)return Zo;const n=new F8e;e.state=n,n.strm=e,n.window=null,n.mode=fj;const s=bU(e,t);return s!==mm&&(e.state=null),s},$8e=e=>wU(e,R8e);let rI=!0,A5,C5;const B8e=e=>{if(rI){A5=new Int32Array(512),C5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(F0(hU,e.lens,0,288,A5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;F0(fU,e.lens,0,32,C5,0,e.work,{bits:5}),rI=!1}e.lencode=A5,e.lenbits=9,e.distcode=C5,e.distbits=5},jU=(e,t,n,s)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(t.subarray(n-s,n-s+a),i.wnext),s-=a,s?(i.window.set(t.subarray(n-s,n),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},z8e=(e,t)=>{let n,s,a,i,o,l,c,d,u,h,p,f,x,g,v=0,b,_,w,S,A,L,P,k;const C=new Uint8Array(4);let R,E;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nm(e)||!e.output||!e.input&&e.avail_in!==0)return Zo;n=e.state,n.mode===id&&(n.mode=S5),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,d=n.hold,u=n.bits,h=l,p=c,k=mm;e:for(;;)switch(n.mode){case fj:if(n.wrap===0){n.mode=S5;break}for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=d&255,C[1]=d>>>8&255,n.check=fa(n.check,C,2,0),d=0,u=0,n.mode=IL;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=Jn;break}if((d&15)!==LL){e.msg="unknown compression method",n.mode=Jn;break}if(d>>>=4,u-=4,P=(d&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){e.msg="invalid window size",n.mode=Jn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=d&512?UL:id,d=0,u=0;break;case IL:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(n.flags=d,(n.flags&255)!==LL){e.msg="unknown compression method",n.mode=Jn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Jn;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,n.check=fa(n.check,C,2,0)),d=0,u=0,n.mode=ML;case ML:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,n.check=fa(n.check,C,4,0)),d=0,u=0,n.mode=DL;case DL:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,n.check=fa(n.check,C,2,0)),d=0,u=0,n.mode=RL;case RL:if(n.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,n.check=fa(n.check,C,2,0)),d=0,u=0}else n.head&&(n.head.extra=null);n.mode=FL;case FL:if(n.flags&1024&&(f=n.length,f>l&&(f=l),f&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(s.subarray(i,i+f),P)),n.flags&512&&n.wrap&4&&(n.check=fa(n.check,s,f,i)),l-=f,i+=f,n.length-=f),n.length))break e;n.length=0,n.mode=$L;case $L:if(n.flags&2048){if(l===0)break e;f=0;do P=s[i+f++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&f<l);if(n.flags&512&&n.wrap&4&&(n.check=fa(n.check,s,f,i)),l-=f,i+=f,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=BL;case BL:if(n.flags&4096){if(l===0)break e;f=0;do P=s[i+f++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&f<l);if(n.flags&512&&n.wrap&4&&(n.check=fa(n.check,s,f,i)),l-=f,i+=f,P)break e}else n.head&&(n.head.comment=null);n.mode=zL;case zL:if(n.flags&512){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(n.wrap&4&&d!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Jn;break}d=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=id;break;case UL:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}e.adler=n.check=tI(d),d=0,u=0,n.mode=qw;case qw:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=d,n.bits=u,O8e;e.adler=n.check=1,n.mode=id;case id:if(t===E8e||t===Tb)break e;case S5:if(n.last){d>>>=u&7,u-=u&7,n.mode=k5;break}for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}switch(n.last=d&1,d>>>=1,u-=1,d&3){case 0:n.mode=qL;break;case 1:if(B8e(n),n.mode=Ob,t===Tb){d>>>=2,u-=2;break e}break;case 2:n.mode=VL;break;case 3:e.msg="invalid block type",n.mode=Jn}d>>>=2,u-=2;break;case qL:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Jn;break}if(n.length=d&65535,d=0,u=0,n.mode=_5,t===Tb)break e;case _5:n.mode=WL;case WL:if(f=n.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(s.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,n.length-=f;break}n.mode=id;break;case VL:for(;u<14;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(n.nlen=(d&31)+257,d>>>=5,u-=5,n.ndist=(d&31)+1,d>>>=5,u-=5,n.ncode=(d&15)+4,d>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Jn;break}n.have=0,n.mode=HL;case HL:for(;n.have<n.ncode;){for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}n.lens[I[n.have++]]=d&7,d>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},k=F0(P8e,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,k){e.msg="invalid code lengths set",n.mode=Jn;break}n.have=0,n.mode=GL;case GL:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[d&(1<<n.lenbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(w<16)d>>>=b,u-=b,n.lens[n.have++]=w;else{if(w===16){for(E=b+2;u<E;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(d>>>=b,u-=b,n.have===0){e.msg="invalid bit length repeat",n.mode=Jn;break}P=n.lens[n.have-1],f=3+(d&3),d>>>=2,u-=2}else if(w===17){for(E=b+3;u<E;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,P=0,f=3+(d&7),d>>>=3,u-=3}else{for(E=b+7;u<E;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,P=0,f=11+(d&127),d>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Jn;break}for(;f--;)n.lens[n.have++]=P}}if(n.mode===Jn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Jn;break}if(n.lenbits=9,R={bits:n.lenbits},k=F0(hU,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,k){e.msg="invalid literal/lengths set",n.mode=Jn;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},k=F0(fU,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,k){e.msg="invalid distances set",n.mode=Jn;break}if(n.mode=Ob,t===Tb)break e;case Ob:n.mode=Lb;case Lb:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=d,n.bits=u,N8e(e,p),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,d=n.hold,u=n.bits,n.mode===id&&(n.back=-1);break}for(n.back=0;v=n.lencode[d&(1<<n.lenbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(_&&!(_&240)){for(S=b,A=_,L=w;v=n.lencode[L+((d&(1<<S+A)-1)>>S)],b=v>>>24,_=v>>>16&255,w=v&65535,!(S+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=S,u-=S,n.back+=S}if(d>>>=b,u-=b,n.back+=b,n.length=w,_===0){n.mode=JL;break}if(_&32){n.back=-1,n.mode=id;break}if(_&64){e.msg="invalid literal/length code",n.mode=Jn;break}n.extra=_&15,n.mode=KL;case KL:if(n.extra){for(E=n.extra;u<E;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=YL;case YL:for(;v=n.distcode[d&(1<<n.distbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(!(_&240)){for(S=b,A=_,L=w;v=n.distcode[L+((d&(1<<S+A)-1)>>S)],b=v>>>24,_=v>>>16&255,w=v&65535,!(S+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=S,u-=S,n.back+=S}if(d>>>=b,u-=b,n.back+=b,_&64){e.msg="invalid distance code",n.mode=Jn;break}n.offset=w,n.extra=_&15,n.mode=ZL;case ZL:if(n.extra){for(E=n.extra;u<E;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Jn;break}n.mode=XL;case XL:if(c===0)break e;if(f=p-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Jn;break}f>n.wnext?(f-=n.wnext,x=n.wsize-f):x=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=a,x=o-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do a[o++]=g[x++];while(--f);n.length===0&&(n.mode=Lb);break;case JL:if(c===0)break e;a[o++]=n.length,c--,n.mode=Lb;break;case k5:if(n.wrap){for(;u<32;){if(l===0)break e;l--,d|=s[i++]<<u,u+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?fa(n.check,a,p,o-p):Dy(n.check,a,p,o-p)),p=c,n.wrap&4&&(n.flags?d:tI(d))!==n.check){e.msg="incorrect data check",n.mode=Jn;break}d=0,u=0}n.mode=QL;case QL:if(n.wrap&&n.flags){for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(n.wrap&4&&d!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Jn;break}d=0,u=0}n.mode=eI;case eI:k=T8e;break e;case Jn:k=mU;break e;case gU:return pU;case xU:default:return Zo}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=d,n.bits=u,(n.wsize||p!==e.avail_out&&n.mode<Jn&&(n.mode<k5||t!==OL))&&jU(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?fa(n.check,a,p,e.next_out-p):Dy(n.check,a,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===id?128:0)+(n.mode===Ob||n.mode===_5?256:0),(h===0&&p===0||t===OL)&&k===mm&&(k=L8e),k},U8e=e=>{if(Nm(e))return Zo;let t=e.state;return t.window&&(t.window=null),e.state=null,mm},q8e=(e,t)=>{if(Nm(e))return Zo;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,mm):Zo},W8e=(e,t)=>{const n=t.length;let s,a,i;return Nm(e)||(s=e.state,s.wrap!==0&&s.mode!==qw)?Zo:s.mode===qw&&(a=1,a=Dy(a,t,n,0),a!==s.check)?mU:(i=jU(e,t,n,n),i?(s.mode=gU,pU):(s.havedict=1,mm))};var V8e=vU,H8e=bU,G8e=yU,K8e=$8e,Y8e=wU,Z8e=z8e,X8e=U8e,J8e=q8e,Q8e=W8e,eLe="pako inflate (from Nodeca project)",ud={inflateReset:V8e,inflateReset2:H8e,inflateResetKeep:G8e,inflateInit:K8e,inflateInit2:Y8e,inflate:Z8e,inflateEnd:X8e,inflateGetHeader:J8e,inflateSetDictionary:Q8e,inflateInfo:eLe};function tLe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rLe=tLe;const NU=Object.prototype.toString,{Z_NO_FLUSH:nLe,Z_FINISH:sLe,Z_OK:$y,Z_STREAM_END:P5,Z_NEED_DICT:E5,Z_STREAM_ERROR:aLe,Z_DATA_ERROR:nI,Z_MEM_ERROR:iLe}=cv;function uv(e){this.options=hj.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dU,this.strm.avail_out=0;let n=ud.inflateInit2(this.strm,t.windowBits);if(n!==$y)throw new Error(Rg[n]);if(this.header=new rLe,ud.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Fy.string2buf(t.dictionary):NU.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ud.inflateSetDictionary(this.strm,t.dictionary),n!==$y)))throw new Error(Rg[n])}uv.prototype.push=function(e,t){const n=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?sLe:nLe,NU.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),i=ud.inflate(n,o),i===E5&&a&&(i=ud.inflateSetDictionary(n,a),i===$y?i=ud.inflate(n,o):i===nI&&(i=E5));n.avail_in>0&&i===P5&&n.state.wrap>0&&e[n.next_in]!==0;)ud.inflateReset(n),i=ud.inflate(n,o);switch(i){case aLe:case nI:case E5:case iLe:return this.onEnd(i),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||i===P5))if(this.options.to==="string"){let c=Fy.utf8border(n.output,n.next_out),d=n.next_out-c,u=Fy.buf2string(n.output,c);n.next_out=d,n.avail_out=s-d,d&&n.output.set(n.output.subarray(c,c+d),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===$y&&l===0)){if(i===P5)return i=ud.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};uv.prototype.onData=function(e){this.chunks.push(e)};uv.prototype.onEnd=function(e){e===$y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hj.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function i3(e,t){const n=new uv(t);if(n.push(e),n.err)throw n.msg||Rg[n.err];return n.result}function oLe(e,t){return t=t||{},t.raw=!0,i3(e,t)}var lLe=uv,cLe=i3,dLe=oLe,uLe=i3,hLe=cv,fLe={Inflate:lLe,inflate:cLe,inflateRaw:dLe,ungzip:uLe,constants:hLe};const{Inflate:mLe,inflate:pLe,inflateRaw:YMe,ungzip:ZMe}=fLe;var sI=mLe,gLe=pLe;const SU=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;SU[e]=t}const aI=4294967295;function xLe(e,t,n){let s=e;for(let a=0;a<n;a++)s=SU[(s^t[a])&255]^s>>>8;return s}function yLe(e,t){return(xLe(aI,e,t)^aI)>>>0}function iI(e,t,n){const s=e.readUint32(),a=yLe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==s)throw new Error(`CRC mismatch for chunk ${n}. Expected ${s}, found ${a}`)}function _U(e,t,n){for(let s=0;s<n;s++)t[s]=e[s]}function kU(e,t,n,s){let a=0;for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-s]&255}function AU(e,t,n,s){let a=0;if(n.length===0)for(;a<s;a++)t[a]=e[a];else for(;a<s;a++)t[a]=e[a]+n[a]&255}function CU(e,t,n,s,a){let i=0;if(n.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<s;i++)t[i]=e[i]+(t[i-a]+n[i]>>1)&255}}function PU(e,t,n,s,a){let i=0;if(n.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+n[i]&255;for(;i<s;i++)t[i]=e[i]+vLe(t[i-a],n[i],n[i-a])&255}}function vLe(e,t,n){const s=e+t-n,a=Math.abs(s-e),i=Math.abs(s-t),o=Math.abs(s-n);return a<=i&&a<=o?e:i<=o?t:n}function bLe(e,t,n,s,a,i){switch(e){case 0:_U(t,n,a);break;case 1:kU(t,n,a,i);break;case 2:AU(t,n,s,a);break;case 3:CU(t,n,s,a,i);break;case 4:PU(t,n,s,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const wLe=new Uint16Array([255]),jLe=new Uint8Array(wLe.buffer),NLe=jLe[0]===255;function SLe(e){const{data:t,width:n,height:s,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*n*l);let d=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((s-h.y)/h.yStep);if(p<=0||f<=0)continue;const x=p*l,g=new Uint8Array(x);for(let v=0;v<f;v++){const b=t[d++],_=t.subarray(d,d+x);d+=x;const w=new Uint8Array(x);bLe(b,_,w,g,x,l),g.set(w);for(let S=0;S<p;S++){const A=h.x+S*h.xStep,L=h.y+v*h.yStep;if(!(A>=n||L>=s))for(let P=0;P<l;P++)c[(L*n+A)*l+P]=w[S*l+P]}}}if(i===16){const u=new Uint16Array(c.buffer);if(NLe)for(let h=0;h<u.length;h++)u[h]=_Le(u[h]);return u}else return c}function _Le(e){return(e&255)<<8|e>>8&255}const kLe=new Uint16Array([255]),ALe=new Uint8Array(kLe.buffer),CLe=ALe[0]===255,PLe=new Uint8Array(0);function oI(e){const{data:t,width:n,height:s,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*n),c=new Uint8Array(s*l);let d=PLe,u=0,h,p;for(let f=0;f<s;f++){switch(h=t.subarray(u+1,u+1+l),p=c.subarray(f*l,(f+1)*l),t[u]){case 0:_U(h,p,l);break;case 1:kU(h,p,l,o);break;case 2:AU(h,p,d,l);break;case 3:CU(h,p,d,l,o);break;case 4:PU(h,p,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=p,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(CLe)for(let x=0;x<f.length;x++)f[x]=ELe(f[x]);return f}else return c}function ELe(e){return(e&255)<<8|e>>8&255}const Jb=Uint8Array.of(137,80,78,71,13,10,26,10);function lI(e){if(!TLe(e.readBytes(Jb.length)))throw new Error("wrong PNG signature")}function TLe(e){if(e.length<Jb.length)return!1;for(let t=0;t<Jb.length;t++)if(e[t]!==Jb[t])return!1;return!0}const OLe="tEXt",LLe=0,EU=new TextDecoder("latin1");function ILe(e){if(DLe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const MLe=/^[\u0000-\u00FF]*$/;function DLe(e){if(!MLe.test(e))throw new Error("invalid latin1 text")}function RLe(e,t,n){const s=TU(t);e[s]=FLe(t,n-s.length-1)}function TU(e){for(e.mark();e.readByte()!==LLe;);const t=e.offset;e.reset();const n=EU.decode(e.readBytes(t-e.offset-1));return e.skip(1),ILe(n),n}function FLe(e,t){return EU.decode(e.readBytes(t))}const so={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},T5={UNKNOWN:-1,DEFLATE:0},cI={UNKNOWN:-1,ADAPTIVE:0},O5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ib={NONE:0,BACKGROUND:1,PREVIOUS:2},L5={SOURCE:0,OVER:1};class $Le extends Qk{constructor(n,s={}){super(n);fn(this,"_checkCrc");fn(this,"_inflator");fn(this,"_png");fn(this,"_apng");fn(this,"_end");fn(this,"_hasPalette");fn(this,"_palette");fn(this,"_hasTransparency");fn(this,"_transparency");fn(this,"_compressionMethod");fn(this,"_filterMethod");fn(this,"_interlaceMethod");fn(this,"_colorType");fn(this,"_isAnimated");fn(this,"_numberOfFrames");fn(this,"_numberOfPlays");fn(this,"_frames");fn(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new sI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=T5.UNKNOWN,this._filterMethod=cI.UNKNOWN,this._interlaceMethod=O5.UNKNOWN,this._colorType=so.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(lI(this);!this._end;){const n=this.readUint32(),s=this.readChars(4);this.decodeChunk(n,s)}return this.decodeImage(),this._png}decodeApng(){for(lI(this);!this._end;){const n=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(n,s)}return this.decodeApngImage(),this._apng}decodeChunk(n,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case OLe:RLe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?iI(this,n+4,s):this.skip(4)}decodeApngChunk(n,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,s),this.offset=a+n;break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?iI(this,n+4,s):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=BLe(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case so.GREYSCALE:a=1;break;case so.TRUECOLOUR:a=3;break;case so.INDEXED_COLOUR:a=1;break;case so.GREYSCALE_ALPHA:a=2;break;case so.TRUECOLOUR_ALPHA:a=4;break;case so.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==T5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const s=n/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const s=n,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let s=n,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case so.GREYSCALE:case so.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let s=0;s<n/2;s++)this._transparency[s]=this.readUint16();break}case so.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let s=0;for(;s<n;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case so.UNKNOWN:case so.GREYSCALE_ALPHA:case so.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const s=TU(this),a=this.readUint8();if(a!==T5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(n-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:gLe(i)}}decodepHYs(){const n=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:n,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const s={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(n);if(a){if(a.data=oI({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(n,s,a){switch(n.disposeOp){case Ib.NONE:break;case Ib.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Ib.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,s){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,d=(o*s.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(s.blendOp){case L5.SOURCE:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)n.data[c+u]=s.data[d+u]}break;case L5.OVER:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const h=s.data[d+this._png.channels-1]/a,p=u%(this._png.channels-1)===0?1:s.data[d+u],f=Math.floor(h*p+(1-h)*n.data[c+u]);n.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==cI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===O5.NO_INTERLACE)this._png.data=oI({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===O5.ADAM7)this._png.data=SLe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,s=this._frames.at(-1);s?s.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ib.NONE,blendOp:L5.SOURCE,data:n}),this._inflator=new sI,this._writingDataChunks=!1}}function BLe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var dI;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(dI||(dI={}));function zLe(e,t){return new $Le(e,t).decode()}var nr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function I5(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var An={log:I5,warn:function(e){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):I5.call(null,arguments))},error:function(e){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):I5(e))}};function M5(e,t,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){gf(s.response,t,n)},s.onerror=function(){An.error("could not download file")},s.send()}function uI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Mb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gf=nr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var s=nr.URL||nr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?uI(a.href)?M5(e,t,n):Mb(a,a.target="_blank"):Mb(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){Mb(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(uI(e))M5(e,t,n);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Mb(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:pn(i)!=="object"&&(An.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,n),t)}:function(e,t,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return M5(e,t,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(nr.HTMLElement)||nr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(e)}else{var c=nr.URL||nr.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OU(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<n.length;s++){var a=n[s].re,i=n[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Qb=nr.atob.bind(nr),hI=nr.btoa.bind(nr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D5(e,t){var n=e[0],s=e[1],a=e[2],i=e[3];n=$a(n,s,a,i,t[0],7,-680876936),i=$a(i,n,s,a,t[1],12,-389564586),a=$a(a,i,n,s,t[2],17,606105819),s=$a(s,a,i,n,t[3],22,-1044525330),n=$a(n,s,a,i,t[4],7,-176418897),i=$a(i,n,s,a,t[5],12,1200080426),a=$a(a,i,n,s,t[6],17,-1473231341),s=$a(s,a,i,n,t[7],22,-45705983),n=$a(n,s,a,i,t[8],7,1770035416),i=$a(i,n,s,a,t[9],12,-1958414417),a=$a(a,i,n,s,t[10],17,-42063),s=$a(s,a,i,n,t[11],22,-1990404162),n=$a(n,s,a,i,t[12],7,1804603682),i=$a(i,n,s,a,t[13],12,-40341101),a=$a(a,i,n,s,t[14],17,-1502002290),n=Ba(n,s=$a(s,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ba(i,n,s,a,t[6],9,-1069501632),a=Ba(a,i,n,s,t[11],14,643717713),s=Ba(s,a,i,n,t[0],20,-373897302),n=Ba(n,s,a,i,t[5],5,-701558691),i=Ba(i,n,s,a,t[10],9,38016083),a=Ba(a,i,n,s,t[15],14,-660478335),s=Ba(s,a,i,n,t[4],20,-405537848),n=Ba(n,s,a,i,t[9],5,568446438),i=Ba(i,n,s,a,t[14],9,-1019803690),a=Ba(a,i,n,s,t[3],14,-187363961),s=Ba(s,a,i,n,t[8],20,1163531501),n=Ba(n,s,a,i,t[13],5,-1444681467),i=Ba(i,n,s,a,t[2],9,-51403784),a=Ba(a,i,n,s,t[7],14,1735328473),n=za(n,s=Ba(s,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=za(i,n,s,a,t[8],11,-2022574463),a=za(a,i,n,s,t[11],16,1839030562),s=za(s,a,i,n,t[14],23,-35309556),n=za(n,s,a,i,t[1],4,-1530992060),i=za(i,n,s,a,t[4],11,1272893353),a=za(a,i,n,s,t[7],16,-155497632),s=za(s,a,i,n,t[10],23,-1094730640),n=za(n,s,a,i,t[13],4,681279174),i=za(i,n,s,a,t[0],11,-358537222),a=za(a,i,n,s,t[3],16,-722521979),s=za(s,a,i,n,t[6],23,76029189),n=za(n,s,a,i,t[9],4,-640364487),i=za(i,n,s,a,t[12],11,-421815835),a=za(a,i,n,s,t[15],16,530742520),n=Ua(n,s=za(s,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ua(i,n,s,a,t[7],10,1126891415),a=Ua(a,i,n,s,t[14],15,-1416354905),s=Ua(s,a,i,n,t[5],21,-57434055),n=Ua(n,s,a,i,t[12],6,1700485571),i=Ua(i,n,s,a,t[3],10,-1894986606),a=Ua(a,i,n,s,t[10],15,-1051523),s=Ua(s,a,i,n,t[1],21,-2054922799),n=Ua(n,s,a,i,t[8],6,1873313359),i=Ua(i,n,s,a,t[15],10,-30611744),a=Ua(a,i,n,s,t[6],15,-1560198380),s=Ua(s,a,i,n,t[13],21,1309151649),n=Ua(n,s,a,i,t[4],6,-145523070),i=Ua(i,n,s,a,t[11],10,-1120210379),a=Ua(a,i,n,s,t[2],15,718787259),s=Ua(s,a,i,n,t[9],21,-343485551),e[0]=Ju(n,e[0]),e[1]=Ju(s,e[1]),e[2]=Ju(a,e[2]),e[3]=Ju(i,e[3])}function mj(e,t,n,s,a,i){return t=Ju(Ju(t,e),Ju(s,i)),Ju(t<<a|t>>>32-a,n)}function $a(e,t,n,s,a,i,o){return mj(t&n|~t&s,e,t,a,i,o)}function Ba(e,t,n,s,a,i,o){return mj(t&s|n&~s,e,t,a,i,o)}function za(e,t,n,s,a,i,o){return mj(t^n^s,e,t,a,i,o)}function Ua(e,t,n,s,a,i,o){return mj(n^(t|~s),e,t,a,i,o)}function LU(e){var t,n=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)D5(s,ULe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(D5(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,D5(s,a),s}function ULe(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var fI="0123456789abcdef".split("");function qLe(e){for(var t="",n=0;n<4;n++)t+=fI[e>>8*n+4&15]+fI[e>>8*n&15];return t}function WLe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function R4(e){return LU(e).map(WLe).join("")}var VLe=function(e){for(var t=0;t<e.length;t++)e[t]=qLe(e[t]);return e.join("")}(LU("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ju(e,t){if(VLe){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function F4(e,t){var n,s,a,i;if(e!==n){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}n=e,s=l}else l=s;var h=t.length,p=0,f=0,x="";for(c=0;c<h;c++)f=(f+(u=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=u,o=l[(l[p]+l[f])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mI={print:4,modify:8,copy:16,"annot-forms":32};function hp(e,t,n,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(mI.perm!==void 0)throw new Error("Invalid permission: "+l);a+=mI[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=R4(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=F4(this.encryptionKey,this.padding)}function fp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,s=0;s<n;s++){var a=e.charCodeAt(s);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[s]}return t}function pI(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,s,a){if(a=a||!1,typeof n!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[s,!!a],i},this.unsubscribe=function(n){for(var s in t)if(t[s][n])return delete t[s][n],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,s)}catch(l){nr.console&&An.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ww(e){if(!(this instanceof Ww))return new Ww(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function IU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function vf(e,t,n,s,a){if(!(this instanceof vf))return new vf(e,t,n,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,IU.call(this,s,a)}function Sp(e,t,n,s,a){if(!(this instanceof Sp))return new Sp(e,t,n,s,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,IU.call(this,s,a)}function Mt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;pn(e=e||{})==="object"&&(n=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=pI;var x="1.3",g=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(D){x=D};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var b=f.__private__.getPageFormat=function(D){return v[D]};a=a||"a4";var _="compat",w="advanced",S=_;function A(){this.saveGraphicsState(),Y(new Ut(it,0,0,-it,0,va()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),d="n",S=w}function L(){this.restoreGraphicsState(),d="S",S=_}var P=f.__private__.combineFontStyleAndFontWeight=function(D,ae){if(D=="bold"&&ae=="normal"||D=="bold"&&ae==400||D=="normal"&&ae=="italic"||D=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(D=ae==400||ae==="normal"?D==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||D!=="normal"?(ae==700?"bold":ae)+""+D:"bold"),D};f.advancedAPI=function(D){var ae=S===_;return ae&&A.call(this),typeof D!="function"||(D(this),ae&&L.call(this)),this},f.compatAPI=function(D){var ae=S===w;return ae&&L.call(this),typeof D!="function"||(D(this),ae&&A.call(this)),this},f.isAdvancedAPI=function(){return S===w};var k,C=function(D){if(S!==w)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(D,ae){var be=t||ae;if(isNaN(D)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(be).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return R(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return R(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return R(D,16)};var E=f.f2=f.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return R(D,2)},I=f.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return R(D,3)},B=f.scale=f.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return S===_?D*it:S===w?D:void 0},z=function(D){return B(function(ae){return S===_?va()-ae:S===w?ae:void 0}(D))};f.__private__.setPrecision=f.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var V,U="00000000000000000000000000000000",K=f.__private__.getFileId=function(){return U},$=f.__private__.setFileId=function(D){return U=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ns=new hp(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};f.setFileId=function(D){return $(D),this},f.getFileId=function(){return K()};var W=f.__private__.convertDateToPDFDate=function(D){var ae=D.getTimezoneOffset(),be=ae<0?"+":"-",Ce=Math.floor(Math.abs(ae/60)),De=Math.abs(ae%60),Qe=[be,X(Ce),"'",X(De),"'"].join("");return["D:",D.getFullYear(),X(D.getMonth()+1),X(D.getDate()),X(D.getHours()),X(D.getMinutes()),X(D.getSeconds()),Qe].join("")},te=f.__private__.convertPDFDateToDate=function(D){var ae=parseInt(D.substr(2,4),10),be=parseInt(D.substr(6,2),10)-1,Ce=parseInt(D.substr(8,2),10),De=parseInt(D.substr(10,2),10),Qe=parseInt(D.substr(12,2),10),rt=parseInt(D.substr(14,2),10);return new Date(ae,be,Ce,De,Qe,rt,0)},J=f.__private__.setCreationDate=function(D){var ae;if(D===void 0&&(D=new Date),D instanceof Date)ae=W(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=D}return V=ae},M=f.__private__.getCreationDate=function(D){var ae=V;return D==="jsDate"&&(ae=te(V)),ae};f.setCreationDate=function(D){return J(D),this},f.getCreationDate=function(D){return M(D)};var G,X=f.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ie=f.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},re=0,fe=[],we=[],Z=0,Q=[],pe=[],ge=!1,Ae=we;f.__private__.setCustomOutputDestination=function(D){ge=!0,Ae=D};var Ne=function(D){ge||(Ae=D)};f.__private__.resetCustomOutputDestination=function(){ge=!1,Ae=we};var Y=f.__private__.out=function(D){return D=D.toString(),Z+=D.length+1,Ae.push(D),Ae},ke=f.__private__.write=function(D){return Y(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},We=f.__private__.getArrayBuffer=function(D){for(var ae=D.length,be=new ArrayBuffer(ae),Ce=new Uint8Array(be);ae--;)Ce[ae]=D.charCodeAt(ae);return be},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ie};var ze=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(D){return ze=S===w?D/it:D,this};var le,se=f.__private__.getFontSize=f.getFontSize=function(){return S===_?ze:ze*it},Se=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(D){return Se=D,this},f.__private__.getR2L=f.getR2L=function(){return Se};var Pe,$e=f.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))le=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');le=D}else le=parseInt(D,10)};f.__private__.getZoomMode=function(){return le};var He,je=f.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Pe=D};f.__private__.getPageMode=function(){return Pe};var Fe=f.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');He=D};f.__private__.getLayoutMode=function(){return He},f.__private__.setDisplayMode=f.setDisplayMode=function(D,ae,be){return $e(D),Fe(ae),je(be),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(D){if(Object.keys(Ze).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[D]},f.__private__.getDocumentProperties=function(){return Ze},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(D){for(var ae in Ze)Ze.hasOwnProperty(ae)&&D[ae]&&(Ze[ae]=D[ae]);return this},f.__private__.setDocumentProperty=function(D,ae){if(Object.keys(Ze).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[D]=ae};var tt,it,lt,jt,Lt,Nt={},qt={},Ur=[],It={},Sr={},sr={},ts={},us=null,nn=0,tr=[],Yr=new pI(f),Mc=e.hotfixes||[],la={},jo={},No=[],Ut=function D(ae,be,Ce,De,Qe,rt){if(!(this instanceof D))return new D(ae,be,Ce,De,Qe,rt);isNaN(ae)&&(ae=1),isNaN(be)&&(be=0),isNaN(Ce)&&(Ce=0),isNaN(De)&&(De=1),isNaN(Qe)&&(Qe=0),isNaN(rt)&&(rt=0),this._matrix=[ae,be,Ce,De,Qe,rt]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},Ut.prototype.multiply=function(D){var ae=D.sx*this.sx+D.shy*this.shx,be=D.sx*this.shy+D.shy*this.sy,Ce=D.shx*this.sx+D.sy*this.shx,De=D.shx*this.shy+D.sy*this.sy,Qe=D.tx*this.sx+D.ty*this.shx+this.tx,rt=D.tx*this.shy+D.ty*this.sy+this.ty;return new Ut(ae,be,Ce,De,Qe,rt)},Ut.prototype.decompose=function(){var D=this.sx,ae=this.shy,be=this.shx,Ce=this.sy,De=this.tx,Qe=this.ty,rt=Math.sqrt(D*D+ae*ae),_t=(D/=rt)*be+(ae/=rt)*Ce;be-=D*_t,Ce-=ae*_t;var yt=Math.sqrt(be*be+Ce*Ce);return _t/=yt,D*(Ce/=yt)<ae*(be/=yt)&&(D=-D,ae=-ae,_t=-_t,rt=-rt),{scale:new Ut(rt,0,0,yt,0,0),translate:new Ut(1,0,0,1,De,Qe),rotate:new Ut(D,ae,-ae,D,0,0),skew:new Ut(1,0,_t,1,0,0)}},Ut.prototype.toString=function(D){return this.join(" ")},Ut.prototype.inversed=function(){var D=this.sx,ae=this.shy,be=this.shx,Ce=this.sy,De=this.tx,Qe=this.ty,rt=1/(D*Ce-ae*be),_t=Ce*rt,yt=-ae*rt,Zt=-be*rt,ir=D*rt;return new Ut(_t,yt,Zt,ir,-_t*De-Zt*Qe,-yt*De-ir*Qe)},Ut.prototype.applyToPoint=function(D){var ae=D.x*this.sx+D.y*this.shx+this.tx,be=D.x*this.shy+D.y*this.sy+this.ty;return new zc(ae,be)},Ut.prototype.applyToRectangle=function(D){var ae=this.applyToPoint(D),be=this.applyToPoint(new zc(D.x+D.w,D.y+D.h));return new Yd(ae.x,ae.y,be.x-ae.x,be.y-ae.y)},Ut.prototype.clone=function(){var D=this.sx,ae=this.shy,be=this.shx,Ce=this.sy,De=this.tx,Qe=this.ty;return new Ut(D,ae,be,Ce,De,Qe)},f.Matrix=Ut;var el=f.matrixMult=function(D,ae){return ae.multiply(D)},Bi=new Ut(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Bi;var yi=function(D,ae){if(!Sr[D]){var be=(ae instanceof vf?"Sh":"P")+(Object.keys(It).length+1).toString(10);ae.id=be,Sr[D]=be,It[be]=ae,Yr.publish("addPattern",ae)}};f.ShadingPattern=vf,f.TilingPattern=Sp,f.addShadingPattern=function(D,ae){return C("addShadingPattern()"),yi(D,ae),this},f.beginTilingPattern=function(D){C("beginTilingPattern()"),ss(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},f.endTilingPattern=function(D,ae){C("endTilingPattern()"),ae.stream=pe[G].join(`
`),yi(D,ae),Yr.publish("endTilingPattern",ae),No.pop().restore()};var Ca,Kn=f.__private__.newObject=function(){var D=Is();return zs(D,!0),D},Is=f.__private__.newObjectDeferred=function(){return re++,fe[re]=function(){return Z},re},zs=function(D,ae){return ae=typeof ae=="boolean"&&ae,fe[D]=Z,ae&&Y(D+" 0 obj"),D},Dc=f.__private__.newAdditionalObject=function(){var D={objId:Is(),content:""};return Q.push(D),D},ql=Is(),zi=Is(),So=f.__private__.decodeColorString=function(D){var ae=D.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var be=parseFloat(ae[0]);ae=[be,be,be,"r"]}for(var Ce="#",De=0;De<3;De++)Ce+=("0"+Math.floor(255*parseFloat(ae[De])).toString(16)).slice(-2);return Ce},Ui=f.__private__.encodeColorString=function(D){var ae;typeof D=="string"&&(D={ch1:D});var be=D.ch1,Ce=D.ch2,De=D.ch3,Qe=D.ch4,rt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var _t=new OU(be);if(_t.ok)be=_t.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var yt=parseInt(be.substr(1),16);be=yt>>16&255,Ce=yt>>8&255,De=255&yt}if(Ce===void 0||Qe===void 0&&be===Ce&&Ce===De)ae=typeof be=="string"?be+" "+rt[0]:D.precision===2?E(be/255)+" "+rt[0]:I(be/255)+" "+rt[0];else if(Qe===void 0||pn(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return["1.","1.","1.",rt[1]].join(" ");ae=typeof be=="string"?[be,Ce,De,rt[1]].join(" "):D.precision===2?[E(be/255),E(Ce/255),E(De/255),rt[1]].join(" "):[I(be/255),I(Ce/255),I(De/255),rt[1]].join(" ")}else ae=typeof be=="string"?[be,Ce,De,Qe,rt[2]].join(" "):D.precision===2?[E(be),E(Ce),E(De),E(Qe),rt[2]].join(" "):[I(be),I(Ce),I(De),I(Qe),rt[2]].join(" ");return ae},vi=f.__private__.getFilters=function(){return o},bi=f.__private__.putStream=function(D){var ae=(D=D||{}).data||"",be=D.filters||vi(),Ce=D.alreadyAppliedFilters||[],De=D.addLength1||!1,Qe=ae.length,rt=D.objectId,_t=function(vn){return vn};if(u!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(_t=ns.encryptor(rt,0));var yt={};be===!0&&(be=["FlateEncode"]);var Zt=D.additionalKeyValues||[],ir=(yt=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(ae,be):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(yt.data.length!==0&&(Zt.push({key:"Length",value:yt.data.length}),De===!0&&Zt.push({key:"Length1",value:Qe})),ir.length!=0)if(ir.split("/").length-1==1)Zt.push({key:"Filter",value:ir});else{Zt.push({key:"Filter",value:"["+ir+"]"});for(var vr=0;vr<Zt.length;vr+=1)if(Zt[vr].key==="DecodeParms"){for(var yn=[],Yn=0;Yn<yt.reverseChain.split("/").length-1;Yn+=1)yn.push("null");yn.push(Zt[vr].value),Zt[vr].value="["+yn.join(" ")+"]"}}Y("<<");for(var Bt=0;Bt<Zt.length;Bt++)Y("/"+Zt[Bt].key+" "+Zt[Bt].value);Y(">>"),yt.data.length!==0&&(Y("stream"),Y(_t(yt.data)),Y("endstream"))},Rc=f.__private__.putPage=function(D){var ae=D.number,be=D.data,Ce=D.objId,De=D.contentsObjId;zs(Ce,!0),Y("<</Type /Page"),Y("/Parent "+D.rootDictionaryObjId+" 0 R"),Y("/Resources "+D.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&Y("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&Y("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&Y("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&Y("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&Y("/UserUnit "+D.userUnit),Yr.publish("putPage",{objId:Ce,pageContext:tr[ae],pageNumber:ae,page:be}),Y("/Contents "+De+" 0 R"),Y(">>"),Y("endobj");var Qe=be.join(`
`);return S===w&&(Qe+=`
Q`),zs(De,!0),bi({data:Qe,filters:vi(),objectId:De}),Y("endobj"),Ce},_o=f.__private__.putPages=function(){var D,ae,be=[];for(D=1;D<=nn;D++)tr[D].objId=Is(),tr[D].contentsObjId=Is();for(D=1;D<=nn;D++)be.push(Rc({number:D,data:pe[D],objId:tr[D].objId,contentsObjId:tr[D].contentsObjId,mediaBox:tr[D].mediaBox,cropBox:tr[D].cropBox,bleedBox:tr[D].bleedBox,trimBox:tr[D].trimBox,artBox:tr[D].artBox,userUnit:tr[D].userUnit,rootDictionaryObjId:ql,resourceDictionaryObjId:zi}));zs(ql,!0),Y("<</Type /Pages");var Ce="/Kids [";for(ae=0;ae<nn;ae++)Ce+=be[ae]+" 0 R ";Y(Ce+"]"),Y("/Count "+nn),Y(">>"),Y("endobj"),Yr.publish("postPutPages")},Fc=function(D){Yr.publish("putFont",{font:D,out:Y,newObject:Kn,putStream:bi}),D.isAlreadyPutted!==!0&&(D.objectNumber=Kn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+fp(D.postScriptName)),Y("/Subtype /Type1"),typeof D.encoding=="string"&&Y("/Encoding /"+D.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Dd=function(D){D.objectNumber=Kn();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var be=D.pages[1].join(`
`);bi({data:be,additionalKeyValues:ae,objectId:D.objectNumber}),Y("endobj")},Rd=function(D,ae){ae||(ae=21);var be=Kn(),Ce=function(rt,_t){var yt,Zt=[],ir=1/(_t-1);for(yt=0;yt<1;yt+=ir)Zt.push(yt);if(Zt.push(1),rt[0].offset!=0){var vr={offset:0,color:rt[0].color};rt.unshift(vr)}if(rt[rt.length-1].offset!=1){var yn={offset:1,color:rt[rt.length-1].color};rt.push(yn)}for(var Yn="",Bt=0,vn=0;vn<Zt.length;vn++){for(yt=Zt[vn];yt>rt[Bt+1].offset;)Bt++;var Zn=rt[Bt].offset,Us=(yt-Zn)/(rt[Bt+1].offset-Zn),Hi=rt[Bt].color,Kl=rt[Bt+1].color;Yn+=ie(Math.round((1-Us)*Hi[0]+Us*Kl[0]).toString(16))+ie(Math.round((1-Us)*Hi[1]+Us*Kl[1]).toString(16))+ie(Math.round((1-Us)*Hi[2]+Us*Kl[2]).toString(16))}return Yn.trim()}(D.colors,ae),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+ae+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bi({data:Ce,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),Y("endobj"),D.objectNumber=Kn(),Y("<< /ShadingType "+D.type),Y("/ColorSpace /DeviceRGB");var Qe="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?Qe+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):Qe+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),Y(Qe+="]"),D.matrix&&Y("/Matrix ["+D.matrix.toString()+"]"),Y("/Function "+be+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},tl=function(D,ae){var be=Is(),Ce=Kn();ae.push({resourcesOid:be,objectOid:Ce}),D.objectNumber=Ce;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),De.push({key:"XStep",value:k(D.xStep)}),De.push({key:"YStep",value:k(D.yStep)}),De.push({key:"Resources",value:be+" 0 R"}),D.matrix&&De.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),bi({data:D.stream,additionalKeyValues:De,objectId:D.objectNumber}),Y("endobj")},hx=function(D){for(var ae in D.objectNumber=Kn(),Y("<<"),D)switch(ae){case"opacity":Y("/ca "+E(D[ae]));break;case"stroke-opacity":Y("/CA "+E(D[ae]))}Y(">>"),Y("endobj")},Wl=function(D){zs(D.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ae in Y("/Font <<"),Nt)Nt.hasOwnProperty(ae)&&(h===!1||h===!0&&p.hasOwnProperty(ae))&&Y("/"+ae+" "+Nt[ae].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(It).length>0){for(var ae in Y("/Shading <<"),It)It.hasOwnProperty(ae)&&It[ae]instanceof vf&&It[ae].objectNumber>=0&&Y("/"+ae+" "+It[ae].objectNumber+" 0 R");Yr.publish("putShadingPatternDict"),Y(">>")}}(),function(ae){if(Object.keys(It).length>0){for(var be in Y("/Pattern <<"),It)It.hasOwnProperty(be)&&It[be]instanceof f.TilingPattern&&It[be].objectNumber>=0&&It[be].objectNumber<ae&&Y("/"+be+" "+It[be].objectNumber+" 0 R");Yr.publish("putTilingPatternDict"),Y(">>")}}(D.objectOid),function(){if(Object.keys(sr).length>0){var ae;for(ae in Y("/ExtGState <<"),sr)sr.hasOwnProperty(ae)&&sr[ae].objectNumber>=0&&Y("/"+ae+" "+sr[ae].objectNumber+" 0 R");Yr.publish("putGStateDict"),Y(">>")}}(),function(){for(var ae in Y("/XObject <<"),la)la.hasOwnProperty(ae)&&la[ae].objectNumber>=0&&Y("/"+ae+" "+la[ae].objectNumber+" 0 R");Yr.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},_m=function(D){qt[D.fontName]=qt[D.fontName]||{},qt[D.fontName][D.fontStyle]=D.id},km=function(D,ae,be,Ce,De){var Qe={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:D,fontName:ae,fontStyle:be,encoding:Ce,isStandardFont:De||!1,metadata:{}};return Yr.publish("addFont",{font:Qe,instance:this}),Nt[Qe.id]=Qe,_m(Qe),Qe.id},wi=f.__private__.pdfEscape=f.pdfEscape=function(D,ae){return function(be,Ce){var De,Qe,rt,_t,yt,Zt,ir,vr,yn;if(rt=(Ce=Ce||{}).sourceEncoding||"Unicode",yt=Ce.outputEncoding,(Ce.autoencode||yt)&&Nt[tt].metadata&&Nt[tt].metadata[rt]&&Nt[tt].metadata[rt].encoding&&(_t=Nt[tt].metadata[rt].encoding,!yt&&Nt[tt].encoding&&(yt=Nt[tt].encoding),!yt&&_t.codePages&&(yt=_t.codePages[0]),typeof yt=="string"&&(yt=_t[yt]),yt)){for(ir=!1,Zt=[],De=0,Qe=be.length;De<Qe;De++)(vr=yt[be.charCodeAt(De)])?Zt.push(String.fromCharCode(vr)):Zt.push(be[De]),Zt[De].charCodeAt(0)>>8&&(ir=!0);be=Zt.join("")}for(De=be.length;ir===void 0&&De!==0;)be.charCodeAt(De-1)>>8&&(ir=!0),De--;if(!ir)return be;for(Zt=Ce.noBOM?[]:[254,255],De=0,Qe=be.length;De<Qe;De++){if((yn=(vr=be.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(yn),Zt.push(vr-(yn<<8))}return String.fromCharCode.apply(void 0,Zt)}(D,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fd=f.__private__.beginPage=function(D){pe[++nn]=[],tr[nn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Am(nn),Ne(pe[G])},Ah=function(D,ae){var be,Ce,De;switch(n=ae||n,typeof D=="string"&&(be=b(D.toLowerCase()),Array.isArray(be)&&(Ce=be[0],De=be[1])),Array.isArray(D)&&(Ce=D[0]*it,De=D[1]*it),isNaN(Ce)&&(Ce=a[0],De=a[1]),(Ce>14400||De>14400)&&(An.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),De=Math.min(14400,De)),a=[Ce,De],n.substr(0,1)){case"l":De>Ce&&(a=[De,Ce]);break;case"p":Ce>De&&(a=[De,Ce])}Fd(a),gx(Eh),Y(Gd),Oh!==0&&Y(Oh+" J"),Lh!==0&&Y(Lh+" j"),Yr.publish("addPage",{pageNumber:nn})},$d=function(D){D>0&&D<=nn&&(pe.splice(D,1),tr.splice(D,1),nn--,G>nn&&(G=nn),this.setPage(G))},Am=function(D){D>0&&D<=nn&&(G=D)},Cm=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return pe.length-1},Pm=function(D,ae,be){var Ce,De=void 0;return be=be||{},D=D!==void 0?D:Nt[tt].fontName,ae=ae!==void 0?ae:Nt[tt].fontStyle,Ce=D.toLowerCase(),qt[Ce]!==void 0&&qt[Ce][ae]!==void 0?De=qt[Ce][ae]:qt[D]!==void 0&&qt[D][ae]!==void 0?De=qt[D][ae]:be.disableWarning===!1&&An.warn("Unable to look up font label for font '"+D+"', '"+ae+"'. Refer to getFontList() for available fonts."),De||be.noFallback||(De=qt.times[ae])==null&&(De=qt.times.normal),De},Bd=f.__private__.putInfo=function(){var D=Kn(),ae=function(Ce){return Ce};for(var be in u!==null&&(ae=ns.encryptor(D,0)),Y("<<"),Y("/Producer ("+wi(ae("jsPDF "+Mt.version))+")"),Ze)Ze.hasOwnProperty(be)&&Ze[be]&&Y("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+wi(ae(Ze[be]))+")");Y("/CreationDate ("+wi(ae(V))+")"),Y(">>"),Y("endobj")},Em=f.__private__.putCatalog=function(D){var ae=(D=D||{}).rootDictionaryObjId||ql;switch(Kn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+ae+" 0 R"),le||(le="fullwidth"),le){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+le;be.substr(be.length-1)==="%"&&(le=parseInt(le)/100),typeof le=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+E(le)+"]")}switch(He||(He="continuous"),He){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Pe&&Y("/PageMode /"+Pe),Yr.publish("putCatalog"),Y(">>"),Y("endobj")},rs=f.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(re+1)),Y("/Root "+re+" 0 R"),Y("/Info "+(re-1)+" 0 R"),u!==null&&Y("/Encrypt "+ns.oid+" 0 R"),Y("/ID [ <"+U+"> <"+U+"> ]"),Y(">>")},Ch=f.__private__.putHeader=function(){Y("%PDF-"+x),Y("%ºß¬à")},zd=f.__private__.putXRef=function(){var D="0000000000";Y("xref"),Y("0 "+(re+1)),Y("0000000000 65535 f ");for(var ae=1;ae<=re;ae++)typeof fe[ae]=="function"?Y((D+fe[ae]()).slice(-10)+" 00000 n "):fe[ae]!==void 0?Y((D+fe[ae]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},rl=f.__private__.buildDocument=function(){var D;re=0,Z=0,we=[],fe=[],Q=[],ql=Is(),zi=Is(),Ne(we),Yr.publish("buildDocument"),Ch(),_o(),function(){Yr.publish("putAdditionalObjects");for(var be=0;be<Q.length;be++){var Ce=Q[be];zs(Ce.objId,!0),Y(Ce.content),Y("endobj")}Yr.publish("postPutAdditionalObjects")}(),D=[],function(){for(var be in Nt)Nt.hasOwnProperty(be)&&(h===!1||h===!0&&p.hasOwnProperty(be))&&Fc(Nt[be])}(),function(){var be;for(be in sr)sr.hasOwnProperty(be)&&hx(sr[be])}(),function(){for(var be in la)la.hasOwnProperty(be)&&Dd(la[be])}(),function(be){var Ce;for(Ce in It)It.hasOwnProperty(Ce)&&(It[Ce]instanceof vf?Rd(It[Ce]):It[Ce]instanceof Sp&&tl(It[Ce],be))}(D),Yr.publish("putResources"),D.forEach(Wl),Wl({resourcesOid:zi,objectOid:Number.MAX_SAFE_INTEGER}),Yr.publish("postPutResources"),u!==null&&(ns.oid=Kn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+ns.v),Y("/R "+ns.r),Y("/U <"+ns.toHexString(ns.U)+">"),Y("/O <"+ns.toHexString(ns.O)+">"),Y("/P "+ns.P),Y(">>"),Y("endobj")),Bd(),Em();var ae=Z;return zd(),rs(),Y("startxref"),Y(""+ae),Y("%%EOF"),Ne(pe[G]),we.join(`
`)},Vl=f.__private__.getBlob=function(D){return new Blob([We(D)],{type:"application/pdf"})},Pa=f.output=f.__private__.output=(Ca=function(D,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",D){case void 0:return rl();case"save":f.save(ae.filename);break;case"arraybuffer":return We(rl());case"blob":return Vl(rl());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(Vl(rl()))||void 0;An.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ce=rl();try{be=hI(Ce)}catch{be=hI(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+ae.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(De=ae.pdfObjectUrl,Qe="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",_t=nr.open();return _t!==null&&_t.document.write(rt),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',Zt=nr.open();if(Zt!==null){Zt.document.write(yt);var ir=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=ae.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ir.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',yn=nr.open();if(yn!==null&&(yn.document.write(vr),yn.document.title=ae.filename),yn||typeof safari>"u")return yn;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",ae);default:return null}},Ca.foo=function(){try{return Ca.apply(this,arguments)}catch(be){var D=be.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ae="Error in function "+D.split(`
`)[0].split("<")[0]+": "+be.message;if(!nr.console)throw new Error(ae);nr.console.error(ae,be),nr.alert&&alert(ae)}},Ca.foo.bar=Ca,Ca.foo),Hl=function(D){return Array.isArray(Mc)===!0&&Mc.indexOf(D)>-1};switch(s){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Hl("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);it=s}var ns=null;J(),$();var Ud=f.__private__.getPageInfo=f.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tr[D].objId,pageNumber:D,pageContext:tr[D]}},Tm=f.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in tr)if(tr[ae].objId===D)break;return Ud(ae)},Ph=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:tr[G].objId,pageNumber:G,pageContext:tr[G]}};f.addPage=function(){return Ah.apply(this,arguments),this},f.setPage=function(){return Am.apply(this,arguments),Ne.call(this,pe[G]),this},f.insertPage=function(D){return this.addPage(),this.movePage(G,D),this},f.movePage=function(D,ae){var be,Ce;if(D>ae){be=pe[D],Ce=tr[D];for(var De=D;De>ae;De--)pe[De]=pe[De-1],tr[De]=tr[De-1];pe[ae]=be,tr[ae]=Ce,this.setPage(ae)}else if(D<ae){be=pe[D],Ce=tr[D];for(var Qe=D;Qe<ae;Qe++)pe[Qe]=pe[Qe+1],tr[Qe]=tr[Qe+1];pe[ae]=be,tr[ae]=Ce,this.setPage(ae)}return this},f.deletePage=function(){return $d.apply(this,arguments),this},f.__private__.text=f.text=function(D,ae,be,Ce,De){var Qe,rt,_t,yt,Zt,ir,vr,yn,Yn,Bt=(Ce=Ce||{}).scope||this;if(typeof D=="number"&&typeof ae=="number"&&(typeof be=="string"||Array.isArray(be))){var vn=be;be=ae,ae=D,D=vn}if(arguments[3]instanceof Ut==0?(_t=arguments[4],yt=arguments[5],pn(vr=arguments[3])==="object"&&vr!==null||(typeof _t=="string"&&(yt=_t,_t=null),typeof vr=="string"&&(yt=vr,vr=null),typeof vr=="number"&&(_t=vr,vr=null),Ce={flags:vr,angle:_t,align:yt})):(C("The transform parameter of text() with a Matrix value"),Yn=De),isNaN(ae)||isNaN(be)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Bt;var Zn,Us="",Hi=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:$c,Kl=Bt.internal.scaleFactor;function Nx(bn){return bn=bn.split("	").join(Array(Ce.TabLen||9).join(" ")),wi(bn,vr)}function Im(bn){for(var Hr,Oe=bn.concat(),Ge=[],Ve=Oe.length;Ve--;)typeof(Hr=Oe.shift())=="string"?Ge.push(Hr):Array.isArray(bn)&&(Hr.length===1||Hr[1]===void 0&&Hr[2]===void 0)?Ge.push(Hr[0]):Ge.push([Hr[0],Hr[1],Hr[2]]);return Ge}function Yl(bn,Hr){var Oe;if(typeof bn=="string")Oe=Hr(bn)[0];else if(Array.isArray(bn)){for(var Ge,Ve,gt=bn.concat(),Dt=[],Er=gt.length;Er--;)typeof(Ge=gt.shift())=="string"?Dt.push(Hr(Ge)[0]):Array.isArray(Ge)&&typeof Ge[0]=="string"&&(Ve=Hr(Ge[0],Ge[1],Ge[2]),Dt.push([Ve[0],Ve[1],Ve[2]]));Oe=Dt}return Oe}var Ea=!1,ko=!0;if(typeof D=="string")Ea=!0;else if(Array.isArray(D)){var Jd=D.concat();rt=[];for(var il,ws=Jd.length;ws--;)(typeof(il=Jd.shift())!="string"||Array.isArray(il)&&typeof il[0]!="string")&&(ko=!1);Ea=ko}if(Ea===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Gi=ze/Bt.internal.scaleFactor,Ki=Gi*(Hi-1);switch(Ce.baseline){case"bottom":be-=Ki;break;case"top":be+=Gi-Ki;break;case"hanging":be+=Gi-2*Ki;break;case"middle":be+=Gi/2-Ki}if((ir=Ce.maxWidth||0)>0&&(typeof D=="string"?D=Bt.splitTextToSize(D,ir):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(bn,Hr){return bn.concat(Bt.splitTextToSize(Hr,ir))},[]))),Qe={text:D,x:ae,y:be,options:Ce,mutex:{pdfEscape:wi,activeFontKey:tt,fonts:Nt,activeFontSize:ze}},Yr.publish("preProcessText",Qe),D=Qe.text,_t=(Ce=Qe.options).angle,Yn instanceof Ut==0&&_t&&typeof _t=="number"){_t*=Math.PI/180,Ce.rotationDirection===0&&(_t=-_t),S===w&&(_t=-_t);var Uc=Math.cos(_t),Ih=Math.sin(_t);Yn=new Ut(Uc,Ih,-Ih,Uc,0,0)}else _t&&_t instanceof Ut&&(Yn=_t);S!==w||Yn||(Yn=Bi),(Zt=Ce.charSpace||Kd)!==void 0&&(Us+=k(B(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yn=Ce.horizontalScale)!==void 0&&(Us+=k(100*yn)+` Tz
`),Ce.lang;var qs=-1,Qd=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,eu=Bt.internal.getCurrentPageInfo().pageContext;switch(Qd){case 0:case!1:case"fill":qs=0;break;case 1:case!0:case"stroke":qs=1;break;case 2:case"fillThenStroke":qs=2;break;case 3:case"invisible":qs=3;break;case 4:case"fillAndAddForClipping":qs=4;break;case 5:case"strokeAndAddPathForClipping":qs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qs=6;break;case 7:case"addToPathForClipping":qs=7}var Mh=eu.usedRenderingMode!==void 0?eu.usedRenderingMode:-1;qs!==-1?Us+=qs+` Tr
`:Mh!==-1&&(Us+=`0 Tr
`),qs!==-1&&(eu.usedRenderingMode=qs),yt=Ce.align||"left";var Vr,Ta=ze*Hi,ol=Bt.internal.pageSize.getWidth(),tu=Nt[tt];Zt=Ce.charSpace||Kd,ir=Ce.maxWidth||0,vr=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var ll=[],ru=function(bn){return Bt.getStringUnitWidth(bn,{font:tu,charSpace:Zt,fontSize:ze,doKerning:!1})*ze/Kl};if(Object.prototype.toString.call(D)==="[object Array]"){var Oa;rt=Im(D),yt!=="left"&&(Vr=rt.map(ru));var La,qc=0;if(yt==="right"){ae-=Vr[0],D=[],ws=rt.length;for(var Ao=0;Ao<ws;Ao++)Ao===0?(La=Wi(ae),Oa=sl(be)):(La=B(qc-Vr[Ao]),Oa=-Ta),D.push([rt[Ao],La,Oa]),qc=Vr[Ao]}else if(yt==="center"){ae-=Vr[0]/2,D=[],ws=rt.length;for(var Xa=0;Xa<ws;Xa++)Xa===0?(La=Wi(ae),Oa=sl(be)):(La=B((qc-Vr[Xa])/2),Oa=-Ta),D.push([rt[Xa],La,Oa]),qc=Vr[Xa]}else if(yt==="left"){D=[],ws=rt.length;for(var Dh=0;Dh<ws;Dh++)D.push(rt[Dh])}else if(yt==="justify"&&tu.encoding==="Identity-H"){D=[],ws=rt.length,ir=ir!==0?ir:ol;for(var Zl=0,Dn=0;Dn<ws;Dn++)if(Oa=Dn===0?sl(be):-Ta,La=Dn===0?Wi(ae):Zl,Dn<ws-1){var Mm=B((ir-Vr[Dn])/(rt[Dn].split(" ").length-1)),Ws=rt[Dn].split(" ");D.push([Ws[0]+" ",La,Oa]),Zl=0;for(var Ja=1;Ja<Ws.length;Ja++){var nu=(ru(Ws[Ja-1]+" "+Ws[Ja])-ru(Ws[Ja]))*Kl+Mm;Ja==Ws.length-1?D.push([Ws[Ja],nu,0]):D.push([Ws[Ja]+" ",nu,0]),Zl-=nu}}else D.push([rt[Dn],La,Oa]);D.push(["",Zl,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ws=rt.length,ir=ir!==0?ir:ol,Dn=0;Dn<ws;Dn++)Oa=Dn===0?sl(be):-Ta,La=Dn===0?Wi(ae):0,Dn<ws-1?ll.push(k(B((ir-Vr[Dn])/(rt[Dn].split(" ").length-1)))):ll.push(0),D.push([rt[Dn],La,Oa])}}(typeof Ce.R2L=="boolean"?Ce.R2L:Se)===!0&&(D=Yl(D,function(bn,Hr,Oe){return[bn.split("").reverse().join(""),Hr,Oe]})),Qe={text:D,x:ae,y:be,options:Ce,mutex:{pdfEscape:wi,activeFontKey:tt,fonts:Nt,activeFontSize:ze}},Yr.publish("postProcessText",Qe),D=Qe.text,Zn=Qe.mutex.isHex||!1;var Rh=Nt[tt].encoding;Rh!=="WinAnsiEncoding"&&Rh!=="StandardEncoding"||(D=Yl(D,function(bn,Hr,Oe){return[Nx(bn),Hr,Oe]})),rt=Im(D),D=[];for(var su,Yi,Vs,Xl=Array.isArray(rt[0])?1:0,cl="",Fh=function(bn,Hr,Oe){var Ge="";return Oe instanceof Ut?(Oe=typeof Ce.angle=="number"?el(Oe,new Ut(1,0,0,1,bn,Hr)):el(new Ut(1,0,0,1,bn,Hr),Oe),S===w&&(Oe=el(new Ut(1,0,0,-1,0,0),Oe)),Ge=Oe.join(" ")+` Tm
`):Ge=k(bn)+" "+k(Hr)+` Td
`,Ge},Qa=0;Qa<rt.length;Qa++){switch(cl="",Xl){case 1:Vs=(Zn?"<":"(")+rt[Qa][0]+(Zn?">":")"),su=parseFloat(rt[Qa][1]),Yi=parseFloat(rt[Qa][2]);break;case 0:Vs=(Zn?"<":"(")+rt[Qa]+(Zn?">":")"),su=Wi(ae),Yi=sl(be)}ll!==void 0&&ll[Qa]!==void 0&&(cl=ll[Qa]+` Tw
`),Qa===0?D.push(cl+Fh(su,Yi,Yn)+Vs):Xl===0?D.push(cl+Vs):Xl===1&&D.push(cl+Fh(su,Yi,Yn)+Vs)}D=Xl===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Co=`BT
/`;return Co+=tt+" "+ze+` Tf
`,Co+=k(ze*Hi)+` TL
`,Co+=qr+`
`,Co+=Us,Co+=D,Y(Co+="ET"),p[tt]=!0,Bt};var fx=f.__private__.clip=f.clip=function(D){return Y(D==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return fx("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Y("n"),this};var qi=f.__private__.isValidStyle=function(D){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ae=!0),ae};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(D){return qi(D)&&(d=D),this};var qd=f.__private__.getStyle=f.getStyle=function(D){var ae=d;switch(D){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=D}return ae},Wd=f.close=function(){return Y("h"),this};f.stroke=function(){return Y("S"),this},f.fill=function(D){return Za("f",D),this},f.fillEvenOdd=function(D){return Za("f*",D),this},f.fillStroke=function(D){return Za("B",D),this},f.fillStrokeEvenOdd=function(D){return Za("B*",D),this};var Za=function(D,ae){pn(ae)==="object"?mx(ae,D):Y(D)},Vd=function(D){D===null||S===w&&D===void 0||(D=qd(D),Y(D))};function Om(D,ae,be,Ce,De){var Qe=new Sp(ae||this.boundingBox,be||this.xStep,Ce||this.yStep,this.gState,De||this.matrix);Qe.stream=this.stream;var rt=D+"$$"+this.cloneIndex+++"$$";return yi(rt,Qe),Qe}var mx=function(D,ae){var be=Sr[D.key],Ce=It[be];if(Ce instanceof vf)Y("q"),Y(Lm(ae)),Ce.gState&&f.setGState(Ce.gState),Y(D.matrix.toString()+" cm"),Y("/"+be+" sh"),Y("Q");else if(Ce instanceof Sp){var De=new Ut(1,0,0,-1,0,va());D.matrix&&(De=De.multiply(D.matrix||Bi),be=Om.call(Ce,D.key,D.boundingBox,D.xStep,D.yStep,De).id),Y("q"),Y("/Pattern cs"),Y("/"+be+" scn"),Ce.gState&&f.setGState(Ce.gState),Y(ae),Y("Q")}},Lm=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Hd=f.moveTo=function(D,ae){return Y(k(B(D))+" "+k(z(ae))+" m"),this},Gl=f.lineTo=function(D,ae){return Y(k(B(D))+" "+k(z(ae))+" l"),this},nl=f.curveTo=function(D,ae,be,Ce,De,Qe){return Y([k(B(D)),k(z(ae)),k(B(be)),k(z(Ce)),k(B(De)),k(z(Qe)),"c"].join(" ")),this};f.__private__.line=f.line=function(D,ae,be,Ce,De){if(isNaN(D)||isNaN(ae)||isNaN(be)||isNaN(Ce)||!qi(De))throw new Error("Invalid arguments passed to jsPDF.line");return S===_?this.lines([[be-D,Ce-ae]],D,ae,[1,1],De||"S"):this.lines([[be-D,Ce-ae]],D,ae,[1,1]).stroke()},f.__private__.lines=f.lines=function(D,ae,be,Ce,De,Qe){var rt,_t,yt,Zt,ir,vr,yn,Yn,Bt,vn,Zn,Us;if(typeof D=="number"&&(Us=be,be=ae,ae=D,D=Us),Ce=Ce||[1,1],Qe=Qe||!1,isNaN(ae)||isNaN(be)||!Array.isArray(D)||!Array.isArray(Ce)||!qi(De)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hd(ae,be),rt=Ce[0],_t=Ce[1],Zt=D.length,vn=ae,Zn=be,yt=0;yt<Zt;yt++)(ir=D[yt]).length===2?(vn=ir[0]*rt+vn,Zn=ir[1]*_t+Zn,Gl(vn,Zn)):(vr=ir[0]*rt+vn,yn=ir[1]*_t+Zn,Yn=ir[2]*rt+vn,Bt=ir[3]*_t+Zn,vn=ir[4]*rt+vn,Zn=ir[5]*_t+Zn,nl(vr,yn,Yn,Bt,vn,Zn));return Qe&&Wd(),Vd(De),this},f.path=function(D){for(var ae=0;ae<D.length;ae++){var be=D[ae],Ce=be.c;switch(be.op){case"m":Hd(Ce[0],Ce[1]);break;case"l":Gl(Ce[0],Ce[1]);break;case"c":nl.apply(this,Ce);break;case"h":Wd()}}return this},f.__private__.rect=f.rect=function(D,ae,be,Ce,De){if(isNaN(D)||isNaN(ae)||isNaN(be)||isNaN(Ce)||!qi(De))throw new Error("Invalid arguments passed to jsPDF.rect");return S===_&&(Ce=-Ce),Y([k(B(D)),k(z(ae)),k(B(be)),k(B(Ce)),"re"].join(" ")),Vd(De),this},f.__private__.triangle=f.triangle=function(D,ae,be,Ce,De,Qe,rt){if(isNaN(D)||isNaN(ae)||isNaN(be)||isNaN(Ce)||isNaN(De)||isNaN(Qe)||!qi(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-D,Ce-ae],[De-be,Qe-Ce],[D-De,ae-Qe]],D,ae,[1,1],rt,!0),this},f.__private__.roundedRect=f.roundedRect=function(D,ae,be,Ce,De,Qe,rt){if(isNaN(D)||isNaN(ae)||isNaN(be)||isNaN(Ce)||isNaN(De)||isNaN(Qe)||!qi(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*be),Qe=Math.min(Qe,.5*Ce),this.lines([[be-2*De,0],[De*_t,0,De,Qe-Qe*_t,De,Qe],[0,Ce-2*Qe],[0,Qe*_t,-De*_t,Qe,-De,Qe],[2*De-be,0],[-De*_t,0,-De,-Qe*_t,-De,-Qe],[0,2*Qe-Ce],[0,-Qe*_t,De*_t,-Qe,De,-Qe]],D+De,ae,[1,1],rt,!0),this},f.__private__.ellipse=f.ellipse=function(D,ae,be,Ce,De){if(isNaN(D)||isNaN(ae)||isNaN(be)||isNaN(Ce)||!qi(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*be,rt=4/3*(Math.SQRT2-1)*Ce;return Hd(D+be,ae),nl(D+be,ae-rt,D+Qe,ae-Ce,D,ae-Ce),nl(D-Qe,ae-Ce,D-be,ae-rt,D-be,ae),nl(D-be,ae+rt,D-Qe,ae+Ce,D,ae+Ce),nl(D+Qe,ae+Ce,D+be,ae+rt,D+be,ae),Vd(De),this},f.__private__.circle=f.circle=function(D,ae,be,Ce){if(isNaN(D)||isNaN(ae)||isNaN(be)||!qi(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ae,be,be,Ce)},f.setFont=function(D,ae,be){return be&&(ae=P(ae,be)),tt=Pm(D,ae,{disableWarning:!1}),this};var px=f.__private__.getFont=f.getFont=function(){return Nt[Pm.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var D,ae,be={};for(D in qt)if(qt.hasOwnProperty(D))for(ae in be[D]=[],qt[D])qt[D].hasOwnProperty(ae)&&be[D].push(ae);return be},f.addFont=function(D,ae,be,Ce,De){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(be=P(be,Ce)),km.call(this,D,ae,be,De=De||"Identity-H")};var $c,Eh=e.lineWidth||.200025,Qt=f.__private__.getLineWidth=f.getLineWidth=function(){return Eh},gx=f.__private__.setLineWidth=f.setLineWidth=function(D){return Eh=D,Y(k(B(D))+" w"),this};f.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(D,ae){if(D=D||[],ae=ae||0,isNaN(ae)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(be){return k(B(be))}).join(" "),ae=k(B(ae)),Y("["+D+"] "+ae+" d"),this};var xx=f.__private__.getLineHeight=f.getLineHeight=function(){return ze*$c};f.__private__.getLineHeight=f.getLineHeight=function(){return ze*$c};var yx=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&($c=D),this},vx=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return $c};yx(e.lineHeight);var Wi=f.__private__.getHorizontalCoordinate=function(D){return B(D)},sl=f.__private__.getVerticalCoordinate=function(D){return S===w?D:tr[G].mediaBox.topRightY-tr[G].mediaBox.bottomLeftY-B(D)},bx=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(D){return k(Wi(D))},wx=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(D){return k(sl(D))},Gd=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return So(Gd)},f.__private__.setStrokeColor=f.setDrawColor=function(D,ae,be,Ce){return Gd=Ui({ch1:D,ch2:ae,ch3:be,ch4:Ce,pdfColorType:"draw",precision:2}),Y(Gd),this};var Th=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return So(Th)},f.__private__.setFillColor=f.setFillColor=function(D,ae,be,Ce){return Th=Ui({ch1:D,ch2:ae,ch3:be,ch4:Ce,pdfColorType:"fill",precision:2}),Y(Th),this};var qr=e.textColor||"0 g",Wr=f.__private__.getTextColor=f.getTextColor=function(){return So(qr)};f.__private__.setTextColor=f.setTextColor=function(D,ae,be,Ce){return qr=Ui({ch1:D,ch2:ae,ch3:be,ch4:Ce,pdfColorType:"text",precision:3}),this};var Kd=e.charSpace,jx=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Kd||0)};f.__private__.setCharSpace=f.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kd=D,this};var Oh=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(D){var ae=f.CapJoinStyles[D];if(ae===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oh=ae,Y(ae+" J"),this};var Lh=0;f.__private__.setLineJoin=f.setLineJoin=function(D){var ae=f.CapJoinStyles[D];if(ae===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lh=ae,Y(ae+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(k(B(D))+" M"),this},f.GState=Ww,f.setGState=function(D){(D=typeof D=="string"?sr[ts[D]]:Bc(null,D)).equals(us)||(Y("/"+D.id+" gs"),us=D)};var Bc=function(D,ae){if(!D||!ts[D]){var be=!1;for(var Ce in sr)if(sr.hasOwnProperty(Ce)&&sr[Ce].equals(ae)){be=!0;break}if(be)ae=sr[Ce];else{var De="GS"+(Object.keys(sr).length+1).toString(10);sr[De]=ae,ae.id=De}return D&&(ts[D]=ae.id),Yr.publish("addGState",ae),ae}};f.addGState=function(D,ae){return Bc(D,ae),this},f.saveGraphicsState=function(){return Y("q"),Ur.push({key:tt,size:ze,color:qr}),this},f.restoreGraphicsState=function(){Y("Q");var D=Ur.pop();return tt=D.key,ze=D.size,qr=D.color,us=null,this},f.setCurrentTransformationMatrix=function(D){return Y(D.toString()+" cm"),this},f.comment=function(D){return Y("#"+D),this};var zc=function(D,ae){var be=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var Ce=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Qe){isNaN(Qe)||(Ce=parseFloat(Qe))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Qe){De=Qe.toString()}}),this},Yd=function(D,ae,be,Ce){zc.call(this,D,ae),this.type="rect";var De=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(rt){isNaN(rt)||(De=parseFloat(rt))}});var Qe=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(rt){isNaN(rt)||(Qe=parseFloat(rt))}}),this},Zd=function(){this.page=nn,this.currentPage=G,this.pages=pe.slice(0),this.pagesContext=tr.slice(0),this.x=lt,this.y=jt,this.matrix=Lt,this.width=Vi(G),this.height=va(G),this.outputDestination=Ae,this.id="",this.objectNumber=-1};Zd.prototype.restore=function(){nn=this.page,G=this.currentPage,tr=this.pagesContext,pe=this.pages,lt=this.x,jt=this.y,Lt=this.matrix,Xd(G,this.width),as(G,this.height),Ae=this.outputDestination};var ss=function(D,ae,be,Ce,De){No.push(new Zd),nn=G=0,pe=[],lt=D,jt=ae,Lt=De,Fd([be,Ce])};for(var al in f.beginFormObject=function(D,ae,be,Ce,De){return ss(D,ae,be,Ce,De),this},f.endFormObject=function(D){return function(ae){if(jo[ae])No.pop().restore();else{var be=new Zd,Ce="Xo"+(Object.keys(la).length+1).toString(10);be.id=Ce,jo[ae]=Ce,la[Ce]=be,Yr.publish("addFormObject",be),No.pop().restore()}}(D),this},f.doFormObject=function(D,ae){var be=la[jo[D]];return Y("q"),Y(ae.toString()+" cm"),Y("/"+be.id+" Do"),Y("Q"),this},f.getFormObject=function(D){var ae=la[jo[D]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},f.save=function(D,ae){return D=D||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(gf(Vl(rl()),D),typeof gf.unload=="function"&&nr.setTimeout&&setTimeout(gf.unload,911),this):new Promise(function(be,Ce){try{var De=gf(Vl(rl()),D);typeof gf.unload=="function"&&nr.setTimeout&&setTimeout(gf.unload,911),be(De)}catch(Qe){Ce(Qe.message)}})},Mt.API)Mt.API.hasOwnProperty(al)&&(al==="events"&&Mt.API.events.length?function(D,ae){var be,Ce,De;for(De=ae.length-1;De!==-1;De--)be=ae[De][0],Ce=ae[De][1],D.subscribe.apply(D,[be].concat(typeof Ce=="function"?[Ce]:Ce))}(Yr,Mt.API.events):f[al]=Mt.API[al]);var Vi=f.getPageWidth=function(D){return(tr[D=D||G].mediaBox.topRightX-tr[D].mediaBox.bottomLeftX)/it},Xd=f.setPageWidth=function(D,ae){tr[D].mediaBox.topRightX=ae*it+tr[D].mediaBox.bottomLeftX},va=f.getPageHeight=function(D){return(tr[D=D||G].mediaBox.topRightY-tr[D].mediaBox.bottomLeftY)/it},as=f.setPageHeight=function(D,ae){tr[D].mediaBox.topRightY=ae*it+tr[D].mediaBox.bottomLeftY};return f.internal={pdfEscape:wi,getStyle:qd,getFont:px,getFontSize:se,getCharSpace:jx,getTextColor:Wr,getLineHeight:xx,getLineHeightFactor:vx,getLineWidth:Qt,write:ke,getHorizontalCoordinate:Wi,getVerticalCoordinate:sl,getCoordinateString:bx,getVerticalCoordinateString:wx,collections:{},newObject:Kn,newAdditionalObject:Dc,newObjectDeferred:Is,newObjectDeferredBegin:zs,getFilters:vi,putStream:bi,events:Yr,scaleFactor:it,pageSize:{getWidth:function(){return Vi(G)},setWidth:function(D){Xd(G,D)},getHeight:function(){return va(G)},setHeight:function(D){as(G,D)}},encryptionOptions:u,encryption:ns,getEncryptor:function(D){return u!==null?ns.encryptor(D,0):function(ae){return ae}},output:Pa,getNumberOfPages:Cm,pages:pe,out:Y,f2:E,f3:I,getPageInfo:Ud,getPageInfoByObjId:Tm,getCurrentPageInfo:Ph,getPDFVersion:g,Point:zc,Rectangle:Yd,Matrix:Ut,hasHotfix:Hl},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Vi(G)},set:function(D){Xd(G,D)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return va(G)},set:function(D){as(G,D)},enumerable:!0,configurable:!0}),function(D){for(var ae=0,be=Ie.length;ae<be;ae++){var Ce=km.call(this,D[ae][0],D[ae][1],D[ae][2],Ie[ae][3],!0);h===!1&&(p[Ce]=!0);var De=D[ae][0].split("-");_m({id:Ce,fontName:De[0],fontStyle:De[1]||""})}Yr.publish("addFonts",{fonts:Nt,dictionary:qt})}.call(f,Ie),tt="F1",Ah(a,n),Yr.publish("initialized"),f}hp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},hp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hp.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},hp.prototype.processOwnerPassword=function(e,t){return F4(R4(t).substr(0,5),e)},hp.prototype.encryptor=function(e,t){var n=R4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return F4(n,s)}},Ww.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var s=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&s--;return s===0},Mt.API={events:[]},Mt.version="3.0.2";var xs=Mt.API,o3=1,Sm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lr=function(e){return e.toFixed(2)},Cu=function(e){return e.toFixed(5)};xs.__acroform__={};var $i=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gI=function(e){return e*o3},lc=function(e){var t=new DU,n=kt.internal.getHeight(e)||0,s=kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(lr(s)),Number(lr(n))],t},HLe=xs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},GLe=xs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},KLe=xs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ks=xs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KLe(e,t-1)},As=xs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HLe(e,t-1)},Cs=xs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GLe(e,t-1)},YLe=xs.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=n(a+o)||0,c.upperRight_Y=s(i)||0,[Number(lr(c.lowerLeft_X)),Number(lr(c.lowerLeft_Y)),Number(lr(c.upperRight_X)),Number(lr(c.upperRight_Y))]},ZLe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,s=$4(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+lr(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=lc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$4=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=n,o=kt.internal.getHeight(e)||0;o=o<0?-o:o;var l=kt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,I,B){if(E+1<a.length){var z=I+" "+a[E+1][0];return Db(z,e,B).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,h=Db("3",e,i).height,p=e.multiline?o-i:(o-h)/2,f=p+=2,x=0,g=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Db(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",_=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var S=!1;if(a[w].length!==1&&v!==a[w].length-1){if((h+2)*(_+2)+2>o)continue e;b+=a[w][v],S=!0,g=w,w--}else{b=(b+=a[w][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var A=parseInt(w),L=c(A,b,i),P=w>=a.length-1;if(L&&!P){b+=" ",v=0;continue}if(L||P){if(P)g=A;else if(e.multiline&&(h+2)*(_+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(_+2)+2>o)continue e;g=A}}for(var k="",C=x;C<=g;C++){var R=a[C];if(e.multiline){if(C===g){k+=R[v]+" ",v=(v+1)%R.length;continue}if(C===x){k+=R[R.length-1]+" ";continue}}k+=R[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=Db(k,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=lr(d)+" "+lr(f)+` Td
`,t+="("+Sm(k)+`) Tj
`,t+=-lr(d)+` 0 Td
`,f=-(i+2),u=0,x=S?g:g+1,_++,b=""}break}return s.text=t,s.fontSize=i,s},Db=function(e,t,n){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},XLe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JLe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},QLe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(XLe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new RU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&JLe(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=YLe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=kt.createDefaultAppearanceStream(l),pn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=ZLe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(g,v){for(var b in g)if(g.hasOwnProperty(b)){var _=b,w=g[b];v.internal.newObjectDeferredBegin(w.objId,!0),pn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[_]}}(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},MU=xs.__acroform__.arrayToPdfArray=function(e,t,n){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),pn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(s=n.internal.getEncryptor(t)),a+="("+Sm(s(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},R5=function(e,t,n){var s=function(a){return a};return t!==void 0&&n&&(s=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Sm(s(e))+")"},yc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yc.prototype.toString=function(){return this.objId+" 0 R"},yc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},yc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var s=t[n],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:MU(a,this.objId,this.scope)}):a instanceof yc?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var DU=function(){yc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};$i(DU,yc);var RU=function(){yc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Sm(n(e))+")"}},set:function(n){e=n}})};$i(RU,yc);var zl=function e(){yc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ks(t,3)},set:function(b){b?this.F=As(t,3):this.F=Cs(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(b){s=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(b){s[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(b){s[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(b){s[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(b){s[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Vw)return;i="FieldObject"+e.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Sm(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/o3:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Vw||this instanceof Wf))return R5(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ga==0?R5(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof ga==0?b.substr(0,1)==="("?cp(b.substr(1,b.length-2)):cp(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga==1?cp(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof ga==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ga==0?R5(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof ga==0?b.substr(0,1)==="("?cp(b.substr(1,b.length-2)):cp(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga==1?cp(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof ga==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,1)},set:function(b){b?this.Ff=As(this.Ff,1):this.Ff=Cs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,2)},set:function(b){b?this.Ff=As(this.Ff,2):this.Ff=Cs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,3)},set:function(b){b?this.Ff=As(this.Ff,3):this.Ff=Cs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};$i(zl,yc);var Rp=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MU(t,this.objId,this.scope)},set:function(n){var s,a;a=[],typeof(s=n)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,18)},set:function(n){n?this.Ff=As(this.Ff,18):this.Ff=Cs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=As(this.Ff,19):this.Ff=Cs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,20)},set:function(n){n?(this.Ff=As(this.Ff,20),t.sort()):this.Ff=Cs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,22)},set:function(n){n?this.Ff=As(this.Ff,22):this.Ff=Cs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,23)},set:function(n){n?this.Ff=As(this.Ff,23):this.Ff=Cs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,27)},set:function(n){n?this.Ff=As(this.Ff,27):this.Ff=Cs(this.Ff,27)}}),this.hasAppearanceStream=!1};$i(Rp,zl);var Fp=function(){Rp.call(this),this.fontName="helvetica",this.combo=!1};$i(Fp,Rp);var $p=function(){Fp.call(this),this.combo=!0};$i($p,Fp);var e1=function(){$p.call(this),this.edit=!0};$i(e1,$p);var ga=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,15)},set:function(n){n?this.Ff=As(this.Ff,15):this.Ff=Cs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,16)},set:function(n){n?this.Ff=As(this.Ff,16):this.Ff=Cs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,17)},set:function(n){n?this.Ff=As(this.Ff,17):this.Ff=Cs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,26)},set:function(n){n?this.Ff=As(this.Ff,26):this.Ff=Cs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+Sm(n(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){pn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};$i(ga,zl);var t1=function(){ga.call(this),this.pushButton=!0};$i(t1,ga);var Bp=function(){ga.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$i(Bp,ga);var Vw=function(){var e,t;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Sm(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){pn(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$i(Vw,zl),Bp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Bp.prototype.createOption=function(e){var t=new Vw;return t.Parent=this,t.optionName=e,this.Kids.push(t),eIe.call(this.scope,t),t};var r1=function(){ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};$i(r1,ga);var Wf=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,13)},set:function(t){t?this.Ff=As(this.Ff,13):this.Ff=Cs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,21)},set:function(t){t?this.Ff=As(this.Ff,21):this.Ff=Cs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,23)},set:function(t){t?this.Ff=As(this.Ff,23):this.Ff=Cs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,24)},set:function(t){t?this.Ff=As(this.Ff,24):this.Ff=Cs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,25)},set:function(t){t?this.Ff=As(this.Ff,25):this.Ff=Cs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,26)},set:function(t){t?this.Ff=As(this.Ff,26):this.Ff=Cs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$i(Wf,zl);var n1=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,14)},set:function(e){e?this.Ff=As(this.Ff,14):this.Ff=Cs(this.Ff,14)}}),this.password=!0};$i(n1,Wf);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=lc(e);t.scope=e.scope;var n=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=$4(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+lr(kt.internal.getWidth(e))+" "+lr(kt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+lr(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=lc(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=kt.internal.getHeight(e),o=kt.internal.getWidth(e),l=$4(e,e.caption);return a.push("1 g"),a.push("0 0 "+lr(o)+" "+lr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+lr(o-1)+" "+lr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+lr(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=lc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+lr(kt.internal.getWidth(e))+" "+lr(kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Circle.YesNormal,t.D[e]=kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=lc(e);t.scope=e.scope;var n=[],s=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=kt.internal.Bezier_C,i=Number((s*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Cu(kt.internal.getWidth(e)/2)+" "+Cu(kt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=lc(e);t.scope=e.scope;var n=[],s=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*kt.internal.Bezier_C).toFixed(5)),o=Number((s*kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Cu(kt.internal.getWidth(e)/2)+" "+Cu(kt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Cu(kt.internal.getWidth(e)/2)+" "+Cu(kt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),n.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),n.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),n.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=lc(e);t.scope=e.scope;var n=[],s=kt.internal.getWidth(e)<=kt.internal.getHeight(e)?kt.internal.getWidth(e)/4:kt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*kt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Cu(kt.internal.getWidth(e)/2)+" "+Cu(kt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kt.RadioButton.Cross.YesNormal,t.D[e]=kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=lc(e);t.scope=e.scope;var n=[],s=kt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+lr(kt.internal.getWidth(e)-2)+" "+lr(kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(lr(s.x1.x)+" "+lr(s.x1.y)+" m"),n.push(lr(s.x2.x)+" "+lr(s.x2.y)+" l"),n.push(lr(s.x4.x)+" "+lr(s.x4.y)+" m"),n.push(lr(s.x3.x)+" "+lr(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=lc(e);t.scope=e.scope;var n=kt.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+lr(kt.internal.getWidth(e))+" "+lr(kt.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+lr(kt.internal.getWidth(e)-2)+" "+lr(kt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(lr(n.x1.x)+" "+lr(n.x1.y)+" m"),s.push(lr(n.x2.x)+" "+lr(n.x2.y)+" l"),s.push(lr(n.x4.x)+" "+lr(n.x4.y)+" m"),s.push(lr(n.x3.x)+" "+lr(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=lc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+lr(kt.internal.getWidth(e))+" "+lr(kt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kt.internal.getWidth(e),n=kt.internal.getHeight(e),s=Math.min(t,n);return{x1:{x:(t-s)/2,y:(n-s)/2+s},x2:{x:(t-s)/2+s,y:(n-s)/2},x3:{x:(t-s)/2,y:(n-s)/2},x4:{x:(t-s)/2+s,y:(n-s)/2+s}}}},kt.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=gI(e.Rect[2])),t},kt.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=gI(e.Rect[3])),t};var eIe=xs.addField=function(e){if(QLe(this,e),!(e instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xs.AcroFormChoiceField=Rp,xs.AcroFormListBox=Fp,xs.AcroFormComboBox=$p,xs.AcroFormEditBox=e1,xs.AcroFormButton=ga,xs.AcroFormPushButton=t1,xs.AcroFormRadioButton=Bp,xs.AcroFormCheckBox=r1,xs.AcroFormTextField=Wf,xs.AcroFormPasswordField=n1,xs.AcroFormAppearance=kt,xs.AcroForm={ChoiceField:Rp,ListBox:Fp,ComboBox:$p,EditBox:e1,Button:ga,PushButton:t1,RadioButton:Bp,CheckBox:r1,TextField:Wf,PasswordField:n1,Appearance:kt},Mt.AcroForm={ChoiceField:Rp,ListBox:Fp,ComboBox:$p,EditBox:e1,Button:ga,PushButton:t1,RadioButton:Bp,CheckBox:r1,TextField:Wf,PasswordField:n1,Appearance:kt};function FU(e){return e.reduce(function(t,n,s){return t[n]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(E,I){var B,z,V,U,K,$=n;if((I=I||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(L(E))for(K in s)for(V=s[K],B=0;B<V.length;B+=1){for(U=!0,z=0;z<V[B].length;z+=1)if(V[B][z]!==void 0&&V[B][z]!==E[z]){U=!1;break}if(U===!0){$=K;break}}else for(K in s)for(V=s[K],B=0;B<V.length;B+=1){for(U=!0,z=0;z<V[B].length;z+=1)if(V[B][z]!==void 0&&V[B][z]!==E.charCodeAt(z)){U=!1;break}if(U===!0){$=K;break}}return $===n&&I!==n&&($=I),$},i=function E(I){for(var B=this.internal.write,z=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:I.width}),U.push({key:"Height",value:I.height}),I.colorSpace===b.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===b.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var K="",$=0,W=I.transparency.length;$<W;$++)K+=I.transparency[$]+" "+I.transparency[$]+" ";U.push({key:"Mask",value:"["+K+"]"})}I.sMask!==void 0&&U.push({key:"SMask",value:I.objectId+1+" 0 R"});var te=I.filter!==void 0?["/"+I.filter]:void 0;if(z({data:I.data,additionalKeyValues:U,alreadyAppliedFilters:te,objectId:I.objectId}),B("endobj"),"sMask"in I&&I.sMask!==void 0){var J=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,M={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:J,data:I.sMask};"filter"in I&&(M.filter=I.filter),E.call(this,M)}if(I.colorSpace===b.INDEXED){var G=this.internal.newObject();z({data:k(new Uint8Array(I.palette)),objectId:G}),B("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var I in E)i.call(this,E[I])},l=function(){var E,I=this.internal.collections[t+"images"],B=this.internal.write;for(var z in I)B("/I"+(E=I[z]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(E){return typeof e["process"+E.toUpperCase()]=="function"},p=function(E){return pn(E)==="object"&&E.nodeType===1},f=function(E,I){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var B=""+E.getAttribute("src");if(B.indexOf("data:image/")===0)return Qb(unescape(B).split("base64,").pop());var z=e.loadFile(B,!0);if(z!==void 0)return z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var V;switch(I){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return Qb(E.toDataURL(V,1).split("base64,").pop())}},x=function(E){var I=this.internal.collections[t+"images"];if(I){for(var B in I)if(E===I[B].alias)return I[B]}},g=function(E,I,B){return E||I||(E=-96,I=-96),E<0&&(E=-1*B.width*72/E/this.internal.scaleFactor),I<0&&(I=-1*B.height*72/I/this.internal.scaleFactor),E===0&&(E=I*B.width/B.height),I===0&&(I=E*B.height/B.width),[E,I]},v=function(E,I,B,z,V,U){var K=g.call(this,B,z,V),$=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,te=d.call(this);if(B=K[0],z=K[1],te[V.index]=V,U){U*=Math.PI/180;var J=Math.cos(U),M=Math.sin(U),G=function(ie){return ie.toFixed(4)},X=[G(J),G(M),G(-1*M),G(J),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,$(E),W(I+z),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([$(B),"0","0",$(z),"0","0","cm"].join(" "))):this.internal.write([$(B),"0","0",$(z),$(E),W(I+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var I,B,z=0;if(typeof E=="string")for(B=E.length,I=0;I<B;I++)z=(z<<5)-z+E.charCodeAt(I),z|=0;else if(L(E))for(B=E.byteLength/2,I=0;I<B;I++)z=(z<<5)-z+E[I],z|=0;return z},S=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var I=!0;return E.length===0&&(I=!1),E.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(I=!1),I},A=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var I=E.indexOf(",");return I<0?null:E.substring(0,I).trim().endsWith("base64")?E.substring(I+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var L=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(E){for(var I=E.length,B=new Uint8Array(I),z=0;z<I;z++)B[z]=E.charCodeAt(z);return B},k=e.__addimage__.arrayBufferToBinaryString=function(E){for(var I="",B=L(E)?E:new Uint8Array(E),z=0;z<B.length;z+=8192)I+=String.fromCharCode.apply(null,B.subarray(z,z+8192));return I};e.addImage=function(){var E,I,B,z,V,U,K,$,W;if(typeof arguments[1]=="number"?(I=n,B=arguments[1],z=arguments[2],V=arguments[3],U=arguments[4],K=arguments[5],$=arguments[6],W=arguments[7]):(I=arguments[1],B=arguments[2],z=arguments[3],V=arguments[4],U=arguments[5],K=arguments[6],$=arguments[7],W=arguments[8]),pn(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var te=E;E=te.imageData,I=te.format||I||n,B=te.x||B||0,z=te.y||z||0,V=te.w||te.width||V,U=te.h||te.height||U,K=te.alias||K,$=te.compression||$,W=te.rotation||te.angle||W}var J=this.internal.getFilters();if($===void 0&&J.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(B)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=C.call(this,E,I,K,$);return v.call(this,B,z,V,U,M,W),this};var C=function(E,I,B,z){var V,U,K;if(typeof E=="string"&&a(E)===n){E=unescape(E);var $=R(E,!1);($!==""||($=e.loadFile(E,!0))!==void 0)&&(E=$)}if(p(E)&&(E=f(E,I)),I=a(E,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((K=B)==null||K.length===0)&&(B=function(W){return typeof W=="string"||L(W)?w(W):L(W.data)?w(W.data):null}(E)),(V=x.call(this,B))||(E instanceof Uint8Array||I==="RGBA"||(U=E,E=P(E)),V=this["process"+I.toUpperCase()](E,u.call(this),B,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:_.NONE}(z),U)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},R=e.__addimage__.convertBase64ToBinaryString=function(E,I){I=typeof I!="boolean"||I;var B,z="";if(typeof E=="string"){var V;B=(V=A(E))!==null&&V!==void 0?V:E;try{z=Qb(B)}catch(U){if(I)throw S(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(E){var I,B,z="";if(p(E)&&(E=f(E)),typeof E=="string"&&a(E)===n&&((z=R(E,!1))===""&&(z=e.loadFile(E)||""),E=z),B=a(E),!h(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(E instanceof Uint8Array||(E=P(E)),!(I=this["process"+B.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=B,I}})(Mt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Mt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((s=d[h]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){s=d[p];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),_=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(b(s.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(b(_))+") >>",g.content=i;var w=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+w,s.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var S=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(x(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var A=this.annotations._nameMap[s.options.name];s.options.pageNumber=A.page,s.options.top=A.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var L=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+L+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},e.link=function(n,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:d(s),w:c(n+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(n,s,a,i){var o,l,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(n,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(n,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(Mt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var v=0,b=n,_="",w=0;for(v=0;v<g.length;v+=1)b[g.charCodeAt(v)]!==void 0?(w++,typeof(b=b[g.charCodeAt(v)])=="number"&&(_+=String.fromCharCode(b),b=n,w=0),v===g.length-1&&(b=n,_+=g.charAt(v-(w-1)),v-=w-1,w=0)):(b=n,_+=g.charAt(v-w),v-=w,w=0);return _};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&s[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,v,b){return o(g)?i(g)===!1?-1:!d(g)||!o(v)&&!o(b)||!o(b)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:u(g)&&o(v)&&!l(v)&&o(b)&&d(b)?3:l(g)||!o(b)?1:2:-1},f=function(g){var v=0,b=0,_=0,w="",S="",A="",L=(g=g||"").split("\\s+"),P=[];for(v=0;v<L.length;v+=1){for(P.push(""),b=0;b<L[v].length;b+=1)w=L[v][b],S=L[v][b-1],A=L[v][b+1],o(w)?(_=p(w,S,A),P[v]+=_!==-1?String.fromCharCode(t[w.charCodeAt(0)][_]):w):P[v]+=w;P[v]=h(P[v])}return P.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var _=0;for(b=[],_=0;_<v.length;_+=1)Array.isArray(v[_])?b.push([f(v[_][0]),v[_][1],v[_][2]]):b.push([f(v[_])]);g=b}else g=f(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(Mt.API),Mt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,s){var a;if((n=n||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Mt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,f=0,x=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,S){return w.concat(v.splitTextToSize(S,b))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)f<(g=this.getStringUnitWidth(c[_],{font:h})*u)&&(f=g);return f!==0&&(x=c.length),{w:f/=p,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,p){if(s.call(this),!u)throw new Error("No data for PDF table.");var f,x,g,v,b=[],_=[],w=[],S={},A={},L=[],P=[],k=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,B=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=z,this.setFontSize(R),h==null)_=b=Object.keys(u[0]),w=b.map(function(){return"left"});else if(Array.isArray(h)&&pn(h[0])==="object")for(b=h.map(function(te){return te.name}),_=h.map(function(te){return te.prompt||te.name||""}),w=h.map(function(te){return te.align||"left"}),f=0;f<h.length;f+=1)A[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(_=b=h,w=b.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(S[v=b[f]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(_[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=S[v],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)L.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[v]=Math.max.apply(null,L)+I+I,L=[]}if(C){var V={};for(f=0;f<b.length;f+=1)V[b[f]]={},V[b[f]].text=_[f],V[b[f]].align=w[f];var U=l.call(this,V,A);P=b.map(function(te){return new i(c,d,A[te],U,V[te].text,void 0,V[te].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var K=h.reduce(function(te,J){return te[J.name]=J.align,te},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var $=l.call(this,u[f],A);for(g=0;g<b.length;g+=1){var W=u[f][b[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:W},this),o.call(this,new i(c,d,A[b[g]],$,W,f+2,K[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,x){return Math.max(f,x)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Mt.API);var $U={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},BU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],B4=FU(BU),zU=[100,200,300,400,500,600,700,800,900],tIe=FU(zU);function F5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return $U[i=i||"normal"]?i:"normal"}(e.style),s=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof B4[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,s].join(" ")}}}function xI(e,t,n,s){var a;for(a=n;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var rIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vI(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function bI(e){return e.trimLeft()}function nIe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function sIe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Rb,wI,jI,dp,Fb,NI,SI,_I,$5=["times"];function kI(e,t,n,s){var a=4,i=CI;switch(s){case Mt.API.image_compression.FAST:a=1,i=AI;break;case Mt.API.image_compression.MEDIUM:a=6,i=PI;break;case Mt.API.image_compression.SLOW:a=9,i=EI}e=function(l,c,d,u){for(var h,p=l.length/c,f=new Uint8Array(l.length+p),x=[aIe,AI,CI,PI,EI],g=0;g<p;g+=1){var v=g*c,b=l.subarray(v,v+c);if(u)f.set(u(b,d,h),v+g);else{for(var _=x.length,w=[],S=0;S<_;S+=1)w[S]=x[S](b,d,h);var A=oIe(w.concat());f.set(w[A],v+g)}h=b}return f}(e,t,n,i);var o=A4(e,{level:a});return Mt.API.__addimage__.arrayBufferToBinaryString(o)}function aIe(e){var t=Array.apply([],e);return t.unshift(0),t}function AI(e,t){var n=e.length,s=[];s[0]=1;for(var a=0;a<n;a+=1){var i=e[a-t]||0;s[a+1]=e[a]-i+256&255}return s}function CI(e,t,n){var s=e.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=n&&n[i]||0;a[i+1]=e[i]-o+256&255}return a}function PI(e,t,n){var s=e.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=e[i-t]||0,l=n&&n[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function EI(e,t,n){var s=e.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=iIe(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function iIe(e,t,n){if(e===t&&t===n)return e;var s=Math.abs(t-n),a=Math.abs(e-n),i=Math.abs(e+t-n-n);return s<=a&&s<=i?e:a<=i?t:n}function oIe(e){var t=e.map(function(n){return n.reduce(function(s,a){return s+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function B5(e,t,n){var s=t*n,a=Math.floor(s/8),i=16-(s-8*a+n),o=(1<<n)-1;return UU(e,a)>>i&o}function TI(e,t,n,s){var a=n*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(t&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var p=h>>8&255;d.setUint8(u,p)}})(e,i,UU(e,i)&~(l<<o)&65535|c)}function UU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function lIe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,p=null,f=0,x=null;for(this.width=n,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++],A=S>>6&1,L=1<<1+(7&S),P=l,k=c,C=!1;S>>7&&(C=!0,P=t,k=L,t+=3*L);var R=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y:b,width:_,height:w,has_local_palette:C,palette_offset:P,palette_size:k,data_offset:R,data_length:t-R,transparent_index:p,interlaced:!!A,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,B){var z=this.frameInfo(I),V=z.width*z.height,U=new Uint8Array(V);OI(e,z.data_offset,U,V);var K=z.palette_offset,$=z.transparent_index;$===null&&($=256);var W=z.width,te=n-W,J=W,M=4*(z.y*n+z.x),G=4*((z.y+z.height)*n+z.x),X=M,ie=4*te;z.interlaced===!0&&(ie+=4*n*7);for(var re=8,fe=0,we=U.length;fe<we;++fe){var Z=U[fe];if(J===0&&(J=W,(X+=ie)>=G&&(ie=4*te+4*n*(re-1),X=M+(W+te)*(re<<1),re>>=1)),Z===$)X+=4;else{var Q=e[K+3*Z],pe=e[K+3*Z+1],ge=e[K+3*Z+2];B[X++]=ge,B[X++]=pe,B[X++]=Q,B[X++]=255}--J}},this.decodeAndBlitFrameRGBA=function(I,B){var z=this.frameInfo(I),V=z.width*z.height,U=new Uint8Array(V);OI(e,z.data_offset,U,V);var K=z.palette_offset,$=z.transparent_index;$===null&&($=256);var W=z.width,te=n-W,J=W,M=4*(z.y*n+z.x),G=4*((z.y+z.height)*n+z.x),X=M,ie=4*te;z.interlaced===!0&&(ie+=4*n*7);for(var re=8,fe=0,we=U.length;fe<we;++fe){var Z=U[fe];if(J===0&&(J=W,(X+=ie)>=G&&(ie=4*te+4*n*(re-1),X=M+(W+te)*(re<<1),re>>=1)),Z===$)X+=4;else{var Q=e[K+3*Z],pe=e[K+3*Z+1],ge=e[K+3*Z+2];B[X++]=Q,B[X++]=pe,B[X++]=ge,B[X++]=255}--J}}}function OI(e,t,n,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,p=0,f=e[t++],x=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)h|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==i){if(v===o)break;for(var b=v<l?v:g,_=0,w=b;w>i;)w=x[w]>>8,++_;var S=w;if(p+_+(b!==v?1:0)>s)return void An.log("Warning, gif stream longer than expected.");n[p++]=S;var A=p+=_;for(b!==v&&(n[p++]=S),w=b;_--;)w=x[w],n[--A]=255&w,w>>=8;g!==null&&l<4096&&(x[l++]=g<<8|S,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=v}else l=o+1,d=(1<<(c=a+1))-1,g=null}return p!==s&&An.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function z5(e){var t,n,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),x=new Array(64),g=[],v=0,b=7,_=new Array(64),w=new Array(64),S=new Array(64),A=new Array(256),L=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(M,G){for(var X=0,ie=0,re=new Array,fe=1;fe<=16;fe++){for(var we=1;we<=M[fe];we++)re[G[ie]]=[],re[G[ie]][0]=X,re[G[ie]][1]=fe,ie++,X++;X*=2}return re}function K(M){for(var G=M[0],X=M[1]-1;X>=0;)G&1<<X&&(v|=1<<b),X--,--b<0&&(v==255?($(255),$(0)):$(v),b=7,v=0)}function $(M){g.push(M)}function W(M){$(M>>8&255),$(255&M)}function te(M,G,X,ie,re){for(var fe,we=re[0],Z=re[240],Q=function(ze,le){var se,Se,Pe,$e,He,je,Fe,Ze,tt,it,lt=0;for(tt=0;tt<8;++tt){se=ze[lt],Se=ze[lt+1],Pe=ze[lt+2],$e=ze[lt+3],He=ze[lt+4],je=ze[lt+5],Fe=ze[lt+6];var jt=se+(Ze=ze[lt+7]),Lt=se-Ze,Nt=Se+Fe,qt=Se-Fe,Ur=Pe+je,It=Pe-je,Sr=$e+He,sr=$e-He,ts=jt+Sr,us=jt-Sr,nn=Nt+Ur,tr=Nt-Ur;ze[lt]=ts+nn,ze[lt+4]=ts-nn;var Yr=.707106781*(tr+us);ze[lt+2]=us+Yr,ze[lt+6]=us-Yr;var Mc=.382683433*((ts=sr+It)-(tr=qt+Lt)),la=.5411961*ts+Mc,jo=1.306562965*tr+Mc,No=.707106781*(nn=It+qt),Ut=Lt+No,el=Lt-No;ze[lt+5]=el+la,ze[lt+3]=el-la,ze[lt+1]=Ut+jo,ze[lt+7]=Ut-jo,lt+=8}for(lt=0,tt=0;tt<8;++tt){se=ze[lt],Se=ze[lt+8],Pe=ze[lt+16],$e=ze[lt+24],He=ze[lt+32],je=ze[lt+40],Fe=ze[lt+48];var Bi=se+(Ze=ze[lt+56]),yi=se-Ze,Ca=Se+Fe,Kn=Se-Fe,Is=Pe+je,zs=Pe-je,Dc=$e+He,ql=$e-He,zi=Bi+Dc,So=Bi-Dc,Ui=Ca+Is,vi=Ca-Is;ze[lt]=zi+Ui,ze[lt+32]=zi-Ui;var bi=.707106781*(vi+So);ze[lt+16]=So+bi,ze[lt+48]=So-bi;var Rc=.382683433*((zi=ql+zs)-(vi=Kn+yi)),_o=.5411961*zi+Rc,Fc=1.306562965*vi+Rc,Dd=.707106781*(Ui=zs+Kn),Rd=yi+Dd,tl=yi-Dd;ze[lt+40]=tl+_o,ze[lt+24]=tl-_o,ze[lt+8]=Rd+Fc,ze[lt+56]=Rd-Fc,lt++}for(tt=0;tt<64;++tt)it=ze[tt]*le[tt],f[tt]=it>0?it+.5|0:it-.5|0;return f}(M,G),pe=0;pe<64;++pe)x[P[pe]]=Q[pe];var ge=x[0]-X;X=x[0],ge==0?K(ie[0]):(K(ie[p[fe=32767+ge]]),K(h[fe]));for(var Ae=63;Ae>0&&x[Ae]==0;)Ae--;if(Ae==0)return K(we),X;for(var Ne,Y=1;Y<=Ae;){for(var ke=Y;x[Y]==0&&Y<=Ae;)++Y;var We=Y-ke;if(We>=16){Ne=We>>4;for(var Ie=1;Ie<=Ne;++Ie)K(Z);We&=15}fe=32767+x[Y],K(re[(We<<4)+p[fe]]),K(h[fe]),Y++}return Ae!=63&&K(we),X}function J(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var re=o((X[ie]*G+50)/100);re=Math.min(Math.max(re,1),255),l[P[ie]]=re}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Z=o((fe[we]*G+50)/100);Z=Math.min(Math.max(Z,1),255),c[P[we]]=Z}for(var Q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,ge=0;ge<8;ge++)for(var Ae=0;Ae<8;Ae++)d[pe]=1/(l[P[pe]]*Q[ge]*Q[Ae]*8),u[pe]=1/(c[P[pe]]*Q[ge]*Q[Ae]*8),pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,G){G&&J(G),g=new Array,v=0,b=7,W(65496),W(65504),W(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),W(1),W(1),$(0),$(0),function(){W(65499),W(132),$(0);for(var Se=0;Se<64;Se++)$(l[Se]);$(1);for(var Pe=0;Pe<64;Pe++)$(c[Pe])}(),function(Se,Pe){W(65472),W(17),$(8),W(Pe),W(Se),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(M.width,M.height),function(){W(65476),W(418),$(0);for(var Se=0;Se<16;Se++)$(k[Se+1]);for(var Pe=0;Pe<=11;Pe++)$(C[Pe]);$(16);for(var $e=0;$e<16;$e++)$(R[$e+1]);for(var He=0;He<=161;He++)$(E[He]);$(1);for(var je=0;je<16;je++)$(I[je+1]);for(var Fe=0;Fe<=11;Fe++)$(B[Fe]);$(17);for(var Ze=0;Ze<16;Ze++)$(z[Ze+1]);for(var tt=0;tt<=161;tt++)$(V[tt])}(),W(65498),W(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var X=0,ie=0,re=0;v=0,b=7,this.encode.displayName="_encode_";for(var fe,we,Z,Q,pe,ge,Ae,Ne,Y,ke=M.data,We=M.width,Ie=M.height,ze=4*We,le=0;le<Ie;){for(fe=0;fe<ze;){for(pe=ze*le+fe,Ae=-1,Ne=0,Y=0;Y<64;Y++)ge=pe+(Ne=Y>>3)*ze+(Ae=4*(7&Y)),le+Ne>=Ie&&(ge-=ze*(le+1+Ne-Ie)),fe+Ae>=ze&&(ge-=fe+Ae-ze+4),we=ke[ge++],Z=ke[ge++],Q=ke[ge++],_[Y]=(L[we]+L[Z+256|0]+L[Q+512|0]>>16)-128,w[Y]=(L[we+768|0]+L[Z+1024|0]+L[Q+1280|0]>>16)-128,S[Y]=(L[we+1280|0]+L[Z+1536|0]+L[Q+1792|0]>>16)-128;X=te(_,d,X,t,s),ie=te(w,u,ie,n,a),re=te(S,u,re,n,a),fe+=32}le+=8}if(b>=0){var se=[];se[1]=b+1,se[0]=(1<<b+1)-1,K(se)}return W(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,G=0;G<256;G++)A[G]=M(G)}(),t=U(k,C),n=U(I,B),s=U(R,E),a=U(z,V),function(){for(var M=1,G=2,X=1;X<=15;X++){for(var ie=M;ie<G;ie++)p[32767+ie]=X,h[32767+ie]=[],h[32767+ie][1]=X,h[32767+ie][0]=ie;for(var re=-(G-1);re<=-M;re++)p[32767+re]=X,h[32767+re]=[],h[32767+re][1]=X,h[32767+re][0]=G-1+re;M<<=1,G<<=1}}(),function(){for(var M=0;M<256;M++)L[M]=19595*M,L[M+256|0]=38470*M,L[M+512|0]=7471*M+32768,L[M+768|0]=-11059*M,L[M+1024|0]=-21709*M,L[M+1280|0]=32768*M+8421375,L[M+1536|0]=-27439*M,L[M+1792|0]=-5329*M}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function LI(e){function t(C){if(!C)throw Error("assert :P")}function n(C,R,E){for(var I=0;4>I;I++)if(C[R+I]!=E.charCodeAt(I))return!0;return!1}function s(C,R,E,I,B){for(var z=0;z<B;z++)C[R+z]=E[I+z]}function a(C,R,E,I){for(var B=0;B<I;B++)C[R+B]=E}function i(C){return new Int32Array(C)}function o(C,R){for(var E=[],I=0;I<C;I++)E.push(new R);return E}function l(C,R){var E=[];return function I(B,z,V){for(var U=V[z],K=0;K<U&&(B.push(V.length>z+1?[]:new R),!(V.length<z+1));K++)I(B[K],z+1,V)}(E,0,C),E}var c=function(){var C=this;function R(N,T){for(var F=1<<T-1>>>0;N&F;)F>>>=1;return F?(N&F-1)+F:N}function E(N,T,F,H,ee){t(!(H%F));do N[T+(H-=F)]=ee;while(0<H)}function I(N,T,F,H,ee){if(t(2328>=ee),512>=ee)var oe=i(512);else if((oe=i(ee))==null)return 0;return function(ce,ue,me,ye,Le,qe){var ve,Me,Be=ue,Ye=1<<me,Ue=i(16),Xe=i(16);for(t(Le!=0),t(ye!=null),t(ce!=null),t(0<me),Me=0;Me<Le;++Me){if(15<ye[Me])return 0;++Ue[ye[Me]]}if(Ue[0]==Le)return 0;for(Xe[1]=0,ve=1;15>ve;++ve){if(Ue[ve]>1<<ve)return 0;Xe[ve+1]=Xe[ve]+Ue[ve]}for(Me=0;Me<Le;++Me)ve=ye[Me],0<ye[Me]&&(qe[Xe[ve]++]=Me);if(Xe[15]==1)return(ye=new B).g=0,ye.value=qe[0],E(ce,Be,1,Ye,ye),Ye;var et,ct=-1,nt=Ye-1,Ct=0,xt=1,Ft=1,At=1<<me;for(Me=0,ve=1,Le=2;ve<=me;++ve,Le<<=1){if(xt+=Ft<<=1,0>(Ft-=Ue[ve]))return 0;for(;0<Ue[ve];--Ue[ve])(ye=new B).g=ve,ye.value=qe[Me++],E(ce,Be+Ct,Le,At,ye),Ct=R(Ct,ve)}for(ve=me+1,Le=2;15>=ve;++ve,Le<<=1){if(xt+=Ft<<=1,0>(Ft-=Ue[ve]))return 0;for(;0<Ue[ve];--Ue[ve]){if(ye=new B,(Ct&nt)!=ct){for(Be+=At,et=1<<(ct=ve)-me;15>ct&&!(0>=(et-=Ue[ct]));)++ct,et<<=1;Ye+=At=1<<(et=ct-me),ce[ue+(ct=Ct&nt)].g=et+me,ce[ue+ct].value=Be-ue-ct}ye.g=ve-me,ye.value=qe[Me++],E(ce,Be+(Ct>>me),Le,At,ye),Ct=R(Ct,ve)}}return xt!=2*Xe[15]-1?0:Ye}(N,T,F,H,ee,oe)}function B(){this.value=this.g=0}function z(){this.value=this.g=0}function V(){this.G=o(5,B),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ao,z)}function U(N,T,F,H){t(N!=null),t(T!=null),t(2147483648>H),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=T,N.pa=F,N.Jd=T,N.Yc=F+H,N.Zc=4<=H?F+H-4+1:F,we(N)}function K(N,T){for(var F=0;0<T--;)F|=Q(N,128)<<T;return F}function $(N,T){var F=K(N,T);return Z(N)?-F:F}function W(N,T,F,H){var ee,oe=0;for(t(N!=null),t(T!=null),t(4294967288>H),N.Sb=H,N.Ra=0,N.u=0,N.h=0,4<H&&(H=4),ee=0;ee<H;++ee)oe+=T[F+ee]<<8*ee;N.Ra=oe,N.bb=H,N.oa=T,N.pa=F}function te(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Zl-8>>>0,++N.bb,N.u-=8;ie(N)&&(N.h=1,N.u=0)}function J(N,T){if(t(0<=T),!N.h&&T<=Dh){var F=X(N)&Xa[T];return N.u+=T,te(N),F}return N.h=1,N.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(N){return N.Ra>>>(N.u&Zl-1)>>>0}function ie(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Zl}function re(N,T){N.u=T,N.h=ie(N)}function fe(N){N.u>=Dn&&(t(N.u>=Dn),te(N))}function we(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Z(N){return K(N,1)}function Q(N,T){var F=N.Ca;0>N.b&&we(N);var H=N.b,ee=F*T>>>8,oe=(N.I>>>H>ee)+0;for(oe?(F-=ee,N.I-=ee+1<<H>>>0):F=ee+1,H=F,ee=0;256<=H;)ee+=8,H>>=8;return H=7^ee+Mm[H],N.b-=H,N.Ca=(F<<H)-1,oe}function pe(N,T,F){N[T+0]=F>>24&255,N[T+1]=F>>16&255,N[T+2]=F>>8&255,N[T+3]=255&F}function ge(N,T){return N[T+0]|N[T+1]<<8}function Ae(N,T){return ge(N,T)|N[T+2]<<16}function Ne(N,T){return ge(N,T)|ge(N,T+2)<<16}function Y(N,T){var F=1<<T;return t(N!=null),t(0<T),N.X=i(F),N.X==null?0:(N.Mb=32-T,N.Xa=T,1)}function ke(N,T){t(N!=null),t(T!=null),t(N.Xa==T.Xa),s(T.X,0,N.X,0,1<<T.Xa)}function We(){this.X=[],this.Xa=this.Mb=0}function Ie(N,T,F,H){t(F!=null),t(H!=null);var ee=F[0],oe=H[0];return ee==0&&(ee=(N*oe+T/2)/T),oe==0&&(oe=(T*ee+N/2)/N),0>=ee||0>=oe?0:(F[0]=ee,H[0]=oe,1)}function ze(N,T){return N+(1<<T)-1>>>T}function le(N,T){return((4278255360&N)+(4278255360&T)>>>0&4278255360)+((16711935&N)+(16711935&T)>>>0&16711935)>>>0}function se(N,T){C[T]=function(F,H,ee,oe,ce,ue,me){var ye;for(ye=0;ye<ce;++ye){var Le=C[N](ue[me+ye-1],ee,oe+ye);ue[me+ye]=le(F[H+ye],Le)}}}function Se(){this.ud=this.hd=this.jd=0}function Pe(N,T){return((4278124286&(N^T))>>>1)+(N&T)>>>0}function $e(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function He(N,T){return $e(N+(N-T+.5>>1))}function je(N,T,F){return Math.abs(T-F)-Math.abs(N-F)}function Fe(N,T,F,H,ee,oe,ce){for(H=oe[ce-1],F=0;F<ee;++F)oe[ce+F]=H=le(N[T+F],H)}function Ze(N,T,F,H,ee){var oe;for(oe=0;oe<F;++oe){var ce=N[T+oe],ue=ce>>8&255,me=16711935&(me=(me=16711935&ce)+((ue<<16)+ue));H[ee+oe]=(4278255360&ce)+me>>>0}}function tt(N,T){T.jd=255&N,T.hd=N>>8&255,T.ud=N>>16&255}function it(N,T,F,H,ee,oe){var ce;for(ce=0;ce<H;++ce){var ue=T[F+ce],me=ue>>>8,ye=ue,Le=255&(Le=(Le=ue>>>16)+((N.jd<<24>>24)*(me<<24>>24)>>>5));ye=255&(ye=(ye+=(N.hd<<24>>24)*(me<<24>>24)>>>5)+((N.ud<<24>>24)*(Le<<24>>24)>>>5)),ee[oe+ce]=(4278255360&ue)+(Le<<16)+ye}}function lt(N,T,F,H,ee){C[T]=function(oe,ce,ue,me,ye,Le,qe,ve,Me){for(me=qe;me<ve;++me)for(qe=0;qe<Me;++qe)ye[Le++]=ee(ue[H(oe[ce++])])},C[N]=function(oe,ce,ue,me,ye,Le,qe){var ve=8>>oe.b,Me=oe.Ea,Be=oe.K[0],Ye=oe.w;if(8>ve)for(oe=(1<<oe.b)-1,Ye=(1<<ve)-1;ce<ue;++ce){var Ue,Xe=0;for(Ue=0;Ue<Me;++Ue)Ue&oe||(Xe=H(me[ye++])),Le[qe++]=ee(Be[Xe&Ye]),Xe>>=ve}else C["VP8LMapColor"+F](me,ye,Be,Ye,Le,qe,ce,ue,Me)}}function jt(N,T,F,H,ee){for(F=T+F;T<F;){var oe=N[T++];H[ee++]=oe>>16&255,H[ee++]=oe>>8&255,H[ee++]=255&oe}}function Lt(N,T,F,H,ee){for(F=T+F;T<F;){var oe=N[T++];H[ee++]=oe>>16&255,H[ee++]=oe>>8&255,H[ee++]=255&oe,H[ee++]=oe>>24&255}}function Nt(N,T,F,H,ee){for(F=T+F;T<F;){var oe=(ce=N[T++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;H[ee++]=oe,H[ee++]=ce}}function qt(N,T,F,H,ee){for(F=T+F;T<F;){var oe=(ce=N[T++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;H[ee++]=oe,H[ee++]=ce}}function Ur(N,T,F,H,ee){for(F=T+F;T<F;){var oe=N[T++];H[ee++]=255&oe,H[ee++]=oe>>8&255,H[ee++]=oe>>16&255}}function It(N,T,F,H,ee,oe){if(oe==0)for(F=T+F;T<F;)pe(H,((oe=N[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ee+=32;else s(H,ee,N,T,F)}function Sr(N,T){C[T][0]=C[N+"0"],C[T][1]=C[N+"1"],C[T][2]=C[N+"2"],C[T][3]=C[N+"3"],C[T][4]=C[N+"4"],C[T][5]=C[N+"5"],C[T][6]=C[N+"6"],C[T][7]=C[N+"7"],C[T][8]=C[N+"8"],C[T][9]=C[N+"9"],C[T][10]=C[N+"10"],C[T][11]=C[N+"11"],C[T][12]=C[N+"12"],C[T][13]=C[N+"13"],C[T][14]=C[N+"0"],C[T][15]=C[N+"0"]}function sr(N){return N==ou||N==lu||N==cu||N==kx}function ts(){this.eb=[],this.size=this.A=this.fb=0}function us(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ts,this.f.kb=new us,this.sd=null}function tr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mc(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function la(N,T){var F=N.T,H=T.ba.f.RGBA,ee=H.eb,oe=H.fb+N.ka*H.A,ce=ti[T.ba.S],ue=N.y,me=N.O,ye=N.f,Le=N.N,qe=N.ea,ve=N.W,Me=T.cc,Be=T.dc,Ye=T.Mc,Ue=T.Nc,Xe=N.ka,et=N.ka+N.T,ct=N.U,nt=ct+1>>1;for(Xe==0?ce(ue,me,null,null,ye,Le,qe,ve,ye,Le,qe,ve,ee,oe,null,null,ct):(ce(T.ec,T.fc,ue,me,Me,Be,Ye,Ue,ye,Le,qe,ve,ee,oe-H.A,ee,oe,ct),++F);Xe+2<et;Xe+=2)Me=ye,Be=Le,Ye=qe,Ue=ve,Le+=N.Rc,ve+=N.Rc,oe+=2*H.A,ce(ue,(me+=2*N.fa)-N.fa,ue,me,Me,Be,Ye,Ue,ye,Le,qe,ve,ee,oe-H.A,ee,oe,ct);return me+=N.fa,N.j+et<N.o?(s(T.ec,T.fc,ue,me,ct),s(T.cc,T.dc,ye,Le,nt),s(T.Mc,T.Nc,qe,ve,nt),F--):1&et||ce(ue,me,null,null,ye,Le,qe,ve,ye,Le,qe,ve,ee,oe+H.A,null,null,ct),F}function jo(N,T,F){var H=N.F,ee=[N.J];if(H!=null){var oe=N.U,ce=T.ba.S,ue=ce==Rm||ce==cu;T=T.ba.f.RGBA;var me=[0],ye=N.ka;me[0]=N.T,N.Kb&&(ye==0?--me[0]:(--ye,ee[0]-=N.width),N.j+N.ka+N.T==N.o&&(me[0]=N.o-N.j-ye));var Le=T.eb;ye=T.fb+ye*T.A,N=pv(H,ee[0],N.width,oe,me,Le,ye+(ue?0:3),T.A),t(F==me),N&&sr(ce)&&au(Le,ye,ue,oe,me,T.A)}return 0}function No(N){var T=N.ma,F=T.ba.S,H=11>F,ee=F==Jl||F==Vc||F==Rm||F==_x||F==12||sr(F);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Oa(T.Oa,N,ee?11:12))return 0;if(ee&&sr(F)&&ko(),N.da)alert("todo:use_scaling");else{if(H){if(T.Ib=Mc,N.Kb){if(F=N.U+1>>1,T.memory=i(N.U+2*F),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+N.U,T.Mc=T.cc,T.Nc=T.dc+F,T.Ib=la,ko()}}else alert("todo:EmitYUV");ee&&(T.Jb=jo,H&&Yl())}if(H&&!Sv){for(N=0;256>N;++N)fl[N]=89858*(N-128)+Po>>$m,Sj[N]=-22014*(N-128)+Po,Nj[N]=-45773*(N-128),jj[N]=113618*(N-128)+Po>>$m;for(N=Xh;N<Px;++N)T=76283*(N-16)+Po>>$m,_j[N-Xh]=Vr(T,255),kj[N-Xh]=Vr(T+8>>4,15);Sv=1}return 1}function Ut(N){var T=N.ma,F=N.U,H=N.T;return t(!(1&N.ka)),0>=F||0>=H?0:(F=T.Ib(N,T),T.Jb!=null&&T.Jb(N,T,F),T.Dc+=F,1)}function el(N){N.ma.memory=null}function Bi(N,T,F,H){return J(N,8)!=47?0:(T[0]=J(N,14)+1,F[0]=J(N,14)+1,H[0]=J(N,1),J(N,3)!=0?0:!N.h)}function yi(N,T){if(4>N)return N+1;var F=N-2>>1;return(2+(1&N)<<F)+J(T,F)+1}function Ca(N,T){return 120<T?T-120:1<=(F=((F=gj[T-1])>>4)*N+(8-(15&F)))?F:1;var F}function Kn(N,T,F){var H=X(F),ee=N[T+=255&H].g-8;return 0<ee&&(re(F,F.u+8),H=X(F),T+=N[T].value,T+=H&(1<<ee)-1),re(F,F.u+N[T].g),N[T].value}function Is(N,T,F){return F.g+=N.g,F.value+=N.value<<T>>>0,t(8>=F.g),N.g}function zs(N,T,F){var H=N.xc;return t((T=H==0?0:N.vc[N.md*(F>>H)+(T>>H)])<N.Wb),N.Ya[T]}function Dc(N,T,F,H){var ee=N.ab,oe=N.c*T,ce=N.C;T=ce+T;var ue=F,me=H;for(H=N.Ta,F=N.Ua;0<ee--;){var ye=N.gc[ee],Le=ce,qe=T,ve=ue,Me=me,Be=(me=H,ue=F,ye.Ea);switch(t(Le<qe),t(qe<=ye.nc),ye.hc){case 2:nu(ve,Me,(qe-Le)*Be,me,ue);break;case 0:var Ye=Le,Ue=qe,Xe=me,et=ue,ct=(At=ye).Ea;Ye==0&&(Ws(ve,Me,null,null,1,Xe,et),Fe(ve,Me+1,0,0,ct-1,Xe,et+1),Me+=ct,et+=ct,++Ye);for(var nt=1<<At.b,Ct=nt-1,xt=ze(ct,At.b),Ft=At.K,At=At.w+(Ye>>At.b)*xt;Ye<Ue;){var kr=Ft,fs=At,rr=1;for(Ja(ve,Me,Xe,et-ct,1,Xe,et);rr<ct;){var vt=(rr&~Ct)+nt;vt>ct&&(vt=ct),(0,Xl[kr[fs++]>>8&15])(ve,Me+ +rr,Xe,et+rr-ct,vt-rr,Xe,et+rr),rr=vt}Me+=ct,et+=ct,++Ye&Ct||(At+=xt)}qe!=ye.nc&&s(me,ue-Be,me,ue+(qe-Le-1)*Be,Be);break;case 1:for(Be=ve,Ue=Me,ct=(ve=ye.Ea)-(et=ve&~(Xe=(Me=1<<ye.b)-1)),Ye=ze(ve,ye.b),nt=ye.K,ye=ye.w+(Le>>ye.b)*Ye;Le<qe;){for(Ct=nt,xt=ye,Ft=new Se,At=Ue+et,kr=Ue+ve;Ue<At;)tt(Ct[xt++],Ft),cl(Ft,Be,Ue,Me,me,ue),Ue+=Me,ue+=Me;Ue<kr&&(tt(Ct[xt++],Ft),cl(Ft,Be,Ue,ct,me,ue),Ue+=ct,ue+=ct),++Le&Xe||(ye+=Ye)}break;case 3:if(ve==me&&Me==ue&&0<ye.b){for(Ue=me,ve=Be=ue+(qe-Le)*Be-(et=(qe-Le)*ze(ye.Ea,ye.b)),Me=me,Xe=ue,Ye=[],et=(ct=et)-1;0<=et;--et)Ye[et]=Me[Xe+et];for(et=ct-1;0<=et;--et)Ue[ve+et]=Ye[et];Rh(ye,Le,qe,me,Be,me,ue)}else Rh(ye,Le,qe,ve,Me,me,ue)}ue=H,me=F}me!=F&&s(H,F,ue,me,oe)}function ql(N,T){var F=N.V,H=N.Ba+N.c*N.C,ee=T-N.C;if(t(T<=N.l.o),t(16>=ee),0<ee){var oe=N.l,ce=N.Ta,ue=N.Ua,me=oe.width;if(Dc(N,ee,F,H),ee=ue=[ue],t((F=N.C)<(H=T)),t(oe.v<oe.va),H>oe.o&&(H=oe.o),F<oe.j){var ye=oe.j-F;F=oe.j,ee[0]+=ye*me}if(F>=H?F=0:(ee[0]+=4*oe.v,oe.ka=F-oe.j,oe.U=oe.va-oe.v,oe.T=H-F,F=1),F){if(ue=ue[0],11>(F=N.ca).S){var Le=F.f.RGBA,qe=(H=F.S,ee=oe.U,oe=oe.T,ye=Le.eb,Le.A),ve=oe;for(Le=Le.fb+N.Ma*Le.A;0<ve--;){var Me=ce,Be=ue,Ye=ee,Ue=ye,Xe=Le;switch(H){case Hh:Fh(Me,Be,Ye,Ue,Xe);break;case Jl:Qa(Me,Be,Ye,Ue,Xe);break;case ou:Qa(Me,Be,Ye,Ue,Xe),au(Ue,Xe,0,Ye,1,0);break;case Ql:Hr(Me,Be,Ye,Ue,Xe);break;case Vc:It(Me,Be,Ye,Ue,Xe,1);break;case lu:It(Me,Be,Ye,Ue,Xe,1),au(Ue,Xe,0,Ye,1,0);break;case Rm:It(Me,Be,Ye,Ue,Xe,0);break;case cu:It(Me,Be,Ye,Ue,Xe,0),au(Ue,Xe,1,Ye,1,0);break;case _x:Co(Me,Be,Ye,Ue,Xe);break;case kx:Co(Me,Be,Ye,Ue,Xe),Uh(Ue,Xe,Ye,1,0);break;case yv:bn(Me,Be,Ye,Ue,Xe);break;default:t(0)}ue+=me,Le+=qe}N.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=F.height)}}N.C=T,t(N.C<=N.i)}function zi(N){var T;if(0<N.ua)return 0;for(T=0;T<N.Wb;++T){var F=N.Ya[T].G,H=N.Ya[T].H;if(0<F[1][H[1]+0].g||0<F[2][H[2]+0].g||0<F[3][H[3]+0].g)return 0}return 1}function So(N,T,F,H,ee,oe){if(N.Z!=0){var ce=N.qd,ue=N.rd;for(t(ji[N.Z]!=null);T<F;++T)ji[N.Z](ce,ue,H,ee,H,ee,oe),ce=H,ue=ee,ee+=oe;N.qd=ce,N.rd=ue}}function Ui(N,T){var F=N.l.ma,H=F.Z==0||F.Z==1?N.l.j:N.C;if(H=N.C<H?H:N.C,t(T<=N.l.o),T>H){var ee=N.l.width,oe=F.ca,ce=F.tb+ee*H,ue=N.V,me=N.Ba+N.c*H,ye=N.gc;t(N.ab==1),t(ye[0].hc==3),Yi(ye[0],H,T,ue,me,oe,ce),So(F,H,T,oe,ce,ee)}N.C=N.Ma=T}function vi(N,T,F,H,ee,oe,ce){var ue=N.$/H,me=N.$%H,ye=N.m,Le=N.s,qe=F+N.$,ve=qe;ee=F+H*ee;var Me=F+H*oe,Be=280+Le.ua,Ye=N.Pb?ue:16777216,Ue=0<Le.ua?Le.Wa:null,Xe=Le.wc,et=qe<Me?zs(Le,me,ue):null;t(N.C<oe),t(Me<=ee);var ct=!1;e:for(;;){for(;ct||qe<Me;){var nt=0;if(ue>=Ye){var Ct=qe-F;t((Ye=N).Pb),Ye.wd=Ye.m,Ye.xd=Ct,0<Ye.s.ua&&ke(Ye.s.Wa,Ye.s.vb),Ye=ue+wv}if(me&Xe||(et=zs(Le,me,ue)),t(et!=null),et.Qb&&(T[qe]=et.qb,ct=!0),!ct)if(fe(ye),et.jc){nt=ye,Ct=T;var xt=qe,Ft=et.pd[X(nt)&Ao-1];t(et.jc),256>Ft.g?(re(nt,nt.u+Ft.g),Ct[xt]=Ft.value,nt=0):(re(nt,nt.u+Ft.g-256),t(256<=Ft.value),nt=Ft.value),nt==0&&(ct=!0)}else nt=Kn(et.G[0],et.H[0],ye);if(ye.h)break;if(ct||256>nt){if(!ct)if(et.nd)T[qe]=(et.qb|nt<<8)>>>0;else{if(fe(ye),ct=Kn(et.G[1],et.H[1],ye),fe(ye),Ct=Kn(et.G[2],et.H[2],ye),xt=Kn(et.G[3],et.H[3],ye),ye.h)break;T[qe]=(xt<<24|ct<<16|nt<<8|Ct)>>>0}if(ct=!1,++qe,++me>=H&&(me=0,++ue,ce!=null&&ue<=oe&&!(ue%16)&&ce(N,ue),Ue!=null))for(;ve<qe;)nt=T[ve++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt}else if(280>nt){if(nt=yi(nt-256,ye),Ct=Kn(et.G[4],et.H[4],ye),fe(ye),Ct=Ca(H,Ct=yi(Ct,ye)),ye.h)break;if(qe-F<Ct||ee-qe<nt)break e;for(xt=0;xt<nt;++xt)T[qe+xt]=T[qe+xt-Ct];for(qe+=nt,me+=nt;me>=H;)me-=H,++ue,ce!=null&&ue<=oe&&!(ue%16)&&ce(N,ue);if(t(qe<=ee),me&Xe&&(et=zs(Le,me,ue)),Ue!=null)for(;ve<qe;)nt=T[ve++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt}else{if(!(nt<Be))break e;for(ct=nt-280,t(Ue!=null);ve<qe;)nt=T[ve++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt;nt=qe,t(!(ct>>>(Ct=Ue).Xa)),T[nt]=Ct.X[ct],ct=!0}ct||t(ye.h==ie(ye))}if(N.Pb&&ye.h&&qe<ee)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&ke(N.s.vb,N.s.Wa);else{if(ye.h)break e;ce?.(N,ue>oe?oe:ue),N.a=0,N.$=qe-F}return 1}return N.a=3,0}function bi(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var T=N.Wa;T!=null&&(T.X=null),N.vb=null,t(N!=null)}function Rc(){var N=new yn;return N==null?null:(N.a=0,N.xb=Yh,Sr("Predictor","VP8LPredictors"),Sr("Predictor","VP8LPredictors_C"),Sr("PredictorAdd","VP8LPredictorsAdd"),Sr("PredictorAdd","VP8LPredictorsAdd_C"),nu=Ze,cl=it,Fh=jt,Qa=Lt,Co=Nt,bn=qt,Hr=Ur,C.VP8LMapColor32b=su,C.VP8LMapColor8b=Vs,N)}function _o(N,T,F,H,ee){var oe=1,ce=[N],ue=[T],me=H.m,ye=H.s,Le=null,qe=0;e:for(;;){if(F)for(;oe&&J(me,1);){var ve=ce,Me=ue,Be=H,Ye=1,Ue=Be.m,Xe=Be.gc[Be.ab],et=J(Ue,2);if(Be.Oc&1<<et)oe=0;else{switch(Be.Oc|=1<<et,Xe.hc=et,Xe.Ea=ve[0],Xe.nc=Me[0],Xe.K=[null],++Be.ab,t(4>=Be.ab),et){case 0:case 1:Xe.b=J(Ue,3)+2,Ye=_o(ze(Xe.Ea,Xe.b),ze(Xe.nc,Xe.b),0,Be,Xe.K),Xe.K=Xe.K[0];break;case 3:var ct,nt=J(Ue,8)+1,Ct=16<nt?0:4<nt?1:2<nt?2:3;if(ve[0]=ze(Xe.Ea,Ct),Xe.b=Ct,ct=Ye=_o(nt,1,0,Be,Xe.K)){var xt,Ft=nt,At=Xe,kr=1<<(8>>At.b),fs=i(kr);if(fs==null)ct=0;else{var rr=At.K[0],vt=At.w;for(fs[0]=At.K[0][0],xt=1;xt<1*Ft;++xt)fs[xt]=le(rr[vt+xt],fs[xt-1]);for(;xt<4*kr;++xt)fs[xt]=0;At.K[0]=null,At.K[0]=fs,ct=1}}Ye=ct;break;case 2:break;default:t(0)}oe=Ye}}if(ce=ce[0],ue=ue[0],oe&&J(me,1)&&!(oe=1<=(qe=J(me,4))&&11>=qe)){H.a=3;break e}var ft;if(ft=oe)t:{var is,er,Ir,wn=H,Rr=ce,Hs=ue,Rn=qe,_n=F,Gs=wn.m,Xn=wn.s,gr=[null],Xr=1,Ar=0,Gr=xj[Rn];r:for(;;){if(_n&&J(Gs,1)){var Ks=J(Gs,3)+2,Xi=ze(Rr,Ks),os=ze(Hs,Ks),da=Xi*os;if(!_o(Xi,os,0,wn,gr))break r;for(gr=gr[0],Xn.xc=Ks,is=0;is<da;++is){var hn=gr[is]>>8&65535;gr[is]=hn,hn>=Xr&&(Xr=hn+1)}}if(Gs.h)break r;for(er=0;5>er;++er){var Fn=bv[er];!er&&0<Rn&&(Fn+=1<<Rn),Ar<Fn&&(Ar=Fn)}var Ma=o(Xr*Gr,B),wa=Xr,ni=o(wa,V);if(ni==null)var Ys=null;else t(65536>=wa),Ys=ni;var Da=i(Ar);if(Ys==null||Da==null||Ma==null){wn.a=1;break r}var si=Ma;for(is=Ir=0;is<Xr;++is){var an=Ys[is],Ra=an.G,Ji=an.H,Hc=0,ml=1,Ms=0;for(er=0;5>er;++er){Fn=bv[er],Ra[er]=si,Ji[er]=Ir,!er&&0<Rn&&(Fn+=1<<Rn);s:{var mu,Ex=Fn,pu=wn,gu=Da,kv=si,Av=Ir,xu=0,tc=pu.m,Cv=J(tc,1);if(a(gu,0,0,Ex),Cv){var Pv=J(tc,1)+1,Pj=J(tc,1),Tx=J(tc,Pj==0?1:8);gu[Tx]=1,Pv==2&&(gu[Tx=J(tc,8)]=1);var zm=1}else{var Um=i(19),Ox=J(tc,4)+4;if(19<Ox){pu.a=3;var yu=0;break s}for(mu=0;mu<Ox;++mu)Um[ca[mu]]=J(tc,3);var Lx=void 0,Gc=void 0,fr=pu,Ej=Um,qm=Ex,vu=gu,Wm=0,rc=fr.m,Ev=8,ai=o(128,B);n:for(;I(ai,0,7,Ej,19);){if(J(rc,1)){var Tj=2+2*J(rc,3);if((Lx=2+J(rc,Tj))>qm)break n}else Lx=qm;for(Gc=0;Gc<qm&&Lx--;){fe(rc);var Jh=ai[0+(127&X(rc))];re(rc,rc.u+Jh.g);var nc=Jh.value;if(16>nc)vu[Gc++]=nc,nc!=0&&(Ev=nc);else{var Tv=nc==16,Ix=nc-16,ii=pj[Ix],pl=J(rc,vv[Ix])+ii;if(Gc+pl>qm)break n;for(var Mx=Tv?Ev:0;0<pl--;)vu[Gc++]=Mx}}Wm=1;break n}Wm||(fr.a=3),zm=Wm}(zm=zm&&!tc.h)&&(xu=I(kv,Av,8,gu,Ex)),zm&&xu!=0?yu=xu:(pu.a=3,yu=0)}if(yu==0)break r;if(ml&&js[er]==1&&(ml=si[Ir].g==0),Hc+=si[Ir].g,Ir+=yu,3>=er){var bu,wu=Da[0];for(bu=1;bu<Fn;++bu)Da[bu]>wu&&(wu=Da[bu]);Ms+=wu}}if(an.nd=ml,an.Qb=0,ml&&(an.qb=(Ra[3][Ji[3]+0].value<<24|Ra[1][Ji[1]+0].value<<16|Ra[2][Ji[2]+0].value)>>>0,Hc==0&&256>Ra[0][Ji[0]+0].value&&(an.Qb=1,an.qb+=Ra[0][Ji[0]+0].value<<8)),an.jc=!an.Qb&&6>Ms,an.jc){var Qh,Qi=an;for(Qh=0;Qh<Ao;++Qh){var gl=Qh,To=Qi.pd[gl],ju=Qi.G[0][Qi.H[0]+gl];256<=ju.value?(To.g=ju.g+256,To.value=ju.value):(To.g=0,To.value=0,gl>>=Is(ju,8,To),gl>>=Is(Qi.G[1][Qi.H[1]+gl],16,To),gl>>=Is(Qi.G[2][Qi.H[2]+gl],0,To),Is(Qi.G[3][Qi.H[3]+gl],24,To))}}}Xn.vc=gr,Xn.Wb=Xr,Xn.Ya=Ys,Xn.yc=Ma,ft=1;break t}ft=0}if(!(oe=ft)){H.a=3;break e}if(0<qe){if(ye.ua=1<<qe,!Y(ye.Wa,qe)){H.a=1,oe=0;break e}}else ye.ua=0;var Oo=H,Ov=ce,sc=ue,Vm=Oo.s,Hm=Vm.xc;if(Oo.c=Ov,Oo.i=sc,Vm.md=ze(Ov,Hm),Vm.wc=Hm==0?-1:(1<<Hm)-1,F){H.xb=vj;break e}if((Le=i(ce*ue))==null){H.a=1,oe=0;break e}oe=(oe=vi(H,Le,0,ce,ue,ue,null))&&!me.h;break e}return oe?(ee!=null?ee[0]=Le:(t(Le==null),t(F)),H.$=0,F||bi(ye)):bi(ye),oe}function Fc(N,T){var F=N.c*N.i,H=F+T+16*T;return t(N.c<=T),N.V=i(H),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+F+T,1)}function Dd(N,T){var F=N.C,H=T-F,ee=N.V,oe=N.Ba+N.c*F;for(t(T<=N.l.o);0<H;){var ce=16<H?16:H,ue=N.l.ma,me=N.l.width,ye=me*ce,Le=ue.ca,qe=ue.tb+me*F,ve=N.Ta,Me=N.Ua;Dc(N,ce,ee,oe),gv(ve,Me,Le,qe,ye),So(ue,F,F+ce,Le,qe,me),H-=ce,ee+=ce*N.c,F+=ce}t(F==T),N.C=N.Ma=T}function Rd(){this.ub=this.yd=this.td=this.Rb=0}function tl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function hx(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Wl(){this.Yb=function(){var N=[];return function T(F,H,ee){for(var oe=ee[H],ce=0;ce<oe&&(F.push(ee.length>H+1?[]:0),!(ee.length<H+1));ce++)T(F[ce],H+1,ee)}(N,0,[3,11]),N}()}function _m(){this.jb=i(3),this.Wc=l([4,8],Wl),this.Xc=l([4,17],Wl)}function km(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function wi(){this.ld=this.La=this.dd=this.tc=0}function Fd(){this.Na=this.la=0}function Ah(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $d(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Am(){this.uc=this.M=this.Nb=0,this.wa=Array(new wi),this.Y=0,this.ya=Array(new $d),this.aa=0,this.l=new Bd}function Cm(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Pm(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Rd,this.Kc=new tl,this.ed=new km,this.Qa=new hx,this.Ic=this.$c=this.Aa=0,this.D=new Am,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,Ah),this.Pa=new _m,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cm),this.Hd=0,this.rb=Array(new Fd),this.sb=0,this.wa=Array(new wi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $d),this.L=this.aa=0,this.gd=l([4,2],wi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Bd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Em(){var N=new Pm;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,ul||(ul=rl)),N}function rs(N,T,F){return N.a==0&&(N.a=T,N.sc=F,N.cb=0),0}function Ch(N,T,F){return 3<=F&&N[T+0]==157&&N[T+1]==1&&N[T+2]==42}function zd(N,T){if(N==null)return 0;if(N.a=0,N.sc="OK",T==null)return rs(N,2,"null VP8Io passed to VP8GetHeaders()");var F=T.data,H=T.w,ee=T.ha;if(4>ee)return rs(N,7,"Truncated header.");var oe=F[H+0]|F[H+1]<<8|F[H+2]<<16,ce=N.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return rs(N,3,"Incorrect keyframe parameters.");if(!ce.yd)return rs(N,4,"Frame not displayable.");H+=3,ee-=3;var ue=N.Kc;if(ce.Rb){if(7>ee)return rs(N,7,"cannot parse picture header");if(!Ch(F,H,ee))return rs(N,3,"Bad code word");ue.c=16383&(F[H+4]<<8|F[H+3]),ue.Td=F[H+4]>>6,ue.i=16383&(F[H+6]<<8|F[H+5]),ue.Ud=F[H+6]>>6,H+=7,ee-=7,N.za=ue.c+15>>4,N.Ub=ue.i+15>>4,T.width=ue.c,T.height=ue.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((oe=N.Pa).jb,0,255,oe.jb.length),t((oe=N.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>ee)return rs(N,7,"bad partition length");U(oe=N.m,F,H,ce.ub),H+=ce.ub,ee-=ce.ub,ce.Rb&&(ue.Ld=Z(oe),ue.Kd=Z(oe)),ue=N.Qa;var me,ye=N.Pa;if(t(oe!=null),t(ue!=null),ue.Cb=Z(oe),ue.Cb){if(ue.Bb=Z(oe),Z(oe)){for(ue.Fb=Z(oe),me=0;4>me;++me)ue.Zb[me]=Z(oe)?$(oe,7):0;for(me=0;4>me;++me)ue.Lb[me]=Z(oe)?$(oe,6):0}if(ue.Bb)for(me=0;3>me;++me)ye.jb[me]=Z(oe)?K(oe,8):255}else ue.Bb=0;if(oe.Ka)return rs(N,3,"cannot parse segment header");if((ue=N.ed).zd=Z(oe),ue.Tb=K(oe,6),ue.wb=K(oe,3),ue.Pc=Z(oe),ue.Pc&&Z(oe)){for(ye=0;4>ye;++ye)Z(oe)&&(ue.vd[ye]=$(oe,6));for(ye=0;4>ye;++ye)Z(oe)&&(ue.od[ye]=$(oe,6))}if(N.L=ue.Tb==0?0:ue.zd?1:2,oe.Ka)return rs(N,3,"cannot parse filter header");var Le=ee;if(ee=me=H,H=me+Le,ue=Le,N.Xb=(1<<K(N.m,2))-1,Le<3*(ye=N.Xb))F=7;else{for(me+=3*ye,ue-=3*ye,Le=0;Le<ye;++Le){var qe=F[ee+0]|F[ee+1]<<8|F[ee+2]<<16;qe>ue&&(qe=ue),U(N.Jc[+Le],F,me,qe),me+=qe,ue-=qe,ee+=3}U(N.Jc[+ye],F,me,ue),F=me<H?0:5}if(F!=0)return rs(N,F,"cannot parse partitions");for(F=K(me=N.m,7),ee=Z(me)?$(me,4):0,H=Z(me)?$(me,4):0,ue=Z(me)?$(me,4):0,ye=Z(me)?$(me,4):0,me=Z(me)?$(me,4):0,Le=N.Qa,qe=0;4>qe;++qe){if(Le.Cb){var ve=Le.Zb[qe];Le.Fb||(ve+=F)}else{if(0<qe){N.pb[qe]=N.pb[0];continue}ve=F}var Me=N.pb[qe];Me.Sc[0]=Ax[Vr(ve+ee,127)],Me.Sc[1]=Gh[Vr(ve+0,127)],Me.Eb[0]=2*Ax[Vr(ve+H,127)],Me.Eb[1]=101581*Gh[Vr(ve+ue,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Ax[Vr(ve+ye,117)],Me.Qc[1]=Gh[Vr(ve+me,127)],Me.lc=ve+me}if(!ce.Rb)return rs(N,4,"Not a key frame.");for(Z(oe),ce=N.Pa,F=0;4>F;++F){for(ee=0;8>ee;++ee)for(H=0;3>H;++H)for(ue=0;11>ue;++ue)ye=Q(oe,hu[F][ee][H][ue])?K(oe,8):Kh[F][ee][H][ue],ce.Wc[F][ee].Yb[H][ue]=ye;for(ee=0;17>ee;++ee)ce.Xc[F][ee]=ce.Wc[F][yj[ee]]}return N.kc=Z(oe),N.kc&&(N.Bd=K(oe,8)),N.cb=1}function rl(N,T,F,H,ee,oe,ce){var ue=T[ee].Yb[F];for(F=0;16>ee;++ee){if(!Q(N,ue[F+0]))return ee;for(;!Q(N,ue[F+1]);)if(ue=T[++ee].Yb[0],F=0,ee==16)return 16;var me=T[ee+1].Yb;if(Q(N,ue[F+2])){var ye=N,Le=0;if(Q(ye,(ve=ue)[(qe=F)+3]))if(Q(ye,ve[qe+6])){for(ue=0,qe=2*(Le=Q(ye,ve[qe+8]))+(ve=Q(ye,ve[qe+9+Le])),Le=0,ve=Cx[qe];ve[ue];++ue)Le+=Le+Q(ye,ve[ue]);Le+=3+(8<<qe)}else Q(ye,ve[qe+7])?(Le=7+2*Q(ye,165),Le+=Q(ye,145)):Le=5+Q(ye,159);else Le=Q(ye,ve[qe+4])?3+Q(ye,ve[qe+5]):2;ue=me[2]}else Le=1,ue=me[1];me=ce+du[ee],0>(ye=N).b&&we(ye);var qe,ve=ye.b,Me=(qe=ye.Ca>>1)-(ye.I>>ve)>>31;--ye.b,ye.Ca+=Me,ye.Ca|=1,ye.I-=(qe+1&Me)<<ve,oe[me]=((Le^Me)-Me)*H[(0<ee)+0]}return 16}function Vl(N){var T=N.rb[N.sb-1];T.la=0,T.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function Pa(N,T,F,H,ee){ee=N[T+F+32*H]+(ee>>3),N[T+F+32*H]=-256&ee?0>ee?0:255:ee}function Hl(N,T,F,H,ee,oe){Pa(N,T,0,F,H+ee),Pa(N,T,1,F,H+oe),Pa(N,T,2,F,H-oe),Pa(N,T,3,F,H-ee)}function ns(N){return(20091*N>>16)+N}function Ud(N,T,F,H){var ee,oe=0,ce=i(16);for(ee=0;4>ee;++ee){var ue=N[T+0]+N[T+8],me=N[T+0]-N[T+8],ye=(35468*N[T+4]>>16)-ns(N[T+12]),Le=ns(N[T+4])+(35468*N[T+12]>>16);ce[oe+0]=ue+Le,ce[oe+1]=me+ye,ce[oe+2]=me-ye,ce[oe+3]=ue-Le,oe+=4,T++}for(ee=oe=0;4>ee;++ee)ue=(N=ce[oe+0]+4)+ce[oe+8],me=N-ce[oe+8],ye=(35468*ce[oe+4]>>16)-ns(ce[oe+12]),Pa(F,H,0,0,ue+(Le=ns(ce[oe+4])+(35468*ce[oe+12]>>16))),Pa(F,H,1,0,me+ye),Pa(F,H,2,0,me-ye),Pa(F,H,3,0,ue-Le),oe++,H+=32}function Tm(N,T,F,H){var ee=N[T+0]+4,oe=35468*N[T+4]>>16,ce=ns(N[T+4]),ue=35468*N[T+1]>>16;Hl(F,H,0,ee+ce,N=ns(N[T+1]),ue),Hl(F,H,1,ee+oe,N,ue),Hl(F,H,2,ee-oe,N,ue),Hl(F,H,3,ee-ce,N,ue)}function Ph(N,T,F,H,ee){Ud(N,T,F,H),ee&&Ud(N,T+16,F,H+4)}function fx(N,T,F,H){Ge(N,T+0,F,H,1),Ge(N,T+32,F,H+128,1)}function qi(N,T,F,H){var ee;for(N=N[T+0]+4,ee=0;4>ee;++ee)for(T=0;4>T;++T)Pa(F,H,T,ee,N)}function qd(N,T,F,H){N[T+0]&&Dt(N,T+0,F,H),N[T+16]&&Dt(N,T+16,F,H+4),N[T+32]&&Dt(N,T+32,F,H+128),N[T+48]&&Dt(N,T+48,F,H+128+4)}function Wd(N,T,F,H){var ee,oe=i(16);for(ee=0;4>ee;++ee){var ce=N[T+0+ee]+N[T+12+ee],ue=N[T+4+ee]+N[T+8+ee],me=N[T+4+ee]-N[T+8+ee],ye=N[T+0+ee]-N[T+12+ee];oe[0+ee]=ce+ue,oe[8+ee]=ce-ue,oe[4+ee]=ye+me,oe[12+ee]=ye-me}for(ee=0;4>ee;++ee)ce=(N=oe[0+4*ee]+3)+oe[3+4*ee],ue=oe[1+4*ee]+oe[2+4*ee],me=oe[1+4*ee]-oe[2+4*ee],ye=N-oe[3+4*ee],F[H+0]=ce+ue>>3,F[H+16]=ye+me>>3,F[H+32]=ce-ue>>3,F[H+48]=ye-me>>3,H+=64}function Za(N,T,F){var H,ee=T-32,oe=Ia,ce=255-N[ee-1];for(H=0;H<F;++H){var ue,me=oe,ye=ce+N[T-1];for(ue=0;ue<F;++ue)N[T+ue]=me[ye+N[ee+ue]];T+=32}}function Vd(N,T){Za(N,T,4)}function Om(N,T){Za(N,T,8)}function mx(N,T){Za(N,T,16)}function Lm(N,T){var F;for(F=0;16>F;++F)s(N,T+32*F,N,T-32,16)}function Hd(N,T){var F;for(F=16;0<F;--F)a(N,T,N[T-1],16),T+=32}function Gl(N,T,F){var H;for(H=0;16>H;++H)a(T,F+32*H,N,16)}function nl(N,T){var F,H=16;for(F=0;16>F;++F)H+=N[T-1+32*F]+N[T+F-32];Gl(H>>5,N,T)}function px(N,T){var F,H=8;for(F=0;16>F;++F)H+=N[T-1+32*F];Gl(H>>4,N,T)}function $c(N,T){var F,H=8;for(F=0;16>F;++F)H+=N[T+F-32];Gl(H>>4,N,T)}function Eh(N,T){Gl(128,N,T)}function Qt(N,T,F){return N+2*T+F+2>>2}function gx(N,T){var F,H=T-32;for(H=new Uint8Array([Qt(N[H-1],N[H+0],N[H+1]),Qt(N[H+0],N[H+1],N[H+2]),Qt(N[H+1],N[H+2],N[H+3]),Qt(N[H+2],N[H+3],N[H+4])]),F=0;4>F;++F)s(N,T+32*F,H,0,H.length)}function xx(N,T){var F=N[T-1],H=N[T-1+32],ee=N[T-1+64],oe=N[T-1+96];pe(N,T+0,16843009*Qt(N[T-1-32],F,H)),pe(N,T+32,16843009*Qt(F,H,ee)),pe(N,T+64,16843009*Qt(H,ee,oe)),pe(N,T+96,16843009*Qt(ee,oe,oe))}function yx(N,T){var F,H=4;for(F=0;4>F;++F)H+=N[T+F-32]+N[T-1+32*F];for(H>>=3,F=0;4>F;++F)a(N,T+32*F,H,4)}function vx(N,T){var F=N[T-1+0],H=N[T-1+32],ee=N[T-1+64],oe=N[T-1-32],ce=N[T+0-32],ue=N[T+1-32],me=N[T+2-32],ye=N[T+3-32];N[T+0+96]=Qt(H,ee,N[T-1+96]),N[T+1+96]=N[T+0+64]=Qt(F,H,ee),N[T+2+96]=N[T+1+64]=N[T+0+32]=Qt(oe,F,H),N[T+3+96]=N[T+2+64]=N[T+1+32]=N[T+0+0]=Qt(ce,oe,F),N[T+3+64]=N[T+2+32]=N[T+1+0]=Qt(ue,ce,oe),N[T+3+32]=N[T+2+0]=Qt(me,ue,ce),N[T+3+0]=Qt(ye,me,ue)}function Wi(N,T){var F=N[T+1-32],H=N[T+2-32],ee=N[T+3-32],oe=N[T+4-32],ce=N[T+5-32],ue=N[T+6-32],me=N[T+7-32];N[T+0+0]=Qt(N[T+0-32],F,H),N[T+1+0]=N[T+0+32]=Qt(F,H,ee),N[T+2+0]=N[T+1+32]=N[T+0+64]=Qt(H,ee,oe),N[T+3+0]=N[T+2+32]=N[T+1+64]=N[T+0+96]=Qt(ee,oe,ce),N[T+3+32]=N[T+2+64]=N[T+1+96]=Qt(oe,ce,ue),N[T+3+64]=N[T+2+96]=Qt(ce,ue,me),N[T+3+96]=Qt(ue,me,me)}function sl(N,T){var F=N[T-1+0],H=N[T-1+32],ee=N[T-1+64],oe=N[T-1-32],ce=N[T+0-32],ue=N[T+1-32],me=N[T+2-32],ye=N[T+3-32];N[T+0+0]=N[T+1+64]=oe+ce+1>>1,N[T+1+0]=N[T+2+64]=ce+ue+1>>1,N[T+2+0]=N[T+3+64]=ue+me+1>>1,N[T+3+0]=me+ye+1>>1,N[T+0+96]=Qt(ee,H,F),N[T+0+64]=Qt(H,F,oe),N[T+0+32]=N[T+1+96]=Qt(F,oe,ce),N[T+1+32]=N[T+2+96]=Qt(oe,ce,ue),N[T+2+32]=N[T+3+96]=Qt(ce,ue,me),N[T+3+32]=Qt(ue,me,ye)}function bx(N,T){var F=N[T+0-32],H=N[T+1-32],ee=N[T+2-32],oe=N[T+3-32],ce=N[T+4-32],ue=N[T+5-32],me=N[T+6-32],ye=N[T+7-32];N[T+0+0]=F+H+1>>1,N[T+1+0]=N[T+0+64]=H+ee+1>>1,N[T+2+0]=N[T+1+64]=ee+oe+1>>1,N[T+3+0]=N[T+2+64]=oe+ce+1>>1,N[T+0+32]=Qt(F,H,ee),N[T+1+32]=N[T+0+96]=Qt(H,ee,oe),N[T+2+32]=N[T+1+96]=Qt(ee,oe,ce),N[T+3+32]=N[T+2+96]=Qt(oe,ce,ue),N[T+3+64]=Qt(ce,ue,me),N[T+3+96]=Qt(ue,me,ye)}function wx(N,T){var F=N[T-1+0],H=N[T-1+32],ee=N[T-1+64],oe=N[T-1+96];N[T+0+0]=F+H+1>>1,N[T+2+0]=N[T+0+32]=H+ee+1>>1,N[T+2+32]=N[T+0+64]=ee+oe+1>>1,N[T+1+0]=Qt(F,H,ee),N[T+3+0]=N[T+1+32]=Qt(H,ee,oe),N[T+3+32]=N[T+1+64]=Qt(ee,oe,oe),N[T+3+64]=N[T+2+64]=N[T+0+96]=N[T+1+96]=N[T+2+96]=N[T+3+96]=oe}function Gd(N,T){var F=N[T-1+0],H=N[T-1+32],ee=N[T-1+64],oe=N[T-1+96],ce=N[T-1-32],ue=N[T+0-32],me=N[T+1-32],ye=N[T+2-32];N[T+0+0]=N[T+2+32]=F+ce+1>>1,N[T+0+32]=N[T+2+64]=H+F+1>>1,N[T+0+64]=N[T+2+96]=ee+H+1>>1,N[T+0+96]=oe+ee+1>>1,N[T+3+0]=Qt(ue,me,ye),N[T+2+0]=Qt(ce,ue,me),N[T+1+0]=N[T+3+32]=Qt(F,ce,ue),N[T+1+32]=N[T+3+64]=Qt(H,F,ce),N[T+1+64]=N[T+3+96]=Qt(ee,H,F),N[T+1+96]=Qt(oe,ee,H)}function Th(N,T){var F;for(F=0;8>F;++F)s(N,T+32*F,N,T-32,8)}function qr(N,T){var F;for(F=0;8>F;++F)a(N,T,N[T-1],8),T+=32}function Wr(N,T,F){var H;for(H=0;8>H;++H)a(T,F+32*H,N,8)}function Kd(N,T){var F,H=8;for(F=0;8>F;++F)H+=N[T+F-32]+N[T-1+32*F];Wr(H>>4,N,T)}function jx(N,T){var F,H=4;for(F=0;8>F;++F)H+=N[T+F-32];Wr(H>>3,N,T)}function Oh(N,T){var F,H=4;for(F=0;8>F;++F)H+=N[T-1+32*F];Wr(H>>3,N,T)}function Lh(N,T){Wr(128,N,T)}function Bc(N,T,F){var H=N[T-F],ee=N[T+0],oe=3*(ee-H)+iu[1020+N[T-2*F]-N[T+F]],ce=Vh[112+(oe+4>>3)];N[T-F]=Ia[255+H+Vh[112+(oe+3>>3)]],N[T+0]=Ia[255+ee-ce]}function zc(N,T,F,H){var ee=N[T+0],oe=N[T+F];return ba[255+N[T-2*F]-N[T-F]]>H||ba[255+oe-ee]>H}function Yd(N,T,F,H){return 4*ba[255+N[T-F]-N[T+0]]+ba[255+N[T-2*F]-N[T+F]]<=H}function Zd(N,T,F,H,ee){var oe=N[T-3*F],ce=N[T-2*F],ue=N[T-F],me=N[T+0],ye=N[T+F],Le=N[T+2*F],qe=N[T+3*F];return 4*ba[255+ue-me]+ba[255+ce-ye]>H?0:ba[255+N[T-4*F]-oe]<=ee&&ba[255+oe-ce]<=ee&&ba[255+ce-ue]<=ee&&ba[255+qe-Le]<=ee&&ba[255+Le-ye]<=ee&&ba[255+ye-me]<=ee}function ss(N,T,F,H){var ee=2*H+1;for(H=0;16>H;++H)Yd(N,T+H,F,ee)&&Bc(N,T+H,F)}function al(N,T,F,H){var ee=2*H+1;for(H=0;16>H;++H)Yd(N,T+H*F,1,ee)&&Bc(N,T+H*F,1)}function Vi(N,T,F,H){var ee;for(ee=3;0<ee;--ee)ss(N,T+=4*F,F,H)}function Xd(N,T,F,H){var ee;for(ee=3;0<ee;--ee)al(N,T+=4,F,H)}function va(N,T,F,H,ee,oe,ce,ue){for(oe=2*oe+1;0<ee--;){if(Zd(N,T,F,oe,ce))if(zc(N,T,F,ue))Bc(N,T,F);else{var me=N,ye=T,Le=F,qe=me[ye-2*Le],ve=me[ye-Le],Me=me[ye+0],Be=me[ye+Le],Ye=me[ye+2*Le],Ue=27*(et=iu[1020+3*(Me-ve)+iu[1020+qe-Be]])+63>>7,Xe=18*et+63>>7,et=9*et+63>>7;me[ye-3*Le]=Ia[255+me[ye-3*Le]+et],me[ye-2*Le]=Ia[255+qe+Xe],me[ye-Le]=Ia[255+ve+Ue],me[ye+0]=Ia[255+Me-Ue],me[ye+Le]=Ia[255+Be-Xe],me[ye+2*Le]=Ia[255+Ye-et]}T+=H}}function as(N,T,F,H,ee,oe,ce,ue){for(oe=2*oe+1;0<ee--;){if(Zd(N,T,F,oe,ce))if(zc(N,T,F,ue))Bc(N,T,F);else{var me=N,ye=T,Le=F,qe=me[ye-Le],ve=me[ye+0],Me=me[ye+Le],Be=Vh[112+(4+(Ye=3*(ve-qe))>>3)],Ye=Vh[112+(Ye+3>>3)],Ue=Be+1>>1;me[ye-2*Le]=Ia[255+me[ye-2*Le]+Ue],me[ye-Le]=Ia[255+qe+Ye],me[ye+0]=Ia[255+ve-Be],me[ye+Le]=Ia[255+Me-Ue]}T+=H}}function D(N,T,F,H,ee,oe){va(N,T,F,1,16,H,ee,oe)}function ae(N,T,F,H,ee,oe){va(N,T,1,F,16,H,ee,oe)}function be(N,T,F,H,ee,oe){var ce;for(ce=3;0<ce;--ce)as(N,T+=4*F,F,1,16,H,ee,oe)}function Ce(N,T,F,H,ee,oe){var ce;for(ce=3;0<ce;--ce)as(N,T+=4,1,F,16,H,ee,oe)}function De(N,T,F,H,ee,oe,ce,ue){va(N,T,ee,1,8,oe,ce,ue),va(F,H,ee,1,8,oe,ce,ue)}function Qe(N,T,F,H,ee,oe,ce,ue){va(N,T,1,ee,8,oe,ce,ue),va(F,H,1,ee,8,oe,ce,ue)}function rt(N,T,F,H,ee,oe,ce,ue){as(N,T+4*ee,ee,1,8,oe,ce,ue),as(F,H+4*ee,ee,1,8,oe,ce,ue)}function _t(N,T,F,H,ee,oe,ce,ue){as(N,T+4,1,ee,8,oe,ce,ue),as(F,H+4,1,ee,8,oe,ce,ue)}function yt(){this.ba=new nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vr(){this.ua=0,this.Wa=new We,this.vb=new We,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new B}function yn(){this.xb=this.a=0,this.l=new Bd,this.ca=new nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vr,this.ab=0,this.gc=o(4,ir),this.Oc=0}function Yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Bd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bt(N,T,F,H,ee,oe,ce){for(N=N==null?0:N[T+0],T=0;T<ce;++T)ee[oe+T]=N+F[H+T]&255,N=ee[oe+T]}function vn(N,T,F,H,ee,oe,ce){var ue;if(N==null)Bt(null,null,F,H,ee,oe,ce);else for(ue=0;ue<ce;++ue)ee[oe+ue]=N[T+ue]+F[H+ue]&255}function Zn(N,T,F,H,ee,oe,ce){if(N==null)Bt(null,null,F,H,ee,oe,ce);else{var ue,me=N[T+0],ye=me,Le=me;for(ue=0;ue<ce;++ue)ye=Le+(me=N[T+ue])-ye,Le=F[H+ue]+(-256&ye?0>ye?0:255:ye)&255,ye=me,ee[oe+ue]=Le}}function Us(N,T,F,H){var ee=T.width,oe=T.o;if(t(N!=null&&T!=null),0>F||0>=H||F+H>oe)return null;if(!N.Cc){if(N.ga==null){var ce;if(N.ga=new Yn,(ce=N.ga==null)||(ce=T.width*T.o,t(N.Gb.length==0),N.Gb=i(ce),N.Uc=0,N.Gb==null?ce=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ce=1),ce=!ce),!ce){ce=N.ga;var ue=N.Fa,me=N.P,ye=N.qc,Le=N.mb,qe=N.nb,ve=me+1,Me=ye-1,Be=ce.l;if(t(ue!=null&&Le!=null&&T!=null),ji[0]=null,ji[1]=Bt,ji[2]=vn,ji[3]=Zn,ce.ca=Le,ce.tb=qe,ce.c=T.width,ce.i=T.height,t(0<ce.c&&0<ce.i),1>=ye)T=0;else if(ce.$a=3&ue[me+0],ce.Z=ue[me+0]>>2&3,ce.Lc=ue[me+0]>>4&3,me=ue[me+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||me)T=0;else if(Be.put=Ut,Be.ac=No,Be.bc=el,Be.ma=ce,Be.width=T.width,Be.height=T.height,Be.Da=T.Da,Be.v=T.v,Be.va=T.va,Be.j=T.j,Be.o=T.o,ce.$a)e:{t(ce.$a==1),T=Rc();t:for(;;){if(T==null){T=0;break e}if(t(ce!=null),ce.mc=T,T.c=ce.c,T.i=ce.i,T.l=ce.l,T.l.ma=ce,T.l.width=ce.c,T.l.height=ce.i,T.a=0,W(T.m,ue,ve,Me),!_o(ce.c,ce.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&zi(T.s)?(ce.ic=1,ue=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(ue),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ce.ic=0,T=Fc(T,ce.c)),!T))break t;T=1;break e}ce.mc=null,T=0}else T=Me>=ce.c*ce.i;ce=!T}if(ce)return null;N.ga.Lc!=1?N.Ga=0:H=oe-F}t(N.ga!=null),t(F+H<=oe);e:{if(T=(ue=N.ga).c,oe=ue.l.o,ue.$a==0){if(ve=N.rc,Me=N.Vc,Be=N.Fa,me=N.P+1+F*T,ye=N.mb,Le=N.nb+F*T,t(me<=N.P+N.qc),ue.Z!=0)for(t(ji[ue.Z]!=null),ce=0;ce<H;++ce)ji[ue.Z](ve,Me,Be,me,ye,Le,T),ve=ye,Me=Le,Le+=T,me+=T;else for(ce=0;ce<H;++ce)s(ye,Le,Be,me,T),ve=ye,Me=Le,Le+=T,me+=T;N.rc=ve,N.Vc=Me}else{if(t(ue.mc!=null),T=F+H,t((ce=ue.mc)!=null),t(T<=ce.i),ce.C>=T)T=1;else if(ue.ic||Yl(),ue.ic){ue=ce.V,ve=ce.Ba,Me=ce.c;var Ye=ce.i,Ue=(Be=1,me=ce.$/Me,ye=ce.$%Me,Le=ce.m,qe=ce.s,ce.$),Xe=Me*Ye,et=Me*T,ct=qe.wc,nt=Ue<et?zs(qe,ye,me):null;t(Ue<=Xe),t(T<=Ye),t(zi(qe));t:for(;;){for(;!Le.h&&Ue<et;){if(ye&ct||(nt=zs(qe,ye,me)),t(nt!=null),fe(Le),256>(Ye=Kn(nt.G[0],nt.H[0],Le)))ue[ve+Ue]=Ye,++Ue,++ye>=Me&&(ye=0,++me<=T&&!(me%16)&&Ui(ce,me));else{if(!(280>Ye)){Be=0;break t}Ye=yi(Ye-256,Le);var Ct,xt=Kn(nt.G[4],nt.H[4],Le);if(fe(Le),!(Ue>=(xt=Ca(Me,xt=yi(xt,Le)))&&Xe-Ue>=Ye)){Be=0;break t}for(Ct=0;Ct<Ye;++Ct)ue[ve+Ue+Ct]=ue[ve+Ue+Ct-xt];for(Ue+=Ye,ye+=Ye;ye>=Me;)ye-=Me,++me<=T&&!(me%16)&&Ui(ce,me);Ue<et&&ye&ct&&(nt=zs(qe,ye,me))}t(Le.h==ie(Le))}Ui(ce,me>T?T:me);break t}!Be||Le.h&&Ue<Xe?(Be=0,ce.a=Le.h?5:3):ce.$=Ue,T=Be}else T=vi(ce,ce.V,ce.Ba,ce.c,ce.i,T,Dd);if(!T){H=0;break e}}F+H>=oe&&(N.Cc=1),H=1}if(!H)return null;if(N.Cc&&((H=N.ga)!=null&&(H.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+F*ee}function Hi(N,T,F,H,ee,oe){for(;0<ee--;){var ce,ue=N,me=T+(F?1:0),ye=N,Le=T+(F?0:3);for(ce=0;ce<H;++ce){var qe=ye[Le+4*ce];qe!=255&&(qe*=32897,ue[me+4*ce+0]=ue[me+4*ce+0]*qe>>23,ue[me+4*ce+1]=ue[me+4*ce+1]*qe>>23,ue[me+4*ce+2]=ue[me+4*ce+2]*qe>>23)}T+=oe}}function Kl(N,T,F,H,ee){for(;0<H--;){var oe;for(oe=0;oe<F;++oe){var ce=N[T+2*oe+0],ue=15&(ye=N[T+2*oe+1]),me=4369*ue,ye=(240&ye|ye>>4)*me>>16;N[T+2*oe+0]=(240&ce|ce>>4)*me>>16&240|(15&ce|ce<<4)*me>>16>>4&15,N[T+2*oe+1]=240&ye|ue}T+=ee}}function Nx(N,T,F,H,ee,oe,ce,ue){var me,ye,Le=255;for(ye=0;ye<ee;++ye){for(me=0;me<H;++me){var qe=N[T+me];oe[ce+4*me]=qe,Le&=qe}T+=F,ce+=ue}return Le!=255}function Im(N,T,F,H,ee){var oe;for(oe=0;oe<ee;++oe)F[H+oe]=N[T+oe]>>8}function Yl(){au=Hi,Uh=Kl,pv=Nx,gv=Im}function Ea(N,T,F){C[N]=function(H,ee,oe,ce,ue,me,ye,Le,qe,ve,Me,Be,Ye,Ue,Xe,et,ct){var nt,Ct=ct-1>>1,xt=ue[me+0]|ye[Le+0]<<16,Ft=qe[ve+0]|Me[Be+0]<<16;t(H!=null);var At=3*xt+Ft+131074>>2;for(T(H[ee+0],255&At,At>>16,Ye,Ue),oe!=null&&(At=3*Ft+xt+131074>>2,T(oe[ce+0],255&At,At>>16,Xe,et)),nt=1;nt<=Ct;++nt){var kr=ue[me+nt]|ye[Le+nt]<<16,fs=qe[ve+nt]|Me[Be+nt]<<16,rr=xt+kr+Ft+fs+524296,vt=rr+2*(kr+Ft)>>3;At=vt+xt>>1,xt=(rr=rr+2*(xt+fs)>>3)+kr>>1,T(H[ee+2*nt-1],255&At,At>>16,Ye,Ue+(2*nt-1)*F),T(H[ee+2*nt-0],255&xt,xt>>16,Ye,Ue+(2*nt-0)*F),oe!=null&&(At=rr+Ft>>1,xt=vt+fs>>1,T(oe[ce+2*nt-1],255&At,At>>16,Xe,et+(2*nt-1)*F),T(oe[ce+2*nt+0],255&xt,xt>>16,Xe,et+(2*nt+0)*F)),xt=kr,Ft=fs}1&ct||(At=3*xt+Ft+131074>>2,T(H[ee+ct-1],255&At,At>>16,Ye,Ue+(ct-1)*F),oe!=null&&(At=3*Ft+xt+131074>>2,T(oe[ce+ct-1],255&At,At>>16,Xe,et+(ct-1)*F)))}}function ko(){ti[Hh]=de,ti[Jl]=Zh,ti[Ql]=fu,ti[Vc]=ri,ti[Rm]=_r,ti[_x]=jv,ti[yv]=bj,ti[ou]=Zh,ti[lu]=ri,ti[cu]=_r,ti[kx]=jv}function Jd(N){return N&~wj?0>N?0:255:N>>Nv}function il(N,T){return Jd((19077*N>>8)+(26149*T>>8)-14234)}function ws(N,T,F){return Jd((19077*N>>8)-(6419*T>>8)-(13320*F>>8)+8708)}function Gi(N,T){return Jd((19077*N>>8)+(33050*T>>8)-17685)}function Ki(N,T,F,H,ee){H[ee+0]=il(N,F),H[ee+1]=ws(N,T,F),H[ee+2]=Gi(N,T)}function Uc(N,T,F,H,ee){H[ee+0]=Gi(N,T),H[ee+1]=ws(N,T,F),H[ee+2]=il(N,F)}function Ih(N,T,F,H,ee){var oe=ws(N,T,F);T=oe<<3&224|Gi(N,T)>>3,H[ee+0]=248&il(N,F)|oe>>5,H[ee+1]=T}function qs(N,T,F,H,ee){var oe=240&Gi(N,T)|15;H[ee+0]=240&il(N,F)|ws(N,T,F)>>4,H[ee+1]=oe}function Qd(N,T,F,H,ee){H[ee+0]=255,Ki(N,T,F,H,ee+1)}function eu(N,T,F,H,ee){Uc(N,T,F,H,ee),H[ee+3]=255}function Mh(N,T,F,H,ee){Ki(N,T,F,H,ee),H[ee+3]=255}function Vr(N,T){return 0>N?0:N>T?T:N}function Ta(N,T,F){C[N]=function(H,ee,oe,ce,ue,me,ye,Le,qe){for(var ve=Le+(-2&qe)*F;Le!=ve;)T(H[ee+0],oe[ce+0],ue[me+0],ye,Le),T(H[ee+1],oe[ce+0],ue[me+0],ye,Le+F),ee+=2,++ce,++me,Le+=2*F;1&qe&&T(H[ee+0],oe[ce+0],ue[me+0],ye,Le)}}function ol(N,T,F){return F==0?N==0?T==0?6:5:T==0?4:0:F}function tu(N,T,F,H,ee){switch(N>>>30){case 3:Ge(T,F,H,ee,0);break;case 2:Ve(T,F,H,ee);break;case 1:Dt(T,F,H,ee)}}function ll(N,T){var F,H,ee=T.M,oe=T.Nb,ce=N.oc,ue=N.pc+40,me=N.oc,ye=N.pc+584,Le=N.oc,qe=N.pc+600;for(F=0;16>F;++F)ce[ue+32*F-1]=129;for(F=0;8>F;++F)me[ye+32*F-1]=129,Le[qe+32*F-1]=129;for(0<ee?ce[ue-1-32]=me[ye-1-32]=Le[qe-1-32]=129:(a(ce,ue-32-1,127,21),a(me,ye-32-1,127,9),a(Le,qe-32-1,127,9)),H=0;H<N.za;++H){var ve=T.ya[T.aa+H];if(0<H){for(F=-1;16>F;++F)s(ce,ue+32*F-4,ce,ue+32*F+12,4);for(F=-1;8>F;++F)s(me,ye+32*F-4,me,ye+32*F+4,4),s(Le,qe+32*F-4,Le,qe+32*F+4,4)}var Me=N.Gd,Be=N.Hd+H,Ye=ve.ad,Ue=ve.Hc;if(0<ee&&(s(ce,ue-32,Me[Be].y,0,16),s(me,ye-32,Me[Be].f,0,8),s(Le,qe-32,Me[Be].ea,0,8)),ve.Za){var Xe=ce,et=ue-32+16;for(0<ee&&(H>=N.za-1?a(Xe,et,Me[Be].y[15],4):s(Xe,et,Me[Be+1].y,0,4)),F=0;4>F;F++)Xe[et+128+F]=Xe[et+256+F]=Xe[et+384+F]=Xe[et+0+F];for(F=0;16>F;++F,Ue<<=2)Xe=ce,et=ue+Eo[F],Zi[ve.Ob[F]](Xe,et),tu(Ue,Ye,16*+F,Xe,et)}else if(Xe=ol(H,ee,ve.Ob[0]),ec[Xe](ce,ue),Ue!=0)for(F=0;16>F;++F,Ue<<=2)tu(Ue,Ye,16*+F,ce,ue+Eo[F]);for(F=ve.Gc,Xe=ol(H,ee,ve.Dd),hl[Xe](me,ye),hl[Xe](Le,qe),Ue=Ye,Xe=me,et=ye,255&(ve=0|F)&&(170&ve?gt(Ue,256,Xe,et):Er(Ue,256,Xe,et)),ve=Le,Ue=qe,255&(F>>=8)&&(170&F?gt(Ye,320,ve,Ue):Er(Ye,320,ve,Ue)),ee<N.Ub-1&&(s(Me[Be].y,0,ce,ue+480,16),s(Me[Be].f,0,me,ye+224,8),s(Me[Be].ea,0,Le,qe+224,8)),F=8*oe*N.B,Me=N.sa,Be=N.ta+16*H+16*oe*N.R,Ye=N.qa,ve=N.ra+8*H+F,Ue=N.Ha,Xe=N.Ia+8*H+F,F=0;16>F;++F)s(Me,Be+F*N.R,ce,ue+32*F,16);for(F=0;8>F;++F)s(Ye,ve+F*N.B,me,ye+32*F,8),s(Ue,Xe+F*N.B,Le,qe+32*F,8)}}function ru(N,T,F,H,ee,oe,ce,ue,me){var ye=[0],Le=[0],qe=0,ve=me!=null?me.kd:0,Me=me??new Zt;if(N==null||12>F)return 7;Me.data=N,Me.w=T,Me.ha=F,T=[T],F=[F],Me.gb=[Me.gb];e:{var Be=T,Ye=F,Ue=Me.gb;if(t(N!=null),t(Ye!=null),t(Ue!=null),Ue[0]=0,12<=Ye[0]&&!n(N,Be[0],"RIFF")){if(n(N,Be[0]+8,"WEBP")){Ue=3;break e}var Xe=Ne(N,Be[0]+4);if(12>Xe||4294967286<Xe){Ue=3;break e}if(ve&&Xe>Ye[0]-8){Ue=7;break e}Ue[0]=Xe,Be[0]+=12,Ye[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Xe=0<Me.gb[0],F=F[0];;){e:{var et=N;Ye=T,Ue=F;var ct=ye,nt=Le,Ct=Be=[0];if((At=qe=[qe])[0]=0,8>Ue[0])Ue=7;else{if(!n(et,Ye[0],"VP8X")){if(Ne(et,Ye[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var xt=Ne(et,Ye[0]+8),Ft=1+Ae(et,Ye[0]+12);if(2147483648<=Ft*(et=1+Ae(et,Ye[0]+15))){Ue=3;break e}Ct!=null&&(Ct[0]=xt),ct!=null&&(ct[0]=Ft),nt!=null&&(nt[0]=et),Ye[0]+=18,Ue[0]-=18,At[0]=1}Ue=0}}if(qe=qe[0],Be=Be[0],Ue!=0)return Ue;if(Ye=!!(2&Be),!Xe&&qe)return 3;if(oe!=null&&(oe[0]=!!(16&Be)),ce!=null&&(ce[0]=Ye),ue!=null&&(ue[0]=0),ce=ye[0],Be=Le[0],qe&&Ye&&me==null){Ue=0;break}if(4>F){Ue=7;break}if(Xe&&qe||!Xe&&!qe&&!n(N,T[0],"ALPH")){F=[F],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{xt=N,Ue=T,Xe=F;var At=Me.gb;ct=Me.na,nt=Me.P,Ct=Me.Sa,Ft=22,t(xt!=null),t(Xe!=null),et=Ue[0];var kr=Xe[0];for(t(ct!=null),t(Ct!=null),ct[0]=null,nt[0]=null,Ct[0]=0;;){if(Ue[0]=et,Xe[0]=kr,8>kr){Ue=7;break e}var fs=Ne(xt,et+4);if(4294967286<fs){Ue=3;break e}var rr=8+fs+1&-2;if(Ft+=rr,0<At&&Ft>At){Ue=3;break e}if(!n(xt,et,"VP8 ")||!n(xt,et,"VP8L")){Ue=0;break e}if(kr[0]<rr){Ue=7;break e}n(xt,et,"ALPH")||(ct[0]=xt,nt[0]=et+8,Ct[0]=fs),et+=rr,kr-=rr}}if(F=F[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ue!=0)break}F=[F],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(At=N,Ue=T,Xe=F,ct=Me.gb[0],nt=Me.Ja,Ct=Me.xa,xt=Ue[0],et=!n(At,xt,"VP8 "),Ft=!n(At,xt,"VP8L"),t(At!=null),t(Xe!=null),t(nt!=null),t(Ct!=null),8>Xe[0])Ue=7;else{if(et||Ft){if(At=Ne(At,xt+4),12<=ct&&At>ct-12){Ue=3;break e}if(ve&&At>Xe[0]-8){Ue=7;break e}nt[0]=At,Ue[0]+=8,Xe[0]-=8,Ct[0]=Ft}else Ct[0]=5<=Xe[0]&&At[xt+0]==47&&!(At[xt+4]>>5),nt[0]=Xe[0];Ue=0}if(F=F[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],T=T[0],Ue!=0)break;if(4294967286<Me.Ja)return 3;if(ue==null||Ye||(ue[0]=Me.xa?2:1),ce=[ce],Be=[Be],Me.xa){if(5>F){Ue=7;break}ue=ce,ve=Be,Ye=oe,N==null||5>F?N=0:5<=F&&N[T+0]==47&&!(N[T+4]>>5)?(Xe=[0],At=[0],ct=[0],W(nt=new G,N,T,F),Bi(nt,Xe,At,ct)?(ue!=null&&(ue[0]=Xe[0]),ve!=null&&(ve[0]=At[0]),Ye!=null&&(Ye[0]=ct[0]),N=1):N=0):N=0}else{if(10>F){Ue=7;break}ue=Be,N==null||10>F||!Ch(N,T+3,F-3)?N=0:(ve=N[T+0]|N[T+1]<<8|N[T+2]<<16,Ye=16383&(N[T+7]<<8|N[T+6]),N=16383&(N[T+9]<<8|N[T+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Me.Ja||!Ye||!N?N=0:(ce&&(ce[0]=Ye),ue&&(ue[0]=N),N=1))}if(!N||(ce=ce[0],Be=Be[0],qe&&(ye[0]!=ce||Le[0]!=Be)))return 3;me!=null&&(me[0]=Me,me.offset=T-me.w,t(4294967286>T-me.w),t(me.offset==me.ha-F));break}return Ue==0||Ue==7&&qe&&me==null?(oe!=null&&(oe[0]|=Me.na!=null&&0<Me.na.length),H!=null&&(H[0]=ce),ee!=null&&(ee[0]=Be),0):Ue}function Oa(N,T,F){var H=T.width,ee=T.height,oe=0,ce=0,ue=H,me=ee;if(T.Da=N!=null&&0<N.Da,T.Da&&(ue=N.cd,me=N.bd,oe=N.v,ce=N.j,11>F||(oe&=-2,ce&=-2),0>oe||0>ce||0>=ue||0>=me||oe+ue>H||ce+me>ee))return 0;if(T.v=oe,T.j=ce,T.va=oe+ue,T.o=ce+me,T.U=ue,T.T=me,T.da=N!=null&&0<N.da,T.da){if(!Ie(ue,me,F=[N.ib],oe=[N.hb]))return 0;T.ib=F[0],T.hb=oe[0]}return T.ob=N!=null&&N.ob,T.Kb=N==null||!N.Sd,T.da&&(T.ob=T.ib<3*H/4&&T.hb<3*ee/4,T.Kb=0),1}function La(N){if(N==null)return 2;if(11>N.S){var T=N.f.RGBA;T.fb+=(N.height-1)*T.A,T.A=-T.A}else T=N.f.kb,N=N.height,T.O+=(N-1)*T.fa,T.fa=-T.fa,T.N+=(N-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(N-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(N-1)*T.lb,T.lb=-T.lb);return 0}function qc(N,T,F,H){if(H==null||0>=N||0>=T)return 2;if(F!=null){if(F.Da){var ee=F.cd,oe=F.bd,ce=-2&F.v,ue=-2&F.j;if(0>ce||0>ue||0>=ee||0>=oe||ce+ee>N||ue+oe>T)return 2;N=ee,T=oe}if(F.da){if(!Ie(N,T,ee=[F.ib],oe=[F.hb]))return 2;N=ee[0],T=oe[0]}}H.width=N,H.height=T;e:{var me=H.width,ye=H.height;if(N=H.S,0>=me||0>=ye||!(N>=Hh&&13>N))N=2;else{if(0>=H.Rd&&H.sd==null){ce=oe=ee=T=0;var Le=(ue=me*_v[N])*ye;if(11>N||(oe=(ye+1)/2*(T=(me+1)/2),N==12&&(ce=(ee=me)*ye)),(ye=i(Le+2*oe+ce))==null){N=1;break e}H.sd=ye,11>N?((me=H.f.RGBA).eb=ye,me.fb=0,me.A=ue,me.size=Le):((me=H.f.kb).y=ye,me.O=0,me.fa=ue,me.Fd=Le,me.f=ye,me.N=0+Le,me.Ab=T,me.Cd=oe,me.ea=ye,me.W=0+Le+oe,me.Db=T,me.Ed=oe,N==12&&(me.F=ye,me.J=0+Le+2*oe),me.Tc=ce,me.lb=ee)}if(T=1,ee=H.S,oe=H.width,ce=H.height,ee>=Hh&&13>ee)if(11>ee)N=H.f.RGBA,T&=(ue=Math.abs(N.A))*(ce-1)+oe<=N.size,T&=ue>=oe*_v[ee],T&=N.eb!=null;else{N=H.f.kb,ue=(oe+1)/2,Le=(ce+1)/2,me=Math.abs(N.fa),ye=Math.abs(N.Ab);var qe=Math.abs(N.Db),ve=Math.abs(N.lb),Me=ve*(ce-1)+oe;T&=me*(ce-1)+oe<=N.Fd,T&=ye*(Le-1)+ue<=N.Cd,T=(T&=qe*(Le-1)+ue<=N.Ed)&me>=oe&ye>=ue&qe>=ue,T&=N.y!=null,T&=N.f!=null,T&=N.ea!=null,ee==12&&(T&=ve>=oe,T&=Me<=N.Tc,T&=N.F!=null)}else T=0;N=T?0:2}}return N!=0||F!=null&&F.fd&&(N=La(H)),N}var Ao=64,Xa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Dh=24,Zl=32,Dn=8,Mm=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(N){return N},C.Predictor2=function(N,T,F){return T[F+0]},C.Predictor3=function(N,T,F){return T[F+1]},C.Predictor4=function(N,T,F){return T[F-1]},C.Predictor5=function(N,T,F){return Pe(Pe(N,T[F+1]),T[F+0])},C.Predictor6=function(N,T,F){return Pe(N,T[F-1])},C.Predictor7=function(N,T,F){return Pe(N,T[F+0])},C.Predictor8=function(N,T,F){return Pe(T[F-1],T[F+0])},C.Predictor9=function(N,T,F){return Pe(T[F+0],T[F+1])},C.Predictor10=function(N,T,F){return Pe(Pe(N,T[F-1]),Pe(T[F+0],T[F+1]))},C.Predictor11=function(N,T,F){var H=T[F+0];return 0>=je(H>>24&255,N>>24&255,(T=T[F-1])>>24&255)+je(H>>16&255,N>>16&255,T>>16&255)+je(H>>8&255,N>>8&255,T>>8&255)+je(255&H,255&N,255&T)?H:N},C.Predictor12=function(N,T,F){var H=T[F+0];return($e((N>>24&255)+(H>>24&255)-((T=T[F-1])>>24&255))<<24|$e((N>>16&255)+(H>>16&255)-(T>>16&255))<<16|$e((N>>8&255)+(H>>8&255)-(T>>8&255))<<8|$e((255&N)+(255&H)-(255&T)))>>>0},C.Predictor13=function(N,T,F){var H=T[F-1];return(He((N=Pe(N,T[F+0]))>>24&255,H>>24&255)<<24|He(N>>16&255,H>>16&255)<<16|He(N>>8&255,H>>8&255)<<8|He(255&N,255&H))>>>0};var Ws=C.PredictorAdd0;C.PredictorAdd1=Fe,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var Ja=C.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var nu,Rh=C.ColorIndexInverseTransform,su=C.MapARGB,Yi=C.VP8LColorIndexInverseTransformAlpha,Vs=C.MapAlpha,Xl=C.VP8LPredictorsAdd=[];Xl.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var cl,Fh,Qa,Co,bn,Hr,Oe,Ge,Ve,gt,Dt,Er,hs,sn,Dm,hv,ei,$h,fv,Wc,Bh,zh,Zr,mv,au,Uh,pv,gv,xv=i(511),qh=i(2041),dl=i(225),Wh=i(767),Sx=0,iu=qh,Vh=dl,Ia=Wh,ba=xv,Hh=0,Jl=1,Ql=2,Vc=3,Rm=4,_x=5,yv=6,ou=7,lu=8,cu=9,kx=10,vv=[2,3,7],pj=[3,3,11],bv=[280,256,256,256,40],js=[0,1,1,1,0],ca=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wv=8,Ax=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ul=null,Cx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],du=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],uu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Fm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ec=[],Zi=[],hl=[],vj=1,Yh=2,ji=[],ti=[];Ea("UpsampleRgbLinePair",Ki,3),Ea("UpsampleBgrLinePair",Uc,3),Ea("UpsampleRgbaLinePair",Mh,4),Ea("UpsampleBgraLinePair",eu,4),Ea("UpsampleArgbLinePair",Qd,4),Ea("UpsampleRgba4444LinePair",qs,2),Ea("UpsampleRgb565LinePair",Ih,2);var de=C.UpsampleRgbLinePair,fu=C.UpsampleBgrLinePair,Zh=C.UpsampleRgbaLinePair,ri=C.UpsampleBgraLinePair,_r=C.UpsampleArgbLinePair,jv=C.UpsampleRgba4444LinePair,bj=C.UpsampleRgb565LinePair,$m=16,Po=1<<$m-1,Xh=-227,Px=482,Nv=6,wj=(256<<Nv)-1,Sv=0,fl=i(256),jj=i(256),Nj=i(256),Sj=i(256),_j=i(Px-Xh),kj=i(Px-Xh);Ta("YuvToRgbRow",Ki,3),Ta("YuvToBgrRow",Uc,3),Ta("YuvToRgbaRow",Mh,4),Ta("YuvToBgraRow",eu,4),Ta("YuvToArgbRow",Qd,4),Ta("YuvToRgba4444Row",qs,2),Ta("YuvToRgb565Row",Ih,2);var Eo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bm=[0,2,8],Aj=[8,7,6,4,4,2,2,2,1,1,1,1],Cj=1;this.WebPDecodeRGBA=function(N,T,F,H,ee){var oe=Jl,ce=new yt,ue=new nn;ce.ba=ue,ue.S=oe,ue.width=[ue.width],ue.height=[ue.height];var me=ue.width,ye=ue.height,Le=new tr;if(Le==null||N==null)var qe=2;else t(Le!=null),qe=ru(N,T,F,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(qe!=0?me=0:(me!=null&&(me[0]=Le.width[0]),ye!=null&&(ye[0]=Le.height[0]),me=1),me){ue.width=ue.width[0],ue.height=ue.height[0],H!=null&&(H[0]=ue.width),ee!=null&&(ee[0]=ue.height);e:{if(H=new Bd,(ee=new Zt).data=N,ee.w=T,ee.ha=F,ee.kd=1,T=[0],t(ee!=null),((N=ru(ee.data,ee.w,ee.ha,null,null,null,T,null,ee))==0||N==7)&&T[0]&&(N=4),(T=N)==0){if(t(ce!=null),H.data=ee.data,H.w=ee.w+ee.offset,H.ha=ee.ha-ee.offset,H.put=Ut,H.ac=No,H.bc=el,H.ma=ce,ee.xa){if((N=Rc())==null){ce=1;break e}if(function(ve,Me){var Be=[0],Ye=[0],Ue=[0];t:for(;;){if(ve==null)return 0;if(Me==null)return ve.a=2,0;if(ve.l=Me,ve.a=0,W(ve.m,Me.data,Me.w,Me.ha),!Bi(ve.m,Be,Ye,Ue)){ve.a=3;break t}if(ve.xb=Yh,Me.width=Be[0],Me.height=Ye[0],!_o(Be[0],Ye[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(N,H)){if(H=(T=qc(H.width,H.height,ce.Oa,ce.ba))==0){t:{H=N;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((F=H.l)!=null),t((ee=F.ma)!=null),H.xb!=0){if(H.ca=ee.ba,H.tb=ee.tb,t(H.ca!=null),!Oa(ee.Oa,F,Vc)){H.a=2;break r}if(!Fc(H,F.width)||F.da)break r;if((F.da||sr(H.ca.S))&&Yl(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Yl()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Y(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!vi(H,H.V,H.Ba,H.c,H.i,F.o,ql))break r;ee.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(T=N.a)}else T=N.a}else{if((N=new Em)==null){ce=1;break e}if(N.Fa=ee.na,N.P=ee.P,N.qc=ee.Sa,zd(N,H)){if((T=qc(H.width,H.height,ce.Oa,ce.ba))==0){if(N.Aa=0,F=ce.Oa,t((ee=N)!=null),F!=null){if(0<(me=0>(me=F.Md)?0:100<me?255:255*me/100)){for(ye=Le=0;4>ye;++ye)12>(qe=ee.pb[ye]).lc&&(qe.ia=me*Aj[0>qe.lc?0:qe.lc]>>3),Le|=qe.ia;Le&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=F.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(ve,Me){if(ve==null)return 0;if(Me==null)return rs(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!zd(ve,Me))return 0;if(t(ve.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(ve.L=0);var Be=Bm[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Me.v-Be>>4,ve.zb=Me.j-Be>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Me.o+15+Be>>4,ve.Hb=Me.va+15+Be>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var Ye=ve.ed;for(Be=0;4>Be;++Be){var Ue;if(ve.Qa.Cb){var Xe=ve.Qa.Lb[Be];ve.Qa.Fb||(Xe+=Ye.Tb)}else Xe=Ye.Tb;for(Ue=0;1>=Ue;++Ue){var et=ve.gd[Be][Ue],ct=Xe;if(Ye.Pc&&(ct+=Ye.vd[0],Ue&&(ct+=Ye.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var nt=ct;0<Ye.wb&&(nt=4<Ye.wb?nt>>2:nt>>1)>9-Ye.wb&&(nt=9-Ye.wb),1>nt&&(nt=1),et.dd=nt,et.tc=2*ct+nt,et.ld=40<=ct?2:15<=ct?1:0}else et.tc=0;et.La=Ue}}}Be=0}else rs(ve,6,"Frame setup failed"),Be=ve.a;if(Be=Be==0){if(Be){ve.$c=0,0<ve.Aa||(ve.Ic=Cj);t:{Be=ve.Ic,Ye=4*(nt=ve.za);var Ct=32*nt,xt=nt+1,Ft=0<ve.L?nt*(0<ve.Aa?2:1):0,At=(ve.Aa==2?2:1)*nt;if((et=Ye+832+(Ue=3*(16*Be+Bm[ve.L])/2*Ct)+(Xe=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=et)Be=0;else{if(et>ve.Vb){if(ve.Vb=0,ve.Ec=i(et),ve.Fc=0,ve.Ec==null){Be=rs(ve,1,"no memory during frame initialization.");break t}ve.Vb=et}et=ve.Ec,ct=ve.Fc,ve.Ac=et,ve.Bc=ct,ct+=Ye,ve.Gd=o(Ct,Cm),ve.Hd=0,ve.rb=o(xt+1,Fd),ve.sb=1,ve.wa=Ft?o(Ft,wi):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=nt),t(!0),ve.oc=et,ve.pc=ct,ct+=832,ve.ya=o(At,$d),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=nt),ve.R=16*nt,ve.B=8*nt,nt=(Ct=Bm[ve.L])*ve.R,Ct=Ct/2*ve.B,ve.sa=et,ve.ta=ct+nt,ve.qa=ve.sa,ve.ra=ve.ta+16*Be*ve.R+Ct,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Be*ve.B+Ct,ve.$c=0,ct+=Ue,ve.mb=Xe?et:null,ve.nb=Xe?ct:null,t(ct+Xe<=ve.Fc+ve.Vb),Vl(ve),a(ve.Ac,ve.Bc,0,Ye),Be=1}}if(Be){if(Me.ka=0,Me.y=ve.sa,Me.O=ve.ta,Me.f=ve.qa,Me.N=ve.ra,Me.ea=ve.Ha,Me.Vd=ve.Ia,Me.fa=ve.R,Me.Rc=ve.B,Me.F=null,Me.J=0,!Sx){for(Be=-255;255>=Be;++Be)xv[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)qh[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)dl[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)Wh[255+Be]=0>Be?0:255<Be?255:Be;Sx=1}Oe=Wd,Ge=Ph,gt=fx,Dt=qi,Er=qd,Ve=Tm,hs=D,sn=ae,Dm=De,hv=Qe,ei=be,$h=Ce,fv=rt,Wc=_t,Bh=ss,zh=al,Zr=Vi,mv=Xd,Zi[0]=yx,Zi[1]=Vd,Zi[2]=gx,Zi[3]=xx,Zi[4]=vx,Zi[5]=sl,Zi[6]=Wi,Zi[7]=bx,Zi[8]=Gd,Zi[9]=wx,ec[0]=nl,ec[1]=mx,ec[2]=Lm,ec[3]=Hd,ec[4]=px,ec[5]=$c,ec[6]=Eh,hl[0]=Kd,hl[1]=Om,hl[2]=Th,hl[3]=qr,hl[4]=Oh,hl[5]=jx,hl[6]=Lh,Be=1}else Be=0}Be&&(Be=function(kr,fs){for(kr.M=0;kr.M<kr.Va;++kr.M){var rr,vt=kr.Jc[kr.M&kr.Xb],ft=kr.m,is=kr;for(rr=0;rr<is.za;++rr){var er=ft,Ir=is,wn=Ir.Ac,Rr=Ir.Bc+4*rr,Hs=Ir.zc,Rn=Ir.ya[Ir.aa+rr];if(Ir.Qa.Bb?Rn.$b=Q(er,Ir.Pa.jb[0])?2+Q(er,Ir.Pa.jb[2]):Q(er,Ir.Pa.jb[1]):Rn.$b=0,Ir.kc&&(Rn.Ad=Q(er,Ir.Bd)),Rn.Za=!Q(er,145)+0,Rn.Za){var _n=Rn.Ob,Gs=0;for(Ir=0;4>Ir;++Ir){var Xn,gr=Hs[0+Ir];for(Xn=0;4>Xn;++Xn){gr=Fm[wn[Rr+Xn]][gr];for(var Xr=uu[Q(er,gr[0])];0<Xr;)Xr=uu[2*Xr+Q(er,gr[Xr])];gr=-Xr,wn[Rr+Xn]=gr}s(_n,Gs,wn,Rr,4),Gs+=4,Hs[0+Ir]=gr}}else gr=Q(er,156)?Q(er,128)?1:3:Q(er,163)?2:0,Rn.Ob[0]=gr,a(wn,Rr,gr,4),a(Hs,0,gr,4);Rn.Dd=Q(er,142)?Q(er,114)?Q(er,183)?1:3:2:0}if(is.m.Ka)return rs(kr,7,"Premature end-of-partition0 encountered.");for(;kr.ja<kr.za;++kr.ja){if(is=vt,er=(ft=kr).rb[ft.sb-1],wn=ft.rb[ft.sb+ft.ja],rr=ft.ya[ft.aa+ft.ja],Rr=ft.kc?rr.Ad:0)er.la=wn.la=0,rr.Za||(er.Na=wn.Na=0),rr.Hc=0,rr.Gc=0,rr.ia=0;else{var Ar,Gr;if(er=wn,wn=is,Rr=ft.Pa.Xc,Hs=ft.ya[ft.aa+ft.ja],Rn=ft.pb[Hs.$b],Ir=Hs.ad,_n=0,Gs=ft.rb[ft.sb-1],gr=Xn=0,a(Ir,_n,0,384),Hs.Za)var Ks=0,Xi=Rr[3];else{Xr=i(16);var os=er.Na+Gs.Na;if(os=ul(wn,Rr[1],os,Rn.Eb,0,Xr,0),er.Na=Gs.Na=(0<os)+0,1<os)Oe(Xr,0,Ir,_n);else{var da=Xr[0]+3>>3;for(Xr=0;256>Xr;Xr+=16)Ir[_n+Xr]=da}Ks=1,Xi=Rr[0]}var hn=15&er.la,Fn=15&Gs.la;for(Xr=0;4>Xr;++Xr){var Ma=1&Fn;for(da=Gr=0;4>da;++da)hn=hn>>1|(Ma=(os=ul(wn,Xi,os=Ma+(1&hn),Rn.Sc,Ks,Ir,_n))>Ks)<<7,Gr=Gr<<2|(3<os?3:1<os?2:Ir[_n+0]!=0),_n+=16;hn>>=4,Fn=Fn>>1|Ma<<7,Xn=(Xn<<8|Gr)>>>0}for(Xi=hn,Ks=Fn>>4,Ar=0;4>Ar;Ar+=2){for(Gr=0,hn=er.la>>4+Ar,Fn=Gs.la>>4+Ar,Xr=0;2>Xr;++Xr){for(Ma=1&Fn,da=0;2>da;++da)os=Ma+(1&hn),hn=hn>>1|(Ma=0<(os=ul(wn,Rr[2],os,Rn.Qc,0,Ir,_n)))<<3,Gr=Gr<<2|(3<os?3:1<os?2:Ir[_n+0]!=0),_n+=16;hn>>=2,Fn=Fn>>1|Ma<<5}gr|=Gr<<4*Ar,Xi|=hn<<4<<Ar,Ks|=(240&Fn)<<Ar}er.la=Xi,Gs.la=Ks,Hs.Hc=Xn,Hs.Gc=gr,Hs.ia=43690&gr?0:Rn.ia,Rr=!(Xn|gr)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[rr.$b][rr.Za],ft.wa[ft.Y+ft.ja].La|=!Rr),is.Ka)return rs(kr,7,"Premature end-of-file encountered.")}if(Vl(kr),ft=fs,is=1,rr=(vt=kr).D,er=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(rr.M=vt.M,rr.uc=er,ll(vt,rr),is=1,rr=(Gr=vt.D).Nb,er=(gr=Bm[vt.L])*vt.R,wn=gr/2*vt.B,Xr=16*rr*vt.R,da=8*rr*vt.B,Rr=vt.sa,Hs=vt.ta-er+Xr,Rn=vt.qa,Ir=vt.ra-wn+da,_n=vt.Ha,Gs=vt.Ia-wn+da,Fn=(hn=Gr.M)==0,Xn=hn>=vt.Va-1,vt.Aa==2&&ll(vt,Gr),Gr.uc)for(Ma=(os=vt).D.M,t(os.D.uc),Gr=os.yb;Gr<os.Hb;++Gr){Ks=Gr,Xi=Ma;var wa=(ni=(Ms=os).D).Nb;Ar=Ms.R;var ni=ni.wa[ni.Y+Ks],Ys=Ms.sa,Da=Ms.ta+16*wa*Ar+16*Ks,si=ni.dd,an=ni.tc;if(an!=0)if(t(3<=an),Ms.L==1)0<Ks&&zh(Ys,Da,Ar,an+4),ni.La&&mv(Ys,Da,Ar,an),0<Xi&&Bh(Ys,Da,Ar,an+4),ni.La&&Zr(Ys,Da,Ar,an);else{var Ra=Ms.B,Ji=Ms.qa,Hc=Ms.ra+8*wa*Ra+8*Ks,ml=Ms.Ha,Ms=Ms.Ia+8*wa*Ra+8*Ks;wa=ni.ld,0<Ks&&(sn(Ys,Da,Ar,an+4,si,wa),hv(Ji,Hc,ml,Ms,Ra,an+4,si,wa)),ni.La&&($h(Ys,Da,Ar,an,si,wa),Wc(Ji,Hc,ml,Ms,Ra,an,si,wa)),0<Xi&&(hs(Ys,Da,Ar,an+4,si,wa),Dm(Ji,Hc,ml,Ms,Ra,an+4,si,wa)),ni.La&&(ei(Ys,Da,Ar,an,si,wa),fv(Ji,Hc,ml,Ms,Ra,an,si,wa))}}if(vt.ia&&alert("todo:DitherRow"),ft.put!=null){if(Gr=16*hn,hn=16*(hn+1),Fn?(ft.y=vt.sa,ft.O=vt.ta+Xr,ft.f=vt.qa,ft.N=vt.ra+da,ft.ea=vt.Ha,ft.W=vt.Ia+da):(Gr-=gr,ft.y=Rr,ft.O=Hs,ft.f=Rn,ft.N=Ir,ft.ea=_n,ft.W=Gs),Xn||(hn-=gr),hn>ft.o&&(hn=ft.o),ft.F=null,ft.J=null,vt.Fa!=null&&0<vt.Fa.length&&Gr<hn&&(ft.J=Us(vt,ft,Gr,hn-Gr),ft.F=vt.mb,ft.F==null&&ft.F.length==0)){is=rs(vt,3,"Could not decode alpha data.");break t}Gr<ft.j&&(gr=ft.j-Gr,Gr=ft.j,t(!(1&gr)),ft.O+=vt.R*gr,ft.N+=vt.B*(gr>>1),ft.W+=vt.B*(gr>>1),ft.F!=null&&(ft.J+=ft.width*gr)),Gr<hn&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=Gr-ft.j,ft.U=ft.va-ft.v,ft.T=hn-Gr,is=ft.put(ft))}rr+1!=vt.Ic||Xn||(s(vt.sa,vt.ta-er,Rr,Hs+16*vt.R,er),s(vt.qa,vt.ra-wn,Rn,Ir+8*vt.B,wn),s(vt.Ha,vt.Ia-wn,_n,Gs+8*vt.B,wn))}if(!is)return rs(kr,6,"Output aborted.")}return 1}(ve,Me)),Me.bc!=null&&Me.bc(Me),Be&=1}return Be?(ve.cb=0,Be):0})(N,H)||(T=N.a)}}else T=N.a}T==0&&ce.Oa!=null&&ce.Oa.fd&&(T=La(ce.ba))}ce=T}oe=ce!=0?null:11>oe?ue.f.RGBA.eb:ue.f.kb.y}else oe=null;return oe};var _v=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,R){for(var E="",I=0;I<4;I++)E+=String.fromCharCode(C[R++]);return E}function u(C,R){return C[R+0]|C[R+1]<<8}function h(C,R){return(C[R+0]|C[R+1]<<8|C[R+2]<<16)>>>0}function p(C,R){return(C[R+0]|C[R+1]<<8|C[R+2]<<16|C[R+3]<<24)>>>0}new c;var f=[0],x=[0],g=[],v=new c,b=e,_=function(C,R){var E={},I=0,B=!1,z=0,V=0;if(E.frames=[],!function(M,G){for(var X=0;X<4;X++)if(M[G+X]!="RIFF".charCodeAt(X))return!0;return!1}(C,R)){for(p(C,R+=4),R+=8;R<C.length;){var U=d(C,R),K=p(C,R+=4);R+=4;var $=K+(1&K);switch(U){case"VP8 ":case"VP8L":E.frames[I]===void 0&&(E.frames[I]={}),(J=E.frames[I]).src_off=B?V:R-8,J.src_size=z+K+8,I++,B&&(B=!1,z=0,V=0);break;case"VP8X":(J=E.header={}).feature_flags=C[R];var W=R+4;J.canvas_width=1+h(C,W),W+=3,J.canvas_height=1+h(C,W),W+=3;break;case"ALPH":B=!0,z=$+8,V=R-8;break;case"ANIM":(J=E.header).bgcolor=p(C,R),W=R+4,J.loop_count=u(C,W),W+=2;break;case"ANMF":var te,J;(J=E.frames[I]={}).offset_x=2*h(C,R),R+=3,J.offset_y=2*h(C,R),R+=3,J.width=1+h(C,R),R+=3,J.height=1+h(C,R),R+=3,J.duration=h(C,R),R+=3,te=C[R++],J.dispose=1&te,J.blend=te>>1&1}U!="ANMF"&&(R+=$)}return E}}(b,0);_.response=b,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,S=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],x=[w.canvas_width];for(var A=0;A<S.length&&S[A].blend!=0;A++);}var L=S[0],P=v.WebPDecodeRGBA(b,L.src_off,L.src_size,x,f);L.rgba=P,L.imgwidth=x[0],L.imgheight=f[0];for(var k=0;k<x[0]*f[0]*4;k++)g[k]=P[k];return this.width=x,this.height=f,this.data=g,this}(function(e){var t,n,s,a,i,o,l,c,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ne){X=!!Ne}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Ne){ie=!!Ne}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ne){isNaN(Ne)||(re=Ne)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ne){isNaN(Ne)||(fe=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ne){var Y;typeof Ne=="number"?Y=[Ne,Ne,Ne,Ne]:((Y=new Array(4))[0]=Ne[0],Y[1]=Ne.length>=2?Ne[1]:Y[0],Y[2]=Ne.length>=3?Ne[2]:Y[0],Y[3]=Ne.length>=4?Ne[3]:Y[1]),d.margin=Y}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ne){we=Ne}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(Ne){Z=Ne}});var Q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Q},set:function(Ne){Q=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ne){Ne instanceof u&&(d=Ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ne){d.path=Ne}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Ne){pe=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var Y;Y=p(Ne),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var Y=p(Ne);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var ge=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(Ne){ge=null,Ae=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var Y;if(this.ctx.font=Ne,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var ke=Y[1];Y[2];var We=Y[3],Ie=Y[4];Y[5];var ze=Y[6],le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(le==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:le==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var se=function(it){var lt,jt,Lt=[],Nt=it.trim();if(Nt==="")return $5;if(Nt in yI)return[yI[Nt]];for(;Nt!=="";){switch(jt=null,lt=(Nt=bI(Nt)).charAt(0)){case'"':case"'":jt=nIe(Nt.substring(1),lt);break;default:jt=sIe(Nt)}if(jt===null||(Lt.push(jt[0]),(Nt=bI(jt[1]))!==""&&Nt.charAt(0)!==","))return $5;Nt=Nt.replace(/^,/,"")}return Lt}(ze);if(this.fontFaces){var Se=function(it,lt){if(ge===null){var jt=function(Lt){var Nt=[];return Object.keys(Lt).forEach(function(qt){Lt[qt].forEach(function(Ur){var It=null;switch(Ur){case"bold":It={family:qt,weight:"bold"};break;case"italic":It={family:qt,style:"italic"};break;case"bolditalic":It={family:qt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:qt}}It!==null&&(It.ref={name:qt,style:Ur},Nt.push(It))})}),Nt}(it.getFontList());ge=function(Lt){for(var Nt={},qt=0;qt<Lt.length;++qt){var Ur=F5(Lt[qt]),It=Ur.family,Sr=Ur.stretch,sr=Ur.style,ts=Ur.weight;Nt[It]=Nt[It]||{},Nt[It][Sr]=Nt[It][Sr]||{},Nt[It][Sr][sr]=Nt[It][Sr][sr]||{},Nt[It][Sr][sr][ts]=Ur}return Nt}(jt.concat(lt))}return ge}(this.pdf,this.fontFaces),Pe=se.map(function(it){return{family:it,stretch:"normal",weight:We,style:ke}}),$e=function(it,lt,jt){for(var Lt=(jt=jt||{}).defaultFontFamily||"times",Nt=Object.assign({},rIe,jt.genericFontFamilies||{}),qt=null,Ur=null,It=0;It<lt.length;++It)if(Nt[(qt=F5(lt[It])).family]&&(qt.family=Nt[qt.family]),it.hasOwnProperty(qt.family)){Ur=it[qt.family];break}if(!(Ur=Ur||it[Lt]))throw new Error("Could not find a font-family for the rule '"+vI(qt)+"' and default family '"+Lt+"'.");if(Ur=function(Sr,sr){if(sr[Sr])return sr[Sr];var ts=B4[Sr],us=ts<=B4.normal?-1:1,nn=xI(sr,BU,ts,us);if(!nn)throw new Error("Could not find a matching font-stretch value for "+Sr);return nn}(qt.stretch,Ur),Ur=function(Sr,sr){if(sr[Sr])return sr[Sr];for(var ts=$U[Sr],us=0;us<ts.length;++us)if(sr[ts[us]])return sr[ts[us]];throw new Error("Could not find a matching font-style for "+Sr)}(qt.style,Ur),!(Ur=function(Sr,sr){if(sr[Sr])return sr[Sr];if(Sr===400&&sr[500])return sr[500];if(Sr===500&&sr[400])return sr[400];var ts=tIe[Sr],us=xI(sr,zU,ts,Sr<400?-1:1);if(!us)throw new Error("Could not find a matching font-weight for value "+Sr);return us}(qt.weight,Ur)))throw new Error("Failed to resolve a font for the rule '"+vI(qt)+"'.");return Ur}(Se,Pe);this.pdf.setFont($e.ref.name,$e.ref.style)}else{var He="";(We==="bold"||parseInt(We,10)>=700||ke==="bold")&&(He="bold"),ke==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var je="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<se.length;Ze++){if(this.pdf.internal.getFont(se[Ze],He,{noFallback:!0,disableWarning:!0})!==void 0){je=se[Ze];break}if(He==="bolditalic"&&this.pdf.internal.getFont(se[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)je=se[Ze],He="bold";else if(this.pdf.internal.getFont(se[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){je=se[Ze],He="normal";break}}if(je===""){for(var tt=0;tt<se.length;tt++)if(Fe[se[tt]]){je=Fe[se[tt]];break}}je=je===""?"Times":je,this.pdf.setFont(je,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw An.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(M,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(M,G)},h.prototype.closePath=function(){var M=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&pn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},h.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw An.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(M,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,G,X,ie){if(isNaN(X)||isNaN(ie)||isNaN(M)||isNaN(G))throw An.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(X,ie)),fe=this.ctx.transform.applyToPoint(new o(M,G));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},h.prototype.bezierCurveTo=function(M,G,X,ie,re,fe){if(isNaN(re)||isNaN(fe)||isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie))throw An.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(re,fe)),Z=this.ctx.transform.applyToPoint(new o(M,G)),Q=this.ctx.transform.applyToPoint(new o(X,ie));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:Q.x,y2:Q.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},h.prototype.arc=function(M,G,X,ie,re,fe){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie)||isNaN(re))throw An.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(M,G));M=we.x,G=we.y;var Z=this.ctx.transform.applyToPoint(new o(0,X)),Q=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(Z.x-Q.x,2)+Math.pow(Z.y-Q.y,2))}Math.abs(re-ie)>=2*Math.PI&&(ie=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:X,startAngle:ie,endAngle:re,counterclockwise:fe})},h.prototype.arcTo=function(M,G,X,ie,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,G,X,ie){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie))throw An.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+X,G),this.lineTo(M+X,G+ie),this.lineTo(M,G+ie),this.lineTo(M,G),this.lineTo(M+X,G),this.lineTo(M,G)},h.prototype.fillRect=function(M,G,X,ie){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie))throw An.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,X,ie),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function(M,G,X,ie){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie))throw An.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(M,G,X,ie),this.stroke())},h.prototype.clearRect=function(M,G,X,ie){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie))throw An.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,X,ie))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var G,X,ie,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,X=0,ie=0,re=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(fe!==null)G=parseInt(fe[1]),X=parseInt(fe[2]),ie=parseInt(fe[3]),re=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(fe[1]),X=parseInt(fe[2]),ie=parseInt(fe[3]),re=parseFloat(fe[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var we=new OU(M);M=we.ok?we.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,X=M.substring(2,3),X+=X,ie=M.substring(3,4),ie+=ie):(G=M.substring(1,3),X=M.substring(3,5),ie=M.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),ie=parseInt(ie,16)}}return{r:G,g:X,b:ie,a:re,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,G,X,ie){if(isNaN(G)||isNaN(X)||typeof M!="string")throw An.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!f.call(this)){var re=$(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;I.call(this,{text:M,x:G,y:X,scale:fe,angle:re,align:this.textAlign,maxWidth:ie})}},h.prototype.strokeText=function(M,G,X,ie){if(isNaN(G)||isNaN(X)||typeof M!="string")throw An.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ie=isNaN(ie)?void 0:ie;var re=$(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;I.call(this,{text:M,x:G,y:X,scale:fe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ie})}},h.prototype.measureText=function(M){if(typeof M!="string")throw An.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,ie=G.internal.getFontSize(),re=G.getStringUnitWidth(M)*ie/G.internal.scaleFactor;return new function(fe){var we=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:re*=Math.round(96*X/72*1e4)/1e4})},h.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw An.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.rotate=function(M){if(isNaN(M))throw An.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw An.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.transform=function(M,G,X,ie,re,fe){if(isNaN(M)||isNaN(G)||isNaN(X)||isNaN(ie)||isNaN(re)||isNaN(fe))throw An.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(M,G,X,ie,re,fe);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(M,G,X,ie,re,fe){M=isNaN(M)?1:M,G=isNaN(G)?0:G,X=isNaN(X)?0:X,ie=isNaN(ie)?1:ie,re=isNaN(re)?0:re,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(M,G,X,ie,re,fe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,G,X,ie,re,fe,we,Z,Q){var pe=this.pdf.getImageProperties(M),ge=1,Ae=1,Ne=1,Y=1;ie!==void 0&&Z!==void 0&&(Ne=Z/ie,Y=Q/re,ge=pe.width/ie*Z/ie,Ae=pe.height/re*Q/re),fe===void 0&&(fe=G,we=X,G=0,X=0),ie!==void 0&&Z===void 0&&(Z=ie,Q=re),ie===void 0&&Z===void 0&&(Z=pe.width,Q=pe.height);for(var ke,We=this.ctx.transform.decompose(),Ie=$(We.rotate.shx),ze=new c,le=(ze=(ze=(ze=ze.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new l(fe-G*Ne,we-X*Y,ie*ge,re*Ae)),se=v.call(this,le),Se=[],Pe=0;Pe<se.length;Pe+=1)Se.indexOf(se[Pe])===-1&&Se.push(se[Pe]);if(w(Se),this.autoPaging)for(var $e=Se[0],He=Se[Se.length-1],je=$e;je<He+1;je++){this.pdf.setPage(je);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=je===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=je===1?0:tt+(je-2)*it;if(this.ctx.clip_path.length!==0){var jt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ke,this.posX+this.margin[3],-lt+Ze+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=jt}var Lt=JSON.parse(JSON.stringify(le));Lt=_([Lt],this.posX+this.margin[3],-lt+Ze+this.ctx.prevPageLastElemOffset)[0];var Nt=(je>$e||je<He)&&g.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,it,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Ie),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",le.x,le.y,le.w,le.h,null,null,Ie)};var v=function(M,G,X){var ie=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ie.push(Math.floor((M.y+re)/X)+1);break;case"arc":ie.push(Math.floor((M.y+re-M.radius)/X)+1),ie.push(Math.floor((M.y+re+M.radius)/X)+1);break;case"qct":var fe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ie.push(Math.floor((fe.y+re)/X)+1),ie.push(Math.floor((fe.y+fe.h+re)/X)+1);break;case"bct":var we=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ie.push(Math.floor((we.y+re)/X)+1),ie.push(Math.floor((we.y+we.h+re)/X)+1);break;case"rect":ie.push(Math.floor((M.y+re)/X)+1),ie.push(Math.floor((M.y+M.h+re)/X)+1)}for(var Z=0;Z<ie.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Z];)b.call(this);return ie},b=function(){var M=this.fillStyle,G=this.strokeStyle,X=this.font,ie=this.lineCap,re=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=X,this.lineCap=ie,this.lineWidth=re,this.lineJoin=fe},_=function(M,G,X){for(var ie=0;ie<M.length;ie++)switch(M[ie].type){case"bct":M[ie].x2+=G,M[ie].y2+=X;case"qct":M[ie].x1+=G,M[ie].y1+=X;default:M[ie].x+=G,M[ie].y+=X}return M},w=function(M){return M.sort(function(G,X){return G-X})},S=function(M,G){for(var X,ie,re=this.fillStyle,fe=this.strokeStyle,we=this.lineCap,Z=this.lineWidth,Q=Math.abs(Z*this.ctx.transform.scaleX),pe=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),Ne=[],Y=0;Y<Ae.length;Y++)if(Ae[Y].x!==void 0)for(var ke=v.call(this,Ae[Y]),We=0;We<ke.length;We+=1)Ne.indexOf(ke[We])===-1&&Ne.push(ke[We]);for(var Ie=0;Ie<Ne.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<Ne[Ie];)b.call(this);if(w(Ne),this.autoPaging)for(var ze=Ne[0],le=Ne[Ne.length-1],se=ze;se<le+1;se++){this.pdf.setPage(se),this.fillStyle=re,this.strokeStyle=fe,this.lineCap=we,this.lineWidth=Q,this.lineJoin=pe;var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=se===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=se===1?0:$e+(se-2)*He;if(this.ctx.clip_path.length!==0){var Fe=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(X,this.posX+this.margin[3],-je+Pe+this.ctx.prevPageLastElemOffset),A.call(this,M,!0),this.path=Fe}if(ie=JSON.parse(JSON.stringify(ge)),this.path=_(ie,this.posX+this.margin[3],-je+Pe+this.ctx.prevPageLastElemOffset),G===!1||se===0){var Ze=(se>ze||se<le)&&g.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,He,null).clip().discardPath()),A.call(this,M,G),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=Q,A.call(this,M,G),this.lineWidth=Z;this.path=ge},A=function(M,G){if((M!=="stroke"||G||!x.call(this))&&(M==="stroke"||G||!f.call(this))){for(var X,ie,re=[],fe=this.path,we=0;we<fe.length;we++){var Z=fe[we];switch(Z.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:Z,deltas:[],abs:[]});break;case"lt":var Q=re.length;if(fe[we-1]&&!isNaN(fe[we-1].x)&&(X=[Z.x-fe[we-1].x,Z.y-fe[we-1].y],Q>0)){for(;Q>=0;Q--)if(re[Q-1].close!==!0&&re[Q-1].begin!==!0){re[Q-1].deltas.push(X),re[Q-1].abs.push(Z);break}}break;case"bct":X=[Z.x1-fe[we-1].x,Z.y1-fe[we-1].y,Z.x2-fe[we-1].x,Z.y2-fe[we-1].y,Z.x-fe[we-1].x,Z.y-fe[we-1].y],re[re.length-1].deltas.push(X);break;case"qct":var pe=fe[we-1].x+2/3*(Z.x1-fe[we-1].x),ge=fe[we-1].y+2/3*(Z.y1-fe[we-1].y),Ae=Z.x+2/3*(Z.x1-Z.x),Ne=Z.y+2/3*(Z.y1-Z.y),Y=Z.x,ke=Z.y;X=[pe-fe[we-1].x,ge-fe[we-1].y,Ae-fe[we-1].x,Ne-fe[we-1].y,Y-fe[we-1].x,ke-fe[we-1].y],re[re.length-1].deltas.push(X);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(Z)}}ie=G?null:M==="stroke"?"stroke":"fill";for(var We=!1,Ie=0;Ie<re.length;Ie++)if(re[Ie].arc)for(var ze=re[Ie].abs,le=0;le<ze.length;le++){var se=ze[le];se.type==="arc"?k.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,G,!We):B.call(this,se.x,se.y),We=!0}else if(re[Ie].close===!0)this.pdf.internal.out("h"),We=!1;else if(re[Ie].begin!==!0){var Se=re[Ie].start.x,Pe=re[Ie].start.y;z.call(this,re[Ie].deltas,Se,Pe),We=!0}ie&&C.call(this,ie),G&&R.call(this)}},L=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+G-X;case"hanging":return M+G-2*X;case"middle":return M+G/2-X;default:return M}},P=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,X){this.colorStops.push([G,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(M,G,X,ie,re,fe,we,Z,Q){for(var pe=U.call(this,X,ie,re,fe),ge=0;ge<pe.length;ge++){var Ae=pe[ge];ge===0&&(Q?E.call(this,Ae.x1+M,Ae.y1+G):B.call(this,Ae.x1+M,Ae.y1+G)),V.call(this,M,G,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}Z?R.call(this):C.call(this,we)},C=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(M,G){this.pdf.internal.out(n(M)+" "+s(G)+" m")},I=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X=this.pdf.getTextDimensions(M.text),ie=L.call(this,M.y),re=P.call(this,ie)-X.h,fe=this.ctx.transform.applyToPoint(new o(M.x,ie)),we=this.ctx.transform.decompose(),Z=new c;Z=(Z=(Z=Z.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Q,pe,ge,Ae=this.ctx.transform.applyToRectangle(new l(M.x,ie,X.w,X.h)),Ne=Z.applyToRectangle(new l(M.x,re,X.w,X.h)),Y=v.call(this,Ne),ke=[],We=0;We<Y.length;We+=1)ke.indexOf(Y[We])===-1&&ke.push(Y[We]);if(w(ke),this.autoPaging)for(var Ie=ke[0],ze=ke[ke.length-1],le=Ie;le<ze+1;le++){this.pdf.setPage(le);var se=le===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],$e=Pe-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],je=He-this.margin[3],Fe=le===1?0:Se+(le-2)*$e;if(this.ctx.clip_path.length!==0){var Ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Q,this.posX+this.margin[3],-1*Fe+se),A.call(this,"fill",!0),this.path=Ze}var tt=_([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Fe+se+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*M.scale),ge=this.lineWidth,this.lineWidth=ge*M.scale);var it=this.autoPaging!=="text";if(it||tt.y+tt.h<=Pe){if(it||tt.y>=se&&tt.x<=He){var lt=it?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||He-tt.x)[0],jt=_([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Fe+se+this.ctx.prevPageLastElemOffset)[0],Lt=it&&(le>Ie||le<ze)&&g.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,$e,null).clip().discardPath()),this.pdf.text(lt,jt.x,jt.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else tt.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-tt.y);M.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=ge)}else M.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*M.scale),ge=this.lineWidth,this.lineWidth=ge*M.scale),this.pdf.text(M.text,fe.x+this.posX,fe.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=ge)},B=function(M,G,X,ie){X=X||0,ie=ie||0,this.pdf.internal.out(n(M+X)+" "+s(G+ie)+" l")},z=function(M,G,X){return this.pdf.lines(M,G,X,null,null)},V=function(M,G,X,ie,re,fe,we,Z){this.pdf.internal.out([t(a(X+M)),t(i(ie+G)),t(a(re+M)),t(i(fe+G)),t(a(we+M)),t(i(Z+G)),"c"].join(" "))},U=function(M,G,X,ie){for(var re=2*Math.PI,fe=Math.PI/2;G>X;)G-=re;var we=Math.abs(X-G);we<re&&ie&&(we=re-we);for(var Z=[],Q=ie?-1:1,pe=G;we>1e-5;){var ge=pe+Q*Math.min(we,fe);Z.push(K.call(this,M,pe,ge)),we-=Math.abs(ge-pe),pe=ge}return Z},K=function(M,G,X){var ie=(X-G)/2,re=M*Math.cos(ie),fe=M*Math.sin(ie),we=re,Z=-fe,Q=we*we+Z*Z,pe=Q+we*re+Z*fe,ge=4/3*(Math.sqrt(2*Q*pe)-pe)/(we*fe-Z*re),Ae=we-ge*Z,Ne=Z+ge*we,Y=Ae,ke=-Ne,We=ie+G,Ie=Math.cos(We),ze=Math.sin(We);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:Ae*Ie-Ne*ze,y2:Ae*ze+Ne*Ie,x3:Y*Ie-ke*ze,y3:Y*ze+ke*Ie,x4:M*Math.cos(X),y4:M*Math.sin(X)}},$=function(M){return 180*M/Math.PI},W=function(M,G,X,ie,re,fe){var we=M+.5*(X-M),Z=G+.5*(ie-G),Q=re+.5*(X-re),pe=fe+.5*(ie-fe),ge=Math.min(M,re,we,Q),Ae=Math.max(M,re,we,Q),Ne=Math.min(G,fe,Z,pe),Y=Math.max(G,fe,Z,pe);return new l(ge,Ne,Ae-ge,Y-Ne)},te=function(M,G,X,ie,re,fe,we,Z){var Q,pe,ge,Ae,Ne,Y,ke,We,Ie,ze,le,se,Se,Pe,$e=X-M,He=ie-G,je=re-X,Fe=fe-ie,Ze=we-re,tt=Z-fe;for(pe=0;pe<41;pe++)Ie=(ke=(ge=M+(Q=pe/40)*$e)+Q*((Ne=X+Q*je)-ge))+Q*(Ne+Q*(re+Q*Ze-Ne)-ke),ze=(We=(Ae=G+Q*He)+Q*((Y=ie+Q*Fe)-Ae))+Q*(Y+Q*(fe+Q*tt-Y)-We),pe==0?(le=Ie,se=ze,Se=Ie,Pe=ze):(le=Math.min(le,Ie),se=Math.min(se,ze),Se=Math.max(Se,Ie),Pe=Math.max(Pe,ze));return new l(Math.round(le),Math.round(se),Math.round(Se-le),Math.round(Pe-se))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,X=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Mt.API),function(e){var t=function(o){var l,c,d,u,h,p,f,x,g,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(p=(h=((h=((h=((h=(h-(v=h%85))/85)-(g=h%85))/85)-(x=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,x+33,g+33,v+33)):c.push(122);return function(b,_){for(var w=_;w>0;w--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,d,u,h,p=String,f="length",x=255,g="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[v](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(_,w){for(var S=w;S>0;S--)_.pop()}(d,l[f]),p.fromCharCode.apply(p,d)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=A4(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Mt.API),function(e){e.loadFile=function(t,n,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,p=0,f=function(x){var g=x.length,v=[],b=String.fromCharCode;for(p=0;p<g;p+=1)v.push(b(255&x.charCodeAt(p)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)}(a,i,o)}catch{}return l}(t,n,s)},e.loadImageFile=e.loadFile}(Mt.API),function(e){function t(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):m5(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):m5(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=pn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var x=u[f],g=x.src.find(function(v){return v.format==="truetype"});g&&d.addFont(g.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,u),p}).then(u,h).then(function(p){return d.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=d.call(h,l,c);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Mt.getPageSize=function(l,c,d){if(pn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,g=0,v=0;if(f.hasOwnProperty(p))g=f[p][1]/h,v=f[p][0]/h;else try{g=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>g&&(x=v,v=g,g=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(x=v,v=g,g=x)}return{width:v,height:g,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(F5):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Mt.API),Mt.API.addJS=function(e){return jI=e,this.internal.events.subscribe("postPutResources",function(){Rb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),wI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rb!==void 0&&wI!==void 0&&this.internal.out("/Names <</JavaScript "+Rb+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=n.internal.newObject();u.push(h);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<u.length;i++)n.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(Mt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,g={width:0,height:0,numcomponents:1},v=4;v<x;v+=2){if(v+=f,t.indexOf(h.charCodeAt(v+1))!==-1){p=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:p,numcomponents:h.charCodeAt(v+9)};break}f=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}}(Mt.API),Mt.API.processPNG=function(e,t,n,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=zLe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?function(P){for(var k=P.width,C=P.height,R=P.data,E=P.palette,I=P.depth,B=!1,z=[],V=[],U=void 0,K=!1,$=0,W=0;W<E.length;W++){var te=gL(E[W],4),J=te[0],M=te[1],G=te[2],X=te[3];z.push(J,M,G),X!=null&&(X===0?($++,V.length<1&&V.push(W)):X<255&&(K=!0))}if(K||$>1){B=!0,V=void 0;var ie=k*C;U=new Uint8Array(ie);for(var re=new DataView(R.buffer),fe=0;fe<ie;fe++){var we=B5(re,fe,I),Z=gL(E[we],4)[3];U[fe]=Z}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:R,alphaBytes:U,needSMask:B,palette:z,mask:V}}(i):c===2||c===4?function(P){for(var k=P.data,C=P.width,R=P.height,E=P.channels,I=P.depth,B=E===2?"DeviceGray":"DeviceRGB",z=E-1,V=C*R,U=z,K=V*U,$=1*V,W=Math.ceil(K*I/8),te=Math.ceil($*I/8),J=new Uint8Array(W),M=new Uint8Array(te),G=new DataView(k.buffer),X=new DataView(J.buffer),ie=new DataView(M.buffer),re=!1,fe=0;fe<V;fe++){for(var we=fe*E,Z=0;Z<U;Z++)TI(X,B5(G,we+Z,I),fe*U+Z,I);var Q=B5(G,we+U,I);Q<(1<<I)-1&&(re=!0),TI(ie,Q,1*fe,I)}return{colorSpace:B,colorsPerPixel:z,colorBytes:J,alphaBytes:M,needSMask:re}}(i):function(P){var k=P.data,C=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:C,colorsPerPixel:C==="DeviceGray"?1:3,colorBytes:k instanceof Uint8Array?k:new Uint8Array(k.buffer),needSMask:!1}}(i);var h,p,f,x=a,g=x.colorSpace,v=x.colorsPerPixel,b=x.colorBytes,_=x.alphaBytes,w=x.needSMask,S=x.palette,A=x.mask,L=null;return s!==Mt.API.image_compression.NONE&&typeof A4=="function"?(L=function(P){var k;switch(P){case Mt.API.image_compression.FAST:k=11;break;case Mt.API.image_compression.MEDIUM:k=13;break;case Mt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(s),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," "),e=kI(b,o*v,v,s),w&&(f=kI(_,o,1,s))):(h=void 0,p="",e=b,w&&(f=_)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:h,decodeParameters:p,transparency:A,palette:S,sMask:f,predictor:L,width:o,height:l,bitsPerComponent:u,colorSpace:g}}},function(e){e.processGIF89A=function(t,n,s,a){var i=new lIe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new z5(100).encode(d,100);return e.processJPEG.call(this,u,n,s,a)},e.processGIF87A=e.processGIF89A}(Mt.API),bl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){An.log("bit decode error:"+n)}},bl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},bl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},bl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},bl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},bl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},bl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},bl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},bl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,s,a){var i=new bl(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new z5(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(Mt.API),LI.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,s,a){var i=new LI(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new z5(100).encode(c,100);return e.processJPEG.call(this,d,n,s,a)}}(Mt.API),Mt.API.processRGBA=function(e,t,n){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],h=s[d+1],p=s[d+2],f=s[d+3];i[l++]=u,i[l++]=h,i[l++]=p,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Mt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dp=Mt.API,Fb=dp.getCharWidthsArray=function(e,t){var n,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,p=0,f=e.length,x=0,g=l[0]||c,v=[];for(n=0;n<f;n++)s=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(p=h&&pn(d[s])==="object"&&!isNaN(parseInt(d[s][x],10))?d[s][x]/u:0,v.push((l[s]||g)/c+p)),x=s;return v},NI=dp.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return dp.processArabic&&(e=dp.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,n,a)/n:Fb.apply(this,arguments).reduce(function(i,o){return i+o},0)},SI=function(e,t,n,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<n;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},_I=function(e,t,n){n||(n={});var s,a,i,o,l,c,d,u=[],h=[u],p=n.textIndent||0,f=0,x=0,g=e.split(" "),v=Fb.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var b=Array(c).join(" "),_=[];g.map(function(S){(S=S.split(/\s*\n/)).length>1?_=_.concat(S.map(function(A,L){return(L&&A.length?`
`:"")+A})):_.push(S[0])}),g=_,c=NI.apply(this,[b,n])}for(i=0,o=g.length;i<o;i++){var w=0;if(s=g[i],c&&s[0]==`
`&&(s=s.substr(1),w=1),p+f+(x=(a=Fb.apply(this,[s,n])).reduce(function(S,A){return S+A},0))>t||w){if(x>t){for(l=SI.apply(this,[s,a,t-(p+f),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);x=a.slice(s.length-(u[0]?u[0].length:0)).reduce(function(S,A){return S+A},0)}else u=[s];h.push(u),p=x+c,f=v}else u.push(s),p+=f+x,f=v}return d=c?function(S,A){return(A?b:"")+S.join(" ")}:function(S){return S.join(" ")},h.map(d)},dp.splitTextToSize=function(e,t,n){var s,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(_I.apply(this,[s[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[n[i]]=t[i],a[t[i]]=n[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var f,x,g,v,b=["{"];for(var _ in p){if(f=p[_],isNaN(parseInt(_,10))?x="'"+_+"'":(_=parseInt(_,10),x=(x=o(_).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),v="-"):(g=o(f).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(pn(f)!=="object")throw new Error("Don't know what to do with value type "+pn(f)+".");g=l(f)}b.push(x+g)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,g,v,b={},_=1,w=b,S=[],A="",L="",P=p.length-1,k=1;k<P;k+=1)(v=p[k])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(S.push([w,g]),w={},g=void 0):v=="}"?((x=S.pop())[0][x[1]]=w,g=void 0,w=x[0]):v=="-"?_=-1:g===void 0?s.hasOwnProperty(v)?(A+=s[v],g=parseInt(A,16)*_,_=1,A=""):A+=v:s.hasOwnProperty(v)?(L+=s[v],w[g]=parseInt(L,16)*_,_=1,g=void 0,L=""):L+=v;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Mt.API),function(e){var t=function(n){for(var s=n.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var s=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Qb(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(Mt),Mt.API.addSvgAsImage=function(e,t,n,s,a,i,o,l){if(isNaN(t)||isNaN(n))throw An.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw An.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(nr.canvg?Promise.resolve(nr.canvg):m5(()=>import("./index.es-CLgqEfdi.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,n,s,a,o,l)})},Mt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,n);return this},Mt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function p(x,g){var v,b=!1;for(v=0;v<x.length;v+=1)x[v]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(pn(e)==="object"){for(a in e)if(i=e[a],p(l,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&p(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?g.push("/"+x+" /"+n[x].value):g.push("/"+x+" "+n[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Mt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(i).sort(function(f,x){return f-x})).length;h<p;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<p.length;x++)f+=String.fromCharCode(p[x]);var g=d();u({data:f,addLength1:!0,objectId:g}),c("endobj");var v=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+fp(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var _=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+fp(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+fp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var x=d();u({data:p,addLength1:!0,objectId:x}),c("endobj");var g=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+fp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+fp(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,x=h.fonts,g=f,v="",b=0,_="",w=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(_=l,g=f,Array.isArray(l)&&(_=l[0]),b=0;b<_.length;b+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),o||_[b].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?v+=_[b]:v+="";var S="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?S=p(v,g).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(S=n(v,x[g])),h.isHex=!0,{text:S,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Mt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,s){return t.call(this),this.internal.vFS[n]=s,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Mt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var S=function(E){var I=E.charCodeAt(),B=I>>8,z=g[B];return z!==void 0?h[256*z+(255&I)]:B===252||B===253?"AL":b.test(B)?"L":B===8?"R":"N"},A=function(E){for(var I,B=0;B<E.length;B++){if((I=S(E.charAt(B)))==="L")return!1;if(I==="R")return!0}return!1},L=function(E,I,B,z){var V,U,K,$,W=I[z];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(W="AN");break;case"AL":_=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":z<1||z+1>=I.length||(V=B[z-1])!=="EN"&&V!=="AN"||(U=I[z+1])!=="EN"&&U!=="AN"?W="N":_&&(U="AN"),W=U===V?U:"N";break;case"ES":W=(V=z>0?B[z-1]:"B")==="EN"&&z+1<I.length&&I[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&B[z-1]==="EN"){W="EN";break}if(_){W="N";break}for(K=z+1,$=I.length;K<$&&I[K]==="ET";)K++;W=K<$&&I[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for($=I.length,K=z+1;K<$&&I[K]==="NSM";)K++;if(K<$){var te=E[z],J=te>=1425&&te<=2303||te===64286;if(V=I[K],J&&(V==="R"||V==="AL")){W="R";break}}}W=z<1||(V=I[z-1])==="B"?"N":B[z-1];break;case"B":_=!1,a=!0,W=w;break;case"S":i=!0,W="N"}return W},P=function(E,I,B){var z=E.split("");return B&&k(z,B,{hiLevel:w}),z.reverse(),I&&I.reverse(),z.join("")},k=function(E,I,B){var z,V,U,K,$,W=-1,te=E.length,J=0,M=[],G=w?f:p,X=[];for(_=!1,a=!1,i=!1,V=0;V<te;V++)X[V]=S(E[V]);for(U=0;U<te;U++){if($=J,M[U]=L(E,X,M,U),z=240&(J=G[$][x[M[U]]]),J&=15,I[U]=K=G[J][5],z>0)if(z===16){for(V=W;V<U;V++)I[V]=1;W=-1}else W=-1;if(G[J][6])W===-1&&(W=U);else if(W>-1){for(V=W;V<U;V++)I[V]=K;W=-1}X[U]==="B"&&(I[U]=0),B.hiLevel|=K}i&&function(ie,re,fe){for(var we=0;we<fe;we++)if(ie[we]==="S"){re[we]=w;for(var Z=we-1;Z>=0&&ie[Z]==="WS";Z--)re[Z]=w}}(X,I,te)},C=function(E,I,B,z,V){if(!(V.hiLevel<E)){if(E===1&&w===1&&!a)return I.reverse(),void(B&&B.reverse());for(var U,K,$,W,te=I.length,J=0;J<te;){if(z[J]>=E){for($=J+1;$<te&&z[$]>=E;)$++;for(W=J,K=$-1;W<K;W++,K--)U=I[W],I[W]=I[K],I[K]=U,B&&(U=B[W],B[W]=B[K],B[K]=U);J=$}J++}}},R=function(E,I,B){var z=E.split(""),V={hiLevel:w};return B||(B=[]),k(z,B,V),function(U,K,$){if($.hiLevel!==0&&u)for(var W,te=0;te<U.length;te++)K[te]===1&&(W=v.indexOf(U[te]))>=0&&(U[te]=v[W+1])}(z,B,V),C(2,z,I,B,V),C(1,z,I,B,V),z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,I,B){if(function(V,U){if(U)for(var K=0;K<V.length;K++)U[K]=K;l===void 0&&(l=A(V)),d===void 0&&(d=A(V))}(E,I),o||!c||d)if(o&&c&&l^d)w=l?1:0,E=P(E,I,B);else if(!o&&c&&d)w=l?1:0,E=R(E,I,B),E=P(E,I);else if(!o||l||c||d){if(o&&!c&&l^d)E=P(E,I),l?(w=0,E=R(E,I,B)):(w=1,E=R(E,I,B),E=P(E,I));else if(o&&l&&!c&&d)w=1,E=R(E,I,B),E=P(E,I);else if(!o&&!c&&l^d){var z=u;l?(w=1,E=R(E,I,B),w=0,u=!1,E=R(E,I,B),u=z):(w=0,E=R(E,I,B),E=P(E,I),w=1,u=!1,E=R(E,I,B),u=z,E=P(E,I))}}else w=0,E=R(E,I,B);else w=l?1:0,E=R(E,I,B);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,d=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([n.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([n.doBidiReorder(a[l])]);s.text=o}else s.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new vh(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new NIe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new cIe(this.contents),this.head=new uIe(this),this.name=new gIe(this),this.cmap=new qU(this),this.toUnicode={},this.hhea=new hIe(this),this.maxp=new xIe(this),this.hmtx=new yIe(this),this.post=new mIe(this),this.os2=new fIe(this),this.loca=new jIe(this),this.glyf=new vIe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var Ul,vh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,s;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var n,s,a;for(a=[],n=0,s=t.length;0<=s?n<s:n>s;n=0<=s?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,s,a,i,o,l,c;return t=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,s;return n=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,s;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push(this.readByte());return n},e.prototype.write=function(t){var n,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)n=t[s],i.push(this.writeByte(n));return i},e}(),cIe=function(){var e;function t(n){var s,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(n){var s,a,i,o,l,c,d,u,h,p,f,x,g;for(g in f=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(a=new vh).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,x=[],n)for(p=n[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(d),a.writeInt(p.length),x=x.concat(p),g==="head"&&(l=d),d+=p.length;d%4;)x.push(0),d++;return a.write(x),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(n){var s,a,i,o;for(n=WU.call(n);n.length%4;)n.push(0);for(i=new vh(n),a=0,s=0,o=n.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),dIe={}.hasOwnProperty,Ic=function(e,t){for(var n in t)dIe.call(t,n)&&(e[n]=t[n]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Ul=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var uIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new vh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),II=function(){function e(t,n){var s,a,i,o,l,c,d,u,h,p,f,x,g,v,b,_,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var S,A;for(A=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)A.push(t.readUInt16());return A}(),t.pos+=2,g=function(){var S,A;for(A=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)A.push(t.readUInt16());return A}(),d=function(){var S,A;for(A=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)A.push(t.readUInt16());return A}(),u=function(){var S,A;for(A=[],c=S=0;0<=p?S<p:S>p;c=0<=p?++S:--S)A.push(t.readUInt16());return A}(),a=(this.length-t.pos+this.offset)/2,l=function(){var S,A;for(A=[],c=S=0;0<=a?S<a:S>a;c=0<=a?++S:--S)A.push(t.readUInt16());return A}(),c=b=0,w=i.length;b<w;c=++b)for(v=i[c],s=_=x=g[c];x<=v?_<=v:_>=v;s=x<=v?++_:--_)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-x)-(p-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}t.pos=h}return e.encode=function(t,n){var s,a,i,o,l,c,d,u,h,p,f,x,g,v,b,_,w,S,A,L,P,k,C,R,E,I,B,z,V,U,K,$,W,te,J,M,G,X,ie,re,fe,we,Z,Q,pe,ge;switch(z=new vh,o=Object.keys(t).sort(function(Ae,Ne){return Ae-Ne}),n){case"macroman":for(g=0,v=function(){var Ae=[];for(x=0;x<256;++x)Ae.push(0);return Ae}(),_={0:0},i={},V=0,W=o.length;V<W;V++)_[Z=t[a=o[V]]]==null&&(_[Z]=++g),i[a]={old:t[a],new:_[t[a]]},v[a]=_[t[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(v),{charMap:i,subtable:z.data,maxGlyphID:g+1};case"unicode":for(I=[],h=[],w=0,_={},s={},b=d=null,U=0,te=o.length;U<te;U++)_[A=t[a=o[U]]]==null&&(_[A]=++w),s[a]={old:A,new:_[A]},l=_[A]-a,b!=null&&l===d||(b&&h.push(b),I.push(a),d=l),b=a;for(b&&h.push(b),h.push(65535),I.push(65535),R=2*(C=I.length),k=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,P=2*C-k,c=[],L=[],f=[],x=K=0,J=I.length;K<J;x=++K){if(E=I[x],u=h[x],E===65535){c.push(0),L.push(0);break}if(E-(B=s[E].new)>=32768)for(c.push(0),L.push(2*(f.length+C-x)),a=$=E;E<=u?$<=u:$>=u;a=E<=u?++$:--$)f.push(s[a].new);else c.push(B-E),L.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*C+2*f.length),z.writeUInt16(0),z.writeUInt16(R),z.writeUInt16(k),z.writeUInt16(p),z.writeUInt16(P),fe=0,M=h.length;fe<M;fe++)a=h[fe],z.writeUInt16(a);for(z.writeUInt16(0),we=0,G=I.length;we<G;we++)a=I[we],z.writeUInt16(a);for(Q=0,X=c.length;Q<X;Q++)l=c[Q],z.writeUInt16(l);for(pe=0,ie=L.length;pe<ie;pe++)S=L[pe],z.writeUInt16(S);for(ge=0,re=f.length;ge<re;ge++)g=f[ge],z.writeUInt16(g);return{charMap:s,subtable:z.data,maxGlyphID:w+1}}},e}(),qU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)n=new II(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,a;return n==null&&(n="macroman"),s=II.encode(t,n),(a=new vh).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),hIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),fIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),mIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)n=t.readByte(),a.push(this.names.push(t.readString(n)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}.call(this)}},e}(),pIe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,a,i,o,l,c,d,u,h,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),s=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,h=s.length;u<h;i=++u)a=s[i],t.pos=a.offset,d=t.readString(a.length),o=new pIe(d,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),xIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),yIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],n=d=0;0<=a?d<a:d>a;n=0<=a?++d:--d)u.push(t.readInt16());return u}(),this.widths=function(){var d,u,h,p;for(p=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],p.push(i.advance);return p}.call(this),s=this.widths[this.widths.length-1],c=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),WU=[].slice,vIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,a,i,o,l,c,d,u,h;return t in this.cache?this.cache[t]:(i=this.file.loca,n=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,o=(l=new vh(n.read(a))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new wIe(l,d,h,c,u):new bIe(l,o,d,h,c,u),this.cache[t]))},e.prototype.encode=function(t,n,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=n.length;l<c;l++)a=t[n[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e}(),bIe=function(){function e(t,n,s,a,i,o){this.raw=t,this.numberOfContours=n,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),wIe=function(){function e(t,n,s,a,i){var o,l;for(this.raw=t,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,s;for(n=new vh(WU.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),jIe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ul),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<n.length&&n[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},e}(),NIe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,s,a,i;for(n in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[n],t[n]=a[s];return t},e.prototype.glyphsFor=function(t){var n,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(s=a[i])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,n){var s,a,i,o,l,c,d,u,h,p,f,x,g,v,b;for(a in s=qU.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},b=s.charMap)f[(c=b[a]).old]=c.new;for(x in p=s.maxGlyphID,o)x in f||(f[x]=p++);return u=function(_){var w,S;for(w in S={},_)S[_[w]]=w;return S}(f),h=Object.keys(u).sort(function(_,w){return _-w}),g=function(){var _,w,S;for(S=[],_=0,w=h.length;_<w;_++)l=h[_],S.push(u[l]);return S}(),i=this.font.glyf.encode(o,g,f),d=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Mt.API.PDFObject=function(){var e;function t(){}return e=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},t.convert=function(n){var s,a,i,o;if(Array.isArray(n))return"["+function(){var l,c,d;for(d=[],l=0,c=n.length;l<c;l++)s=n[l],d.push(t.convert(s));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)o=n[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();const mp={async getPriceListItems(){try{const e=await fetch("/api/crm/price-list");if(!e.ok)return[];const t=await e.json();return Array.isArray(t)?t:[]}catch{return[]}},async createPriceListItem(e){try{const t=await fetch("/api/crm/price-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create price list item");return await t.json()}catch(t){throw t}},async updatePriceListItem(e,t){try{const n=await fetch(`/api/crm/price-list/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update price list item");return await n.json()}catch(n){throw console.error("Error updating price list item:",n),n}},async deletePriceListItem(e){try{if(!(await fetch(`/api/crm/price-list/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete price list item")}catch(t){throw console.error("Error deleting price list item:",t),t}},async importPriceList(e){try{const t=await fetch("/api/crm/price-list/import",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({items:e})});if(!t.ok)throw new Error("Failed to import price list");return await t.json()||[]}catch(t){throw console.error("Error importing price list:",t),t}}},SIe=({isOpen:e,onClose:t,onSuccess:n,editingInvoice:s,prefillClientId:a})=>{const[i,o]=j.useState(1),[l,c]=j.useState([]),[d,u]=j.useState([]),[h,p]=j.useState(""),[f,x]=j.useState(!1),[g,v]=j.useState(!1),[b,_]=j.useState(null),[w,S]=j.useState(!1),[A,L]=j.useState(""),[P,k]=j.useState([]),C=j.useRef(null),R=()=>{const je=localStorage.getItem("lastUsedVatRate");return je?parseFloat(je):0},E=je=>{localStorage.setItem("lastUsedVatRate",je.toString())},[I,B]=j.useState({client_id:"",due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],payment_terms:"Net 30",currency:"EUR",notes:"",discount_amount:0,items:[{id:"1",description:"",quantity:1,unit_price:0,tax_rate:R()}]}),[z,V]=j.useState(!1),[U,K]=j.useState({payment_method:"cash",payment_reference:"",payment_notes:""}),[$,W]=j.useState(null),[te,J]=j.useState(!1),[M,G]=j.useState({subject:"",message:"",includeAttachment:!0}),X=[{id:1,title:"Client & Details",icon:Ho},{id:2,title:"Line Items",icon:Hn},{id:3,title:"Payment & Terms",icon:nh},{id:4,title:"Review & Create",icon:Mn}];j.useEffect(()=>{e&&(re(),ie(),s&&Q())},[e,s]),j.useEffect(()=>{if(!e||!a||l.length===0)return;const je=l.find(Fe=>Fe.id===a);je&&(B(Fe=>({...Fe,client_id:je.id})),p(je.name),x(!1))},[e,a,l]);const ie=async()=>{try{const je=await mp.getPriceListItems();k(je)}catch{k([])}};j.useEffect(()=>{const je=Fe=>{C.current&&!C.current.contains(Fe.target)&&x(!1)};return document.addEventListener("mousedown",je),()=>{document.removeEventListener("mousedown",je)}},[]);const re=async()=>{try{v(!0),_(null);const je=await fetch("/api/crm/clients");if(!je.ok)throw new Error(`HTTP error! status: ${je.status}`);const Fe=await je.json();if(Fe&&Fe.length>0){const Ze=Fe.map(tt=>{const it=tt.firstName||"",lt=tt.lastName||"",Lt=(lt||it?`${lt}, ${it}`.replace(/^,\s*/,"").replace(/,\s*$/,""):"")||tt.email||tt.company||"Unnamed Client";return{id:tt.id,name:Lt,email:tt.email||"",address1:tt.address,city:tt.city,country:tt.country}});c(Ze),u(Ze)}else{const Ze=Z();c(Ze),u(Ze)}}catch{_("Failed to load clients from database");const Fe=Z();c(Fe),u(Fe)}finally{v(!1)}},fe=je=>{if(p(je),!je.trim()){u(l);return}const Fe=l.filter(Ze=>Ze.name?.toLowerCase().includes(je.toLowerCase())||Ze.email?.toLowerCase().includes(je.toLowerCase())||Ze.address1&&Ze.address1.toLowerCase().includes(je.toLowerCase())||Ze.city&&Ze.city.toLowerCase().includes(je.toLowerCase()));u(Fe)},we=je=>{B(Fe=>({...Fe,client_id:je.id})),p(je.name),x(!1)},Z=()=>[{id:"sample-1",name:"John Doe",email:"john.doe@example.com",address1:"123 Main Street",city:"Boston",country:"USA"},{id:"sample-2",name:"Jane Smith",email:"jane.smith@company.com",address1:"456 Oak Avenue",city:"Chicago",country:"USA"},{id:"sample-3",name:"Mike Johnson",email:"mike.johnson@test.com",address1:"789 Pine Street",city:"Miami",country:"USA"},{id:"sample-4",name:"Sarah Wilson",email:"sarah.wilson@demo.com",address1:"321 Elm Drive",city:"Seattle",country:"USA"},{id:"sample-5",name:"Robert Brown",email:"robert.brown@shop.com",address1:"654 Cedar Lane",city:"Portland",country:"USA"}],Q=()=>{},pe=je=>{const Fe=je.quantity*je.unit_price,Ze=Fe*(je.tax_rate/100);return Fe+Ze},ge=()=>{const je=I.items.reduce((it,lt)=>it+lt.quantity*lt.unit_price,0),Fe=I.items.reduce((it,lt)=>it+lt.quantity*lt.unit_price*lt.tax_rate/100,0),Ze=I.discount_amount,tt=je+Fe-Ze;return{subtotal:je,totalTax:Fe,discount:Ze,total:tt}},Ae=()=>{const je={id:Date.now().toString(),description:"",quantity:1,unit_price:0,tax_rate:R()};B(Fe=>({...Fe,items:[...Fe.items,je]}))},Ne=je=>{I.items.length>1&&B(Fe=>({...Fe,items:Fe.items.filter(Ze=>Ze.id!==je)}))},Y=(je,Fe)=>{Fe.tax_rate!==void 0&&E(Fe.tax_rate),B(Ze=>({...Ze,items:Ze.items.map(tt=>tt.id===je?{...tt,...Fe}:tt)}))},ke=je=>{switch(je){case 1:return I.client_id!==""&&I.due_date!=="";case 2:return I.items.every(Fe=>Fe.description.trim()!==""&&Fe.quantity>0&&Fe.unit_price>=0);case 3:return I.payment_terms!=="";default:return!0}},We=()=>{ke(i)&&o(je=>Math.min(je+1,4))},Ie=()=>{o(je=>Math.max(je-1,1))},ze=async()=>{try{v(!0),_(null);const je=I.items.reduce((jt,Lt)=>jt+Lt.quantity*Lt.unit_price,0),Fe=I.items.reduce((jt,Lt)=>{const Nt=Lt.quantity*Lt.unit_price*(Lt.tax_rate/100);return jt+Nt},0),Ze=je+Fe-I.discount_amount,tt={client_name:l.find(jt=>jt.id===I.client_id)?.name||"Client",client_id:I.client_id||null,client_email:l.find(jt=>jt.id===I.client_id)?.email||void 0,issue_date:new Date().toISOString().split("T")[0],due_date:I.due_date,currency:I.currency,notes:I.notes,meta:{payment_terms:I.payment_terms,discount_amount:I.discount_amount},items:I.items.map(jt=>({description:jt.description,quantity:jt.quantity,unit_price:jt.unit_price}))},it=await fetch("/api/invoices/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tt)}),lt=await it.json();if(!it.ok||!lt?.ok)throw new Error(lt?.error||"Failed to create invoice");W(lt),z&&lt?.invoice_id&&await fetch("/api/invoices/update-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:lt.invoice_id,status:"paid"})}).catch(()=>{}),n(),t()}catch{_("Failed to create invoice. Please try again.")}finally{v(!1)}},le=async()=>{try{const je=$?.public_id;if(!je)throw new Error("No invoice link");window.open(`/inv/${je}`,"_blank")}catch{_("PDF download failed. Please try again.")}},se=async()=>{if($?.invoice_id)try{v(!0);const je=l.find(tt=>tt.id===I.client_id)?.email||"",Fe=await fetch("/api/invoices/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:$.invoice_id,to:je})}),Ze=await Fe.json();if(!Fe.ok)throw new Error(Ze?.error||"send failed");J(!1),alert("Invoice email sent.")}catch{_("Failed to send email. Please try again.")}finally{v(!1)}},Se=()=>{const je=$?.public_id;return je?`${window.location.origin}/inv/${je}`:""},Pe=async()=>{if(!$)return;const je=Se();try{await navigator.clipboard.writeText(je),alert("Invoice link copied to clipboard!")}catch{const Ze=document.createElement("textarea");Ze.value=je,document.body.appendChild(Ze),Ze.select(),document.execCommand("copy"),document.body.removeChild(Ze),alert("Invoice link copied to clipboard!")}},$e=()=>{if(!$)return;const je=l.find(it=>it.id===I.client_id),Fe=Se(),tt=`https://wa.me/?text=${encodeURIComponent(`Hi ${je?.name||"there"}! Here's your invoice: ${Fe}`)}`;window.open(tt,"_blank")},He=()=>{switch(i){case 1:return r.jsxs("div",{className:"space-y-6",children:["            ",r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Client * ",l.length>0&&r.jsxs("span",{className:"text-sm text-gray-500",children:["(",l.length," clients available)"]})]}),r.jsxs("div",{className:"relative",ref:C,children:[r.jsx("input",{type:"text",value:h,onChange:je=>fe(je.target.value),onFocus:()=>x(!0),placeholder:g?"Loading clients...":"Search clients by name, email, or location...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!I.client_id,disabled:g}),f&&d.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:d.map(je=>r.jsxs("button",{type:"button",onClick:()=>we(je),className:"w-full px-3 py-2 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:[r.jsx("div",{className:"font-medium text-gray-900",children:je.name}),r.jsx("div",{className:"text-sm text-gray-500",children:je.email}),je.city&&r.jsxs("div",{className:"text-xs text-gray-400",children:[je.city,je.country&&`, ${je.country}`]})]},je.id))}),f&&h&&d.length===0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3",children:r.jsxs("div",{className:"text-gray-500 text-center",children:['No clients found matching "',h,'"']})})]}),"              ",l.length===0&&!g&&r.jsxs("p",{className:"mt-2 text-sm text-amber-600",children:[r.jsx(Dr,{className:"inline w-4 h-4 mr-1"}),"No clients found. Using sample clients for demo."]}),r.jsx("div",{className:"mt-2",children:r.jsxs("button",{type:"button",onClick:()=>{alert("Quick client creation feature can be added here. For now, please go to the Clients page to add new clients.")},className:"text-sm text-purple-600 hover:text-purple-800 flex items-center",children:[r.jsx(Cr,{className:"w-4 h-4 mr-1"}),"Add New Client"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),r.jsx("input",{type:"date",value:I.due_date,onChange:je=>B(Fe=>({...Fe,due_date:je.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),r.jsxs("select",{value:I.currency,onChange:je=>B(Fe=>({...Fe,currency:je.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"EUR",children:"EUR (€)"}),r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"GBP",children:"GBP (£)"})]}),"              "]})]})]});case 2:return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice Items"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>S(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[r.jsx(_d,{size:16,className:"mr-1"}),"Price List"]}),r.jsxs("button",{onClick:Ae,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[r.jsx(Cr,{size:16,className:"mr-1"}),"Add Item"]}),"              "]})]}),r.jsx("div",{className:"space-y-3",children:I.items.map(je=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start",children:[r.jsxs("div",{className:"col-span-5",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description *"}),r.jsx("input",{type:"text",value:je.description,onChange:Fe=>Y(je.id,{description:Fe.target.value}),placeholder:"Item description...",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500",required:!0})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",value:je.quantity,onChange:Fe=>Y(je.id,{quantity:parseFloat(Fe.target.value)||0}),min:"0",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500",required:!0})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit Price"}),r.jsx("input",{type:"number",value:je.unit_price,onChange:Fe=>Y(je.id,{unit_price:parseFloat(Fe.target.value)||0}),min:"0",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Tax %"}),r.jsx("input",{type:"number",value:je.tax_rate,onChange:Fe=>Y(je.id,{tax_rate:parseFloat(Fe.target.value)||0}),min:"0",max:"100",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500"})]}),r.jsx("div",{className:"col-span-1 flex items-end",children:r.jsx("button",{onClick:()=>Ne(je.id),disabled:I.items.length===1,className:"p-2 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed",title:"Remove item",children:r.jsx(Ts,{size:16})})})]}),r.jsxs("div",{className:"mt-2 text-right text-sm text-gray-600",children:["Total: ",I.currency," ",(pe(je)||0).toFixed(2)]})]},je.id))}),r.jsx("div",{className:"border-t pt-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"text-right space-y-1",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Subtotal: ",I.currency," ",(ge().subtotal||0).toFixed(2)]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Tax: ",I.currency," ",(ge().totalTax||0).toFixed(2)]}),r.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: ",I.currency," ",(ge().total||0).toFixed(2),"                  "]})]})})})]});case 3:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms *"}),r.jsxs("select",{value:I.payment_terms,onChange:je=>B(Fe=>({...Fe,payment_terms:je.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[r.jsx("option",{value:"Net 15",children:"Net 15 (15 days)"}),r.jsx("option",{value:"Net 30",children:"Net 30 (30 days)"}),r.jsx("option",{value:"Net 60",children:"Net 60 (60 days)"}),r.jsx("option",{value:"Due on receipt",children:"Due on receipt"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount"}),r.jsx("input",{type:"number",value:I.discount_amount,onChange:je=>B(Fe=>({...Fe,discount_amount:parseFloat(je.target.value)||0})),min:"0",step:"0.01",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"0.00"})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("input",{type:"checkbox",id:"markAsPaid",checked:z,onChange:je=>V(je.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),r.jsx("label",{htmlFor:"markAsPaid",className:"ml-2 text-sm font-medium text-green-800",children:"💰 Client paid immediately - Mark invoice as PAID"})]}),z&&r.jsxs("div",{className:"space-y-4 border-t border-green-200 pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Method *"}),r.jsxs("select",{value:U.payment_method,onChange:je=>K(Fe=>({...Fe,payment_method:je.target.value})),className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"card",children:"Credit/Debit Card"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"paypal",children:"PayPal"}),r.jsx("option",{value:"stripe",children:"Stripe"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Reference (Optional)"}),r.jsx("input",{type:"text",value:U.payment_reference,onChange:je=>K(Fe=>({...Fe,payment_reference:je.target.value})),className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Transaction ID, Check #, etc."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Notes (Optional)"}),r.jsx("textarea",{value:U.payment_notes,onChange:je=>K(Fe=>({...Fe,payment_notes:je.target.value})),rows:2,className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Additional payment details..."})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-md",children:r.jsxs("p",{className:"text-sm text-green-800",children:["✅ This invoice will be marked as ",r.jsx("strong",{children:"PAID"})," and will appear as a completed sale in your dashboard and reports."]})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{value:I.notes,onChange:je=>B(Fe=>({...Fe,notes:je.target.value})),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Additional notes for this invoice..."})]}),"          "]});case 4:{const je=ge(),Fe=l.find(Ze=>Ze.id===I.client_id);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Client Details"}),r.jsx("p",{className:"text-gray-600",children:Fe?.name}),r.jsx("p",{className:"text-gray-600",children:Fe?.email})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Invoice Details"}),r.jsxs("p",{className:"text-gray-600",children:["Due Date: ",new Date(I.due_date).toLocaleDateString()]}),r.jsxs("p",{className:"text-gray-600",children:["Payment Terms: ",I.payment_terms]}),r.jsxs("p",{className:"text-gray-600",children:["Currency: ",I.currency]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Line Items"}),"                ",r.jsx("div",{className:"space-y-2",children:I.items.map(Ze=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:[Ze.description," (x",Ze.quantity,")"]}),r.jsxs("span",{children:[I.currency," ",(pe(Ze)||0).toFixed(2)]})]},Ze.id))})]}),r.jsx("div",{className:"mt-6 pt-4 border-t",children:r.jsxs("div",{className:"space-y-1 text-right",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsxs("span",{children:[I.currency," ",(je.subtotal||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax:"}),r.jsxs("span",{children:[I.currency," ",(je.totalTax||0).toFixed(2)]})]}),je.discount>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-",I.currency," ",(je.discount||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:[I.currency," ",(je.total||0).toFixed(2)]})]})]})})]}),z&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-3",children:"💰 Payment Details Preview"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-green-700",children:"Status:"}),r.jsx("span",{className:"font-semibold text-green-800",children:"PAID"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-green-700",children:"Amount:"}),r.jsxs("span",{className:"font-semibold text-green-800",children:[I.currency," ",(je.total||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-green-700",children:"Payment Method:"}),r.jsx("span",{className:"text-green-800 capitalize",children:U.payment_method.replace("_"," ")})]}),U.payment_reference&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-green-700",children:"Reference:"}),r.jsx("span",{className:"text-green-800",children:U.payment_reference})]}),r.jsx("div",{className:"mt-3 p-2 bg-green-100 rounded text-xs text-green-800",children:"✅ This sale will appear immediately in your dashboard revenue and reports"})]})]}),b&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:b})]}),"          "]})}default:return null}};return e?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[r.jsxs(mf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Invoice":"Create New Invoice"}),r.jsxs("p",{className:"text-gray-600",children:["Step ",i," of ",X.length]})]}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-2",children:r.jsx(gn,{size:24})})]}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("div",{className:"flex items-center justify-between",children:X.map((je,Fe)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`
                  flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
                  ${i>=je.id?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}
                `,children:i>je.id?r.jsx(sa,{size:16}):r.jsx(je.icon,{size:16})}),r.jsx("span",{className:`ml-2 text-sm font-medium ${i>=je.id?"text-purple-600":"text-gray-500"}`,children:je.title}),Fe<X.length-1&&r.jsx("div",{className:`w-12 h-px mx-4 ${i>je.id?"bg-purple-600":"bg-gray-300"}`})]},je.id))})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.jsx(Zb,{mode:"wait",children:r.jsx(mf.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:He()},i)})}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[r.jsxs("button",{onClick:Ie,disabled:i===1,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 disabled:text-gray-400 disabled:cursor-not-allowed",children:[r.jsx(Hy,{size:16,className:"mr-1"}),"Previous"]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),i<4?r.jsxs("button",{onClick:We,disabled:!ke(i),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:["Next",r.jsx(vc,{size:16,className:"ml-1"})]}):r.jsx("div",{className:"flex space-x-2",children:$?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:le,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Vn,{size:16,className:"mr-2"}),"Download PDF"]}),r.jsxs("button",{onClick:()=>{const je=l.find(Fe=>Fe.id===I.client_id);G({subject:`Rechnung ${$.invoice_no||$.invoiceNumber||$.public_id} - New Age Fotografie`,message:`Liebe/r ${je?.name},

anbei senden wir Ihnen Ihre Rechnung zu.

Mit freundlichen Grüßen,
New Age Fotografie Team`,includeAttachment:!0}),J(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(Ii,{size:16,className:"mr-2"}),"Send Email"]}),r.jsxs("button",{onClick:Pe,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(K4,{size:16,className:"mr-2"}),"Copy Link"]}),r.jsxs("button",{onClick:$e,className:"flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:[r.jsx(LM,{size:16,className:"mr-2"}),"WhatsApp"]})]}):r.jsx("button",{onClick:ze,disabled:g,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(sa,{size:16,className:"mr-2"}),"Create Invoice"]})})}),"          "]})]})]}),r.jsx(Zb,{children:w&&r.jsx(mf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",onClick:()=>S(!1),children:r.jsxs(mf.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:je=>je.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select from Price List"}),r.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:20})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),r.jsxs("select",{value:A,onChange:je=>L(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"All Categories"}),r.jsx("option",{value:"DIGITAL",children:"Digital Photos"}),r.jsx("option",{value:"PRINTS",children:"Print Products"}),r.jsx("option",{value:"SESSIONS",children:"Photo Sessions"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.length>0?P.map(je=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:je.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:je.description||"Professional photography service"}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("p",{className:"font-semibold text-purple-600",children:["€",(je.price||0).toFixed(2)]}),r.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:je.category})]}),r.jsx("button",{onClick:()=>{const Fe={id:Date.now().toString(),description:je.name+(je.description?` - ${je.description}`:""),quantity:1,unit_price:je.price||0,tax_rate:je.tax_rate||0};B(Ze=>({...Ze,items:[...Ze.items,Fe]})),S(!1)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded text-sm",children:"Add to Invoice"})]},je.id)):r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"Loading price list..."})})]})})}),r.jsx(Zb,{children:te&&r.jsx(mf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsx(mf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(pr,{className:"mr-2",size:20}),"Send Invoice by Email"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsx("input",{type:"text",value:M.subject,onChange:je=>G(Fe=>({...Fe,subject:je.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),r.jsx("textarea",{value:M.message,onChange:je=>G(Fe=>({...Fe,message:je.target.value})),rows:4,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"includeAttachment",checked:M.includeAttachment,onChange:je=>G(Fe=>({...Fe,includeAttachment:je.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"includeAttachment",className:"ml-2 text-sm text-gray-700",children:"Include PDF attachment"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:se,disabled:g,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ii,{size:16,className:"mr-2"}),"Send Email"]})})]})]})})})})]}):null},_Ie=({invoice:e,companyInfo:t={name:"Your Company Name",address:"Your Company Address",email:"info@yourcompany.com",phone:"+49 123 456 789",website:"www.yourcompany.com"}})=>{const n=a=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e.currency}).format(a),s=a=>new Date(a).toLocaleDateString("de-DE");return r.jsxs("div",{className:"invoice-template max-w-4xl mx-auto bg-white p-8 shadow-lg",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),r.jsxs("div",{className:"text-gray-600 space-y-1",children:[r.jsx("p",{children:t.address}),r.jsx("p",{children:t.email}),r.jsx("p",{children:t.phone}),t.website&&r.jsx("p",{children:t.website})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-600 mb-2",children:"INVOICE"}),r.jsxs("div",{className:"text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Invoice #:"})," ",e.invoice_number]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",s(e.created_at)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Due Date:"})," ",s(e.due_date)]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bill To:"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.client_name}),r.jsx("p",{className:"text-gray-600",children:e.client_email}),e.client_address&&r.jsx("p",{className:"text-gray-600",children:e.client_address})]})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"text-left p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Description"}),r.jsx("th",{className:"text-center p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Qty"}),r.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Unit Price"}),r.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Tax Rate"}),r.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Total"})]})}),r.jsx("tbody",{children:e.items.map((a,i)=>r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"p-3 text-gray-900",children:a.description}),r.jsx("td",{className:"p-3 text-center text-gray-900",children:a.quantity}),r.jsx("td",{className:"p-3 text-right text-gray-900",children:n(a.unit_price)}),r.jsxs("td",{className:"p-3 text-right text-gray-900",children:[a.tax_rate,"%"]}),r.jsx("td",{className:"p-3 text-right text-gray-900",children:n(a.line_total)})]},i))})]})}),r.jsx("div",{className:"flex justify-end mb-8",children:r.jsx("div",{className:"w-64",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:n(e.subtotal_amount)})]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:n(e.tax_amount)})]}),e.discount_amount>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-",n(e.discount_amount)]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:n(e.total_amount)})]})})]})})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Payment Terms"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("p",{className:"text-gray-700 mb-2",children:[r.jsx("strong",{children:"Payment Terms:"})," ",e.payment_terms]}),r.jsx("p",{className:"text-gray-700",children:"Payment is due within the specified terms. Late payments may be subject to additional charges."})]})]}),e.notes&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Notes"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-gray-700",children:e.notes})})]}),r.jsxs("div",{className:"border-t pt-6 text-center text-gray-500",children:[r.jsx("p",{children:"Thank you for your business!"}),r.jsxs("p",{className:"text-sm mt-2",children:["For questions about this invoice, please contact ",t.email]})]})]})};async function kIe(e){const t=await fetch(`/api/invoices/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error("Failed to fetch invoice");return t.json()}const AIe=({invoiceId:e,isOpen:t,onClose:n})=>{const[s,a]=j.useState(null),[i,o]=j.useState(!0),[l,c]=j.useState(null);j.useEffect(()=>{t&&e&&d()},[t,e]);const d=async()=>{try{o(!0),c(null);const f=await kIe(e),x={invoice_number:f.invoice_number,client_name:f.crm_clients?.name||"Unknown Client",client_email:f.crm_clients?.email||"",client_address:[f.crm_clients?.address1,f.crm_clients?.city,f.crm_clients?.country].filter(Boolean).join(", "),due_date:f.due_date,created_at:f.created_at,currency:f.currency||"EUR",payment_terms:f.payment_terms||"Net 30",notes:f.notes,subtotal_amount:f.subtotal_amount||0,tax_amount:f.tax_amount||0,discount_amount:f.discount_amount||0,total_amount:f.total_amount||0,items:f.crm_invoice_items?.map(g=>({description:g.description,quantity:g.quantity,unit_price:g.unit_price,tax_rate:g.tax_rate,line_total:g.line_total}))||[]};a(x)}catch{c("Failed to load invoice")}finally{o(!1)}},u=()=>{window.print()},h=async()=>{window.print()},p=async()=>{alert("Email functionality would be integrated here")};return t?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 print:hidden",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice Preview"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Ii,{size:16,className:"mr-2"}),"Send"]}),r.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(Vn,{size:16,className:"mr-2"}),"PDF"]}),r.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(OM,{size:16,className:"mr-2"}),"Print"]}),r.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 p-2",children:r.jsx(gn,{size:24})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:i?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoice..."})]}):l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-2",children:l}),r.jsx("button",{onClick:d,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Retry"})]})}):s?r.jsx(_Ie,{invoice:s}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-gray-600",children:"No invoice data available"})})})]}),r.jsx("style",{children:`
        @media print {
          .print\\:hidden {
            display: none !important;
          }
          
          body * {
            visibility: hidden;
          }
          
          .invoice-template, .invoice-template * {
            visibility: visible;
          }
          
          .invoice-template {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
        }
      `})]}):null},CIe=({invoiceId:e,invoiceTotal:t,currency:n,isOpen:s,onClose:a,onPaymentAdded:i})=>{const[o,l]=j.useState([]),[c,d]=j.useState(!0),[u,h]=j.useState(null),[p,f]=j.useState(!1),[x,g]=j.useState({amount:0,payment_method:"bank_transfer",payment_reference:"",payment_date:new Date().toISOString().split("T")[0],notes:""});j.useEffect(()=>{s&&v()},[s,e]);const v=async()=>{try{d(!0);const P=await fetch(`/api/crm/invoices/${e}/payments`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch payments");const k=await P.json();l(k||[])}catch{h("Failed to load payments")}finally{d(!1)}},b=async()=>{try{if(d(!0),h(null),!(await fetch(`/api/crm/invoices/${e}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)})).ok)throw new Error("Failed to add payment");g({amount:0,payment_method:"bank_transfer",payment_reference:"",payment_date:new Date().toISOString().split("T")[0],notes:""}),f(!1),await v(),i()}catch{h("Failed to add payment")}finally{d(!1)}},_=async P=>{if(confirm("Are you sure you want to delete this payment?"))try{if(d(!0),!(await fetch(`/api/crm/invoices/${e}/payments/${P}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete payment");await v(),i()}catch{h("Failed to delete payment")}finally{d(!1)}},w=o.reduce((P,k)=>P+k.amount,0),S=t-w,A=P=>new Intl.NumberFormat("de-DE",{style:"currency",currency:n}).format(P),L=P=>({bank_transfer:"Bank Transfer",credit_card:"Credit Card",paypal:"PayPal",stripe:"Stripe",cash:"Cash",check:"Check"})[P]||P;return s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Tracker"}),r.jsx("p",{className:"text-gray-600",children:"Track payments for this invoice"})]}),r.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 p-2",children:r.jsx(gn,{size:24})})]}),r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(go,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Total"}),r.jsx("p",{className:"text-lg font-semibold",children:A(t)})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(go,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Paid"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:A(w)})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(go,{className:"h-8 w-8 text-red-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Remaining"}),r.jsx("p",{className:"text-lg font-semibold text-red-600",children:A(S)})]})]})})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment History"}),r.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Add Payment"]})]}),u&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u}),p&&r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Add New Payment"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),r.jsx("input",{type:"number",value:x.amount,onChange:P=>g(k=>({...k,amount:parseFloat(P.target.value)||0})),step:"0.01",min:"0",max:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:`Max: ${A(S)}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),r.jsxs("select",{value:x.payment_method,onChange:P=>g(k=>({...k,payment_method:P.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"credit_card",children:"Credit Card"}),r.jsx("option",{value:"paypal",children:"PayPal"}),r.jsx("option",{value:"stripe",children:"Stripe"}),r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"check",children:"Check"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date *"}),r.jsx("input",{type:"date",value:x.payment_date,onChange:P=>g(k=>({...k,payment_date:P.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference"}),r.jsx("input",{type:"text",value:x.payment_reference,onChange:P=>g(k=>({...k,payment_reference:P.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Transaction ID, Check #, etc."})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{value:x.notes,onChange:P=>g(k=>({...k,notes:P.target.value})),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Additional notes about this payment..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:b,disabled:c||x.amount<=0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400",children:c?"Adding...":"Add Payment"})]})]}),c&&!p?r.jsxs("div",{className:"flex items-center justify-center h-32",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading payments..."})]}):o.length>0?r.jsx("div",{className:"space-y-4",children:o.map(P=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nh,{className:"h-5 w-5 text-gray-400 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900",children:A(P.amount)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(dn,{className:"h-4 w-4 text-gray-400 mr-1"}),r.jsx("span",{className:"text-sm text-gray-600",children:new Date(P.payment_date).toLocaleDateString()})]}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full",children:L(P.payment_method)})]}),P.payment_reference&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ref: ",P.payment_reference]}),P.notes&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.notes})]}),r.jsx("button",{onClick:()=>_(P.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete payment",children:r.jsx(Ts,{size:16})})]})},P.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(nh,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"No payments recorded yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add the first payment to get started"})]})]})]})}):null},PIe=()=>{const e=Vy(),t=new URLSearchParams(e.search),n=t.get("client_id")||t.get("client")||void 0,[s,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(""),[d,u]=j.useState("all"),[h,p]=j.useState(!0),[f,x]=j.useState(null),[g,v]=j.useState(!!n),[b,_]=j.useState(null),[w,S]=j.useState(null),[A,L]=j.useState(null);j.useEffect(()=>{P()},[]),j.useEffect(()=>{k()},[s,l,d]),j.useEffect(()=>{n&&v(!0)},[n]),j.useEffect(()=>{const W=setInterval(async()=>{try{const te=s.filter(ie=>ie.status!=="paid"&&ie.status!=="cancelled");if(!te.length)return;const J=te.map(ie=>ie.id).join(","),M=await fetch(`/api/invoices/status?ids=${encodeURIComponent(J)}`);if(!M.ok)return;const X=(await M.json())?.rows||[];X.length&&a(ie=>ie.map(re=>{const fe=X.find(Z=>Z.id===re.id);if(!fe)return re;const we=(fe.payment_status||fe.status)==="paid";return{...re,status:fe.status||re.status,paid_date:we?fe.paid_at||new Date().toISOString():re.paid_date}}))}catch{}},3e4);return()=>clearInterval(W)},[s]);const P=async()=>{try{p(!0),x(null);const W=await fetch("/api/invoices/list?status=any",{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch invoices");const te=await W.json(),M=(te?.rows||te||[]).map(G=>({id:G.id,public_id:G.public_id||G.publicId,invoice_number:G.invoice_no||G.invoice_number||"",client_id:G.client_id||"",client_name:G.client_name||"Unknown Client",amount:Number(G.subtotal??0),tax_amount:Number(G.tax??0),total_amount:Number(G.total??0),status:(G.status||"draft").toLowerCase(),due_date:G.due_date,paid_date:void 0,notes:G.notes||"",created_at:G.created_at}));a(M||[])}catch{x("Failed to load invoices. Please try again.")}finally{p(!1)}},k=()=>{let W=[...s];l&&s.length>0&&(W=W.filter(te=>(te.invoice_number||"").toLowerCase().includes(l.toLowerCase())||(te.client_name||"").toLowerCase().includes(l.toLowerCase()))),d!=="all"&&(W=W.filter(te=>te.status===d)),o(W)},C=async W=>{try{if(p(!0),!(await fetch("/api/invoices/update-status",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({invoice_id:W,status:"cancelled"})})).ok)throw new Error("Failed to cancel invoice");a(J=>J.filter(M=>M.id!==W)),L(null)}catch{x("Failed to cancel invoice. Please try again.")}finally{p(!1)}},R=async(W,te)=>{try{if(p(!0),!(await fetch("/api/invoices/update-status",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({invoice_id:W,status:te})})).ok)throw new Error("Failed to update invoice status");a(M=>M.map(G=>G.id===W?{...G,status:te,paid_date:te==="paid"?new Date().toISOString().split("T")[0]:G.paid_date}:G))}catch{x("Failed to update invoice status. Please try again.")}finally{p(!1)}},E=W=>{const J={draft:{bg:"bg-gray-100",text:"text-gray-800",label:"Draft"},sent:{bg:"bg-blue-100",text:"text-blue-800",label:"Sent"},paid:{bg:"bg-green-100",text:"text-green-800",label:"Paid"},overdue:{bg:"bg-red-100",text:"text-red-800",label:"Overdue"},cancelled:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Cancelled"}}[W]||{bg:"bg-gray-100",text:"text-gray-800",label:W||"Unknown"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J.bg} ${J.text}`,children:J.label})},I=(W,te)=>te!=="paid"&&new Date(W)<new Date,B=async W=>{try{if(!W)throw new Error("Missing invoice link");window.open(`/inv/${W}`,"_blank")}catch{alert("PDF download failed. Please try again.")}},z=async(W,te)=>{const J=prompt("Send invoice to email address:","")||"";if(J)try{const M=await fetch("/api/invoices/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:W,to:J})}),G=await M.json();if(!M.ok)throw new Error(G?.error||"send failed");alert(`Email sent. Link: ${G.link}`)}catch(M){alert(M.message||"send failed")}},V=async(W,te)=>{const J=prompt("Recipient WhatsApp number (+countrycode...):","")||"";if(J)try{const M=await fetch("/api/invoices/send-whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:W,to_phone:J})}),G=await M.json();if(!M.ok)throw new Error(G?.error||"send failed");G.sent?alert("WhatsApp sent."):G.share?window.open(G.share,"_blank"):alert(`Link: ${G.link}`)}catch(M){alert(M.message||"send failed")}},U=async(W,te)=>{const J=prompt("Recipient SMS number (+countrycode...):","")||"";if(J)try{const M=await fetch("/api/invoices/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:W,to_phone:J})}),G=await M.json();if(!M.ok)throw new Error(G?.error||"send failed");alert(G.sent?"SMS sent.":"SMS provider not configured. Link copied.")}catch(M){alert(M.message||"send failed")}},$=(()=>{if(!i||i.length===0)return{totalAmount:0,paidAmount:0,overdueAmount:0};const W=i.reduce((M,G)=>M+(G.total_amount||0),0),te=i.filter(M=>M.status==="paid").reduce((M,G)=>M+(G.total_amount||0),0),J=i.filter(M=>M.status==="overdue").reduce((M,G)=>M+(G.total_amount||0),0);return{totalAmount:W,paidAmount:te,overdueAmount:J}})();return r.jsxs(Nr,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Invoices Management"}),r.jsx("p",{className:"text-gray-600",children:"Create, send, and track client invoices"})]}),"          ",r.jsxs("button",{onClick:()=>v(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Cr,{size:20,className:"mr-2"}),"Create Invoice"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Hn,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoiced"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",($.totalAmount||0).toFixed(2)]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(go,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",($.paidAmount||0).toFixed(2)]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx(dn,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Amount"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",($.overdueAmount||0).toFixed(2)]})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:l,onChange:W=>c(W.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("select",{value:d,onChange:W=>u(W.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"sent",children:"Sent"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsxs("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(rg,{size:20,className:"mr-2"}),"More Filters"]})]})}),f&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:f})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoices..."})]}):i.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(W=>r.jsxs("tr",{className:`hover:bg-gray-50 ${I(W.due_date,W.status)?"bg-red-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.invoice_number}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Created ",new Date(W.created_at).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W.client_name}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["€",(W.total_amount||0).toFixed(2)]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["€",(W.amount||0).toFixed(2)," + €",(W.tax_amount||0).toFixed(2)," tax"]})]}),"                      ",r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(W.status)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:`text-sm ${I(W.due_date,W.status)?"text-red-600 font-medium":"text-gray-900"}`,children:new Date(W.due_date).toLocaleDateString()}),W.paid_date&&r.jsxs("div",{className:"text-sm text-green-600",children:["Paid ",new Date(W.paid_date).toLocaleDateString()]})]}),"                      ",r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["                        ",r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>_(W.id),className:"text-blue-600 hover:text-blue-900",title:"View",children:r.jsx(Mn,{size:16})}),"                          ",r.jsx("button",{onClick:()=>R(W.id,W.status==="draft"?"sent":W.status==="sent"?"paid":"draft"),className:"text-green-600 hover:text-green-900",title:"Change Status",children:r.jsx(Aa,{size:16})}),r.jsx("button",{onClick:()=>S({id:W.id,total:W.total_amount||0,currency:"EUR"}),className:"text-purple-600 hover:text-purple-900",title:"Track Payments",children:r.jsx(go,{size:16})}),r.jsx("button",{onClick:()=>B(W.public_id),className:"text-indigo-600 hover:text-indigo-900",title:"Download PDF",children:r.jsx(Vn,{size:16})}),r.jsx("a",{href:`/inv/${W.public_id||""}`,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-900",title:"Open public link",children:r.jsx(Hn,{size:16})}),r.jsx("button",{onClick:()=>z(W.id),className:"text-indigo-600 hover:text-indigo-900",title:"Send Email",children:r.jsx(Ii,{size:16})}),r.jsx("button",{onClick:()=>V(W.id),className:"text-green-600 hover:text-green-900",title:"Send WhatsApp",children:r.jsx(Ii,{size:16})}),r.jsx("button",{onClick:()=>U(W.id),className:"text-emerald-600 hover:text-emerald-900",title:"Send SMS",children:r.jsx(Ii,{size:16})}),r.jsx("button",{onClick:()=>L(W.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(Ts,{size:16})})]})]})]},W.id))})]})}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No invoices found matching your criteria."})})})]}),A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this invoice? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>A&&C(A),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})}),"      ",w&&r.jsx(CIe,{invoiceId:w.id,invoiceTotal:w.total,currency:w.currency,isOpen:!!w,onClose:()=>S(null),onPaymentAdded:()=>{P()}}),b&&r.jsx(AIe,{invoiceId:b,isOpen:!!b,onClose:()=>_(null)}),r.jsx(SIe,{isOpen:g,onClose:()=>v(!1),onSuccess:()=>{P(),v(!1)},prefillClientId:n})]})},MI=()=>r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Digital Files Storage"}),r.jsx("p",{className:"text-gray-600",children:"Cloud storage for photographers - subscription based service"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-gray-200",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Xv,{size:48,className:"mx-auto text-blue-500 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Starter"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:["€9.99",r.jsx("span",{className:"text-sm font-normal",children:"/month"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Perfect for small studios"})]}),r.jsxs("ul",{className:"space-y-2 mb-6",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx(Tl,{size:16,className:"text-green-500 mr-2"}),"50 GB Storage"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(ln,{size:16,className:"text-green-500 mr-2"}),"Up to 100 clients"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(Gu,{size:16,className:"text-green-500 mr-2"}),"Secure backup"]})]}),r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Get Started"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-500 relative",children:[r.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm",children:"Most Popular"})}),r.jsxs("div",{className:"text-center",children:[r.jsx(Xv,{size:48,className:"mx-auto text-blue-500 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Professional"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:["€19.99",r.jsx("span",{className:"text-sm font-normal",children:"/month"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"For growing businesses"})]}),r.jsxs("ul",{className:"space-y-2 mb-6",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx(Tl,{size:16,className:"text-green-500 mr-2"}),"200 GB Storage"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(ln,{size:16,className:"text-green-500 mr-2"}),"Up to 500 clients"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(Gu,{size:16,className:"text-green-500 mr-2"}),"Secure backup"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(nh,{size:16,className:"text-green-500 mr-2"}),"Client galleries"]})]}),r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Get Started"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-gray-200",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Xv,{size:48,className:"mx-auto text-blue-500 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Enterprise"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:["€39.99",r.jsx("span",{className:"text-sm font-normal",children:"/month"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"For large studios"})]}),r.jsxs("ul",{className:"space-y-2 mb-6",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx(Tl,{size:16,className:"text-green-500 mr-2"}),"1 TB Storage"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(ln,{size:16,className:"text-green-500 mr-2"}),"Unlimited clients"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(Gu,{size:16,className:"text-green-500 mr-2"}),"Priority backup"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(nh,{size:16,className:"text-green-500 mr-2"}),"Advanced features"]})]}),r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Get Started"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Features"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4",children:[r.jsx(Gu,{size:32,className:"mx-auto text-blue-500 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Secure Storage"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your images stored safely in Neon cloud"})]}),r.jsxs("div",{className:"text-center p-4",children:[r.jsx(ln,{size:32,className:"mx-auto text-green-500 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Client Access"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clients can view and download their photos"})]}),r.jsxs("div",{className:"text-center p-4",children:[r.jsx(Xv,{size:32,className:"mx-auto text-purple-500 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Automatic Backup"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Never lose your precious work"})]}),r.jsxs("div",{className:"text-center p-4",children:[r.jsx(nh,{size:32,className:"mx-auto text-orange-500 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Pay per GB"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Only pay for what you use"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Coming Soon!"}),r.jsx("p",{className:"text-blue-800",children:"This subscription-based digital storage service is currently in development. Your photography business will soon have access to secure, scalable cloud storage with client gallery features, all powered by Neon database technology."})]})]})});async function DI(e){const t=localStorage.getItem("ADMIN_TOKEN")||"",n=await fetch("/api/admin/email/campaigns",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":t},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to create campaign");return n.json()}async function RI(e,t){const n=localStorage.getItem("ADMIN_TOKEN")||"",s=await fetch(`/api/admin/email/campaigns/${e}`,{method:"PUT",headers:{"Content-Type":"application/json","x-admin-token":n},body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update campaign");return s.json()}async function EIe(){const e=localStorage.getItem("ADMIN_TOKEN")||"",t=await fetch("/api/admin/email/campaigns",{headers:{"x-admin-token":e}});if(!t.ok)throw new Error("Failed to load campaigns");return t.json()}async function FI(e,t){if(!(await fetch("/api/email/campaigns/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:e,...t})})).ok)throw new Error("Failed to send campaign")}async function TIe(e){throw new Error("Sequences are not implemented")}async function OIe(){return[]}async function LIe(){const e=await fetch("/api/email/segments");if(!e.ok)throw new Error("Failed to load segments");return e.json()}async function IIe(e){const n=await fetch("/api/email/templates");if(!n.ok)throw new Error("Failed to load templates");return n.json()}async function MIe(e="month"){const t=await fetch(`/api/email/analytics/overall?period=${e}`);if(!t.ok)throw new Error("Failed to fetch overall analytics");return t.json()}async function DIe(e){const t=await fetch("/api/email/ai/insights");if(!t.ok)throw new Error("Failed to fetch AI insights");return t.json()}async function RIe(e){const t=await fetch("/api/email/ai/recommendations");if(!t.ok)throw new Error("Failed to fetch AI recommendations");return t.json()}async function FIe(e,t){const n=await fetch("/api/email/ai/subject-lines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,audience:t})});if(!n.ok)throw new Error("Failed to generate subject lines");return(await n.json()).suggestions}async function $Ie(e){const t=await fetch(`/api/email/ai/predict-engagement/${e}`);if(!t.ok)throw new Error("Failed to predict engagement");return t.json()}const BIe=({campaign:e,onSave:t,onCancel:n})=>{const[s,a]=j.useState("content"),[i,o]=j.useState({name:"",type:"broadcast",subject:"",preview_text:"",content:"",sender_name:"New Age Fotografie",sender_email:"info@newagefotografie.com",reply_to:"info@newagefotografie.com",status:"draft",segments:[],tags_include:[],tags_exclude:[],ab_test:{enabled:!1,test_type:"subject",variants:[],winner_criteria:"open_rate",test_duration_hours:24,traffic_split:50},send_time_optimization:!1,frequency_capping:{enabled:!1,max_emails_per_day:1,max_emails_per_week:3,max_emails_per_month:12,respect_user_preferences:!0},deliverability_settings:{use_dedicated_ip:!1,ip_warming:!1,domain_authentication:{spf:!0,dkim:!0,dmarc:!0},reputation_monitoring:!0,bounce_handling:"automatic",complaint_handling:"automatic"},compliance_settings:{gdpr_compliant:!0,can_spam_compliant:!0,auto_unsubscribe_link:!0,subscription_preferences:!0,data_retention_days:365,consent_tracking:!0},...e}),[l,c]=j.useState([]),[d,u]=j.useState([]),[h,p]=j.useState([]),[f,x]=j.useState(null),[g,v]=j.useState(!1),[b,_]=j.useState(!1),[w,S]=j.useState(!1);j.useEffect(()=>{A()},[]);const A=async()=>{try{v(!0);const[K,$]=await Promise.all([IIe(),LIe()]);c(K),u($)}catch{}finally{v(!1)}},L=async()=>{if(i.content)try{const K=await FIe(i.content,"photography clients");p(K)}catch{}},P=async()=>{if(i.id)try{const K=await $Ie(i.id);x(K)}catch{}},k=async(K=!1)=>{try{_(!0);const $={...i,status:K?"sending":i.status,updated_at:new Date().toISOString()};let W;if(e?.id?W=await RI(e.id,$):W=await DI({...$,created_at:new Date().toISOString()}),K&&W?.id){S(!0);try{await FI(W.id),t(W)}finally{S(!1)}}else t(W)}catch{}finally{_(!1)}},C=async()=>{try{if(!i.subject||!i.content){alert("Please add a subject and content first.");return}S(!0);let K=null;e?.id?K=await RI(e.id,{...i,updated_at:new Date().toISOString()}):K=await DI({...i,status:"draft",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});const $=window.prompt("Send test email to:","hallo@newagefotografie.com")||void 0;await FI(K.id,{test_send:!0,test_emails:$?[$]:void 0}),alert("Test email queued successfully."),t(K)}catch{alert("Failed to send test email.")}finally{S(!1)}},R=K=>{o($=>({...$,...K}))},E=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name *"}),r.jsx("input",{type:"text",value:i.name,onChange:K=>R({name:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter campaign name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Type"}),r.jsxs("select",{value:i.type,onChange:K=>R({type:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"broadcast",children:"Broadcast"}),r.jsx("option",{value:"drip",children:"Drip Campaign"}),r.jsx("option",{value:"trigger",children:"Trigger-based"}),r.jsx("option",{value:"rss",children:"RSS Campaign"}),r.jsx("option",{value:"transactional",children:"Transactional"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject Line *"}),r.jsxs("button",{onClick:L,className:"flex items-center text-sm text-purple-600 hover:text-purple-700",children:[r.jsx(eg,{size:16,className:"mr-1"}),"AI Suggestions"]})]}),r.jsx("input",{type:"text",value:i.subject,onChange:K=>R({subject:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter subject line"}),h.length>0&&r.jsxs("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-purple-800 mb-2",children:"AI Suggestions:"}),r.jsx("div",{className:"space-y-1",children:h.map((K,$)=>r.jsx("button",{onClick:()=>R({subject:K}),className:"block w-full text-left text-sm text-purple-700 hover:text-purple-900 hover:bg-purple-100 px-2 py-1 rounded",children:K},$))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview Text"}),r.jsx("input",{type:"text",value:i.preview_text,onChange:K=>R({preview_text:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Text shown in email preview"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Template"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.slice(0,6).map(K=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500 hover:shadow-md transition-all",onClick:()=>R({content:K.html_content,design_template:K.id}),children:[r.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-2 flex items-center justify-center",children:r.jsx(Oi,{size:24,className:"text-gray-400"})}),r.jsx("h4",{className:"font-medium text-sm",children:K.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:K.category})]},K.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Content"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[r.jsx(AM,{size:16,className:"mr-1"}),"HTML"]}),r.jsxs("button",{className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[r.jsx(Mn,{size:16,className:"mr-1"}),"Preview"]})]})]}),r.jsx("textarea",{value:i.content,onChange:K=>R({content:K.target.value}),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 font-mono text-sm",placeholder:"Enter your email HTML content..."})]})]}),I=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(Z4,{size:20,className:"text-blue-600 mr-2"}),r.jsx("h3",{className:"font-medium text-blue-900",children:"Audience Targeting"})]}),r.jsx("p",{className:"text-sm text-blue-700",children:"Define who should receive this campaign. You can combine segments, tags, and custom filters."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segments"}),r.jsx("div",{className:"space-y-2",children:d.map(K=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:i.segments?.includes(K.id)||!1,onChange:$=>{const W=i.segments||[],te=$.target.checked?[...W,K.id]:W.filter(J=>J!==K.id);R({segments:te})},className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:K.name}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",K.subscriber_count," subscribers)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:K.description})]})]},K.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include Tags"}),r.jsx("input",{type:"text",placeholder:"Add tags to include (comma-separated)",value:i.tags_include?.join(", ")||"",onChange:K=>R({tags_include:K.target.value.split(",").map($=>$.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Tags"}),r.jsx("input",{type:"text",placeholder:"Add tags to exclude (comma-separated)",value:i.tags_exclude?.join(", ")||"",onChange:K=>R({tags_exclude:K.target.value.split(",").map($=>$.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Estimated Audience"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Based on your targeting criteria"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2,847"}),r.jsx("div",{className:"text-sm text-gray-500",children:"subscribers"})]})]})})]}),B=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sender Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender Name"}),r.jsx("input",{type:"text",value:i.sender_name,onChange:K=>R({sender_name:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender Email"}),r.jsx("input",{type:"email",value:i.sender_email,onChange:K=>R({sender_email:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Send Time Optimization"}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:i.send_time_optimization,onChange:K=>R({send_time_optimization:K.target.checked}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Use AI-powered send time optimization"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Automatically send emails at the optimal time for each subscriber"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frequency Capping"}),r.jsxs("label",{className:"flex items-center mb-4",children:[r.jsx("input",{type:"checkbox",checked:i.frequency_capping?.enabled,onChange:K=>R({frequency_capping:{...i.frequency_capping,enabled:K.target.checked}}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),r.jsx("span",{className:"font-medium",children:"Enable frequency capping"})]}),i.frequency_capping?.enabled&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 ml-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per day"}),r.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_day,onChange:K=>R({frequency_capping:{...i.frequency_capping,max_emails_per_day:parseInt(K.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per week"}),r.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_week,onChange:K=>R({frequency_capping:{...i.frequency_capping,max_emails_per_week:parseInt(K.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per month"}),r.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_month,onChange:K=>R({frequency_capping:{...i.frequency_capping,max_emails_per_month:parseInt(K.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),z=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"A/B Testing"}),r.jsxs("label",{className:"flex items-center mb-4",children:[r.jsx("input",{type:"checkbox",checked:i.ab_test?.enabled,onChange:K=>R({ab_test:{...i.ab_test,enabled:K.target.checked}}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),r.jsx("span",{className:"font-medium",children:"Enable A/B testing"})]}),i.ab_test?.enabled&&r.jsx("div",{className:"space-y-4 ml-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Type"}),r.jsxs("select",{value:i.ab_test.test_type,onChange:K=>R({ab_test:{...i.ab_test,test_type:K.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"subject",children:"Subject Line"}),r.jsx("option",{value:"content",children:"Email Content"}),r.jsx("option",{value:"send_time",children:"Send Time"}),r.jsx("option",{value:"sender",children:"Sender Name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Winner Criteria"}),r.jsxs("select",{value:i.ab_test.winner_criteria,onChange:K=>R({ab_test:{...i.ab_test,winner_criteria:K.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"open_rate",children:"Open Rate"}),r.jsx("option",{value:"click_rate",children:"Click Rate"}),r.jsx("option",{value:"conversion_rate",children:"Conversion Rate"})]})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Prediction"}),r.jsxs("button",{onClick:P,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(eg,{size:16,className:"mr-2"}),"Predict Engagement"]}),f&&r.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"AI Predictions"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(f.predicted_open_rate*100).toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Open Rate"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(f.predicted_click_rate*100).toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Click Rate"})]})]}),r.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:["Confidence: ",(f.confidence*100).toFixed(0),"%"]})]})]})]}),V=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(jr,{size:20,className:"text-green-600 mr-2"}),r.jsx("h3",{className:"font-medium text-green-900",children:"Ready to Send!"})]}),r.jsx("p",{className:"text-sm text-green-700",children:"Your campaign has been configured and is ready to be sent."})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Campaign Summary"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Campaign Name:"}),r.jsx("span",{className:"font-medium",children:i.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subject Line:"}),r.jsx("span",{className:"font-medium",children:i.subject})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Campaign Type:"}),r.jsx("span",{className:"font-medium capitalize",children:i.type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Estimated Recipients:"}),r.jsx("span",{className:"font-medium",children:"2,847 subscribers"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Sender:"}),r.jsxs("span",{className:"font-medium",children:[i.sender_name," <",i.sender_email,">"]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pre-send Checklist"}),r.jsx("div",{className:"space-y-3",children:[{item:"Subject line is compelling and under 50 characters",checked:!0},{item:"Email content includes unsubscribe link",checked:!0},{item:"Images have alt text for accessibility",checked:!1},{item:"Links are working and properly tracked",checked:!0},{item:"Sender information is correct",checked:!0},{item:"Audience targeting is configured",checked:!0}].map((K,$)=>r.jsxs("div",{className:"flex items-center",children:[K.checked?r.jsx(jr,{size:16,className:"text-green-500 mr-3"}):r.jsx(Dr,{size:16,className:"text-yellow-500 mr-3"}),r.jsx("span",{className:K.checked?"text-gray-900":"text-yellow-700",children:K.item})]},$))})]})]}),U=[{id:"content",label:"Content",icon:Oi},{id:"audience",label:"Audience",icon:ln},{id:"settings",label:"Settings",icon:aa},{id:"test",label:"Test & Optimize",icon:DA},{id:"review",label:"Review & Send",icon:Ii}];return g?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"})}):r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Campaign":"Create New Campaign"}),r.jsx("p",{className:"text-gray-600",children:"Build and send professional email campaigns with advanced features"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsxs("button",{onClick:C,disabled:b||w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[w?r.jsx(Mr,{size:16,className:"mr-2 animate-spin"}):r.jsx(DA,{size:16,className:"mr-2"}),"Send Test"]}),r.jsxs("button",{onClick:()=>k(!1),disabled:b,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[b?r.jsx(Mr,{size:16,className:"mr-2 animate-spin"}):r.jsx(Go,{size:16,className:"mr-2"}),"Save Draft"]}),r.jsxs("button",{onClick:()=>k(!0),disabled:b||w,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[b||w?r.jsx(Mr,{size:16,className:"mr-2 animate-spin"}):r.jsx(Ii,{size:16,className:"mr-2"}),"Send Campaign"]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsx("nav",{className:"flex space-x-8",children:U.map(K=>{const $=K.icon;return r.jsxs("button",{onClick:()=>a(K.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===K.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx($,{size:16,className:"mr-2"}),K.label]},K.id)})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s==="content"&&E(),s==="audience"&&I(),s==="settings"&&B(),s==="test"&&z(),s==="review"&&V()]})]})},zIe=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(null),[a,i]=j.useState(!1),[o,l]=j.useState(!0);j.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await OIe();t(f)}catch{}finally{l(!1)}},d=async f=>{try{const x=await TIe(f);t(g=>[x,...g]),i(!1)}catch{}},u=({sequence:f})=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.name}),r.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status}),r.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:r.jsx(aa,{size:16})})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.emails.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Emails"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.subscribers_count}),r.jsx("div",{className:"text-sm text-gray-500",children:"Subscribers"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f.conversion_rate*100).toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Conversion"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${f.trigger_type==="signup"?"bg-blue-500":f.trigger_type==="purchase"?"bg-green-500":f.trigger_type==="behavior"?"bg-purple-500":"bg-gray-400"}`}),"Trigger: ",f.trigger_type]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>s(f),className:"text-blue-600 hover:text-blue-800",children:r.jsx(Aa,{size:16})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:r.jsx(rh,{size:16})}),f.status==="active"?r.jsx("button",{className:"text-yellow-600 hover:text-yellow-800",children:r.jsx(gY,{size:16})}):r.jsx("button",{className:"text-green-600 hover:text-green-800",children:r.jsx(IA,{size:16})})]})]})]}),h=({sequence:f})=>{const[x,g]=j.useState(f.emails||[]),[v,b]=j.useState(!1),[_,w]=j.useState(null),S=()=>{const L={sequence_id:f.id,order:x.length+1,name:`Email ${x.length+1}`,subject:"",content:"",delay_days:x.length===0?0:1,delay_hours:0,status:"active",personalization:{dynamic_content:[],conditional_blocks:[],product_recommendations:!1,behavioral_triggers:[]},open_rate:0,click_rate:0,conversion_rate:0};w(L),b(!0)},A=({email:L,index:P})=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:L.name}),r.jsx("p",{className:"text-sm text-gray-600",children:L.subject})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>{w(L),b(!0)},className:"text-blue-600 hover:text-blue-800",children:r.jsx(Aa,{size:14})}),r.jsx("button",{className:"text-red-600 hover:text-red-800",children:r.jsx(Ts,{size:14})})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center text-gray-500",children:[r.jsx(bs,{size:14,className:"mr-1"}),L.delay_days>0?`${L.delay_days} days`:"Immediate",L.delay_hours>0&&` ${L.delay_hours}h`]}),r.jsxs("div",{className:"flex space-x-4 text-xs",children:[r.jsxs("span",{className:"text-blue-600",children:[(L.open_rate*100).toFixed(1),"% opens"]}),r.jsxs("span",{className:"text-green-600",children:[(L.click_rate*100).toFixed(1),"% clicks"]})]})]}),P<x.length-1&&r.jsx("div",{className:"flex justify-center mt-4",children:r.jsx(_M,{size:20,className:"text-gray-400"})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f.name}),r.jsx("p",{className:"text-gray-600",children:f.description})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[r.jsx(Va,{size:16,className:"mr-2"}),"Analytics"]}),r.jsxs("button",{className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(eg,{size:16,className:"mr-2"}),"AI Optimize"]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Emails"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.subscribers_count}),r.jsx("div",{className:"text-sm text-gray-500",children:"Active Subscribers"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(f.completion_rate*100).toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Completion Rate"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f.conversion_rate*100).toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Conversion Rate"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Sequence Flow"}),r.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Add Email"]})]}),x.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No emails in sequence"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Start building your email sequence by adding your first email."}),r.jsxs("button",{onClick:S,className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Add First Email"]})]}):r.jsx("div",{className:"space-y-4",children:x.map((L,P)=>r.jsx(A,{email:L,index:P},L.id))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trigger Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"signup",children:"User Signup"}),r.jsx("option",{value:"purchase",children:"Purchase Made"}),r.jsx("option",{value:"behavior",children:"Behavioral Trigger"}),r.jsx("option",{value:"date",children:"Date-based"}),r.jsx("option",{value:"manual",children:"Manual Enrollment"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Conditions"}),r.jsx("button",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-left text-gray-500 hover:bg-gray-50",children:"Configure conditions..."})]})]})]})]})},p=()=>{const[f,x]=j.useState({name:"",description:"",trigger_type:"signup",status:"draft"}),g=v=>{v.preventDefault(),d({...f,emails:[],subscribers_count:0,completion_rate:0,conversion_rate:0,tags:[],trigger_conditions:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Email Sequence"}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sequence Name *"}),r.jsx("input",{type:"text",value:f.name,onChange:v=>x({...f,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Welcome Series",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:f.description,onChange:v=>x({...f,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe the purpose of this sequence..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),r.jsxs("select",{value:f.trigger_type,onChange:v=>x({...f,trigger_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"signup",children:"User Signup"}),r.jsx("option",{value:"purchase",children:"Purchase Made"}),r.jsx("option",{value:"behavior",children:"Behavioral Trigger"}),r.jsx("option",{value:"date",children:"Date-based"}),r.jsx("option",{value:"manual",children:"Manual Enrollment"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Sequence"})]})]})]})})};return n?r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",children:[r.jsx(Kf,{size:16,className:"mr-2 rotate-180"}),"Back to Sequences"]}),r.jsx(h,{sequence:n})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Sequences"}),r.jsx("p",{className:"text-gray-600",children:"Create automated email sequences that nurture leads and drive conversions"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Create Sequence"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Sequences"})]}),r.jsx(Tl,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(f=>f.status==="active").length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Active Sequences"})]}),r.jsx(IA,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((f,x)=>f+x.subscribers_count,0).toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Subscribers"})]}),r.jsx(ln,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.length>0?(e.reduce((f,x)=>f+x.conversion_rate,0)/e.length*100).toFixed(1):0,"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Conversion"})]}),r.jsx(_s,{className:"h-8 w-8 text-purple-600"})]})})]}),e.length===0?r.jsxs("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-lg",children:[r.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No email sequences yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first automated email sequence to nurture leads and convert customers."}),r.jsxs("button",{onClick:()=>i(!0),className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Create Your First Sequence"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>r.jsx(u,{sequence:f},f.id))}),a&&r.jsx(p,{})]})},UIe=()=>{const[e,t]=j.useState(null),[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState("month"),[c,d]=j.useState(!0);j.useEffect(()=>{u()},[o]);const u=async()=>{try{d(!0);const[S,A,L]=await Promise.all([MIe(o),DIe(),RIe()]);t(S),s(A),i(L)}catch{}finally{d(!1)}},h=S=>S>=1e6?`${(S/1e6).toFixed(1)}M`:S>=1e3?`${(S/1e3).toFixed(1)}K`:S.toString(),p=S=>`${(S*100).toFixed(1)}%`,f=S=>S>0?"text-green-600":S<0?"text-red-600":"text-gray-600",x=S=>S>0?r.jsx(_s,{size:16,className:"text-green-600"}):S<0?r.jsx(IM,{size:16,className:"text-red-600"}):null,g=({title:S,value:A,change:L,icon:P,color:k})=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:S}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:`text-2xl font-bold ${k}`,children:A}),L!==void 0&&r.jsxs("div",{className:"flex items-center space-x-1",children:[x(L),r.jsxs("span",{className:`text-sm font-medium ${f(L)}`,children:[Math.abs(L).toFixed(1),"%"]})]})]})]}),r.jsx("div",{className:`p-3 rounded-full ${k.replace("text-","bg-").replace("600","100")}`,children:P})]})}),v=({insight:S})=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`p-2 rounded-full ${S.impact==="high"?"bg-red-100":S.impact==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:r.jsx(eg,{size:16,className:S.impact==="high"?"text-red-600":S.impact==="medium"?"text-yellow-600":"text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:S.title}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.impact==="high"?"bg-red-100 text-red-800":S.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[S.impact," impact"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:S.type}),r.jsxs("span",{className:"text-xs text-gray-500",children:[(S.confidence*100).toFixed(0),"% confidence"]})]})]})]})}),b=({recommendation:S})=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:r.jsx(TA,{size:16,className:"text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:S.title}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.effort_level==="low"?"bg-green-100 text-green-800":S.effort_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[S.effort_level," effort"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{className:"text-xs text-purple-600 font-medium",children:S.expected_improvement}),r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:S.type})]})]})]})});if(c)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(hh,{className:"h-8 w-8 text-purple-600 animate-spin"})});if(!e)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No analytics data available"}),r.jsx("p",{className:"text-gray-600",children:"Send some campaigns to see your email marketing analytics."})]});const _=[{name:"Desktop",value:45,color:"#8b5cf6"},{name:"Mobile",value:40,color:"#3b82f6"},{name:"Tablet",value:15,color:"#10b981"}],w=e.metrics.opens.slice(-7).map((S,A)=>({time:new Date(S.date).toLocaleDateString(),opens:S.value,clicks:e.metrics.clicks[A]?.value||0}));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into your email marketing performance"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("select",{value:o,onChange:S=>l(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"day",children:"Last 7 Days"}),r.jsx("option",{value:"week",children:"Last 4 Weeks"}),r.jsx("option",{value:"month",children:"Last 12 Months"}),r.jsx("option",{value:"quarter",children:"Last 4 Quarters"})]}),r.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[r.jsx(rg,{size:16,className:"mr-2"}),"Filter"]}),r.jsxs("button",{className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Vn,{size:16,className:"mr-2"}),"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(g,{title:"Total Sent",value:h(e.metrics.sent.reduce((S,A)=>S+A.value,0)),change:5.2,icon:r.jsx(pr,{size:20}),color:"text-blue-600"}),r.jsx(g,{title:"Open Rate",value:p(.24),change:-2.1,icon:r.jsx(Mn,{size:20}),color:"text-green-600"}),r.jsx(g,{title:"Click Rate",value:p(.035),change:8.7,icon:r.jsx(mY,{size:20}),color:"text-purple-600"}),r.jsx(g,{title:"Unsubscribe Rate",value:p(.002),change:-12.5,icon:r.jsx(MY,{size:20}),color:"text-red-600"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Opens & Clicks Trend"}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Opens"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Clicks"})]})]})]}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(E0,{data:w,children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"time"}),r.jsx(uo,{}),r.jsx($s,{}),r.jsx(fi,{type:"monotone",dataKey:"opens",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),r.jsx(fi,{type:"monotone",dataKey:"clicks",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Breakdown"}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx(_l,{width:"60%",height:200,children:r.jsxs(dk,{children:[r.jsx($l,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:_.map((S,A)=>r.jsx(ex,{fill:S.color},`cell-${A}`))}),r.jsx($s,{})]})}),r.jsx("div",{className:"space-y-3",children:_.map((S,A)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:S.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:[S.value,"% of opens"]})]}),S.name==="Desktop"&&r.jsx(hY,{size:16,className:"text-gray-400"}),S.name==="Mobile"&&r.jsx(Y4,{size:16,className:"text-gray-400"}),S.name==="Tablet"&&r.jsx(Z4,{size:16,className:"text-gray-400"})]},S.name))})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Industry Comparison"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{metric:"Open Rate",your:"24.2%",industry:"21.8%",better:!0},{metric:"Click Rate",your:"3.5%",industry:"2.9%",better:!0},{metric:"Unsubscribe Rate",your:"0.2%",industry:"0.3%",better:!0}].map(S=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:S.metric}),r.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.your}),r.jsx("div",{className:"text-xs text-gray-500",children:"Your Average"})]}),r.jsx("div",{className:`text-sm font-medium ${S.better?"text-green-600":"text-red-600"}`,children:"vs"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-400",children:S.industry}),r.jsx("div",{className:"text-xs text-gray-500",children:"Industry Avg"})]})]})]},S.metric))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Insights"}),r.jsx(eg,{className:"h-5 w-5 text-purple-600"})]}),r.jsx("div",{className:"space-y-4",children:n.slice(0,3).map((S,A)=>r.jsx(v,{insight:S},A))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Recommendations"}),r.jsx(TA,{className:"h-5 w-5 text-purple-600"})]}),r.jsx("div",{className:"space-y-4",children:a.slice(0,3).map((S,A)=>r.jsx(b,{recommendation:S},A))})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Campaigns"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Summer Photography Special",sent:2847,openRate:32.4,clickRate:5.8,revenue:"€1,240",date:"2024-06-15"},{name:"Wedding Season Announcement",sent:1923,openRate:28.7,clickRate:4.2,revenue:"€890",date:"2024-06-10"},{name:"Family Portrait Promotion",sent:3156,openRate:26.1,clickRate:3.9,revenue:"€1,567",date:"2024-06-05"}].map((S,A)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.sent.toLocaleString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[S.openRate,"%"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[S.clickRate,"%"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:S.revenue}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(dn,{size:14,className:"mr-1"}),new Date(S.date).toLocaleDateString()]})})]},A))})]})})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Best Send Times"}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((S,A)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:S}),r.jsx("div",{className:"space-y-1",children:Array.from({length:24},(L,P)=>{const k=Math.random()*100;return r.jsx("div",{className:`h-2 w-full rounded ${k>80?"bg-green-500":k>60?"bg-yellow-500":k>40?"bg-orange-500":"bg-red-500"}`,title:`${P}:00 - ${k.toFixed(1)}% engagement`},P)})})]},S))}),r.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),r.jsx("span",{className:"text-gray-600",children:"High engagement (80%+)"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Good (60-80%)"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Average (40-60%)"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Low (<40%)"})]})]})]})]})},$I=()=>{const[e,t]=j.useState("overview"),[n,s]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,d]=j.useState(!1),u=async()=>{try{d(!0);const _=await EIe();l(_)}catch{}finally{d(!1)}};j.useEffect(()=>{u()},[]);const h=()=>{i(null),s(!0)},p=_=>{s(!1),u()},f=[{id:"overview",label:"Overview",icon:Va},{id:"campaigns",label:"Campaigns",icon:pr},{id:"sequences",label:"Sequences",icon:Tl},{id:"analytics",label:"Analytics",icon:_s},{id:"templates",label:"Templates",icon:MA},{id:"subscribers",label:"Subscribers",icon:ln}],x=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-8 text-white",children:r.jsxs("div",{className:"max-w-4xl",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Advanced Email Marketing Suite"}),r.jsx("p",{className:"text-xl mb-6 text-purple-100",children:"Create, automate, and optimize email campaigns with AI-powered insights that exceed Mailchimp's capabilities."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{onClick:h,className:"flex items-center px-6 py-3 bg-white text-purple-600 rounded-lg hover:bg-gray-100 font-medium",children:[r.jsx(Cr,{size:20,className:"mr-2"}),"Create Campaign"]}),r.jsxs("button",{onClick:()=>t("sequences"),className:"flex items-center px-6 py-3 border border-white/20 text-white rounded-lg hover:bg-white/10 font-medium",children:[r.jsx(Tl,{size:20,className:"mr-2"}),"Build Sequence"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(eg,{size:24,className:"text-purple-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"AI-Powered Optimization"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced AI analyzes your campaigns and provides actionable insights to improve performance."}),r.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[r.jsx("li",{children:"• Smart subject line generation"}),r.jsx("li",{children:"• Send time optimization"}),r.jsx("li",{children:"• Engagement predictions"}),r.jsx("li",{children:"• Content recommendations"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Z4,{size:24,className:"text-blue-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"Advanced Segmentation"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Create sophisticated audience segments with behavioral triggers and custom conditions."}),r.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[r.jsx("li",{children:"• Dynamic segment creation"}),r.jsx("li",{children:"• Behavioral targeting"}),r.jsx("li",{children:"• Custom field filtering"}),r.jsx("li",{children:"• Real-time updates"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Tl,{size:24,className:"text-green-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"Automation Workflows"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Build complex email sequences with conditional logic and multi-path journeys."}),r.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[r.jsx("li",{children:"• Multi-step sequences"}),r.jsx("li",{children:"• Conditional branching"}),r.jsx("li",{children:"• Trigger-based automation"}),r.jsx("li",{children:"• Performance tracking"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"24"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Active Campaigns"})]}),r.jsx(pr,{className:"h-8 w-8 text-blue-600"})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[r.jsx(_s,{size:16,className:"mr-1"}),r.jsx("span",{children:"+12% from last month"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"8.7K"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Subscribers"})]}),r.jsx(ln,{className:"h-8 w-8 text-purple-600"})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[r.jsx(_s,{size:16,className:"mr-1"}),r.jsx("span",{children:"+8% from last month"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"32.4%"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Open Rate"})]}),r.jsx(Mn,{className:"h-8 w-8 text-green-600"})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[r.jsx(_s,{size:16,className:"mr-1"}),r.jsx("span",{children:"+15% from last month"})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"€12.3K"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Revenue Generated"})]}),r.jsx(_s,{className:"h-8 w-8 text-yellow-600"})]}),r.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[r.jsx(_s,{size:16,className:"mr-1"}),r.jsx("span",{children:"+23% from last month"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Campaigns"}),r.jsx("button",{onClick:()=>t("campaigns"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View all campaigns →"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipients"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Summer Photography Special",status:"sent",recipients:2847,openRate:32.4,clickRate:5.8},{name:"Wedding Season Newsletter",status:"sending",recipients:1923,openRate:0,clickRate:0},{name:"Family Portrait Promotion",status:"draft",recipients:0,openRate:0,clickRate:0}].map((_,w)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.status==="sent"?"bg-green-100 text-green-800":_.status==="sending"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:_.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.recipients>0?_.recipients.toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.openRate>0?`${_.openRate}%`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.clickRate>0?`${_.clickRate}%`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:r.jsx(Mn,{size:16})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:r.jsx(aa,{size:16})})]})})]},w))})]})})]})]}),g=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Campaigns"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage your email marketing campaigns"})]}),r.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Create Campaign"]})]}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-0",children:c?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading campaigns…"}):o.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(pr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No campaigns yet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first campaign to get started."}),r.jsxs("button",{onClick:h,className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Create Your First Campaign"]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.status==="sent"?"bg-green-100 text-green-800":_.status==="sending"?"bg-blue-100 text-blue-800":_.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:_.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:_.subject}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_.updated_at).toLocaleString()})]},_.id))})]})})})]}),v=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Templates"}),r.jsx("p",{className:"text-gray-600",children:"Professional templates for all your email marketing needs"})]}),r.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Create Template"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[{name:"Welcome Series",category:"welcome",preview:"/api/placeholder/300/200"},{name:"Newsletter",category:"newsletter",preview:"/api/placeholder/300/200"},{name:"Promotional",category:"promotional",preview:"/api/placeholder/300/200"},{name:"Event Invitation",category:"event",preview:"/api/placeholder/300/200"},{name:"Follow-up",category:"follow_up",preview:"/api/placeholder/300/200"},{name:"Abandoned Cart",category:"cart",preview:"/api/placeholder/300/200"}].map((_,w)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[r.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-3 flex items-center justify-center",children:r.jsx(MA,{size:24,className:"text-gray-400"})}),r.jsx("h4",{className:"font-medium text-gray-900",children:_.name}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:_.category}),r.jsxs("div",{className:"mt-3 flex space-x-2",children:[r.jsx("button",{className:"flex-1 text-xs py-2 px-3 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Use Template"}),r.jsx("button",{className:"text-xs py-2 px-3 border border-gray-300 rounded hover:bg-gray-50",children:"Preview"})]})]},w))})]}),b=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Subscribers"}),r.jsx("p",{className:"text-gray-600",children:"Manage your email subscribers and segments"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Import Subscribers"}),r.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),"Add Subscriber"]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[r.jsx(ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Subscriber management interface"}),r.jsx("p",{className:"text-gray-600",children:"Advanced subscriber list with segmentation, tagging, and bulk operations."})]})]});return n?r.jsx(Nr,{children:r.jsx(BIe,{campaign:a||void 0,onSave:p,onCancel:()=>s(!1)})}):r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8",children:f.map(_=>{const w=_.icon;return r.jsxs("button",{onClick:()=>t(_.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${e===_.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(w,{size:16,className:"mr-2"}),_.label]},_.id)})})}),e==="overview"&&r.jsx(x,{}),e==="campaigns"&&r.jsx(g,{}),e==="sequences"&&r.jsx(zIe,{}),e==="analytics"&&r.jsx(UIe,{}),e==="templates"&&r.jsx(v,{}),e==="subscribers"&&r.jsx(b,{}),"      "]})})};async function qIe(e){const t=await fetch("/api/email/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.error||"Failed to save email settings")}return t.json()}const WIe=({isOpen:e,onClose:t,onSave:n,currentSettings:s})=>{const[a,i]=j.useState(s||{provider:"smtp",smtpHost:"smtp.easyname.com",smtpPort:"465",username:"30840mail10",password:"HoveBN41!",useTLS:!0,syncEnabled:!0,syncInterval:5}),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,h]=j.useState(null),[p,f]=j.useState(!1),x=w=>{const S={gmail:{smtpHost:"smtp.gmail.com",smtpPort:"587"},outlook:{smtpHost:"smtp-mail.outlook.com",smtpPort:"587"},smtp:{smtpHost:"",smtpPort:"587"}};i(A=>({...A,provider:w,...S[w]}))},g=(w,S)=>{i(A=>({...A,[w]:S}))},v=async()=>{l(!0),h(null);try{const w=await fetch("/api/email/test-connection",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:a.provider,smtpHost:a.smtpHost,smtpPort:a.smtpPort,username:a.username,password:a.password,useTLS:a.useTLS})}),S=await w.json();w.ok&&S.success?h({success:!0,message:"Connection successful! Email settings are working correctly."}):h({success:!1,message:S.message||"Connection failed. Please check your credentials and settings."})}catch{h({success:!1,message:"Failed to test connection. Please try again."})}finally{l(!1)}},b=async()=>{f(!0);try{await qIe({smtpHost:a.smtpHost,smtpPort:a.smtpPort,smtpUser:a.username,smtpPass:a.password,fromEmail:a.username,fromName:"New Age Fotografie"}),h({success:!0,message:"Email settings saved successfully!"}),n(a),setTimeout(()=>{t()},1500)}catch{h({success:!1,message:"Failed to save email settings. Please try again."})}finally{f(!1)}},_=async()=>{d(!0);try{const S=await(await fetch("/api/email/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();S.success?h({success:!0,message:`Successfully imported ${S.count} emails`}):h({success:!1,message:S.message||"Failed to import emails"})}catch{h({success:!1,message:"Failed to import emails: Connection error"})}finally{d(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(aa,{className:"h-6 w-6 text-gray-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inbox Settings"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"×"})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Email Provider"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"gmail",label:"Gmail",icon:"📧"},{value:"outlook",label:"Outlook",icon:"📮"},{value:"smtp",label:"Custom SMTP",icon:"⚙️"}].map(w=>r.jsxs("button",{onClick:()=>x(w.value),className:`p-3 border rounded-lg text-center transition-colors ${a.provider===w.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:w.icon}),r.jsx("div",{className:"text-sm font-medium",children:w.label})]},w.value))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(NY,{className:"inline h-4 w-4 mr-1"}),"SMTP Host"]}),r.jsx("input",{type:"text",value:a.smtpHost,onChange:w=>g("smtpHost",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"smtp.gmail.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),r.jsx("input",{type:"text",value:a.smtpPort,onChange:w=>g("smtpPort",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"587"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(Zf,{className:"h-5 w-5 mr-2"}),"Authentication"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(pr,{className:"inline h-4 w-4 mr-1"}),"Email Address"]}),r.jsx("input",{type:"email",value:a.username,onChange:w=>g("username",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@domain.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password/App Password"}),r.jsx("input",{type:"password",value:a.password,onChange:w=>g("password",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security & Sync"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Use TLS Encryption"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Recommended for secure connections"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.useTLS,onChange:w=>g("useTLS",w.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Email Sync"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically sync emails from your inbox"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.syncEnabled,onChange:w=>g("syncEnabled",w.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.syncEnabled&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sync Interval (minutes)"}),r.jsxs("select",{value:a.syncInterval,onChange:w=>g("syncInterval",parseInt(w.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:1,children:"Every 1 minute"}),r.jsx("option",{value:5,children:"Every 5 minutes"}),r.jsx("option",{value:15,children:"Every 15 minutes"}),r.jsx("option",{value:30,children:"Every 30 minutes"}),r.jsx("option",{value:60,children:"Every hour"})]})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Quick Setup Guide"}),r.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Business Email (EasyName):"})," IMAP: imap.easyname.com:993"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"For Gmail:"})," Use your email + App Password (not regular password)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"For Outlook:"})," Use your Microsoft account email + password"]})]})]})}),r.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:v,disabled:o||!a.username||!a.smtpHost,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(PY,{className:`h-4 w-4 ${o?"animate-spin":""}`}),r.jsx("span",{children:o?"Testing...":"Test Connection"})]}),r.jsxs("button",{onClick:_,disabled:c||!a.username||!a.smtpHost,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(pr,{className:`h-4 w-4 ${c?"animate-spin":""}`}),r.jsx("span",{children:c?"Importing...":"Import Emails"})]})]}),u&&r.jsxs("div",{className:`mt-3 p-3 rounded-lg flex items-start space-x-2 ${u.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[u.success?r.jsx(jr,{className:"h-5 w-5 mt-0.5"}):r.jsx(Dr,{className:"h-5 w-5 mt-0.5"}),r.jsx("span",{className:"text-sm",children:u.message})]})]}),a.provider==="gmail"&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Gmail Setup Instructions"}),r.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("p",{children:"1. Enable 2-factor authentication on your Google account"}),r.jsx("p",{children:"2. Generate an App Password for this application"}),r.jsx("p",{children:"3. Use your email address and the App Password above"}),r.jsx("p",{children:"4. Keep TLS encryption enabled"})]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:b,disabled:p||!a.username||!a.smtpHost,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Settings"})]})]})}):null};var Hw={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hw.exports;(function(e,t){(function(){var n,s="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,u="__lodash_placeholder__",h=1,p=2,f=4,x=1,g=2,v=1,b=2,_=4,w=8,S=16,A=32,L=64,P=128,k=256,C=512,R=30,E="...",I=800,B=16,z=1,V=2,U=3,K=1/0,$=9007199254740991,W=17976931348623157e292,te=NaN,J=4294967295,M=J-1,G=J>>>1,X=[["ary",P],["bind",v],["bindKey",b],["curry",w],["curryRight",S],["flip",C],["partial",A],["partialRight",L],["rearg",k]],ie="[object Arguments]",re="[object Array]",fe="[object AsyncFunction]",we="[object Boolean]",Z="[object Date]",Q="[object DOMException]",pe="[object Error]",ge="[object Function]",Ae="[object GeneratorFunction]",Ne="[object Map]",Y="[object Number]",ke="[object Null]",We="[object Object]",Ie="[object Promise]",ze="[object Proxy]",le="[object RegExp]",se="[object Set]",Se="[object String]",Pe="[object Symbol]",$e="[object Undefined]",He="[object WeakMap]",je="[object WeakSet]",Fe="[object ArrayBuffer]",Ze="[object DataView]",tt="[object Float32Array]",it="[object Float64Array]",lt="[object Int8Array]",jt="[object Int16Array]",Lt="[object Int32Array]",Nt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Ur="[object Uint16Array]",It="[object Uint32Array]",Sr=/\b__p \+= '';/g,sr=/\b(__p \+=) '' \+/g,ts=/(__e\(.*?\)|\b__t\)) \+\n'';/g,us=/&(?:amp|lt|gt|quot|#39);/g,nn=/[&<>"']/g,tr=RegExp(us.source),Yr=RegExp(nn.source),Mc=/<%-([\s\S]+?)%>/g,la=/<%([\s\S]+?)%>/g,jo=/<%=([\s\S]+?)%>/g,No=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ut=/^\w*$/,el=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bi=/[\\^$.*+?()[\]{}|]/g,yi=RegExp(Bi.source),Ca=/^\s+/,Kn=/\s/,Is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zs=/\{\n\/\* \[wrapped with (.+)\] \*/,Dc=/,? & /,ql=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zi=/[()=,{}\[\]\/\s]/,So=/\\(\\)?/g,Ui=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vi=/\w*$/,bi=/^[-+]0x[0-9a-f]+$/i,Rc=/^0b[01]+$/i,_o=/^\[object .+?Constructor\]$/,Fc=/^0o[0-7]+$/i,Dd=/^(?:0|[1-9]\d*)$/,Rd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tl=/($^)/,hx=/['\n\r\u2028\u2029\\]/g,Wl="\\ud800-\\udfff",_m="\\u0300-\\u036f",km="\\ufe20-\\ufe2f",wi="\\u20d0-\\u20ff",Fd=_m+km+wi,Ah="\\u2700-\\u27bf",$d="a-z\\xdf-\\xf6\\xf8-\\xff",Am="\\xac\\xb1\\xd7\\xf7",Cm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pm="\\u2000-\\u206f",Bd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Em="A-Z\\xc0-\\xd6\\xd8-\\xde",rs="\\ufe0e\\ufe0f",Ch=Am+Cm+Pm+Bd,zd="['’]",rl="["+Wl+"]",Vl="["+Ch+"]",Pa="["+Fd+"]",Hl="\\d+",ns="["+Ah+"]",Ud="["+$d+"]",Tm="[^"+Wl+Ch+Hl+Ah+$d+Em+"]",Ph="\\ud83c[\\udffb-\\udfff]",fx="(?:"+Pa+"|"+Ph+")",qi="[^"+Wl+"]",qd="(?:\\ud83c[\\udde6-\\uddff]){2}",Wd="[\\ud800-\\udbff][\\udc00-\\udfff]",Za="["+Em+"]",Vd="\\u200d",Om="(?:"+Ud+"|"+Tm+")",mx="(?:"+Za+"|"+Tm+")",Lm="(?:"+zd+"(?:d|ll|m|re|s|t|ve))?",Hd="(?:"+zd+"(?:D|LL|M|RE|S|T|VE))?",Gl=fx+"?",nl="["+rs+"]?",px="(?:"+Vd+"(?:"+[qi,qd,Wd].join("|")+")"+nl+Gl+")*",$c="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Eh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qt=nl+Gl+px,gx="(?:"+[ns,qd,Wd].join("|")+")"+Qt,xx="(?:"+[qi+Pa+"?",Pa,qd,Wd,rl].join("|")+")",yx=RegExp(zd,"g"),vx=RegExp(Pa,"g"),Wi=RegExp(Ph+"(?="+Ph+")|"+xx+Qt,"g"),sl=RegExp([Za+"?"+Ud+"+"+Lm+"(?="+[Vl,Za,"$"].join("|")+")",mx+"+"+Hd+"(?="+[Vl,Za+Om,"$"].join("|")+")",Za+"?"+Om+"+"+Lm,Za+"+"+Hd,Eh,$c,Hl,gx].join("|"),"g"),bx=RegExp("["+Vd+Wl+Fd+rs+"]"),wx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Th=-1,qr={};qr[tt]=qr[it]=qr[lt]=qr[jt]=qr[Lt]=qr[Nt]=qr[qt]=qr[Ur]=qr[It]=!0,qr[ie]=qr[re]=qr[Fe]=qr[we]=qr[Ze]=qr[Z]=qr[pe]=qr[ge]=qr[Ne]=qr[Y]=qr[We]=qr[le]=qr[se]=qr[Se]=qr[He]=!1;var Wr={};Wr[ie]=Wr[re]=Wr[Fe]=Wr[Ze]=Wr[we]=Wr[Z]=Wr[tt]=Wr[it]=Wr[lt]=Wr[jt]=Wr[Lt]=Wr[Ne]=Wr[Y]=Wr[We]=Wr[le]=Wr[se]=Wr[Se]=Wr[Pe]=Wr[Nt]=Wr[qt]=Wr[Ur]=Wr[It]=!0,Wr[pe]=Wr[ge]=Wr[He]=!1;var Kd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},jx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bc=parseFloat,zc=parseInt,Yd=typeof Uo=="object"&&Uo&&Uo.Object===Object&&Uo,Zd=typeof self=="object"&&self&&self.Object===Object&&self,ss=Yd||Zd||Function("return this")(),al=t&&!t.nodeType&&t,Vi=al&&!0&&e&&!e.nodeType&&e,Xd=Vi&&Vi.exports===al,va=Xd&&Yd.process,as=function(){try{var Oe=Vi&&Vi.require&&Vi.require("util").types;return Oe||va&&va.binding&&va.binding("util")}catch{}}(),D=as&&as.isArrayBuffer,ae=as&&as.isDate,be=as&&as.isMap,Ce=as&&as.isRegExp,De=as&&as.isSet,Qe=as&&as.isTypedArray;function rt(Oe,Ge,Ve){switch(Ve.length){case 0:return Oe.call(Ge);case 1:return Oe.call(Ge,Ve[0]);case 2:return Oe.call(Ge,Ve[0],Ve[1]);case 3:return Oe.call(Ge,Ve[0],Ve[1],Ve[2])}return Oe.apply(Ge,Ve)}function _t(Oe,Ge,Ve,gt){for(var Dt=-1,Er=Oe==null?0:Oe.length;++Dt<Er;){var hs=Oe[Dt];Ge(gt,hs,Ve(hs),Oe)}return gt}function yt(Oe,Ge){for(var Ve=-1,gt=Oe==null?0:Oe.length;++Ve<gt&&Ge(Oe[Ve],Ve,Oe)!==!1;);return Oe}function Zt(Oe,Ge){for(var Ve=Oe==null?0:Oe.length;Ve--&&Ge(Oe[Ve],Ve,Oe)!==!1;);return Oe}function ir(Oe,Ge){for(var Ve=-1,gt=Oe==null?0:Oe.length;++Ve<gt;)if(!Ge(Oe[Ve],Ve,Oe))return!1;return!0}function vr(Oe,Ge){for(var Ve=-1,gt=Oe==null?0:Oe.length,Dt=0,Er=[];++Ve<gt;){var hs=Oe[Ve];Ge(hs,Ve,Oe)&&(Er[Dt++]=hs)}return Er}function yn(Oe,Ge){var Ve=Oe==null?0:Oe.length;return!!Ve&&ko(Oe,Ge,0)>-1}function Yn(Oe,Ge,Ve){for(var gt=-1,Dt=Oe==null?0:Oe.length;++gt<Dt;)if(Ve(Ge,Oe[gt]))return!0;return!1}function Bt(Oe,Ge){for(var Ve=-1,gt=Oe==null?0:Oe.length,Dt=Array(gt);++Ve<gt;)Dt[Ve]=Ge(Oe[Ve],Ve,Oe);return Dt}function vn(Oe,Ge){for(var Ve=-1,gt=Ge.length,Dt=Oe.length;++Ve<gt;)Oe[Dt+Ve]=Ge[Ve];return Oe}function Zn(Oe,Ge,Ve,gt){var Dt=-1,Er=Oe==null?0:Oe.length;for(gt&&Er&&(Ve=Oe[++Dt]);++Dt<Er;)Ve=Ge(Ve,Oe[Dt],Dt,Oe);return Ve}function Us(Oe,Ge,Ve,gt){var Dt=Oe==null?0:Oe.length;for(gt&&Dt&&(Ve=Oe[--Dt]);Dt--;)Ve=Ge(Ve,Oe[Dt],Dt,Oe);return Ve}function Hi(Oe,Ge){for(var Ve=-1,gt=Oe==null?0:Oe.length;++Ve<gt;)if(Ge(Oe[Ve],Ve,Oe))return!0;return!1}var Kl=Gi("length");function Nx(Oe){return Oe.split("")}function Im(Oe){return Oe.match(ql)||[]}function Yl(Oe,Ge,Ve){var gt;return Ve(Oe,function(Dt,Er,hs){if(Ge(Dt,Er,hs))return gt=Er,!1}),gt}function Ea(Oe,Ge,Ve,gt){for(var Dt=Oe.length,Er=Ve+(gt?1:-1);gt?Er--:++Er<Dt;)if(Ge(Oe[Er],Er,Oe))return Er;return-1}function ko(Oe,Ge,Ve){return Ge===Ge?Rh(Oe,Ge,Ve):Ea(Oe,il,Ve)}function Jd(Oe,Ge,Ve,gt){for(var Dt=Ve-1,Er=Oe.length;++Dt<Er;)if(gt(Oe[Dt],Ge))return Dt;return-1}function il(Oe){return Oe!==Oe}function ws(Oe,Ge){var Ve=Oe==null?0:Oe.length;return Ve?qs(Oe,Ge)/Ve:te}function Gi(Oe){return function(Ge){return Ge==null?n:Ge[Oe]}}function Ki(Oe){return function(Ge){return Oe==null?n:Oe[Ge]}}function Uc(Oe,Ge,Ve,gt,Dt){return Dt(Oe,function(Er,hs,sn){Ve=gt?(gt=!1,Er):Ge(Ve,Er,hs,sn)}),Ve}function Ih(Oe,Ge){var Ve=Oe.length;for(Oe.sort(Ge);Ve--;)Oe[Ve]=Oe[Ve].value;return Oe}function qs(Oe,Ge){for(var Ve,gt=-1,Dt=Oe.length;++gt<Dt;){var Er=Ge(Oe[gt]);Er!==n&&(Ve=Ve===n?Er:Ve+Er)}return Ve}function Qd(Oe,Ge){for(var Ve=-1,gt=Array(Oe);++Ve<Oe;)gt[Ve]=Ge(Ve);return gt}function eu(Oe,Ge){return Bt(Ge,function(Ve){return[Ve,Oe[Ve]]})}function Mh(Oe){return Oe&&Oe.slice(0,Xl(Oe)+1).replace(Ca,"")}function Vr(Oe){return function(Ge){return Oe(Ge)}}function Ta(Oe,Ge){return Bt(Ge,function(Ve){return Oe[Ve]})}function ol(Oe,Ge){return Oe.has(Ge)}function tu(Oe,Ge){for(var Ve=-1,gt=Oe.length;++Ve<gt&&ko(Ge,Oe[Ve],0)>-1;);return Ve}function ll(Oe,Ge){for(var Ve=Oe.length;Ve--&&ko(Ge,Oe[Ve],0)>-1;);return Ve}function ru(Oe,Ge){for(var Ve=Oe.length,gt=0;Ve--;)Oe[Ve]===Ge&&++gt;return gt}var Oa=Ki(Kd),La=Ki(jx);function qc(Oe){return"\\"+Lh[Oe]}function Ao(Oe,Ge){return Oe==null?n:Oe[Ge]}function Xa(Oe){return bx.test(Oe)}function Dh(Oe){return wx.test(Oe)}function Zl(Oe){for(var Ge,Ve=[];!(Ge=Oe.next()).done;)Ve.push(Ge.value);return Ve}function Dn(Oe){var Ge=-1,Ve=Array(Oe.size);return Oe.forEach(function(gt,Dt){Ve[++Ge]=[Dt,gt]}),Ve}function Mm(Oe,Ge){return function(Ve){return Oe(Ge(Ve))}}function Ws(Oe,Ge){for(var Ve=-1,gt=Oe.length,Dt=0,Er=[];++Ve<gt;){var hs=Oe[Ve];(hs===Ge||hs===u)&&(Oe[Ve]=u,Er[Dt++]=Ve)}return Er}function Ja(Oe){var Ge=-1,Ve=Array(Oe.size);return Oe.forEach(function(gt){Ve[++Ge]=gt}),Ve}function nu(Oe){var Ge=-1,Ve=Array(Oe.size);return Oe.forEach(function(gt){Ve[++Ge]=[gt,gt]}),Ve}function Rh(Oe,Ge,Ve){for(var gt=Ve-1,Dt=Oe.length;++gt<Dt;)if(Oe[gt]===Ge)return gt;return-1}function su(Oe,Ge,Ve){for(var gt=Ve+1;gt--;)if(Oe[gt]===Ge)return gt;return gt}function Yi(Oe){return Xa(Oe)?Fh(Oe):Kl(Oe)}function Vs(Oe){return Xa(Oe)?Qa(Oe):Nx(Oe)}function Xl(Oe){for(var Ge=Oe.length;Ge--&&Kn.test(Oe.charAt(Ge)););return Ge}var cl=Ki(Oh);function Fh(Oe){for(var Ge=Wi.lastIndex=0;Wi.test(Oe);)++Ge;return Ge}function Qa(Oe){return Oe.match(Wi)||[]}function Co(Oe){return Oe.match(sl)||[]}var bn=function Oe(Ge){Ge=Ge==null?ss:Hr.defaults(ss.Object(),Ge,Hr.pick(ss,Gd));var Ve=Ge.Array,gt=Ge.Date,Dt=Ge.Error,Er=Ge.Function,hs=Ge.Math,sn=Ge.Object,Dm=Ge.RegExp,hv=Ge.String,ei=Ge.TypeError,$h=Ve.prototype,fv=Er.prototype,Wc=sn.prototype,Bh=Ge["__core-js_shared__"],zh=fv.toString,Zr=Wc.hasOwnProperty,mv=0,au=function(){var m=/[^.]+$/.exec(Bh&&Bh.keys&&Bh.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),Uh=Wc.toString,pv=zh.call(sn),gv=ss._,xv=Dm("^"+zh.call(Zr).replace(Bi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qh=Xd?Ge.Buffer:n,dl=Ge.Symbol,Wh=Ge.Uint8Array,Sx=qh?qh.allocUnsafe:n,iu=Mm(sn.getPrototypeOf,sn),Vh=sn.create,Ia=Wc.propertyIsEnumerable,ba=$h.splice,Hh=dl?dl.isConcatSpreadable:n,Jl=dl?dl.iterator:n,Ql=dl?dl.toStringTag:n,Vc=function(){try{var m=ef(sn,"defineProperty");return m({},"",{}),m}catch{}}(),Rm=Ge.clearTimeout!==ss.clearTimeout&&Ge.clearTimeout,_x=gt&&gt.now!==ss.Date.now&&gt.now,yv=Ge.setTimeout!==ss.setTimeout&&Ge.setTimeout,ou=hs.ceil,lu=hs.floor,cu=sn.getOwnPropertySymbols,kx=qh?qh.isBuffer:n,vv=Ge.isFinite,pj=$h.join,bv=Mm(sn.keys,sn),js=hs.max,ca=hs.min,gj=gt.now,xj=Ge.parseInt,wv=hs.random,Ax=$h.reverse,Gh=ef(Ge,"DataView"),ul=ef(Ge,"Map"),Cx=ef(Ge,"Promise"),du=ef(Ge,"Set"),uu=ef(Ge,"WeakMap"),Kh=ef(sn,"create"),Fm=uu&&new uu,hu={},yj=tf(Gh),ec=tf(ul),Zi=tf(Cx),hl=tf(du),vj=tf(uu),Yh=dl?dl.prototype:n,ji=Yh?Yh.valueOf:n,ti=Yh?Yh.toString:n;function de(m){if(ms(m)&&!ur(m)&&!(m instanceof _r)){if(m instanceof ri)return m;if(Zr.call(m,"__wrapped__"))return D3(m)}return new ri(m)}var fu=function(){function m(){}return function(y){if(!ls(y))return{};if(Vh)return Vh(y);m.prototype=y;var O=new m;return m.prototype=n,O}}();function Zh(){}function ri(m,y){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}de.templateSettings={escape:Mc,evaluate:la,interpolate:jo,variable:"",imports:{_:de}},de.prototype=Zh.prototype,de.prototype.constructor=de,ri.prototype=fu(Zh.prototype),ri.prototype.constructor=ri;function _r(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function jv(){var m=new _r(this.__wrapped__);return m.__actions__=Ni(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Ni(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Ni(this.__views__),m}function bj(){if(this.__filtered__){var m=new _r(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function $m(){var m=this.__wrapped__.value(),y=this.__dir__,O=ur(m),q=y<0,ne=O?m.length:0,he=iq(0,ne,this.__views__),_e=he.start,Te=he.end,Re=Te-_e,st=q?Te:_e-1,at=this.__iteratees__,ot=at.length,pt=0,Et=ca(Re,this.__takeCount__);if(!O||!q&&ne==Re&&Et==Re)return Qh(m,this.__actions__);var Ht=[];e:for(;Re--&&pt<Et;){st+=y;for(var br=-1,Gt=m[st];++br<ot;){var Tr=at[br],Fr=Tr.iteratee,to=Tr.type,li=Fr(Gt);if(to==V)Gt=li;else if(!li){if(to==z)continue e;break e}}Ht[pt++]=Gt}return Ht}_r.prototype=fu(Zh.prototype),_r.prototype.constructor=_r;function Po(m){var y=-1,O=m==null?0:m.length;for(this.clear();++y<O;){var q=m[y];this.set(q[0],q[1])}}function Xh(){this.__data__=Kh?Kh(null):{},this.size=0}function Px(m){var y=this.has(m)&&delete this.__data__[m];return this.size-=y?1:0,y}function Nv(m){var y=this.__data__;if(Kh){var O=y[m];return O===c?n:O}return Zr.call(y,m)?y[m]:n}function wj(m){var y=this.__data__;return Kh?y[m]!==n:Zr.call(y,m)}function Sv(m,y){var O=this.__data__;return this.size+=this.has(m)?0:1,O[m]=Kh&&y===n?c:y,this}Po.prototype.clear=Xh,Po.prototype.delete=Px,Po.prototype.get=Nv,Po.prototype.has=wj,Po.prototype.set=Sv;function fl(m){var y=-1,O=m==null?0:m.length;for(this.clear();++y<O;){var q=m[y];this.set(q[0],q[1])}}function jj(){this.__data__=[],this.size=0}function Nj(m){var y=this.__data__,O=Ue(y,m);if(O<0)return!1;var q=y.length-1;return O==q?y.pop():ba.call(y,O,1),--this.size,!0}function Sj(m){var y=this.__data__,O=Ue(y,m);return O<0?n:y[O][1]}function _j(m){return Ue(this.__data__,m)>-1}function kj(m,y){var O=this.__data__,q=Ue(O,m);return q<0?(++this.size,O.push([m,y])):O[q][1]=y,this}fl.prototype.clear=jj,fl.prototype.delete=Nj,fl.prototype.get=Sj,fl.prototype.has=_j,fl.prototype.set=kj;function Eo(m){var y=-1,O=m==null?0:m.length;for(this.clear();++y<O;){var q=m[y];this.set(q[0],q[1])}}function Bm(){this.size=0,this.__data__={hash:new Po,map:new(ul||fl),string:new Po}}function Aj(m){var y=$v(this,m).delete(m);return this.size-=y?1:0,y}function Cj(m){return $v(this,m).get(m)}function _v(m){return $v(this,m).has(m)}function N(m,y){var O=$v(this,m),q=O.size;return O.set(m,y),this.size+=O.size==q?0:1,this}Eo.prototype.clear=Bm,Eo.prototype.delete=Aj,Eo.prototype.get=Cj,Eo.prototype.has=_v,Eo.prototype.set=N;function T(m){var y=-1,O=m==null?0:m.length;for(this.__data__=new Eo;++y<O;)this.add(m[y])}function F(m){return this.__data__.set(m,c),this}function H(m){return this.__data__.has(m)}T.prototype.add=T.prototype.push=F,T.prototype.has=H;function ee(m){var y=this.__data__=new fl(m);this.size=y.size}function oe(){this.__data__=new fl,this.size=0}function ce(m){var y=this.__data__,O=y.delete(m);return this.size=y.size,O}function ue(m){return this.__data__.get(m)}function me(m){return this.__data__.has(m)}function ye(m,y){var O=this.__data__;if(O instanceof fl){var q=O.__data__;if(!ul||q.length<a-1)return q.push([m,y]),this.size=++O.size,this;O=this.__data__=new Eo(q)}return O.set(m,y),this.size=O.size,this}ee.prototype.clear=oe,ee.prototype.delete=ce,ee.prototype.get=ue,ee.prototype.has=me,ee.prototype.set=ye;function Le(m,y){var O=ur(m),q=!O&&rf(m),ne=!O&&!q&&Nu(m),he=!O&&!q&&!ne&&Zm(m),_e=O||q||ne||he,Te=_e?Qd(m.length,hv):[],Re=Te.length;for(var st in m)(y||Zr.call(m,st))&&!(_e&&(st=="length"||ne&&(st=="offset"||st=="parent")||he&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||Zc(st,Re)))&&Te.push(st);return Te}function qe(m){var y=m.length;return y?m[yu(0,y-1)]:n}function ve(m,y){return Bv(Ni(m),xt(y,0,m.length))}function Me(m){return Bv(Ni(m))}function Be(m,y,O){(O!==n&&!xl(m[y],O)||O===n&&!(y in m))&&nt(m,y,O)}function Ye(m,y,O){var q=m[y];(!(Zr.call(m,y)&&xl(q,O))||O===n&&!(y in m))&&nt(m,y,O)}function Ue(m,y){for(var O=m.length;O--;)if(xl(m[O][0],y))return O;return-1}function Xe(m,y,O,q){return vt(m,function(ne,he,_e){y(q,ne,O(ne),_e)}),q}function et(m,y){return m&&ac(y,ua(y),m)}function ct(m,y){return m&&ac(y,_i(y),m)}function nt(m,y,O){y=="__proto__"&&Vc?Vc(m,y,{configurable:!0,enumerable:!0,value:O,writable:!0}):m[y]=O}function Ct(m,y){for(var O=-1,q=y.length,ne=Ve(q),he=m==null;++O<q;)ne[O]=he?n:Zj(m,y[O]);return ne}function xt(m,y,O){return m===m&&(O!==n&&(m=m<=O?m:O),y!==n&&(m=m>=y?m:y)),m}function Ft(m,y,O,q,ne,he){var _e,Te=y&h,Re=y&p,st=y&f;if(O&&(_e=ne?O(m,q,ne,he):O(m)),_e!==n)return _e;if(!ls(m))return m;var at=ur(m);if(at){if(_e=lq(m),!Te)return Ni(m,_e)}else{var ot=Fa(m),pt=ot==ge||ot==Ae;if(Nu(m))return Hm(m,Te);if(ot==We||ot==ie||pt&&!ne){if(_e=Re||pt?{}:A3(m),!Te)return Re?XU(m,ct(_e,m)):ZU(m,et(_e,m))}else{if(!Wr[ot])return ne?m:{};_e=cq(m,ot,Te)}}he||(he=new ee);var Et=he.get(m);if(Et)return Et;he.set(m,_e),rA(m)?m.forEach(function(Gt){_e.add(Ft(Gt,y,O,Gt,m,he))}):eA(m)&&m.forEach(function(Gt,Tr){_e.set(Tr,Ft(Gt,y,O,Tr,m,he))});var Ht=st?Re?Dj:Mj:Re?_i:ua,br=at?n:Ht(m);return yt(br||m,function(Gt,Tr){br&&(Tr=Gt,Gt=m[Tr]),Ye(_e,Tr,Ft(Gt,y,O,Tr,m,he))}),_e}function At(m){var y=ua(m);return function(O){return kr(O,m,y)}}function kr(m,y,O){var q=O.length;if(m==null)return!q;for(m=sn(m);q--;){var ne=O[q],he=y[ne],_e=m[ne];if(_e===n&&!(ne in m)||!he(_e))return!1}return!0}function fs(m,y,O){if(typeof m!="function")throw new ei(o);return Fx(function(){m.apply(n,O)},y)}function rr(m,y,O,q){var ne=-1,he=yn,_e=!0,Te=m.length,Re=[],st=y.length;if(!Te)return Re;O&&(y=Bt(y,Vr(O))),q?(he=Yn,_e=!1):y.length>=a&&(he=ol,_e=!1,y=new T(y));e:for(;++ne<Te;){var at=m[ne],ot=O==null?at:O(at);if(at=q||at!==0?at:0,_e&&ot===ot){for(var pt=st;pt--;)if(y[pt]===ot)continue e;Re.push(at)}else he(y,ot,q)||Re.push(at)}return Re}var vt=f3(_n),ft=f3(Gs,!0);function is(m,y){var O=!0;return vt(m,function(q,ne,he){return O=!!y(q,ne,he),O}),O}function er(m,y,O){for(var q=-1,ne=m.length;++q<ne;){var he=m[q],_e=y(he);if(_e!=null&&(Te===n?_e===_e&&!eo(_e):O(_e,Te)))var Te=_e,Re=he}return Re}function Ir(m,y,O,q){var ne=m.length;for(O=xr(O),O<0&&(O=-O>ne?0:ne+O),q=q===n||q>ne?ne:xr(q),q<0&&(q+=ne),q=O>q?0:sA(q);O<q;)m[O++]=y;return m}function wn(m,y){var O=[];return vt(m,function(q,ne,he){y(q,ne,he)&&O.push(q)}),O}function Rr(m,y,O,q,ne){var he=-1,_e=m.length;for(O||(O=uq),ne||(ne=[]);++he<_e;){var Te=m[he];y>0&&O(Te)?y>1?Rr(Te,y-1,O,q,ne):vn(ne,Te):q||(ne[ne.length]=Te)}return ne}var Hs=m3(),Rn=m3(!0);function _n(m,y){return m&&Hs(m,y,ua)}function Gs(m,y){return m&&Rn(m,y,ua)}function Xn(m,y){return vr(y,function(O){return Xc(m[O])})}function gr(m,y){y=Oo(y,m);for(var O=0,q=y.length;m!=null&&O<q;)m=m[ic(y[O++])];return O&&O==q?m:n}function Xr(m,y,O){var q=y(m);return ur(m)?q:vn(q,O(m))}function Ar(m){return m==null?m===n?$e:ke:Ql&&Ql in sn(m)?aq(m):yq(m)}function Gr(m,y){return m>y}function Ks(m,y){return m!=null&&Zr.call(m,y)}function Xi(m,y){return m!=null&&y in sn(m)}function os(m,y,O){return m>=ca(y,O)&&m<js(y,O)}function da(m,y,O){for(var q=O?Yn:yn,ne=m[0].length,he=m.length,_e=he,Te=Ve(he),Re=1/0,st=[];_e--;){var at=m[_e];_e&&y&&(at=Bt(at,Vr(y))),Re=ca(at.length,Re),Te[_e]=!O&&(y||ne>=120&&at.length>=120)?new T(_e&&at):n}at=m[0];var ot=-1,pt=Te[0];e:for(;++ot<ne&&st.length<Re;){var Et=at[ot],Ht=y?y(Et):Et;if(Et=O||Et!==0?Et:0,!(pt?ol(pt,Ht):q(st,Ht,O))){for(_e=he;--_e;){var br=Te[_e];if(!(br?ol(br,Ht):q(m[_e],Ht,O)))continue e}pt&&pt.push(Ht),st.push(Et)}}return st}function hn(m,y,O,q){return _n(m,function(ne,he,_e){y(q,O(ne),he,_e)}),q}function Fn(m,y,O){y=Oo(y,m),m=T3(m,y);var q=m==null?m:m[ic(Lo(y))];return q==null?n:rt(q,m,O)}function Ma(m){return ms(m)&&Ar(m)==ie}function wa(m){return ms(m)&&Ar(m)==Fe}function ni(m){return ms(m)&&Ar(m)==Z}function Ys(m,y,O,q,ne){return m===y?!0:m==null||y==null||!ms(m)&&!ms(y)?m!==m&&y!==y:Da(m,y,O,q,Ys,ne)}function Da(m,y,O,q,ne,he){var _e=ur(m),Te=ur(y),Re=_e?re:Fa(m),st=Te?re:Fa(y);Re=Re==ie?We:Re,st=st==ie?We:st;var at=Re==We,ot=st==We,pt=Re==st;if(pt&&Nu(m)){if(!Nu(y))return!1;_e=!0,at=!1}if(pt&&!at)return he||(he=new ee),_e||Zm(m)?S3(m,y,O,q,ne,he):nq(m,y,Re,O,q,ne,he);if(!(O&x)){var Et=at&&Zr.call(m,"__wrapped__"),Ht=ot&&Zr.call(y,"__wrapped__");if(Et||Ht){var br=Et?m.value():m,Gt=Ht?y.value():y;return he||(he=new ee),ne(br,Gt,O,q,he)}}return pt?(he||(he=new ee),sq(m,y,O,q,ne,he)):!1}function si(m){return ms(m)&&Fa(m)==Ne}function an(m,y,O,q){var ne=O.length,he=ne,_e=!q;if(m==null)return!he;for(m=sn(m);ne--;){var Te=O[ne];if(_e&&Te[2]?Te[1]!==m[Te[0]]:!(Te[0]in m))return!1}for(;++ne<he;){Te=O[ne];var Re=Te[0],st=m[Re],at=Te[1];if(_e&&Te[2]){if(st===n&&!(Re in m))return!1}else{var ot=new ee;if(q)var pt=q(st,at,Re,m,y,ot);if(!(pt===n?Ys(at,st,x|g,q,ot):pt))return!1}}return!0}function Ra(m){if(!ls(m)||fq(m))return!1;var y=Xc(m)?xv:_o;return y.test(tf(m))}function Ji(m){return ms(m)&&Ar(m)==le}function Hc(m){return ms(m)&&Fa(m)==se}function ml(m){return ms(m)&&Hv(m.length)&&!!qr[Ar(m)]}function Ms(m){return typeof m=="function"?m:m==null?ki:typeof m=="object"?ur(m)?Av(m[0],m[1]):kv(m):pA(m)}function mu(m){if(!Rx(m))return bv(m);var y=[];for(var O in sn(m))Zr.call(m,O)&&O!="constructor"&&y.push(O);return y}function Ex(m){if(!ls(m))return xq(m);var y=Rx(m),O=[];for(var q in m)q=="constructor"&&(y||!Zr.call(m,q))||O.push(q);return O}function pu(m,y){return m<y}function gu(m,y){var O=-1,q=Si(m)?Ve(m.length):[];return vt(m,function(ne,he,_e){q[++O]=y(ne,he,_e)}),q}function kv(m){var y=Fj(m);return y.length==1&&y[0][2]?P3(y[0][0],y[0][1]):function(O){return O===m||an(O,m,y)}}function Av(m,y){return Bj(m)&&C3(y)?P3(ic(m),y):function(O){var q=Zj(O,m);return q===n&&q===y?Xj(O,m):Ys(y,q,x|g)}}function xu(m,y,O,q,ne){m!==y&&Hs(y,function(he,_e){if(ne||(ne=new ee),ls(he))tc(m,y,_e,O,xu,q,ne);else{var Te=q?q(Uj(m,_e),he,_e+"",m,y,ne):n;Te===n&&(Te=he),Be(m,_e,Te)}},_i)}function tc(m,y,O,q,ne,he,_e){var Te=Uj(m,O),Re=Uj(y,O),st=_e.get(Re);if(st){Be(m,O,st);return}var at=he?he(Te,Re,O+"",m,y,_e):n,ot=at===n;if(ot){var pt=ur(Re),Et=!pt&&Nu(Re),Ht=!pt&&!Et&&Zm(Re);at=Re,pt||Et||Ht?ur(Te)?at=Te:Ns(Te)?at=Ni(Te):Et?(ot=!1,at=Hm(Re,!0)):Ht?(ot=!1,at=c3(Re,!0)):at=[]:$x(Re)||rf(Re)?(at=Te,rf(Te)?at=aA(Te):(!ls(Te)||Xc(Te))&&(at=A3(Re))):ot=!1}ot&&(_e.set(Re,at),ne(at,Re,q,he,_e),_e.delete(Re)),Be(m,O,at)}function Cv(m,y){var O=m.length;if(O)return y+=y<0?O:0,Zc(y,O)?m[y]:n}function Pv(m,y,O){y.length?y=Bt(y,function(he){return ur(he)?function(_e){return gr(_e,he.length===1?he[0]:he)}:he}):y=[ki];var q=-1;y=Bt(y,Vr(Wt()));var ne=gu(m,function(he,_e,Te){var Re=Bt(y,function(st){return st(he)});return{criteria:Re,index:++q,value:he}});return Ih(ne,function(he,_e){return YU(he,_e,O)})}function Pj(m,y){return Tx(m,y,function(O,q){return Xj(m,q)})}function Tx(m,y,O){for(var q=-1,ne=y.length,he={};++q<ne;){var _e=y[q],Te=gr(m,_e);O(Te,_e)&&vu(he,Oo(_e,m),Te)}return he}function zm(m){return function(y){return gr(y,m)}}function Um(m,y,O,q){var ne=q?Jd:ko,he=-1,_e=y.length,Te=m;for(m===y&&(y=Ni(y)),O&&(Te=Bt(m,Vr(O)));++he<_e;)for(var Re=0,st=y[he],at=O?O(st):st;(Re=ne(Te,at,Re,q))>-1;)Te!==m&&ba.call(Te,Re,1),ba.call(m,Re,1);return m}function Ox(m,y){for(var O=m?y.length:0,q=O-1;O--;){var ne=y[O];if(O==q||ne!==he){var he=ne;Zc(ne)?ba.call(m,ne,1):Mx(m,ne)}}return m}function yu(m,y){return m+lu(wv()*(y-m+1))}function Lx(m,y,O,q){for(var ne=-1,he=js(ou((y-m)/(O||1)),0),_e=Ve(he);he--;)_e[q?he:++ne]=m,m+=O;return _e}function Gc(m,y){var O="";if(!m||y<1||y>$)return O;do y%2&&(O+=m),y=lu(y/2),y&&(m+=m);while(y);return O}function fr(m,y){return qj(E3(m,y,ki),m+"")}function Ej(m){return qe(Xm(m))}function qm(m,y){var O=Xm(m);return Bv(O,xt(y,0,O.length))}function vu(m,y,O,q){if(!ls(m))return m;y=Oo(y,m);for(var ne=-1,he=y.length,_e=he-1,Te=m;Te!=null&&++ne<he;){var Re=ic(y[ne]),st=O;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return m;if(ne!=_e){var at=Te[Re];st=q?q(at,Re,Te):n,st===n&&(st=ls(at)?at:Zc(y[ne+1])?[]:{})}Ye(Te,Re,st),Te=Te[Re]}return m}var Wm=Fm?function(m,y){return Fm.set(m,y),m}:ki,rc=Vc?function(m,y){return Vc(m,"toString",{configurable:!0,enumerable:!1,value:Qj(y),writable:!0})}:ki;function Ev(m){return Bv(Xm(m))}function ai(m,y,O){var q=-1,ne=m.length;y<0&&(y=-y>ne?0:ne+y),O=O>ne?ne:O,O<0&&(O+=ne),ne=y>O?0:O-y>>>0,y>>>=0;for(var he=Ve(ne);++q<ne;)he[q]=m[q+y];return he}function Tj(m,y){var O;return vt(m,function(q,ne,he){return O=y(q,ne,he),!O}),!!O}function Jh(m,y,O){var q=0,ne=m==null?q:m.length;if(typeof y=="number"&&y===y&&ne<=G){for(;q<ne;){var he=q+ne>>>1,_e=m[he];_e!==null&&!eo(_e)&&(O?_e<=y:_e<y)?q=he+1:ne=he}return ne}return nc(m,y,ki,O)}function nc(m,y,O,q){var ne=0,he=m==null?0:m.length;if(he===0)return 0;y=O(y);for(var _e=y!==y,Te=y===null,Re=eo(y),st=y===n;ne<he;){var at=lu((ne+he)/2),ot=O(m[at]),pt=ot!==n,Et=ot===null,Ht=ot===ot,br=eo(ot);if(_e)var Gt=q||Ht;else st?Gt=Ht&&(q||pt):Te?Gt=Ht&&pt&&(q||!Et):Re?Gt=Ht&&pt&&!Et&&(q||!br):Et||br?Gt=!1:Gt=q?ot<=y:ot<y;Gt?ne=at+1:he=at}return ca(he,M)}function Tv(m,y){for(var O=-1,q=m.length,ne=0,he=[];++O<q;){var _e=m[O],Te=y?y(_e):_e;if(!O||!xl(Te,Re)){var Re=Te;he[ne++]=_e===0?0:_e}}return he}function Ix(m){return typeof m=="number"?m:eo(m)?te:+m}function ii(m){if(typeof m=="string")return m;if(ur(m))return Bt(m,ii)+"";if(eo(m))return ti?ti.call(m):"";var y=m+"";return y=="0"&&1/m==-K?"-0":y}function pl(m,y,O){var q=-1,ne=yn,he=m.length,_e=!0,Te=[],Re=Te;if(O)_e=!1,ne=Yn;else if(he>=a){var st=y?null:tq(m);if(st)return Ja(st);_e=!1,ne=ol,Re=new T}else Re=y?[]:Te;e:for(;++q<he;){var at=m[q],ot=y?y(at):at;if(at=O||at!==0?at:0,_e&&ot===ot){for(var pt=Re.length;pt--;)if(Re[pt]===ot)continue e;y&&Re.push(ot),Te.push(at)}else ne(Re,ot,O)||(Re!==Te&&Re.push(ot),Te.push(at))}return Te}function Mx(m,y){return y=Oo(y,m),m=T3(m,y),m==null||delete m[ic(Lo(y))]}function bu(m,y,O,q){return vu(m,y,O(gr(m,y)),q)}function wu(m,y,O,q){for(var ne=m.length,he=q?ne:-1;(q?he--:++he<ne)&&y(m[he],he,m););return O?ai(m,q?0:he,q?he+1:ne):ai(m,q?he+1:0,q?ne:he)}function Qh(m,y){var O=m;return O instanceof _r&&(O=O.value()),Zn(y,function(q,ne){return ne.func.apply(ne.thisArg,vn([q],ne.args))},O)}function Qi(m,y,O){var q=m.length;if(q<2)return q?pl(m[0]):[];for(var ne=-1,he=Ve(q);++ne<q;)for(var _e=m[ne],Te=-1;++Te<q;)Te!=ne&&(he[ne]=rr(he[ne]||_e,m[Te],y,O));return pl(Rr(he,1),y,O)}function gl(m,y,O){for(var q=-1,ne=m.length,he=y.length,_e={};++q<ne;){var Te=q<he?y[q]:n;O(_e,m[q],Te)}return _e}function To(m){return Ns(m)?m:[]}function ju(m){return typeof m=="function"?m:ki}function Oo(m,y){return ur(m)?m:Bj(m,y)?[m]:M3(on(m))}var Ov=fr;function sc(m,y,O){var q=m.length;return O=O===n?q:O,!y&&O>=q?m:ai(m,y,O)}var Vm=Rm||function(m){return ss.clearTimeout(m)};function Hm(m,y){if(y)return m.slice();var O=m.length,q=Sx?Sx(O):new m.constructor(O);return m.copy(q),q}function Oj(m){var y=new m.constructor(m.byteLength);return new Wh(y).set(new Wh(m)),y}function HU(m,y){var O=y?Oj(m.buffer):m.buffer;return new m.constructor(O,m.byteOffset,m.byteLength)}function GU(m){var y=new m.constructor(m.source,vi.exec(m));return y.lastIndex=m.lastIndex,y}function KU(m){return ji?sn(ji.call(m)):{}}function c3(m,y){var O=y?Oj(m.buffer):m.buffer;return new m.constructor(O,m.byteOffset,m.length)}function d3(m,y){if(m!==y){var O=m!==n,q=m===null,ne=m===m,he=eo(m),_e=y!==n,Te=y===null,Re=y===y,st=eo(y);if(!Te&&!st&&!he&&m>y||he&&_e&&Re&&!Te&&!st||q&&_e&&Re||!O&&Re||!ne)return 1;if(!q&&!he&&!st&&m<y||st&&O&&ne&&!q&&!he||Te&&O&&ne||!_e&&ne||!Re)return-1}return 0}function YU(m,y,O){for(var q=-1,ne=m.criteria,he=y.criteria,_e=ne.length,Te=O.length;++q<_e;){var Re=d3(ne[q],he[q]);if(Re){if(q>=Te)return Re;var st=O[q];return Re*(st=="desc"?-1:1)}}return m.index-y.index}function u3(m,y,O,q){for(var ne=-1,he=m.length,_e=O.length,Te=-1,Re=y.length,st=js(he-_e,0),at=Ve(Re+st),ot=!q;++Te<Re;)at[Te]=y[Te];for(;++ne<_e;)(ot||ne<he)&&(at[O[ne]]=m[ne]);for(;st--;)at[Te++]=m[ne++];return at}function h3(m,y,O,q){for(var ne=-1,he=m.length,_e=-1,Te=O.length,Re=-1,st=y.length,at=js(he-Te,0),ot=Ve(at+st),pt=!q;++ne<at;)ot[ne]=m[ne];for(var Et=ne;++Re<st;)ot[Et+Re]=y[Re];for(;++_e<Te;)(pt||ne<he)&&(ot[Et+O[_e]]=m[ne++]);return ot}function Ni(m,y){var O=-1,q=m.length;for(y||(y=Ve(q));++O<q;)y[O]=m[O];return y}function ac(m,y,O,q){var ne=!O;O||(O={});for(var he=-1,_e=y.length;++he<_e;){var Te=y[he],Re=q?q(O[Te],m[Te],Te,O,m):n;Re===n&&(Re=m[Te]),ne?nt(O,Te,Re):Ye(O,Te,Re)}return O}function ZU(m,y){return ac(m,$j(m),y)}function XU(m,y){return ac(m,_3(m),y)}function Lv(m,y){return function(O,q){var ne=ur(O)?_t:Xe,he=y?y():{};return ne(O,m,Wt(q,2),he)}}function Gm(m){return fr(function(y,O){var q=-1,ne=O.length,he=ne>1?O[ne-1]:n,_e=ne>2?O[2]:n;for(he=m.length>3&&typeof he=="function"?(ne--,he):n,_e&&oi(O[0],O[1],_e)&&(he=ne<3?n:he,ne=1),y=sn(y);++q<ne;){var Te=O[q];Te&&m(y,Te,q,he)}return y})}function f3(m,y){return function(O,q){if(O==null)return O;if(!Si(O))return m(O,q);for(var ne=O.length,he=y?ne:-1,_e=sn(O);(y?he--:++he<ne)&&q(_e[he],he,_e)!==!1;);return O}}function m3(m){return function(y,O,q){for(var ne=-1,he=sn(y),_e=q(y),Te=_e.length;Te--;){var Re=_e[m?Te:++ne];if(O(he[Re],Re,he)===!1)break}return y}}function JU(m,y,O){var q=y&v,ne=Dx(m);function he(){var _e=this&&this!==ss&&this instanceof he?ne:m;return _e.apply(q?O:this,arguments)}return he}function p3(m){return function(y){y=on(y);var O=Xa(y)?Vs(y):n,q=O?O[0]:y.charAt(0),ne=O?sc(O,1).join(""):y.slice(1);return q[m]()+ne}}function Km(m){return function(y){return Zn(fA(hA(y).replace(yx,"")),m,"")}}function Dx(m){return function(){var y=arguments;switch(y.length){case 0:return new m;case 1:return new m(y[0]);case 2:return new m(y[0],y[1]);case 3:return new m(y[0],y[1],y[2]);case 4:return new m(y[0],y[1],y[2],y[3]);case 5:return new m(y[0],y[1],y[2],y[3],y[4]);case 6:return new m(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new m(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var O=fu(m.prototype),q=m.apply(O,y);return ls(q)?q:O}}function QU(m,y,O){var q=Dx(m);function ne(){for(var he=arguments.length,_e=Ve(he),Te=he,Re=Ym(ne);Te--;)_e[Te]=arguments[Te];var st=he<3&&_e[0]!==Re&&_e[he-1]!==Re?[]:Ws(_e,Re);if(he-=st.length,he<O)return b3(m,y,Iv,ne.placeholder,n,_e,st,n,n,O-he);var at=this&&this!==ss&&this instanceof ne?q:m;return rt(at,this,_e)}return ne}function g3(m){return function(y,O,q){var ne=sn(y);if(!Si(y)){var he=Wt(O,3);y=ua(y),O=function(Te){return he(ne[Te],Te,ne)}}var _e=m(y,O,q);return _e>-1?ne[he?y[_e]:_e]:n}}function x3(m){return Yc(function(y){var O=y.length,q=O,ne=ri.prototype.thru;for(m&&y.reverse();q--;){var he=y[q];if(typeof he!="function")throw new ei(o);if(ne&&!_e&&Fv(he)=="wrapper")var _e=new ri([],!0)}for(q=_e?q:O;++q<O;){he=y[q];var Te=Fv(he),Re=Te=="wrapper"?Rj(he):n;Re&&zj(Re[0])&&Re[1]==(P|w|A|k)&&!Re[4].length&&Re[9]==1?_e=_e[Fv(Re[0])].apply(_e,Re[3]):_e=he.length==1&&zj(he)?_e[Te]():_e.thru(he)}return function(){var st=arguments,at=st[0];if(_e&&st.length==1&&ur(at))return _e.plant(at).value();for(var ot=0,pt=O?y[ot].apply(this,st):at;++ot<O;)pt=y[ot].call(this,pt);return pt}})}function Iv(m,y,O,q,ne,he,_e,Te,Re,st){var at=y&P,ot=y&v,pt=y&b,Et=y&(w|S),Ht=y&C,br=pt?n:Dx(m);function Gt(){for(var Tr=arguments.length,Fr=Ve(Tr),to=Tr;to--;)Fr[to]=arguments[to];if(Et)var li=Ym(Gt),ro=ru(Fr,li);if(q&&(Fr=u3(Fr,q,ne,Et)),he&&(Fr=h3(Fr,he,_e,Et)),Tr-=ro,Et&&Tr<st){var Ss=Ws(Fr,li);return b3(m,y,Iv,Gt.placeholder,O,Fr,Ss,Te,Re,st-Tr)}var yl=ot?O:this,Qc=pt?yl[m]:m;return Tr=Fr.length,Te?Fr=vq(Fr,Te):Ht&&Tr>1&&Fr.reverse(),at&&Re<Tr&&(Fr.length=Re),this&&this!==ss&&this instanceof Gt&&(Qc=br||Dx(Qc)),Qc.apply(yl,Fr)}return Gt}function y3(m,y){return function(O,q){return hn(O,m,y(q),{})}}function Mv(m,y){return function(O,q){var ne;if(O===n&&q===n)return y;if(O!==n&&(ne=O),q!==n){if(ne===n)return q;typeof O=="string"||typeof q=="string"?(O=ii(O),q=ii(q)):(O=Ix(O),q=Ix(q)),ne=m(O,q)}return ne}}function Lj(m){return Yc(function(y){return y=Bt(y,Vr(Wt())),fr(function(O){var q=this;return m(y,function(ne){return rt(ne,q,O)})})})}function Dv(m,y){y=y===n?" ":ii(y);var O=y.length;if(O<2)return O?Gc(y,m):y;var q=Gc(y,ou(m/Yi(y)));return Xa(y)?sc(Vs(q),0,m).join(""):q.slice(0,m)}function eq(m,y,O,q){var ne=y&v,he=Dx(m);function _e(){for(var Te=-1,Re=arguments.length,st=-1,at=q.length,ot=Ve(at+Re),pt=this&&this!==ss&&this instanceof _e?he:m;++st<at;)ot[st]=q[st];for(;Re--;)ot[st++]=arguments[++Te];return rt(pt,ne?O:this,ot)}return _e}function v3(m){return function(y,O,q){return q&&typeof q!="number"&&oi(y,O,q)&&(O=q=n),y=Jc(y),O===n?(O=y,y=0):O=Jc(O),q=q===n?y<O?1:-1:Jc(q),Lx(y,O,q,m)}}function Rv(m){return function(y,O){return typeof y=="string"&&typeof O=="string"||(y=Io(y),O=Io(O)),m(y,O)}}function b3(m,y,O,q,ne,he,_e,Te,Re,st){var at=y&w,ot=at?_e:n,pt=at?n:_e,Et=at?he:n,Ht=at?n:he;y|=at?A:L,y&=~(at?L:A),y&_||(y&=~(v|b));var br=[m,y,ne,Et,ot,Ht,pt,Te,Re,st],Gt=O.apply(n,br);return zj(m)&&O3(Gt,br),Gt.placeholder=q,L3(Gt,m,y)}function Ij(m){var y=hs[m];return function(O,q){if(O=Io(O),q=q==null?0:ca(xr(q),292),q&&vv(O)){var ne=(on(O)+"e").split("e"),he=y(ne[0]+"e"+(+ne[1]+q));return ne=(on(he)+"e").split("e"),+(ne[0]+"e"+(+ne[1]-q))}return y(O)}}var tq=du&&1/Ja(new du([,-0]))[1]==K?function(m){return new du(m)}:rN;function w3(m){return function(y){var O=Fa(y);return O==Ne?Dn(y):O==se?nu(y):eu(y,m(y))}}function Kc(m,y,O,q,ne,he,_e,Te){var Re=y&b;if(!Re&&typeof m!="function")throw new ei(o);var st=q?q.length:0;if(st||(y&=~(A|L),q=ne=n),_e=_e===n?_e:js(xr(_e),0),Te=Te===n?Te:xr(Te),st-=ne?ne.length:0,y&L){var at=q,ot=ne;q=ne=n}var pt=Re?n:Rj(m),Et=[m,y,O,q,ne,at,ot,he,_e,Te];if(pt&&gq(Et,pt),m=Et[0],y=Et[1],O=Et[2],q=Et[3],ne=Et[4],Te=Et[9]=Et[9]===n?Re?0:m.length:js(Et[9]-st,0),!Te&&y&(w|S)&&(y&=~(w|S)),!y||y==v)var Ht=JU(m,y,O);else y==w||y==S?Ht=QU(m,y,Te):(y==A||y==(v|A))&&!ne.length?Ht=eq(m,y,O,q):Ht=Iv.apply(n,Et);var br=pt?Wm:O3;return L3(br(Ht,Et),m,y)}function j3(m,y,O,q){return m===n||xl(m,Wc[O])&&!Zr.call(q,O)?y:m}function N3(m,y,O,q,ne,he){return ls(m)&&ls(y)&&(he.set(y,m),xu(m,y,n,N3,he),he.delete(y)),m}function rq(m){return $x(m)?n:m}function S3(m,y,O,q,ne,he){var _e=O&x,Te=m.length,Re=y.length;if(Te!=Re&&!(_e&&Re>Te))return!1;var st=he.get(m),at=he.get(y);if(st&&at)return st==y&&at==m;var ot=-1,pt=!0,Et=O&g?new T:n;for(he.set(m,y),he.set(y,m);++ot<Te;){var Ht=m[ot],br=y[ot];if(q)var Gt=_e?q(br,Ht,ot,y,m,he):q(Ht,br,ot,m,y,he);if(Gt!==n){if(Gt)continue;pt=!1;break}if(Et){if(!Hi(y,function(Tr,Fr){if(!ol(Et,Fr)&&(Ht===Tr||ne(Ht,Tr,O,q,he)))return Et.push(Fr)})){pt=!1;break}}else if(!(Ht===br||ne(Ht,br,O,q,he))){pt=!1;break}}return he.delete(m),he.delete(y),pt}function nq(m,y,O,q,ne,he,_e){switch(O){case Ze:if(m.byteLength!=y.byteLength||m.byteOffset!=y.byteOffset)return!1;m=m.buffer,y=y.buffer;case Fe:return!(m.byteLength!=y.byteLength||!he(new Wh(m),new Wh(y)));case we:case Z:case Y:return xl(+m,+y);case pe:return m.name==y.name&&m.message==y.message;case le:case Se:return m==y+"";case Ne:var Te=Dn;case se:var Re=q&x;if(Te||(Te=Ja),m.size!=y.size&&!Re)return!1;var st=_e.get(m);if(st)return st==y;q|=g,_e.set(m,y);var at=S3(Te(m),Te(y),q,ne,he,_e);return _e.delete(m),at;case Pe:if(ji)return ji.call(m)==ji.call(y)}return!1}function sq(m,y,O,q,ne,he){var _e=O&x,Te=Mj(m),Re=Te.length,st=Mj(y),at=st.length;if(Re!=at&&!_e)return!1;for(var ot=Re;ot--;){var pt=Te[ot];if(!(_e?pt in y:Zr.call(y,pt)))return!1}var Et=he.get(m),Ht=he.get(y);if(Et&&Ht)return Et==y&&Ht==m;var br=!0;he.set(m,y),he.set(y,m);for(var Gt=_e;++ot<Re;){pt=Te[ot];var Tr=m[pt],Fr=y[pt];if(q)var to=_e?q(Fr,Tr,pt,y,m,he):q(Tr,Fr,pt,m,y,he);if(!(to===n?Tr===Fr||ne(Tr,Fr,O,q,he):to)){br=!1;break}Gt||(Gt=pt=="constructor")}if(br&&!Gt){var li=m.constructor,ro=y.constructor;li!=ro&&"constructor"in m&&"constructor"in y&&!(typeof li=="function"&&li instanceof li&&typeof ro=="function"&&ro instanceof ro)&&(br=!1)}return he.delete(m),he.delete(y),br}function Yc(m){return qj(E3(m,n,$3),m+"")}function Mj(m){return Xr(m,ua,$j)}function Dj(m){return Xr(m,_i,_3)}var Rj=Fm?function(m){return Fm.get(m)}:rN;function Fv(m){for(var y=m.name+"",O=hu[y],q=Zr.call(hu,y)?O.length:0;q--;){var ne=O[q],he=ne.func;if(he==null||he==m)return ne.name}return y}function Ym(m){var y=Zr.call(de,"placeholder")?de:m;return y.placeholder}function Wt(){var m=de.iteratee||eN;return m=m===eN?Ms:m,arguments.length?m(arguments[0],arguments[1]):m}function $v(m,y){var O=m.__data__;return hq(y)?O[typeof y=="string"?"string":"hash"]:O.map}function Fj(m){for(var y=ua(m),O=y.length;O--;){var q=y[O],ne=m[q];y[O]=[q,ne,C3(ne)]}return y}function ef(m,y){var O=Ao(m,y);return Ra(O)?O:n}function aq(m){var y=Zr.call(m,Ql),O=m[Ql];try{m[Ql]=n;var q=!0}catch{}var ne=Uh.call(m);return q&&(y?m[Ql]=O:delete m[Ql]),ne}var $j=cu?function(m){return m==null?[]:(m=sn(m),vr(cu(m),function(y){return Ia.call(m,y)}))}:nN,_3=cu?function(m){for(var y=[];m;)vn(y,$j(m)),m=iu(m);return y}:nN,Fa=Ar;(Gh&&Fa(new Gh(new ArrayBuffer(1)))!=Ze||ul&&Fa(new ul)!=Ne||Cx&&Fa(Cx.resolve())!=Ie||du&&Fa(new du)!=se||uu&&Fa(new uu)!=He)&&(Fa=function(m){var y=Ar(m),O=y==We?m.constructor:n,q=O?tf(O):"";if(q)switch(q){case yj:return Ze;case ec:return Ne;case Zi:return Ie;case hl:return se;case vj:return He}return y});function iq(m,y,O){for(var q=-1,ne=O.length;++q<ne;){var he=O[q],_e=he.size;switch(he.type){case"drop":m+=_e;break;case"dropRight":y-=_e;break;case"take":y=ca(y,m+_e);break;case"takeRight":m=js(m,y-_e);break}}return{start:m,end:y}}function oq(m){var y=m.match(zs);return y?y[1].split(Dc):[]}function k3(m,y,O){y=Oo(y,m);for(var q=-1,ne=y.length,he=!1;++q<ne;){var _e=ic(y[q]);if(!(he=m!=null&&O(m,_e)))break;m=m[_e]}return he||++q!=ne?he:(ne=m==null?0:m.length,!!ne&&Hv(ne)&&Zc(_e,ne)&&(ur(m)||rf(m)))}function lq(m){var y=m.length,O=new m.constructor(y);return y&&typeof m[0]=="string"&&Zr.call(m,"index")&&(O.index=m.index,O.input=m.input),O}function A3(m){return typeof m.constructor=="function"&&!Rx(m)?fu(iu(m)):{}}function cq(m,y,O){var q=m.constructor;switch(y){case Fe:return Oj(m);case we:case Z:return new q(+m);case Ze:return HU(m,O);case tt:case it:case lt:case jt:case Lt:case Nt:case qt:case Ur:case It:return c3(m,O);case Ne:return new q;case Y:case Se:return new q(m);case le:return GU(m);case se:return new q;case Pe:return KU(m)}}function dq(m,y){var O=y.length;if(!O)return m;var q=O-1;return y[q]=(O>1?"& ":"")+y[q],y=y.join(O>2?", ":" "),m.replace(Is,`{
/* [wrapped with `+y+`] */
`)}function uq(m){return ur(m)||rf(m)||!!(Hh&&m&&m[Hh])}function Zc(m,y){var O=typeof m;return y=y??$,!!y&&(O=="number"||O!="symbol"&&Dd.test(m))&&m>-1&&m%1==0&&m<y}function oi(m,y,O){if(!ls(O))return!1;var q=typeof y;return(q=="number"?Si(O)&&Zc(y,O.length):q=="string"&&y in O)?xl(O[y],m):!1}function Bj(m,y){if(ur(m))return!1;var O=typeof m;return O=="number"||O=="symbol"||O=="boolean"||m==null||eo(m)?!0:Ut.test(m)||!No.test(m)||y!=null&&m in sn(y)}function hq(m){var y=typeof m;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?m!=="__proto__":m===null}function zj(m){var y=Fv(m),O=de[y];if(typeof O!="function"||!(y in _r.prototype))return!1;if(m===O)return!0;var q=Rj(O);return!!q&&m===q[0]}function fq(m){return!!au&&au in m}var mq=Bh?Xc:sN;function Rx(m){var y=m&&m.constructor,O=typeof y=="function"&&y.prototype||Wc;return m===O}function C3(m){return m===m&&!ls(m)}function P3(m,y){return function(O){return O==null?!1:O[m]===y&&(y!==n||m in sn(O))}}function pq(m){var y=Wv(m,function(q){return O.size===d&&O.clear(),q}),O=y.cache;return y}function gq(m,y){var O=m[1],q=y[1],ne=O|q,he=ne<(v|b|P),_e=q==P&&O==w||q==P&&O==k&&m[7].length<=y[8]||q==(P|k)&&y[7].length<=y[8]&&O==w;if(!(he||_e))return m;q&v&&(m[2]=y[2],ne|=O&v?0:_);var Te=y[3];if(Te){var Re=m[3];m[3]=Re?u3(Re,Te,y[4]):Te,m[4]=Re?Ws(m[3],u):y[4]}return Te=y[5],Te&&(Re=m[5],m[5]=Re?h3(Re,Te,y[6]):Te,m[6]=Re?Ws(m[5],u):y[6]),Te=y[7],Te&&(m[7]=Te),q&P&&(m[8]=m[8]==null?y[8]:ca(m[8],y[8])),m[9]==null&&(m[9]=y[9]),m[0]=y[0],m[1]=ne,m}function xq(m){var y=[];if(m!=null)for(var O in sn(m))y.push(O);return y}function yq(m){return Uh.call(m)}function E3(m,y,O){return y=js(y===n?m.length-1:y,0),function(){for(var q=arguments,ne=-1,he=js(q.length-y,0),_e=Ve(he);++ne<he;)_e[ne]=q[y+ne];ne=-1;for(var Te=Ve(y+1);++ne<y;)Te[ne]=q[ne];return Te[y]=O(_e),rt(m,this,Te)}}function T3(m,y){return y.length<2?m:gr(m,ai(y,0,-1))}function vq(m,y){for(var O=m.length,q=ca(y.length,O),ne=Ni(m);q--;){var he=y[q];m[q]=Zc(he,O)?ne[he]:n}return m}function Uj(m,y){if(!(y==="constructor"&&typeof m[y]=="function")&&y!="__proto__")return m[y]}var O3=I3(Wm),Fx=yv||function(m,y){return ss.setTimeout(m,y)},qj=I3(rc);function L3(m,y,O){var q=y+"";return qj(m,dq(q,bq(oq(q),O)))}function I3(m){var y=0,O=0;return function(){var q=gj(),ne=B-(q-O);if(O=q,ne>0){if(++y>=I)return arguments[0]}else y=0;return m.apply(n,arguments)}}function Bv(m,y){var O=-1,q=m.length,ne=q-1;for(y=y===n?q:y;++O<y;){var he=yu(O,ne),_e=m[he];m[he]=m[O],m[O]=_e}return m.length=y,m}var M3=pq(function(m){var y=[];return m.charCodeAt(0)===46&&y.push(""),m.replace(el,function(O,q,ne,he){y.push(ne?he.replace(So,"$1"):q||O)}),y});function ic(m){if(typeof m=="string"||eo(m))return m;var y=m+"";return y=="0"&&1/m==-K?"-0":y}function tf(m){if(m!=null){try{return zh.call(m)}catch{}try{return m+""}catch{}}return""}function bq(m,y){return yt(X,function(O){var q="_."+O[0];y&O[1]&&!yn(m,q)&&m.push(q)}),m.sort()}function D3(m){if(m instanceof _r)return m.clone();var y=new ri(m.__wrapped__,m.__chain__);return y.__actions__=Ni(m.__actions__),y.__index__=m.__index__,y.__values__=m.__values__,y}function wq(m,y,O){(O?oi(m,y,O):y===n)?y=1:y=js(xr(y),0);var q=m==null?0:m.length;if(!q||y<1)return[];for(var ne=0,he=0,_e=Ve(ou(q/y));ne<q;)_e[he++]=ai(m,ne,ne+=y);return _e}function jq(m){for(var y=-1,O=m==null?0:m.length,q=0,ne=[];++y<O;){var he=m[y];he&&(ne[q++]=he)}return ne}function Nq(){var m=arguments.length;if(!m)return[];for(var y=Ve(m-1),O=arguments[0],q=m;q--;)y[q-1]=arguments[q];return vn(ur(O)?Ni(O):[O],Rr(y,1))}var Sq=fr(function(m,y){return Ns(m)?rr(m,Rr(y,1,Ns,!0)):[]}),_q=fr(function(m,y){var O=Lo(y);return Ns(O)&&(O=n),Ns(m)?rr(m,Rr(y,1,Ns,!0),Wt(O,2)):[]}),kq=fr(function(m,y){var O=Lo(y);return Ns(O)&&(O=n),Ns(m)?rr(m,Rr(y,1,Ns,!0),n,O):[]});function Aq(m,y,O){var q=m==null?0:m.length;return q?(y=O||y===n?1:xr(y),ai(m,y<0?0:y,q)):[]}function Cq(m,y,O){var q=m==null?0:m.length;return q?(y=O||y===n?1:xr(y),y=q-y,ai(m,0,y<0?0:y)):[]}function Pq(m,y){return m&&m.length?wu(m,Wt(y,3),!0,!0):[]}function Eq(m,y){return m&&m.length?wu(m,Wt(y,3),!0):[]}function Tq(m,y,O,q){var ne=m==null?0:m.length;return ne?(O&&typeof O!="number"&&oi(m,y,O)&&(O=0,q=ne),Ir(m,y,O,q)):[]}function R3(m,y,O){var q=m==null?0:m.length;if(!q)return-1;var ne=O==null?0:xr(O);return ne<0&&(ne=js(q+ne,0)),Ea(m,Wt(y,3),ne)}function F3(m,y,O){var q=m==null?0:m.length;if(!q)return-1;var ne=q-1;return O!==n&&(ne=xr(O),ne=O<0?js(q+ne,0):ca(ne,q-1)),Ea(m,Wt(y,3),ne,!0)}function $3(m){var y=m==null?0:m.length;return y?Rr(m,1):[]}function Oq(m){var y=m==null?0:m.length;return y?Rr(m,K):[]}function Lq(m,y){var O=m==null?0:m.length;return O?(y=y===n?1:xr(y),Rr(m,y)):[]}function Iq(m){for(var y=-1,O=m==null?0:m.length,q={};++y<O;){var ne=m[y];q[ne[0]]=ne[1]}return q}function B3(m){return m&&m.length?m[0]:n}function Mq(m,y,O){var q=m==null?0:m.length;if(!q)return-1;var ne=O==null?0:xr(O);return ne<0&&(ne=js(q+ne,0)),ko(m,y,ne)}function Dq(m){var y=m==null?0:m.length;return y?ai(m,0,-1):[]}var Rq=fr(function(m){var y=Bt(m,To);return y.length&&y[0]===m[0]?da(y):[]}),Fq=fr(function(m){var y=Lo(m),O=Bt(m,To);return y===Lo(O)?y=n:O.pop(),O.length&&O[0]===m[0]?da(O,Wt(y,2)):[]}),$q=fr(function(m){var y=Lo(m),O=Bt(m,To);return y=typeof y=="function"?y:n,y&&O.pop(),O.length&&O[0]===m[0]?da(O,n,y):[]});function Bq(m,y){return m==null?"":pj.call(m,y)}function Lo(m){var y=m==null?0:m.length;return y?m[y-1]:n}function zq(m,y,O){var q=m==null?0:m.length;if(!q)return-1;var ne=q;return O!==n&&(ne=xr(O),ne=ne<0?js(q+ne,0):ca(ne,q-1)),y===y?su(m,y,ne):Ea(m,il,ne,!0)}function Uq(m,y){return m&&m.length?Cv(m,xr(y)):n}var qq=fr(z3);function z3(m,y){return m&&m.length&&y&&y.length?Um(m,y):m}function Wq(m,y,O){return m&&m.length&&y&&y.length?Um(m,y,Wt(O,2)):m}function Vq(m,y,O){return m&&m.length&&y&&y.length?Um(m,y,n,O):m}var Hq=Yc(function(m,y){var O=m==null?0:m.length,q=Ct(m,y);return Ox(m,Bt(y,function(ne){return Zc(ne,O)?+ne:ne}).sort(d3)),q});function Gq(m,y){var O=[];if(!(m&&m.length))return O;var q=-1,ne=[],he=m.length;for(y=Wt(y,3);++q<he;){var _e=m[q];y(_e,q,m)&&(O.push(_e),ne.push(q))}return Ox(m,ne),O}function Wj(m){return m==null?m:Ax.call(m)}function Kq(m,y,O){var q=m==null?0:m.length;return q?(O&&typeof O!="number"&&oi(m,y,O)?(y=0,O=q):(y=y==null?0:xr(y),O=O===n?q:xr(O)),ai(m,y,O)):[]}function Yq(m,y){return Jh(m,y)}function Zq(m,y,O){return nc(m,y,Wt(O,2))}function Xq(m,y){var O=m==null?0:m.length;if(O){var q=Jh(m,y);if(q<O&&xl(m[q],y))return q}return-1}function Jq(m,y){return Jh(m,y,!0)}function Qq(m,y,O){return nc(m,y,Wt(O,2),!0)}function eW(m,y){var O=m==null?0:m.length;if(O){var q=Jh(m,y,!0)-1;if(xl(m[q],y))return q}return-1}function tW(m){return m&&m.length?Tv(m):[]}function rW(m,y){return m&&m.length?Tv(m,Wt(y,2)):[]}function nW(m){var y=m==null?0:m.length;return y?ai(m,1,y):[]}function sW(m,y,O){return m&&m.length?(y=O||y===n?1:xr(y),ai(m,0,y<0?0:y)):[]}function aW(m,y,O){var q=m==null?0:m.length;return q?(y=O||y===n?1:xr(y),y=q-y,ai(m,y<0?0:y,q)):[]}function iW(m,y){return m&&m.length?wu(m,Wt(y,3),!1,!0):[]}function oW(m,y){return m&&m.length?wu(m,Wt(y,3)):[]}var lW=fr(function(m){return pl(Rr(m,1,Ns,!0))}),cW=fr(function(m){var y=Lo(m);return Ns(y)&&(y=n),pl(Rr(m,1,Ns,!0),Wt(y,2))}),dW=fr(function(m){var y=Lo(m);return y=typeof y=="function"?y:n,pl(Rr(m,1,Ns,!0),n,y)});function uW(m){return m&&m.length?pl(m):[]}function hW(m,y){return m&&m.length?pl(m,Wt(y,2)):[]}function fW(m,y){return y=typeof y=="function"?y:n,m&&m.length?pl(m,n,y):[]}function Vj(m){if(!(m&&m.length))return[];var y=0;return m=vr(m,function(O){if(Ns(O))return y=js(O.length,y),!0}),Qd(y,function(O){return Bt(m,Gi(O))})}function U3(m,y){if(!(m&&m.length))return[];var O=Vj(m);return y==null?O:Bt(O,function(q){return rt(y,n,q)})}var mW=fr(function(m,y){return Ns(m)?rr(m,y):[]}),pW=fr(function(m){return Qi(vr(m,Ns))}),gW=fr(function(m){var y=Lo(m);return Ns(y)&&(y=n),Qi(vr(m,Ns),Wt(y,2))}),xW=fr(function(m){var y=Lo(m);return y=typeof y=="function"?y:n,Qi(vr(m,Ns),n,y)}),yW=fr(Vj);function vW(m,y){return gl(m||[],y||[],Ye)}function bW(m,y){return gl(m||[],y||[],vu)}var wW=fr(function(m){var y=m.length,O=y>1?m[y-1]:n;return O=typeof O=="function"?(m.pop(),O):n,U3(m,O)});function q3(m){var y=de(m);return y.__chain__=!0,y}function jW(m,y){return y(m),m}function zv(m,y){return y(m)}var NW=Yc(function(m){var y=m.length,O=y?m[0]:0,q=this.__wrapped__,ne=function(he){return Ct(he,m)};return y>1||this.__actions__.length||!(q instanceof _r)||!Zc(O)?this.thru(ne):(q=q.slice(O,+O+(y?1:0)),q.__actions__.push({func:zv,args:[ne],thisArg:n}),new ri(q,this.__chain__).thru(function(he){return y&&!he.length&&he.push(n),he}))});function SW(){return q3(this)}function _W(){return new ri(this.value(),this.__chain__)}function kW(){this.__values__===n&&(this.__values__=nA(this.value()));var m=this.__index__>=this.__values__.length,y=m?n:this.__values__[this.__index__++];return{done:m,value:y}}function AW(){return this}function CW(m){for(var y,O=this;O instanceof Zh;){var q=D3(O);q.__index__=0,q.__values__=n,y?ne.__wrapped__=q:y=q;var ne=q;O=O.__wrapped__}return ne.__wrapped__=m,y}function PW(){var m=this.__wrapped__;if(m instanceof _r){var y=m;return this.__actions__.length&&(y=new _r(this)),y=y.reverse(),y.__actions__.push({func:zv,args:[Wj],thisArg:n}),new ri(y,this.__chain__)}return this.thru(Wj)}function EW(){return Qh(this.__wrapped__,this.__actions__)}var TW=Lv(function(m,y,O){Zr.call(m,O)?++m[O]:nt(m,O,1)});function OW(m,y,O){var q=ur(m)?ir:is;return O&&oi(m,y,O)&&(y=n),q(m,Wt(y,3))}function LW(m,y){var O=ur(m)?vr:wn;return O(m,Wt(y,3))}var IW=g3(R3),MW=g3(F3);function DW(m,y){return Rr(Uv(m,y),1)}function RW(m,y){return Rr(Uv(m,y),K)}function FW(m,y,O){return O=O===n?1:xr(O),Rr(Uv(m,y),O)}function W3(m,y){var O=ur(m)?yt:vt;return O(m,Wt(y,3))}function V3(m,y){var O=ur(m)?Zt:ft;return O(m,Wt(y,3))}var $W=Lv(function(m,y,O){Zr.call(m,O)?m[O].push(y):nt(m,O,[y])});function BW(m,y,O,q){m=Si(m)?m:Xm(m),O=O&&!q?xr(O):0;var ne=m.length;return O<0&&(O=js(ne+O,0)),Gv(m)?O<=ne&&m.indexOf(y,O)>-1:!!ne&&ko(m,y,O)>-1}var zW=fr(function(m,y,O){var q=-1,ne=typeof y=="function",he=Si(m)?Ve(m.length):[];return vt(m,function(_e){he[++q]=ne?rt(y,_e,O):Fn(_e,y,O)}),he}),UW=Lv(function(m,y,O){nt(m,O,y)});function Uv(m,y){var O=ur(m)?Bt:gu;return O(m,Wt(y,3))}function qW(m,y,O,q){return m==null?[]:(ur(y)||(y=y==null?[]:[y]),O=q?n:O,ur(O)||(O=O==null?[]:[O]),Pv(m,y,O))}var WW=Lv(function(m,y,O){m[O?0:1].push(y)},function(){return[[],[]]});function VW(m,y,O){var q=ur(m)?Zn:Uc,ne=arguments.length<3;return q(m,Wt(y,4),O,ne,vt)}function HW(m,y,O){var q=ur(m)?Us:Uc,ne=arguments.length<3;return q(m,Wt(y,4),O,ne,ft)}function GW(m,y){var O=ur(m)?vr:wn;return O(m,Vv(Wt(y,3)))}function KW(m){var y=ur(m)?qe:Ej;return y(m)}function YW(m,y,O){(O?oi(m,y,O):y===n)?y=1:y=xr(y);var q=ur(m)?ve:qm;return q(m,y)}function ZW(m){var y=ur(m)?Me:Ev;return y(m)}function XW(m){if(m==null)return 0;if(Si(m))return Gv(m)?Yi(m):m.length;var y=Fa(m);return y==Ne||y==se?m.size:mu(m).length}function JW(m,y,O){var q=ur(m)?Hi:Tj;return O&&oi(m,y,O)&&(y=n),q(m,Wt(y,3))}var QW=fr(function(m,y){if(m==null)return[];var O=y.length;return O>1&&oi(m,y[0],y[1])?y=[]:O>2&&oi(y[0],y[1],y[2])&&(y=[y[0]]),Pv(m,Rr(y,1),[])}),qv=_x||function(){return ss.Date.now()};function eV(m,y){if(typeof y!="function")throw new ei(o);return m=xr(m),function(){if(--m<1)return y.apply(this,arguments)}}function H3(m,y,O){return y=O?n:y,y=m&&y==null?m.length:y,Kc(m,P,n,n,n,n,y)}function G3(m,y){var O;if(typeof y!="function")throw new ei(o);return m=xr(m),function(){return--m>0&&(O=y.apply(this,arguments)),m<=1&&(y=n),O}}var Hj=fr(function(m,y,O){var q=v;if(O.length){var ne=Ws(O,Ym(Hj));q|=A}return Kc(m,q,y,O,ne)}),K3=fr(function(m,y,O){var q=v|b;if(O.length){var ne=Ws(O,Ym(K3));q|=A}return Kc(y,q,m,O,ne)});function Y3(m,y,O){y=O?n:y;var q=Kc(m,w,n,n,n,n,n,y);return q.placeholder=Y3.placeholder,q}function Z3(m,y,O){y=O?n:y;var q=Kc(m,S,n,n,n,n,n,y);return q.placeholder=Z3.placeholder,q}function X3(m,y,O){var q,ne,he,_e,Te,Re,st=0,at=!1,ot=!1,pt=!0;if(typeof m!="function")throw new ei(o);y=Io(y)||0,ls(O)&&(at=!!O.leading,ot="maxWait"in O,he=ot?js(Io(O.maxWait)||0,y):he,pt="trailing"in O?!!O.trailing:pt);function Et(Ss){var yl=q,Qc=ne;return q=ne=n,st=Ss,_e=m.apply(Qc,yl),_e}function Ht(Ss){return st=Ss,Te=Fx(Tr,y),at?Et(Ss):_e}function br(Ss){var yl=Ss-Re,Qc=Ss-st,gA=y-yl;return ot?ca(gA,he-Qc):gA}function Gt(Ss){var yl=Ss-Re,Qc=Ss-st;return Re===n||yl>=y||yl<0||ot&&Qc>=he}function Tr(){var Ss=qv();if(Gt(Ss))return Fr(Ss);Te=Fx(Tr,br(Ss))}function Fr(Ss){return Te=n,pt&&q?Et(Ss):(q=ne=n,_e)}function to(){Te!==n&&Vm(Te),st=0,q=Re=ne=Te=n}function li(){return Te===n?_e:Fr(qv())}function ro(){var Ss=qv(),yl=Gt(Ss);if(q=arguments,ne=this,Re=Ss,yl){if(Te===n)return Ht(Re);if(ot)return Vm(Te),Te=Fx(Tr,y),Et(Re)}return Te===n&&(Te=Fx(Tr,y)),_e}return ro.cancel=to,ro.flush=li,ro}var tV=fr(function(m,y){return fs(m,1,y)}),rV=fr(function(m,y,O){return fs(m,Io(y)||0,O)});function nV(m){return Kc(m,C)}function Wv(m,y){if(typeof m!="function"||y!=null&&typeof y!="function")throw new ei(o);var O=function(){var q=arguments,ne=y?y.apply(this,q):q[0],he=O.cache;if(he.has(ne))return he.get(ne);var _e=m.apply(this,q);return O.cache=he.set(ne,_e)||he,_e};return O.cache=new(Wv.Cache||Eo),O}Wv.Cache=Eo;function Vv(m){if(typeof m!="function")throw new ei(o);return function(){var y=arguments;switch(y.length){case 0:return!m.call(this);case 1:return!m.call(this,y[0]);case 2:return!m.call(this,y[0],y[1]);case 3:return!m.call(this,y[0],y[1],y[2])}return!m.apply(this,y)}}function sV(m){return G3(2,m)}var aV=Ov(function(m,y){y=y.length==1&&ur(y[0])?Bt(y[0],Vr(Wt())):Bt(Rr(y,1),Vr(Wt()));var O=y.length;return fr(function(q){for(var ne=-1,he=ca(q.length,O);++ne<he;)q[ne]=y[ne].call(this,q[ne]);return rt(m,this,q)})}),Gj=fr(function(m,y){var O=Ws(y,Ym(Gj));return Kc(m,A,n,y,O)}),J3=fr(function(m,y){var O=Ws(y,Ym(J3));return Kc(m,L,n,y,O)}),iV=Yc(function(m,y){return Kc(m,k,n,n,n,y)});function oV(m,y){if(typeof m!="function")throw new ei(o);return y=y===n?y:xr(y),fr(m,y)}function lV(m,y){if(typeof m!="function")throw new ei(o);return y=y==null?0:js(xr(y),0),fr(function(O){var q=O[y],ne=sc(O,0,y);return q&&vn(ne,q),rt(m,this,ne)})}function cV(m,y,O){var q=!0,ne=!0;if(typeof m!="function")throw new ei(o);return ls(O)&&(q="leading"in O?!!O.leading:q,ne="trailing"in O?!!O.trailing:ne),X3(m,y,{leading:q,maxWait:y,trailing:ne})}function dV(m){return H3(m,1)}function uV(m,y){return Gj(ju(y),m)}function hV(){if(!arguments.length)return[];var m=arguments[0];return ur(m)?m:[m]}function fV(m){return Ft(m,f)}function mV(m,y){return y=typeof y=="function"?y:n,Ft(m,f,y)}function pV(m){return Ft(m,h|f)}function gV(m,y){return y=typeof y=="function"?y:n,Ft(m,h|f,y)}function xV(m,y){return y==null||kr(m,y,ua(y))}function xl(m,y){return m===y||m!==m&&y!==y}var yV=Rv(Gr),vV=Rv(function(m,y){return m>=y}),rf=Ma(function(){return arguments}())?Ma:function(m){return ms(m)&&Zr.call(m,"callee")&&!Ia.call(m,"callee")},ur=Ve.isArray,bV=D?Vr(D):wa;function Si(m){return m!=null&&Hv(m.length)&&!Xc(m)}function Ns(m){return ms(m)&&Si(m)}function wV(m){return m===!0||m===!1||ms(m)&&Ar(m)==we}var Nu=kx||sN,jV=ae?Vr(ae):ni;function NV(m){return ms(m)&&m.nodeType===1&&!$x(m)}function SV(m){if(m==null)return!0;if(Si(m)&&(ur(m)||typeof m=="string"||typeof m.splice=="function"||Nu(m)||Zm(m)||rf(m)))return!m.length;var y=Fa(m);if(y==Ne||y==se)return!m.size;if(Rx(m))return!mu(m).length;for(var O in m)if(Zr.call(m,O))return!1;return!0}function _V(m,y){return Ys(m,y)}function kV(m,y,O){O=typeof O=="function"?O:n;var q=O?O(m,y):n;return q===n?Ys(m,y,n,O):!!q}function Kj(m){if(!ms(m))return!1;var y=Ar(m);return y==pe||y==Q||typeof m.message=="string"&&typeof m.name=="string"&&!$x(m)}function AV(m){return typeof m=="number"&&vv(m)}function Xc(m){if(!ls(m))return!1;var y=Ar(m);return y==ge||y==Ae||y==fe||y==ze}function Q3(m){return typeof m=="number"&&m==xr(m)}function Hv(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=$}function ls(m){var y=typeof m;return m!=null&&(y=="object"||y=="function")}function ms(m){return m!=null&&typeof m=="object"}var eA=be?Vr(be):si;function CV(m,y){return m===y||an(m,y,Fj(y))}function PV(m,y,O){return O=typeof O=="function"?O:n,an(m,y,Fj(y),O)}function EV(m){return tA(m)&&m!=+m}function TV(m){if(mq(m))throw new Dt(i);return Ra(m)}function OV(m){return m===null}function LV(m){return m==null}function tA(m){return typeof m=="number"||ms(m)&&Ar(m)==Y}function $x(m){if(!ms(m)||Ar(m)!=We)return!1;var y=iu(m);if(y===null)return!0;var O=Zr.call(y,"constructor")&&y.constructor;return typeof O=="function"&&O instanceof O&&zh.call(O)==pv}var Yj=Ce?Vr(Ce):Ji;function IV(m){return Q3(m)&&m>=-$&&m<=$}var rA=De?Vr(De):Hc;function Gv(m){return typeof m=="string"||!ur(m)&&ms(m)&&Ar(m)==Se}function eo(m){return typeof m=="symbol"||ms(m)&&Ar(m)==Pe}var Zm=Qe?Vr(Qe):ml;function MV(m){return m===n}function DV(m){return ms(m)&&Fa(m)==He}function RV(m){return ms(m)&&Ar(m)==je}var FV=Rv(pu),$V=Rv(function(m,y){return m<=y});function nA(m){if(!m)return[];if(Si(m))return Gv(m)?Vs(m):Ni(m);if(Jl&&m[Jl])return Zl(m[Jl]());var y=Fa(m),O=y==Ne?Dn:y==se?Ja:Xm;return O(m)}function Jc(m){if(!m)return m===0?m:0;if(m=Io(m),m===K||m===-K){var y=m<0?-1:1;return y*W}return m===m?m:0}function xr(m){var y=Jc(m),O=y%1;return y===y?O?y-O:y:0}function sA(m){return m?xt(xr(m),0,J):0}function Io(m){if(typeof m=="number")return m;if(eo(m))return te;if(ls(m)){var y=typeof m.valueOf=="function"?m.valueOf():m;m=ls(y)?y+"":y}if(typeof m!="string")return m===0?m:+m;m=Mh(m);var O=Rc.test(m);return O||Fc.test(m)?zc(m.slice(2),O?2:8):bi.test(m)?te:+m}function aA(m){return ac(m,_i(m))}function BV(m){return m?xt(xr(m),-$,$):m===0?m:0}function on(m){return m==null?"":ii(m)}var zV=Gm(function(m,y){if(Rx(y)||Si(y)){ac(y,ua(y),m);return}for(var O in y)Zr.call(y,O)&&Ye(m,O,y[O])}),iA=Gm(function(m,y){ac(y,_i(y),m)}),Kv=Gm(function(m,y,O,q){ac(y,_i(y),m,q)}),UV=Gm(function(m,y,O,q){ac(y,ua(y),m,q)}),qV=Yc(Ct);function WV(m,y){var O=fu(m);return y==null?O:et(O,y)}var VV=fr(function(m,y){m=sn(m);var O=-1,q=y.length,ne=q>2?y[2]:n;for(ne&&oi(y[0],y[1],ne)&&(q=1);++O<q;)for(var he=y[O],_e=_i(he),Te=-1,Re=_e.length;++Te<Re;){var st=_e[Te],at=m[st];(at===n||xl(at,Wc[st])&&!Zr.call(m,st))&&(m[st]=he[st])}return m}),HV=fr(function(m){return m.push(n,N3),rt(oA,n,m)});function GV(m,y){return Yl(m,Wt(y,3),_n)}function KV(m,y){return Yl(m,Wt(y,3),Gs)}function YV(m,y){return m==null?m:Hs(m,Wt(y,3),_i)}function ZV(m,y){return m==null?m:Rn(m,Wt(y,3),_i)}function XV(m,y){return m&&_n(m,Wt(y,3))}function JV(m,y){return m&&Gs(m,Wt(y,3))}function QV(m){return m==null?[]:Xn(m,ua(m))}function eH(m){return m==null?[]:Xn(m,_i(m))}function Zj(m,y,O){var q=m==null?n:gr(m,y);return q===n?O:q}function tH(m,y){return m!=null&&k3(m,y,Ks)}function Xj(m,y){return m!=null&&k3(m,y,Xi)}var rH=y3(function(m,y,O){y!=null&&typeof y.toString!="function"&&(y=Uh.call(y)),m[y]=O},Qj(ki)),nH=y3(function(m,y,O){y!=null&&typeof y.toString!="function"&&(y=Uh.call(y)),Zr.call(m,y)?m[y].push(O):m[y]=[O]},Wt),sH=fr(Fn);function ua(m){return Si(m)?Le(m):mu(m)}function _i(m){return Si(m)?Le(m,!0):Ex(m)}function aH(m,y){var O={};return y=Wt(y,3),_n(m,function(q,ne,he){nt(O,y(q,ne,he),q)}),O}function iH(m,y){var O={};return y=Wt(y,3),_n(m,function(q,ne,he){nt(O,ne,y(q,ne,he))}),O}var oH=Gm(function(m,y,O){xu(m,y,O)}),oA=Gm(function(m,y,O,q){xu(m,y,O,q)}),lH=Yc(function(m,y){var O={};if(m==null)return O;var q=!1;y=Bt(y,function(he){return he=Oo(he,m),q||(q=he.length>1),he}),ac(m,Dj(m),O),q&&(O=Ft(O,h|p|f,rq));for(var ne=y.length;ne--;)Mx(O,y[ne]);return O});function cH(m,y){return lA(m,Vv(Wt(y)))}var dH=Yc(function(m,y){return m==null?{}:Pj(m,y)});function lA(m,y){if(m==null)return{};var O=Bt(Dj(m),function(q){return[q]});return y=Wt(y),Tx(m,O,function(q,ne){return y(q,ne[0])})}function uH(m,y,O){y=Oo(y,m);var q=-1,ne=y.length;for(ne||(ne=1,m=n);++q<ne;){var he=m==null?n:m[ic(y[q])];he===n&&(q=ne,he=O),m=Xc(he)?he.call(m):he}return m}function hH(m,y,O){return m==null?m:vu(m,y,O)}function fH(m,y,O,q){return q=typeof q=="function"?q:n,m==null?m:vu(m,y,O,q)}var cA=w3(ua),dA=w3(_i);function mH(m,y,O){var q=ur(m),ne=q||Nu(m)||Zm(m);if(y=Wt(y,4),O==null){var he=m&&m.constructor;ne?O=q?new he:[]:ls(m)?O=Xc(he)?fu(iu(m)):{}:O={}}return(ne?yt:_n)(m,function(_e,Te,Re){return y(O,_e,Te,Re)}),O}function pH(m,y){return m==null?!0:Mx(m,y)}function gH(m,y,O){return m==null?m:bu(m,y,ju(O))}function xH(m,y,O,q){return q=typeof q=="function"?q:n,m==null?m:bu(m,y,ju(O),q)}function Xm(m){return m==null?[]:Ta(m,ua(m))}function yH(m){return m==null?[]:Ta(m,_i(m))}function vH(m,y,O){return O===n&&(O=y,y=n),O!==n&&(O=Io(O),O=O===O?O:0),y!==n&&(y=Io(y),y=y===y?y:0),xt(Io(m),y,O)}function bH(m,y,O){return y=Jc(y),O===n?(O=y,y=0):O=Jc(O),m=Io(m),os(m,y,O)}function wH(m,y,O){if(O&&typeof O!="boolean"&&oi(m,y,O)&&(y=O=n),O===n&&(typeof y=="boolean"?(O=y,y=n):typeof m=="boolean"&&(O=m,m=n)),m===n&&y===n?(m=0,y=1):(m=Jc(m),y===n?(y=m,m=0):y=Jc(y)),m>y){var q=m;m=y,y=q}if(O||m%1||y%1){var ne=wv();return ca(m+ne*(y-m+Bc("1e-"+((ne+"").length-1))),y)}return yu(m,y)}var jH=Km(function(m,y,O){return y=y.toLowerCase(),m+(O?uA(y):y)});function uA(m){return Jj(on(m).toLowerCase())}function hA(m){return m=on(m),m&&m.replace(Rd,Oa).replace(vx,"")}function NH(m,y,O){m=on(m),y=ii(y);var q=m.length;O=O===n?q:xt(xr(O),0,q);var ne=O;return O-=y.length,O>=0&&m.slice(O,ne)==y}function SH(m){return m=on(m),m&&Yr.test(m)?m.replace(nn,La):m}function _H(m){return m=on(m),m&&yi.test(m)?m.replace(Bi,"\\$&"):m}var kH=Km(function(m,y,O){return m+(O?"-":"")+y.toLowerCase()}),AH=Km(function(m,y,O){return m+(O?" ":"")+y.toLowerCase()}),CH=p3("toLowerCase");function PH(m,y,O){m=on(m),y=xr(y);var q=y?Yi(m):0;if(!y||q>=y)return m;var ne=(y-q)/2;return Dv(lu(ne),O)+m+Dv(ou(ne),O)}function EH(m,y,O){m=on(m),y=xr(y);var q=y?Yi(m):0;return y&&q<y?m+Dv(y-q,O):m}function TH(m,y,O){m=on(m),y=xr(y);var q=y?Yi(m):0;return y&&q<y?Dv(y-q,O)+m:m}function OH(m,y,O){return O||y==null?y=0:y&&(y=+y),xj(on(m).replace(Ca,""),y||0)}function LH(m,y,O){return(O?oi(m,y,O):y===n)?y=1:y=xr(y),Gc(on(m),y)}function IH(){var m=arguments,y=on(m[0]);return m.length<3?y:y.replace(m[1],m[2])}var MH=Km(function(m,y,O){return m+(O?"_":"")+y.toLowerCase()});function DH(m,y,O){return O&&typeof O!="number"&&oi(m,y,O)&&(y=O=n),O=O===n?J:O>>>0,O?(m=on(m),m&&(typeof y=="string"||y!=null&&!Yj(y))&&(y=ii(y),!y&&Xa(m))?sc(Vs(m),0,O):m.split(y,O)):[]}var RH=Km(function(m,y,O){return m+(O?" ":"")+Jj(y)});function FH(m,y,O){return m=on(m),O=O==null?0:xt(xr(O),0,m.length),y=ii(y),m.slice(O,O+y.length)==y}function $H(m,y,O){var q=de.templateSettings;O&&oi(m,y,O)&&(y=n),m=on(m),y=Kv({},y,q,j3);var ne=Kv({},y.imports,q.imports,j3),he=ua(ne),_e=Ta(ne,he),Te,Re,st=0,at=y.interpolate||tl,ot="__p += '",pt=Dm((y.escape||tl).source+"|"+at.source+"|"+(at===jo?Ui:tl).source+"|"+(y.evaluate||tl).source+"|$","g"),Et="//# sourceURL="+(Zr.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Th+"]")+`
`;m.replace(pt,function(Gt,Tr,Fr,to,li,ro){return Fr||(Fr=to),ot+=m.slice(st,ro).replace(hx,qc),Tr&&(Te=!0,ot+=`' +
__e(`+Tr+`) +
'`),li&&(Re=!0,ot+=`';
`+li+`;
__p += '`),Fr&&(ot+=`' +
((__t = (`+Fr+`)) == null ? '' : __t) +
'`),st=ro+Gt.length,Gt}),ot+=`';
`;var Ht=Zr.call(y,"variable")&&y.variable;if(!Ht)ot=`with (obj) {
`+ot+`
}
`;else if(zi.test(Ht))throw new Dt(l);ot=(Re?ot.replace(Sr,""):ot).replace(sr,"$1").replace(ts,"$1;"),ot="function("+(Ht||"obj")+`) {
`+(Ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Te?", __e = _.escape":"")+(Re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ot+`return __p
}`;var br=mA(function(){return Er(he,Et+"return "+ot).apply(n,_e)});if(br.source=ot,Kj(br))throw br;return br}function BH(m){return on(m).toLowerCase()}function zH(m){return on(m).toUpperCase()}function UH(m,y,O){if(m=on(m),m&&(O||y===n))return Mh(m);if(!m||!(y=ii(y)))return m;var q=Vs(m),ne=Vs(y),he=tu(q,ne),_e=ll(q,ne)+1;return sc(q,he,_e).join("")}function qH(m,y,O){if(m=on(m),m&&(O||y===n))return m.slice(0,Xl(m)+1);if(!m||!(y=ii(y)))return m;var q=Vs(m),ne=ll(q,Vs(y))+1;return sc(q,0,ne).join("")}function WH(m,y,O){if(m=on(m),m&&(O||y===n))return m.replace(Ca,"");if(!m||!(y=ii(y)))return m;var q=Vs(m),ne=tu(q,Vs(y));return sc(q,ne).join("")}function VH(m,y){var O=R,q=E;if(ls(y)){var ne="separator"in y?y.separator:ne;O="length"in y?xr(y.length):O,q="omission"in y?ii(y.omission):q}m=on(m);var he=m.length;if(Xa(m)){var _e=Vs(m);he=_e.length}if(O>=he)return m;var Te=O-Yi(q);if(Te<1)return q;var Re=_e?sc(_e,0,Te).join(""):m.slice(0,Te);if(ne===n)return Re+q;if(_e&&(Te+=Re.length-Te),Yj(ne)){if(m.slice(Te).search(ne)){var st,at=Re;for(ne.global||(ne=Dm(ne.source,on(vi.exec(ne))+"g")),ne.lastIndex=0;st=ne.exec(at);)var ot=st.index;Re=Re.slice(0,ot===n?Te:ot)}}else if(m.indexOf(ii(ne),Te)!=Te){var pt=Re.lastIndexOf(ne);pt>-1&&(Re=Re.slice(0,pt))}return Re+q}function HH(m){return m=on(m),m&&tr.test(m)?m.replace(us,cl):m}var GH=Km(function(m,y,O){return m+(O?" ":"")+y.toUpperCase()}),Jj=p3("toUpperCase");function fA(m,y,O){return m=on(m),y=O?n:y,y===n?Dh(m)?Co(m):Im(m):m.match(y)||[]}var mA=fr(function(m,y){try{return rt(m,n,y)}catch(O){return Kj(O)?O:new Dt(O)}}),KH=Yc(function(m,y){return yt(y,function(O){O=ic(O),nt(m,O,Hj(m[O],m))}),m});function YH(m){var y=m==null?0:m.length,O=Wt();return m=y?Bt(m,function(q){if(typeof q[1]!="function")throw new ei(o);return[O(q[0]),q[1]]}):[],fr(function(q){for(var ne=-1;++ne<y;){var he=m[ne];if(rt(he[0],this,q))return rt(he[1],this,q)}})}function ZH(m){return At(Ft(m,h))}function Qj(m){return function(){return m}}function XH(m,y){return m==null||m!==m?y:m}var JH=x3(),QH=x3(!0);function ki(m){return m}function eN(m){return Ms(typeof m=="function"?m:Ft(m,h))}function eG(m){return kv(Ft(m,h))}function tG(m,y){return Av(m,Ft(y,h))}var rG=fr(function(m,y){return function(O){return Fn(O,m,y)}}),nG=fr(function(m,y){return function(O){return Fn(m,O,y)}});function tN(m,y,O){var q=ua(y),ne=Xn(y,q);O==null&&!(ls(y)&&(ne.length||!q.length))&&(O=y,y=m,m=this,ne=Xn(y,ua(y)));var he=!(ls(O)&&"chain"in O)||!!O.chain,_e=Xc(m);return yt(ne,function(Te){var Re=y[Te];m[Te]=Re,_e&&(m.prototype[Te]=function(){var st=this.__chain__;if(he||st){var at=m(this.__wrapped__),ot=at.__actions__=Ni(this.__actions__);return ot.push({func:Re,args:arguments,thisArg:m}),at.__chain__=st,at}return Re.apply(m,vn([this.value()],arguments))})}),m}function sG(){return ss._===this&&(ss._=gv),this}function rN(){}function aG(m){return m=xr(m),fr(function(y){return Cv(y,m)})}var iG=Lj(Bt),oG=Lj(ir),lG=Lj(Hi);function pA(m){return Bj(m)?Gi(ic(m)):zm(m)}function cG(m){return function(y){return m==null?n:gr(m,y)}}var dG=v3(),uG=v3(!0);function nN(){return[]}function sN(){return!1}function hG(){return{}}function fG(){return""}function mG(){return!0}function pG(m,y){if(m=xr(m),m<1||m>$)return[];var O=J,q=ca(m,J);y=Wt(y),m-=J;for(var ne=Qd(q,y);++O<m;)y(O);return ne}function gG(m){return ur(m)?Bt(m,ic):eo(m)?[m]:Ni(M3(on(m)))}function xG(m){var y=++mv;return on(m)+y}var yG=Mv(function(m,y){return m+y},0),vG=Ij("ceil"),bG=Mv(function(m,y){return m/y},1),wG=Ij("floor");function jG(m){return m&&m.length?er(m,ki,Gr):n}function NG(m,y){return m&&m.length?er(m,Wt(y,2),Gr):n}function SG(m){return ws(m,ki)}function _G(m,y){return ws(m,Wt(y,2))}function kG(m){return m&&m.length?er(m,ki,pu):n}function AG(m,y){return m&&m.length?er(m,Wt(y,2),pu):n}var CG=Mv(function(m,y){return m*y},1),PG=Ij("round"),EG=Mv(function(m,y){return m-y},0);function TG(m){return m&&m.length?qs(m,ki):0}function OG(m,y){return m&&m.length?qs(m,Wt(y,2)):0}return de.after=eV,de.ary=H3,de.assign=zV,de.assignIn=iA,de.assignInWith=Kv,de.assignWith=UV,de.at=qV,de.before=G3,de.bind=Hj,de.bindAll=KH,de.bindKey=K3,de.castArray=hV,de.chain=q3,de.chunk=wq,de.compact=jq,de.concat=Nq,de.cond=YH,de.conforms=ZH,de.constant=Qj,de.countBy=TW,de.create=WV,de.curry=Y3,de.curryRight=Z3,de.debounce=X3,de.defaults=VV,de.defaultsDeep=HV,de.defer=tV,de.delay=rV,de.difference=Sq,de.differenceBy=_q,de.differenceWith=kq,de.drop=Aq,de.dropRight=Cq,de.dropRightWhile=Pq,de.dropWhile=Eq,de.fill=Tq,de.filter=LW,de.flatMap=DW,de.flatMapDeep=RW,de.flatMapDepth=FW,de.flatten=$3,de.flattenDeep=Oq,de.flattenDepth=Lq,de.flip=nV,de.flow=JH,de.flowRight=QH,de.fromPairs=Iq,de.functions=QV,de.functionsIn=eH,de.groupBy=$W,de.initial=Dq,de.intersection=Rq,de.intersectionBy=Fq,de.intersectionWith=$q,de.invert=rH,de.invertBy=nH,de.invokeMap=zW,de.iteratee=eN,de.keyBy=UW,de.keys=ua,de.keysIn=_i,de.map=Uv,de.mapKeys=aH,de.mapValues=iH,de.matches=eG,de.matchesProperty=tG,de.memoize=Wv,de.merge=oH,de.mergeWith=oA,de.method=rG,de.methodOf=nG,de.mixin=tN,de.negate=Vv,de.nthArg=aG,de.omit=lH,de.omitBy=cH,de.once=sV,de.orderBy=qW,de.over=iG,de.overArgs=aV,de.overEvery=oG,de.overSome=lG,de.partial=Gj,de.partialRight=J3,de.partition=WW,de.pick=dH,de.pickBy=lA,de.property=pA,de.propertyOf=cG,de.pull=qq,de.pullAll=z3,de.pullAllBy=Wq,de.pullAllWith=Vq,de.pullAt=Hq,de.range=dG,de.rangeRight=uG,de.rearg=iV,de.reject=GW,de.remove=Gq,de.rest=oV,de.reverse=Wj,de.sampleSize=YW,de.set=hH,de.setWith=fH,de.shuffle=ZW,de.slice=Kq,de.sortBy=QW,de.sortedUniq=tW,de.sortedUniqBy=rW,de.split=DH,de.spread=lV,de.tail=nW,de.take=sW,de.takeRight=aW,de.takeRightWhile=iW,de.takeWhile=oW,de.tap=jW,de.throttle=cV,de.thru=zv,de.toArray=nA,de.toPairs=cA,de.toPairsIn=dA,de.toPath=gG,de.toPlainObject=aA,de.transform=mH,de.unary=dV,de.union=lW,de.unionBy=cW,de.unionWith=dW,de.uniq=uW,de.uniqBy=hW,de.uniqWith=fW,de.unset=pH,de.unzip=Vj,de.unzipWith=U3,de.update=gH,de.updateWith=xH,de.values=Xm,de.valuesIn=yH,de.without=mW,de.words=fA,de.wrap=uV,de.xor=pW,de.xorBy=gW,de.xorWith=xW,de.zip=yW,de.zipObject=vW,de.zipObjectDeep=bW,de.zipWith=wW,de.entries=cA,de.entriesIn=dA,de.extend=iA,de.extendWith=Kv,tN(de,de),de.add=yG,de.attempt=mA,de.camelCase=jH,de.capitalize=uA,de.ceil=vG,de.clamp=vH,de.clone=fV,de.cloneDeep=pV,de.cloneDeepWith=gV,de.cloneWith=mV,de.conformsTo=xV,de.deburr=hA,de.defaultTo=XH,de.divide=bG,de.endsWith=NH,de.eq=xl,de.escape=SH,de.escapeRegExp=_H,de.every=OW,de.find=IW,de.findIndex=R3,de.findKey=GV,de.findLast=MW,de.findLastIndex=F3,de.findLastKey=KV,de.floor=wG,de.forEach=W3,de.forEachRight=V3,de.forIn=YV,de.forInRight=ZV,de.forOwn=XV,de.forOwnRight=JV,de.get=Zj,de.gt=yV,de.gte=vV,de.has=tH,de.hasIn=Xj,de.head=B3,de.identity=ki,de.includes=BW,de.indexOf=Mq,de.inRange=bH,de.invoke=sH,de.isArguments=rf,de.isArray=ur,de.isArrayBuffer=bV,de.isArrayLike=Si,de.isArrayLikeObject=Ns,de.isBoolean=wV,de.isBuffer=Nu,de.isDate=jV,de.isElement=NV,de.isEmpty=SV,de.isEqual=_V,de.isEqualWith=kV,de.isError=Kj,de.isFinite=AV,de.isFunction=Xc,de.isInteger=Q3,de.isLength=Hv,de.isMap=eA,de.isMatch=CV,de.isMatchWith=PV,de.isNaN=EV,de.isNative=TV,de.isNil=LV,de.isNull=OV,de.isNumber=tA,de.isObject=ls,de.isObjectLike=ms,de.isPlainObject=$x,de.isRegExp=Yj,de.isSafeInteger=IV,de.isSet=rA,de.isString=Gv,de.isSymbol=eo,de.isTypedArray=Zm,de.isUndefined=MV,de.isWeakMap=DV,de.isWeakSet=RV,de.join=Bq,de.kebabCase=kH,de.last=Lo,de.lastIndexOf=zq,de.lowerCase=AH,de.lowerFirst=CH,de.lt=FV,de.lte=$V,de.max=jG,de.maxBy=NG,de.mean=SG,de.meanBy=_G,de.min=kG,de.minBy=AG,de.stubArray=nN,de.stubFalse=sN,de.stubObject=hG,de.stubString=fG,de.stubTrue=mG,de.multiply=CG,de.nth=Uq,de.noConflict=sG,de.noop=rN,de.now=qv,de.pad=PH,de.padEnd=EH,de.padStart=TH,de.parseInt=OH,de.random=wH,de.reduce=VW,de.reduceRight=HW,de.repeat=LH,de.replace=IH,de.result=uH,de.round=PG,de.runInContext=Oe,de.sample=KW,de.size=XW,de.snakeCase=MH,de.some=JW,de.sortedIndex=Yq,de.sortedIndexBy=Zq,de.sortedIndexOf=Xq,de.sortedLastIndex=Jq,de.sortedLastIndexBy=Qq,de.sortedLastIndexOf=eW,de.startCase=RH,de.startsWith=FH,de.subtract=EG,de.sum=TG,de.sumBy=OG,de.template=$H,de.times=pG,de.toFinite=Jc,de.toInteger=xr,de.toLength=sA,de.toLower=BH,de.toNumber=Io,de.toSafeInteger=BV,de.toString=on,de.toUpper=zH,de.trim=UH,de.trimEnd=qH,de.trimStart=WH,de.truncate=VH,de.unescape=HH,de.uniqueId=xG,de.upperCase=GH,de.upperFirst=Jj,de.each=W3,de.eachRight=V3,de.first=B3,tN(de,function(){var m={};return _n(de,function(y,O){Zr.call(de.prototype,O)||(m[O]=y)}),m}(),{chain:!1}),de.VERSION=s,yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){de[m].placeholder=de}),yt(["drop","take"],function(m,y){_r.prototype[m]=function(O){O=O===n?1:js(xr(O),0);var q=this.__filtered__&&!y?new _r(this):this.clone();return q.__filtered__?q.__takeCount__=ca(O,q.__takeCount__):q.__views__.push({size:ca(O,J),type:m+(q.__dir__<0?"Right":"")}),q},_r.prototype[m+"Right"]=function(O){return this.reverse()[m](O).reverse()}}),yt(["filter","map","takeWhile"],function(m,y){var O=y+1,q=O==z||O==U;_r.prototype[m]=function(ne){var he=this.clone();return he.__iteratees__.push({iteratee:Wt(ne,3),type:O}),he.__filtered__=he.__filtered__||q,he}}),yt(["head","last"],function(m,y){var O="take"+(y?"Right":"");_r.prototype[m]=function(){return this[O](1).value()[0]}}),yt(["initial","tail"],function(m,y){var O="drop"+(y?"":"Right");_r.prototype[m]=function(){return this.__filtered__?new _r(this):this[O](1)}}),_r.prototype.compact=function(){return this.filter(ki)},_r.prototype.find=function(m){return this.filter(m).head()},_r.prototype.findLast=function(m){return this.reverse().find(m)},_r.prototype.invokeMap=fr(function(m,y){return typeof m=="function"?new _r(this):this.map(function(O){return Fn(O,m,y)})}),_r.prototype.reject=function(m){return this.filter(Vv(Wt(m)))},_r.prototype.slice=function(m,y){m=xr(m);var O=this;return O.__filtered__&&(m>0||y<0)?new _r(O):(m<0?O=O.takeRight(-m):m&&(O=O.drop(m)),y!==n&&(y=xr(y),O=y<0?O.dropRight(-y):O.take(y-m)),O)},_r.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},_r.prototype.toArray=function(){return this.take(J)},_n(_r.prototype,function(m,y){var O=/^(?:filter|find|map|reject)|While$/.test(y),q=/^(?:head|last)$/.test(y),ne=de[q?"take"+(y=="last"?"Right":""):y],he=q||/^find/.test(y);ne&&(de.prototype[y]=function(){var _e=this.__wrapped__,Te=q?[1]:arguments,Re=_e instanceof _r,st=Te[0],at=Re||ur(_e),ot=function(Tr){var Fr=ne.apply(de,vn([Tr],Te));return q&&pt?Fr[0]:Fr};at&&O&&typeof st=="function"&&st.length!=1&&(Re=at=!1);var pt=this.__chain__,Et=!!this.__actions__.length,Ht=he&&!pt,br=Re&&!Et;if(!he&&at){_e=br?_e:new _r(this);var Gt=m.apply(_e,Te);return Gt.__actions__.push({func:zv,args:[ot],thisArg:n}),new ri(Gt,pt)}return Ht&&br?m.apply(this,Te):(Gt=this.thru(ot),Ht?q?Gt.value()[0]:Gt.value():Gt)})}),yt(["pop","push","shift","sort","splice","unshift"],function(m){var y=$h[m],O=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",q=/^(?:pop|shift)$/.test(m);de.prototype[m]=function(){var ne=arguments;if(q&&!this.__chain__){var he=this.value();return y.apply(ur(he)?he:[],ne)}return this[O](function(_e){return y.apply(ur(_e)?_e:[],ne)})}}),_n(_r.prototype,function(m,y){var O=de[y];if(O){var q=O.name+"";Zr.call(hu,q)||(hu[q]=[]),hu[q].push({name:y,func:O})}}),hu[Iv(n,b).name]=[{name:"wrapper",func:n}],_r.prototype.clone=jv,_r.prototype.reverse=bj,_r.prototype.value=$m,de.prototype.at=NW,de.prototype.chain=SW,de.prototype.commit=_W,de.prototype.next=kW,de.prototype.plant=CW,de.prototype.reverse=PW,de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=EW,de.prototype.first=de.prototype.head,Jl&&(de.prototype[Jl]=AW),de},Hr=bn();Vi?((Vi.exports=Hr)._=Hr,al._=Hr):ss._=Hr}).call(Uo)})(Hw,Hw.exports);var VIe=Hw.exports;const HIe=({key:e,data:t,enabled:n=!0,debounceMs:s=500})=>{const a=j.useCallback(VIe.debounce(l=>{if(n)try{localStorage.setItem(e,JSON.stringify(l)),console.log(`Draft auto-saved: ${e}`)}catch(c){console.warn("Failed to save draft:",c)}},s),[e,n,s]);j.useEffect(()=>(t&&n&&a(t),()=>{a.cancel()}),[t,a,n]);const i=j.useCallback(()=>{if(!n)return null;try{const l=localStorage.getItem(e);return l?JSON.parse(l):null}catch(l){return console.warn("Failed to restore draft:",l),null}},[e,n]),o=j.useCallback(()=>{localStorage.removeItem(e),console.log(`Draft cleared: ${e}`)},[e]);return{restoreDraft:i,clearDraft:o}},GIe=(e,t,n)=>{const s=`email-draft-${e}-${t}`;return HIe({key:s,data:n,enabled:!0,debounceMs:1e3})},KIe=({isOpen:e,onClose:t,onSent:n})=>{const[s,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState([]),h=j.useRef(null),p="studio-1",f="admin",x={to:s,subject:i,body:l},{restoreDraft:g,clearDraft:v}=GIe(p,f,x);if(j.useEffect(()=>{if(e){const A=g();A&&(a(A.to||""),o(A.subject||""),c(A.body||""),console.log("Draft restored successfully"))}},[e,g]),!e)return null;const b=async()=>{try{const A=d.map(async C=>new Promise(R=>{const E=new FileReader;E.onload=()=>{const I=E.result?.toString().split(",")[1];R({filename:C.name,content:I,contentType:C.type,encoding:"base64"})},E.readAsDataURL(C)})),L=await Promise.all(A),k=await(await fetch("/api/communications/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:s,subject:i,content:l,html:l.replace(/\n/g,"<br>"),attachments:L,autoLinkClient:!0})})).json();k.success?(n?.({to:s,subject:i,body:l,attachments:d,messageId:k.messageId}),v(),t(),a(""),o(""),c(""),u([])):alert("Failed to send email: "+k.error)}catch{alert("Error sending email. Please try again.")}},_=A=>{const L=Array.from(A.target.files||[]);u(P=>[...P,...L])},w=A=>{u(L=>L.filter((P,k)=>k!==A))},S=A=>{if(A===0)return"0 Bytes";const L=1024,P=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(A)/Math.log(L));return parseFloat((A/Math.pow(L,k)).toFixed(2))+" "+P[k]};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-5/6 flex flex-col overflow-hidden",dir:"ltr",style:{direction:"ltr",textAlign:"left"},children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Compose Email"}),r.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",children:r.jsx(gn,{size:16})})]}),r.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To:"}),r.jsx("input",{type:"email",value:s,onChange:A=>a(A.target.value),placeholder:"recipient@example.com",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr",textAlign:"left",unicodeBidi:"embed"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject:"}),r.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),placeholder:"Email subject",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr",textAlign:"left",unicodeBidi:"embed"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message:"}),r.jsx("textarea",{value:l,onChange:A=>c(A.target.value),placeholder:"Write your message here...",rows:8,className:"w-full border border-gray-300 rounded px-3 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr",textAlign:"left",unicodeBidi:"embed",writingMode:"horizontal-tb"}})]}),d.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachments:"}),r.jsx("div",{className:"space-y-2",children:d.map((A,L)=>r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[A.type.startsWith("image/")?r.jsx(ka,{size:16,className:"text-blue-500"}):r.jsx(Hn,{size:16,className:"text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:A.name}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",S(A.size),")"]})]}),r.jsx("button",{onClick:()=>w(L),className:"text-red-500 hover:text-red-700",children:r.jsx(gn,{size:16})})]},L))})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{type:"button",onClick:()=>h.current?.click(),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[r.jsx(sS,{size:16}),r.jsx("span",{children:"Attach File"})]}),r.jsxs("button",{type:"button",onClick:()=>{const A=document.createElement("input");A.type="file",A.accept="image/*",A.multiple=!0,A.onchange=L=>{const P=Array.from(L.target.files||[]);u(k=>[...k,...P])},A.click()},className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[r.jsx(ka,{size:16}),r.jsx("span",{children:"Add Images"})]})]}),r.jsx("input",{ref:h,type:"file",multiple:!0,className:"hidden",onChange:_})]}),r.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Simple Email Composer",(!s.trim()||!i.trim())&&r.jsxs("div",{className:"text-xs text-red-500 mt-1",children:[!s.trim()&&"Please enter recipient email",!s.trim()&&!i.trim()&&" • ",!i.trim()&&"Please enter subject"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),r.jsxs("button",{onClick:b,disabled:!s.trim()||!i.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:s.trim()?i.trim()?"Send email":"Please enter subject":"Please enter recipient email",children:[r.jsx(Ii,{size:16}),r.jsx("span",{children:"Send"})]})]})]})]})})},YIe=()=>{const[e,t]=j.useState([]),[n,s]=j.useState([]),[a,i]=j.useState(null),[o,l]=j.useState("inbox"),[c,d]=j.useState(""),[u,h]=j.useState(!1),[p,f]=j.useState(!1),[x,g]=j.useState(!1),[v,b]=j.useState(null),[_,w]=j.useState(null);j.useState(!1),j.useEffect(()=>{S()},[]);const S=async()=>{try{g(!0),w(null);const U=await fetch("/api/inbox/emails?"+Date.now(),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}});if(!U.ok)throw new Error("Failed to fetch messages");const $=(await U.json()).map(W=>({id:W.id,from:W.senderEmail,fromName:W.senderName,to:"hallo@newagefotografie.com",subject:W.subject,body:W.content,timestamp:W.createdAt,isRead:W.status==="read"||W.status==="archived",isStarred:!1,isImportant:W.status==="unread",hasAttachments:!1,labels:[],folder:"inbox",threadId:W.id}));t($)}catch{w("Failed to load messages. Please try again.")}finally{g(!1)}},A=[{id:"inbox",name:"Inbox",count:e.filter(U=>!U.subject.startsWith("[SENT]")).length,icon:r.jsx(pr,{size:16})},{id:"sent",name:"Sent",count:e.filter(U=>U.subject.startsWith("[SENT]")).length,icon:r.jsx(Ii,{size:16})},{id:"archive",name:"Archive",count:0,icon:r.jsx(EA,{size:16})},{id:"trash",name:"Trash",count:0,icon:r.jsx(Ts,{size:16})}],L=e.filter(U=>{let K=!1;switch(o){case"inbox":K=!U.subject.startsWith("[SENT]");break;case"sent":K=U.subject.startsWith("[SENT]");break;default:K=U.folder===o}const $=c===""||U.subject.toLowerCase().includes(c.toLowerCase())||U.fromName.toLowerCase().includes(c.toLowerCase())||U.body.toLowerCase().includes(c.toLowerCase());return K&&$}),P=U=>{s(K=>K.includes(U)?K.filter($=>$!==U):[...K,U])},k=()=>{n.length===L.length?s([]):s(L.map(U=>U.id))},C=(U,K)=>{t($=>$.map(W=>U.includes(W.id)?{...W,isRead:K}:W))},R=(U,K)=>{t($=>$.map(W=>U.includes(W.id)?{...W,isStarred:K}:W))},E=U=>{t(K=>K.map($=>U.includes($.id)?{...$,folder:"archive"}:$)),s([])},I=U=>{t(K=>K.map($=>U.includes($.id)?{...$,folder:"trash"}:$)),s([])},B=U=>{const K=new Date(U),W=(new Date().getTime()-K.getTime())/(1e3*60*60);return W<24?K.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):W<48?"Yesterday":K.toLocaleDateString("en-US",{month:"short",day:"numeric"})},z=()=>r.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"checkbox",checked:n.length===L.length&&L.length>0,onChange:k,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:[o," (",L.length,")"]})]}),n.length>0&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>C(n,!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Mark as read",children:r.jsx(lY,{size:16})}),r.jsx("button",{onClick:()=>R(n,!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Star",children:r.jsx(El,{size:16})}),r.jsx("button",{onClick:()=>E(n),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Archive",children:r.jsx(EA,{size:16})}),r.jsx("button",{onClick:()=>I(n),className:"p-2 text-red-600 hover:bg-red-100 rounded-md",title:"Delete",children:r.jsx(Ts,{size:16})})]})]})}),r.jsx("div",{className:"divide-y divide-gray-200 max-h-[600px] overflow-y-auto",children:L.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(pr,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No messages"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c?"No messages match your search.":"Your inbox is empty."})]}):L.map(U=>r.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer ${n.includes(U.id)?"bg-blue-50":""} ${U.isRead?"":"bg-blue-25"}`,onClick:()=>i(U),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:n.includes(U.id),onChange:()=>P(U.id),onClick:K=>K.stopPropagation(),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("button",{onClick:K=>{K.stopPropagation(),R([U.id],!U.isStarred)},className:`${U.isStarred?"text-yellow-400":"text-gray-300 hover:text-yellow-400"}`,children:r.jsx(El,{size:16,fill:U.isStarred?"currentColor":"none"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`text-sm ${U.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:U.fromName}),U.isImportant&&r.jsx(ZK,{size:12,className:"text-red-500"}),U.hasAttachments&&r.jsx(sS,{size:12,className:"text-gray-400"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:B(U.timestamp)})]}),r.jsx("div",{className:`text-sm ${U.isRead?"text-gray-600":"font-semibold text-gray-900"} truncate`,children:U.subject}),r.jsx("div",{className:"text-sm text-gray-500 mt-1 line-clamp-2 max-w-lg",children:U.body}),U.labels.length>0&&r.jsx("div",{className:"flex items-center space-x-1 mt-2",children:U.labels.map(K=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:K},K))})]})]})},U.id))})]}),V=()=>a?r.jsxs("div",{className:"w-1/2 bg-white rounded-lg shadow ml-6",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-md",children:r.jsx(gn,{size:16})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{b("reply"),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Reply",children:r.jsx(wY,{size:16})}),r.jsx("button",{onClick:()=>{b("forward"),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Forward",children:r.jsx(JK,{size:16})}),r.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"More actions",children:r.jsx(fY,{size:16})})]})]})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.subject}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:a.fromName}),r.jsx("div",{children:a.from})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{children:new Date(a.timestamp).toLocaleDateString()}),r.jsx("div",{children:new Date(a.timestamp).toLocaleTimeString()})]})]})]}),r.jsx("div",{className:"prose max-w-full overflow-hidden",children:r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap break-words max-w-full overflow-x-auto",children:a.body})}),a.hasAttachments&&r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Attachments"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(sS,{size:16,className:"text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:"attachment.pdf"}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:r.jsx(Vn,{size:14})})]})]})]})]}):null;return r.jsxs(Nr,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Inbox"}),r.jsx("p",{className:"text-gray-600",children:"Manage client messages and inquiries"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[r.jsx(hh,{size:16}),r.jsx("span",{children:"Sync"})]}),"            ",r.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[r.jsx(aa,{size:16}),r.jsx("span",{children:"Settings"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r.jsx(Cr,{size:16}),r.jsx("span",{children:"Compose"})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search messages...",value:c,onChange:U=>d(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex space-x-6",children:[r.jsxs("div",{className:"w-64 bg-white rounded-lg shadow p-4",children:[r.jsx("nav",{className:"space-y-2",children:A.map(U=>r.jsxs("button",{onClick:()=>l(U.id),className:`w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md ${o===U.id?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[U.icon,r.jsx("span",{children:U.name})]}),r.jsx("span",{className:"text-xs text-gray-500",children:U.count})]},U.id))}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Stats"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Unread"}),r.jsx("span",{className:"font-medium",children:e.filter(U=>!U.isRead&&U.folder==="inbox").length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Starred"}),r.jsx("span",{className:"font-medium",children:e.filter(U=>U.isStarred).length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Important"}),r.jsx("span",{className:"font-medium",children:e.filter(U=>U.isImportant).length})]})]})]})]}),r.jsxs("div",{className:"flex-1 flex",children:[z(),a&&V()]}),"        "]})]}),r.jsx(WIe,{isOpen:p,onClose:()=>f(!1),onSave:U=>{}}),u&&r.jsx(KIe,{isOpen:u,onClose:()=>{h(!1),b(null)},onSent:U=>{h(!1),b(null),S()}})]})},ZIe=()=>{ia();const[e,t]=j.useState(!1),[n,s]=j.useState(null),[a,i]=j.useState([]),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,h]=j.useState(null),[p,f]=j.useState(""),[x,g]=j.useState(""),[v,b]=j.useState(""),[_,w]=j.useState([]),[S,A]=j.useState([]),[L,P]=j.useState(1),[k,C]=j.useState(0),R=10,[E,I]=j.useState(""),[B,z]=j.useState(""),[V,U]=j.useState({}),[K,$]=j.useState({}),[W,te]=j.useState(null),[J,M]=j.useState(null),[G,X]=j.useState({}),ie=j.useRef({}),re=j.useRef({}),[fe,we]=j.useState({}),Z=async()=>{try{t(!0),s(null);const Se=await fetch("/api/admin/create-questionnaire-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:"demo-client",questionnaire_id:o||"default-questionnaire"})});if(!Se.ok)throw new Error("Failed to create questionnaire link");const Pe=await Se.json();navigator.clipboard.writeText(Pe.link),alert(`✅ Questionnaire link created and copied to clipboard!

Link: ${Pe.link}

You can now send this to your client via WhatsApp or email.`)}catch(se){console.error("Error creating questionnaire link:",se),s("Failed to create questionnaire link. Please try again.")}finally{t(!1)}},Q=async()=>{try{t(!0),s(null);const se=(L-1)*R,Se=new URLSearchParams({limit:String(R),offset:String(se)});E.trim()&&Se.set("client_id",E.trim()),B.trim()&&Se.set("questionnaire_id",B.trim());const Pe=await fetch(`/api/admin/questionnaire-responses?${Se.toString()}`);if(!Pe.ok)throw new Error("Failed to fetch responses");const $e=await Pe.json();A($e.responses||[]),C($e.total||0)}catch(se){console.error("Error fetching responses:",se),s("Failed to fetch questionnaire responses.")}finally{t(!1)}},pe=async(se,Se)=>{try{t(!0),s(null);const Pe=(Se??V[se]??"").toString().trim();if(!Pe){alert("Please enter a client identifier");return}if(!(await fetch("/api/admin/attach-response-to-client",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({response_id:se,client_id:Pe})})).ok)throw new Error("Attach failed");await Q()}catch(Pe){console.error("Attach failed:",Pe),s("Failed to attach response to client.")}finally{t(!1)}},ge=async(se,Se)=>{try{if(!Se||Se.length<2){$(je=>({...je,[se]:[]})),we(je=>({...je,[se]:!1}));return}const Pe=`/api/admin/clients/search?q=${encodeURIComponent(Se)}&limit=8`,$e=await fetch(Pe);if(!$e.ok)return;const He=await $e.json();$(je=>({...je,[se]:He.clients||[]})),X(je=>({...je,[se]:He.clients&&He.clients.length>0?0:-1}))}catch{}finally{we(Pe=>({...Pe,[se]:!1}))}},Ae=(se,Se,Pe=250)=>{ie.current[se]&&clearTimeout(ie.current[se]),we($e=>({...$e,[se]:!0})),ie.current[se]=setTimeout(()=>{ge(se,Se)},Pe)};j.useEffect(()=>{const se=Se=>{const Pe=J;if(!Pe)return;const $e=re.current[Pe];$e&&Se.target instanceof Node&&!$e.contains(Se.target)&&($(He=>({...He,[Pe]:[]})),M(null))};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[J]);const Ne=async()=>{try{t(!0);const se=await fetch("/api/surveys");if(!se.ok)throw new Error("Failed to load surveys");const Se=await se.json(),Pe=Array.isArray(Se)?Se:Se.surveys||[];i(Pe),Pe.length>0&&!o&&l(Pe[0].id)}catch(se){console.error("Error loading surveys:",se)}finally{t(!1)}};j.useEffect(()=>{Ne()},[]),j.useEffect(()=>{Q()},[]);const Y=()=>{d(!0),h(null),f("New Questionnaire"),g(""),b(""),w([""])},ke=()=>{d(!1),h(null),f(""),g(""),b(""),w([])},We=async()=>{try{t(!0);const se=[{id:"page-1",title:p,questions:_.map((Fe,Ze)=>({id:`q${Ze+1}`,type:"text",title:Fe}))}],$e=await fetch("/api/surveys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:p,description:x,pages:se,settings:{logo:v}})});if(!$e.ok)throw new Error("Failed to create survey");const He=await $e.json(),je=He.survey||He;i(Fe=>[je,...Fe]),ke()}catch(se){console.error("Error creating survey:",se),alert("Failed to create questionnaire.")}finally{t(!1)}},Ie=se=>{h(se.id),d(!1),f(se.title||""),g(se.description||"");try{const Pe=(se.pages||se.survey&&se.survey.pages||[])[0]||{questions:[]};w((Pe.questions||[]).map($e=>$e.title||$e.text||""))}catch{w([])}b(se.settings&&se.settings.logo||"")},ze=async()=>{if(u)try{t(!0);const se=[{id:"page-1",title:p,questions:_.map((Fe,Ze)=>({id:`q${Ze+1}`,type:"text",title:Fe}))}],Pe={title:p,description:x,pages:se,settings:{logo:v}},$e=await fetch(`/api/surveys/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)});if(!$e.ok)throw new Error("Failed to update survey");const He=await $e.json(),je=He.survey||He;i(Fe=>Fe.map(Ze=>Ze.id===u?{...Ze,...je}:Ze)),ke()}catch(se){console.error("Error updating survey:",se),alert("Failed to save questionnaire changes.")}finally{t(!1)}},le=async se=>{if(confirm("Are you sure you want to delete this questionnaire?"))try{if(t(!0),!(await fetch(`/api/surveys/${se}`,{method:"DELETE"})).ok)throw new Error("Failed to delete survey");i(Pe=>Pe.filter($e=>$e.id!==se))}catch(Se){console.error("Error deleting survey:",Se),alert("Failed to delete questionnaire.")}finally{t(!1)}};return r.jsx(Nr,{children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Questionnaires"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Create and manage client surveys and questionnaires"})]}),n&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:r.jsx("div",{className:"text-sm text-red-700",children:r.jsx("p",{children:n})})}),r.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 transition-colors",children:[r.jsx("div",{className:"text-blue-600 mb-4",children:r.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Create Questionnaire Link"}),r.jsx("p",{className:"text-gray-500 mb-2",children:"Select a questionnaire and generate a shareable link for clients"}),r.jsx("div",{className:"mb-3",children:r.jsx("select",{value:o||"",onChange:se=>l(se.target.value),className:"border rounded px-2 py-1",children:a.map(se=>r.jsx("option",{value:se.id,children:se.title},se.id))})}),r.jsx("button",{onClick:Z,disabled:e||!o,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:e?"Creating...":"Create Link"})]}),r.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 transition-colors",children:[r.jsx("div",{className:"text-purple-600 mb-4",children:r.jsxs("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"View Responses"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Check submitted questionnaire responses from clients"}),r.jsx("button",{onClick:Q,disabled:e,className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:e?"Loading...":"View Responses"})]})]})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"How to use questionnaires:"}),r.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"1. Create Link:"}),' Click "Create Link" to generate a shareable questionnaire link']}),r.jsxs("p",{children:[r.jsx("strong",{children:"2. Share:"})," Send the copied link to your client via WhatsApp, email, or SMS"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"3. Client Completes:"})," Client clicks the link and fills out the questionnaire"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"4. View Responses:"}),' Click "View Responses" to see all submitted questionnaires']}),r.jsxs("p",{children:[r.jsx("strong",{children:"5. Email Notifications:"})," You'll receive an email when a client submits a questionnaire"]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Available Questionnaires:"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-end",children:[r.jsx("button",{onClick:Y,className:"mr-2 inline-flex items-center px-3 py-1 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Add Questionnaire"}),(c||u)&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{u?ze():We()},disabled:e,className:"mr-2 inline-flex items-center px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Save"}),r.jsx("button",{onClick:ke,className:"inline-flex items-center px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}),(c||u)&&r.jsxs("div",{className:"p-4 bg-white border rounded",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),r.jsx("input",{value:p,onChange:se=>f(se.target.value),className:"mt-1 block w-full border rounded px-2 py-1"}),r.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-3",children:"Description"}),r.jsx("textarea",{value:x,onChange:se=>g(se.target.value),className:"mt-1 block w-full border rounded px-2 py-1",rows:3}),r.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-3",children:"Company Logo URL"}),r.jsx("input",{value:v,onChange:se=>b(se.target.value),placeholder:"https://example.com/logo.png",className:"mt-1 block w-full border rounded px-2 py-1"}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Questions"}),r.jsx("button",{onClick:()=>w(se=>[...se,""]),className:"inline-flex items-center px-2 py-1 bg-blue-500 text-white rounded text-sm",children:"Add Question"})]}),r.jsx("div",{className:"space-y-2 mt-2",children:_.map((se,Se)=>r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("textarea",{value:se,onChange:Pe=>w($e=>$e.map((He,je)=>je===Se?Pe.target.value:He)),className:"flex-1 border rounded px-2 py-1",rows:2}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx("button",{onClick:()=>w(Pe=>Pe.filter(($e,He)=>He!==Se)),className:"inline-flex items-center px-2 py-1 bg-red-500 text-white rounded text-sm",children:"Remove"}),r.jsx("button",{onClick:()=>w(Pe=>{const $e=[...Pe];return $e.splice(Se,1,Pe[Se]+" "),$e}),className:"inline-flex items-center px-2 py-1 bg-gray-200 text-gray-700 rounded text-sm",children:"Duplicate"})]})]},Se))})]})]}),r.jsx("div",{className:"space-y-2",children:a.map(se=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:se.title}),r.jsx("p",{className:"text-sm text-gray-500",children:se.description})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Ie(se),className:"inline-flex items-center px-3 py-1 bg-yellow-500 text-white rounded-md hover:bg-yellow-600",children:"Edit"}),r.jsx("button",{onClick:()=>le(se.id),className:"inline-flex items-center px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Delete"}),r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:se.status||"Active"})]})]},se.id))})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Client Filter"}),r.jsx("input",{value:E,onChange:se=>I(se.target.value),placeholder:"client_id or CRM id",className:"mt-1 w-full border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Questionnaire"}),r.jsxs("select",{value:B,onChange:se=>z(se.target.value),className:"mt-1 w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"All"}),a.map(se=>r.jsx("option",{value:se.id,children:se.title||se.id},se.id))]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{P(1),Q()},className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Apply"}),r.jsx("button",{onClick:()=>{I(""),z(""),P(1),Q()},className:"px-4 py-2 bg-gray-200 rounded",children:"Reset"})]})]})}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Responses"}),r.jsxs("div",{className:"space-x-2",children:[r.jsx("button",{onClick:()=>{L>1&&(P(L-1),Q())},disabled:L===1||e,className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Prev"}),r.jsx("button",{onClick:()=>{P(L+1),Q()},disabled:L*R>=k||e,className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Next"})]})]}),S.length===0?r.jsx("p",{className:"text-gray-500",children:"No responses yet."}):r.jsx("div",{className:"divide-y",children:S.map(se=>r.jsxs("div",{className:"py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:se.client_name||"Unknown Client"}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(se.submitted_at).toLocaleString()})]}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:se.questionnaire_title||"Questionnaire"})]}),se.answers&&r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"cursor-pointer text-sm text-gray-600",children:"View answers"}),r.jsx("pre",{className:"mt-2 text-xs bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(se.answers,null,2)})]}),r.jsxs("div",{className:"mt-3 flex gap-2 items-end",children:[r.jsxs("div",{className:"flex-1 relative",ref:Se=>{re.current[se.id]=Se},children:[r.jsx("label",{className:"block text-xs text-gray-600",children:"Attach to Client"}),r.jsx("input",{className:"mt-1 w-full border rounded px-3 py-1",placeholder:"Search name or email (Client will be linked by ID)",value:V[se.id]??"",onChange:Se=>{const Pe=Se.target.value;U($e=>({...$e,[se.id]:Pe})),M(se.id),Ae(se.id,Pe)},onFocus:()=>{M(se.id);const Se=V[se.id]??(se.client_id||"");Se&&Se.length>=2&&Ae(se.id,Se,0)},onKeyDown:Se=>{const Pe=K[se.id]||[],$e=G[se.id]??-1;if(Se.key==="ArrowDown")Se.preventDefault(),Pe.length>0&&X(He=>({...He,[se.id]:Math.min($e<0?0:$e+1,Pe.length-1)}));else if(Se.key==="ArrowUp")Se.preventDefault(),Pe.length>0&&X(He=>({...He,[se.id]:Math.max($e<0?0:$e-1,0)}));else if(Se.key==="Enter"){if(Pe.length>0&&$e>=0){Se.preventDefault();const He=Pe[$e];U(je=>({...je,[se.id]:He.client_id||He.id})),$(je=>({...je,[se.id]:[]})),M(null),pe(se.id,He.client_id||He.id)}}else Se.key==="Escape"&&($(He=>({...He,[se.id]:[]})),M(null))}}),fe[se.id]&&r.jsx("div",{className:"absolute right-2 top-2.5 h-4 w-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin","aria-label":"loading"}),(K[se.id]?.length??0)>0&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border rounded shadow max-h-64 overflow-auto",children:K[se.id].map((Se,Pe)=>{const $e=(G[se.id]??-1)===Pe;return r.jsxs("button",{type:"button",className:`w-full text-left px-3 py-2 ${$e?"bg-blue-50":"hover:bg-gray-50"}`,onMouseEnter:()=>X(He=>({...He,[se.id]:Pe})),onClick:()=>{U(He=>({...He,[se.id]:[Se.first_name,Se.last_name].filter(Boolean).join(" ")||Se.client_id||Se.id})),$(He=>({...He,[se.id]:[]})),M(null),pe(se.id,Se.client_id||Se.id)},children:[r.jsx("div",{className:"text-sm font-medium",children:[Se.first_name,Se.last_name].filter(Boolean).join(" ")||Se.client_id||Se.id}),r.jsx("div",{className:"text-xs text-gray-500",children:Se.email})]},Se.id)})})]}),r.jsx("button",{onClick:()=>pe(se.id),className:"px-3 py-2 bg-green-600 text-white rounded",disabled:e,children:"Attach"}),r.jsx("button",{onClick:()=>te(W===se.id?null:se.id),className:"px-3 py-2 bg-gray-200 rounded",children:"Details"})]}),W===se.id&&r.jsx("div",{className:"mt-3 p-3 border rounded bg-gray-50",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Response ID:"})," ",se.id]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Token:"})," ",se.token]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Client ID:"})," ",se.client_id||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Client Email:"})," ",se.client_email||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Questionnaire:"})," ",se.questionnaire_title||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Submitted:"})," ",new Date(se.submitted_at).toLocaleString()]})]})})]},se.id))}),r.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Page ",L," • Total ",k]})]})]})})},BI=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444","#8b5a2b","#6366f1"],XIe=()=>{const[e,t]=j.useState(null),[n,s]=j.useState(!0),[a,i]=j.useState(null),[o,l]=j.useState("12months"),[c,d]=j.useState("overview");j.useEffect(()=>{u()},[o]);const u=async()=>{try{s(!0),i(null);const $=new Date,W=new Date;switch(o){case"3months":W.setMonth($.getMonth()-3);break;case"6months":W.setMonth($.getMonth()-6);break;case"12months":W.setMonth($.getMonth()-12);break;case"24months":W.setMonth($.getMonth()-24);break}const[te,J,M,G,X]=await Promise.allSettled([fetch(`/api/crm/invoices?from=${W.toISOString()}`),fetch("/api/crm/clients"),fetch("/api/leads/list?status=any&limit=500&offset=0"),fetch(`/api/vouchers/sales?from=${W.toISOString()}`),fetch("/api/blog/posts")]),ie=te.status==="fulfilled"&&te.value.ok?await te.value.json():[],re=J.status==="fulfilled"&&J.value.ok?await J.value.json():[],fe=M.status==="fulfilled"&&M.value.ok?await M.value.json():{rows:[],count:0},we=Array.isArray(fe)?fe:fe.rows||[],Z=G.status==="fulfilled"&&G.value.ok?await G.value.json():[],Q=X.status==="fulfilled"&&X.value.ok?await X.value.json():[],pe=[],ge=[],Ae={revenueByMonth:h(ie),revenueByService:p(ie),profitability:f(ie),clientsBySource:x(re),clientRetention:v(re,ie),topClients:g(re,ie),leadConversion:b(we),leadsBySource:_(we),bookingsByType:w(pe),bookingsByMonth:S(pe),seasonalTrends:A(pe),emailCampaigns:[],blogMetrics:Q.map(Ne=>({title:Ne.title||"Untitled",views:Ne.view_count||0,engagement:Ne.engagement_score||0,leads:Ne.leads_generated||0})),averageOrderValue:k(ie),customerLifetimeValue:C(re,ie),averageProjectDuration:R(pe),clientSatisfactionScore:4.8,galleryViews:[{gallery:"Wedding Portfolio",views:1250,inquiries:45},{gallery:"Portrait Gallery",views:890,inquiries:32},{gallery:"Family Photos",views:650,inquiries:28}],portfolioMetrics:[{category:"Weddings",views:2100,downloads:85},{category:"Portraits",views:1800,downloads:65},{category:"Events",views:950,downloads:35}],voucherSales:L(Z),voucherTypes:P(Z)};t(Ae)}catch{i("Failed to load reports. Please try again.")}finally{s(!1)}},h=$=>{const W=new Map;return $.forEach(te=>{const J=new Date(te.created_at),M=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`,G=W.get(M)||{month:M,revenue:0,invoices:0};G.revenue+=te.total_amount||0,G.invoices+=1,W.set(M,G)}),Array.from(W.values()).sort((te,J)=>te.month.localeCompare(J.month))},p=$=>{const W=new Map;let te=0;return $.forEach(J=>{const M=J.service_type||"Other",G=J.total_amount||0;te+=G,W.set(M,(W.get(M)||0)+G)}),Array.from(W.entries()).map(([J,M])=>({service:J,revenue:M,percentage:te>0?M/te*100:0}))},f=$=>{const W=new Map;return $.forEach(te=>{const J=new Date(te.created_at),M=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`,G=W.get(M)||{month:M,revenue:0,expenses:0,profit:0},X=te.total_amount||0,ie=X*.3;G.revenue+=X,G.expenses+=ie,G.profit=G.revenue-G.expenses,W.set(M,G)}),Array.from(W.values()).sort((te,J)=>te.month.localeCompare(J.month))},x=$=>{const W=new Map;let te=$.length;return $.forEach(J=>{const M=J.lead_source||"Direct";W.set(M,(W.get(M)||0)+1)}),Array.from(W.entries()).map(([J,M])=>({source:J,count:M,percentage:te>0?M/te*100:0}))},g=($,W)=>{const te=new Map,J=new Map,M=new Map;return W.forEach(G=>{const X=G.client_id,ie=$.find(re=>re.id===X);if(ie){const re=te.get(ie.name)||0;te.set(ie.name,re+(G.total_amount||0)),J.set(ie.name,(J.get(ie.name)||0)+1),M.set(ie.name,G.created_at)}}),Array.from(te.entries()).map(([G,X])=>({name:G,revenue:X,bookings:J.get(G)||0,lastBooking:M.get(G)||""})).sort((G,X)=>X.revenue-G.revenue).slice(0,10)},v=($,W)=>{const te=[];for(let J=11;J>=0;J--){const M=new Date;M.setMonth(M.getMonth()-J);const G=`${M.getFullYear()}-${String(M.getMonth()+1).padStart(2,"0")}`;te.push({month:G,new:Math.floor(Math.random()*20)+5,returning:Math.floor(Math.random()*15)+3,churn:Math.floor(Math.random()*5)+1})}return te},b=$=>{const W=new Map;return $.forEach(te=>{const J=new Date(te.created_at),M=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`,G=W.get(M)||{month:M,leads:0,converted:0,rate:0};G.leads+=1,te.status==="CONVERTED"&&(G.converted+=1),G.rate=G.leads>0?G.converted/G.leads*100:0,W.set(M,G)}),Array.from(W.values()).sort((te,J)=>te.month.localeCompare(J.month))},_=$=>{const W=new Map;return $.forEach(te=>{const J=te.form_source||"Unknown",M=W.get(J)||{source:J,leads:0,converted:0,rate:0};M.leads+=1,te.status==="CONVERTED"&&(M.converted+=1),M.rate=M.leads>0?M.converted/M.leads*100:0,W.set(J,M)}),Array.from(W.values())},w=$=>{const W=new Map;return $.forEach(te=>{const J=te.service_type||"Other",M=W.get(J)||{type:J,count:0,revenue:0};M.count+=1,M.revenue+=te.total_amount||0,W.set(J,M)}),Array.from(W.values())},S=$=>{const W=new Map;return $.forEach(te=>{const J=new Date(te.created_at),M=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`,G=W.get(M)||{month:M,bookings:0,revenue:0};G.bookings+=1,G.revenue+=te.total_amount||0,W.set(M,G)}),Array.from(W.values()).sort((te,J)=>te.month.localeCompare(J.month))},A=$=>S($).map(W=>({...W,avgValue:W.bookings>0?W.revenue/W.bookings:0})),L=$=>{const W=new Map;return $.forEach(te=>{const J=new Date(te.created_at),M=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`,G=W.get(M)||{month:M,sales:0,revenue:0,redeemed:0};G.sales+=1,G.revenue+=te.amount||0,te.redeemed&&(G.redeemed+=1),W.set(M,G)}),Array.from(W.values()).sort((te,J)=>te.month.localeCompare(J.month))},P=$=>{const W=new Map;return $.forEach(te=>{const J=te.voucher_type||"Standard",M=W.get(J)||{type:J,sold:0,revenue:0,redeemed:0,redemptionRate:0};M.sold+=1,M.revenue+=te.amount||0,te.redeemed&&(M.redeemed+=1),M.redemptionRate=M.sold>0?M.redeemed/M.sold*100:0,W.set(J,M)}),Array.from(W.values())},k=$=>$.length===0?0:$.reduce((te,J)=>te+(J.total_amount||0),0)/$.length,C=($,W)=>$.length===0?0:W.reduce((J,M)=>J+(M.total_amount||0),0)/$.length,R=$=>14,E=()=>{if(!e)return;let $="data:text/csv;charset=utf-8,";$+="Photography Business Comprehensive Report\\n\\n",$+="Revenue by Month\\n",$+="Month,Revenue,Invoice Count\\n",e.revenueByMonth.forEach(J=>{$+=`${J.month},${J.revenue},${J.invoices}\\n`}),$+="\\nRevenue by Service\\n",$+="Service,Revenue,Percentage\\n",e.revenueByService.forEach(J=>{$+=`${J.service},${J.revenue},${J.percentage.toFixed(2)}%\\n`}),$+="\\nTop Clients\\n",$+="Name,Revenue,Bookings,Last Booking\\n",e.topClients.forEach(J=>{$+=`${J.name},${J.revenue},${J.bookings},${J.lastBooking}\\n`});const W=encodeURI($),te=document.createElement("a");te.setAttribute("href",W),te.setAttribute("download",`comprehensive-photography-report-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(te),te.click(),document.body.removeChild(te)},I=()=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(go,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e?.averageOrderValue.toFixed(0)]})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ln,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer LTV"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e?.customerLifetimeValue.toFixed(0)]})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(dn,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Project Duration"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[e?.averageProjectDuration," days"]})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsx(El,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Client Satisfaction"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[e?.clientSatisfactionScore,"/5"]})]})]})})]}),B=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Month"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(E0,{data:e?.revenueByMonth||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"month"}),r.jsx(uo,{}),r.jsx($s,{formatter:$=>[`€${$}`,"Revenue"]}),r.jsx(fi,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Service"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(dk,{children:[r.jsx($l,{data:e?.revenueByService||[],cx:"50%",cy:"50%",labelLine:!1,label:({service:$,percentage:W})=>`${$} (${W.toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:(e?.revenueByService||[]).map(($,W)=>r.jsx(ex,{fill:BI[W%BI.length]},`cell-${W}`))}),r.jsx($s,{formatter:$=>[`€${$}`,"Revenue"]})]})})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profitability Analysis"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(D5e,{data:e?.profitability||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"month"}),r.jsx(uo,{}),r.jsx($s,{formatter:$=>[`€${$}`]}),r.jsx(ah,{}),r.jsx(Uf,{type:"monotone",dataKey:"revenue",stroke:"#10b981",name:"Revenue"}),r.jsx(Uf,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",name:"Expenses"}),r.jsx(Uf,{type:"monotone",dataKey:"profit",stroke:"#8b5cf6",name:"Profit",strokeWidth:3})]})})]})]}),z=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clients by Source"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(aO,{data:e?.clientsBySource||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"source"}),r.jsx(uo,{}),r.jsx($s,{}),r.jsx(wd,{dataKey:"count",fill:"#06b6d4"})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Client Retention"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(E0,{data:e?.clientRetention||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"month"}),r.jsx(uo,{}),r.jsx($s,{}),r.jsx(fi,{type:"monotone",dataKey:"new",stackId:"1",stroke:"#10b981",fill:"#10b981"}),r.jsx(fi,{type:"monotone",dataKey:"returning",stackId:"1",stroke:"#06b6d4",fill:"#06b6d4"}),r.jsx(fi,{type:"monotone",dataKey:"churn",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Clients"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bookings"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Booking"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e?.topClients||[]).map(($,W)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.name}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",$.revenue.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.bookings}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.lastBooking?new Date($.lastBooking).toLocaleDateString():"N/A"})]},W))})]})})]})]}),V=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lead Conversion"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(aO,{data:e?.leadConversion||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"month"}),r.jsx(uo,{}),r.jsx($s,{}),r.jsx(ah,{}),r.jsx(wd,{dataKey:"leads",fill:"#94a3b8",name:"Total Leads"}),r.jsx(wd,{dataKey:"converted",fill:"#8b5cf6",name:"Converted"})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gallery Performance"}),r.jsx("div",{className:"space-y-4",children:(e?.galleryViews||[]).map(($,W)=>r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:$.gallery}),r.jsxs("p",{className:"text-sm text-gray-600",children:[$.views," views"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[$.inquiries," inquiries"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[($.inquiries/$.views*100).toFixed(1),"% conversion"]})]})]},W))})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Campaign Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opened"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clicked"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e?.emailCampaigns||[]).map(($,W)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.sent}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[$.opened," (",$.sent>0?($.opened/$.sent*100).toFixed(1):0,"%)"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[$.clicked," (",$.opened>0?($.clicked/$.opened*100).toFixed(1):0,"%)"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",$.revenue.toFixed(2)]})]},W))})]})})]})]}),U=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Voucher Sales Trend"}),r.jsx(_l,{width:"100%",height:300,children:r.jsxs(E0,{data:e?.voucherSales||[],children:[r.jsx(cd,{strokeDasharray:"3 3"}),r.jsx(co,{dataKey:"month"}),r.jsx(uo,{}),r.jsx($s,{}),r.jsx(fi,{type:"monotone",dataKey:"revenue",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Voucher Types Performance"}),r.jsx("div",{className:"space-y-4",children:(e?.voucherTypes||[]).map(($,W)=>r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:$.type}),r.jsxs("p",{className:"text-sm text-gray-600",children:[$.sold," sold"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-green-600",children:["€",$.revenue.toFixed(2)]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[$.redemptionRate.toFixed(1),"% redeemed"]})]})]},W))})]})]})}),K=()=>{if(n)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Mr,{className:"h-8 w-8 animate-spin text-purple-600"})});if(a)return r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dr,{className:"h-5 w-5 mr-2"}),a]})});if(!e)return r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No report data available."})});switch(c){case"financial":return B();case"clients":return z();case"marketing":return V();case"vouchers":return U();default:return r.jsxs("div",{className:"space-y-8",children:[I(),B()]})}};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Comprehensive Business Reports"}),r.jsx("p",{className:"text-gray-600",children:"Complete analytics and insights for your photography business"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:u,className:"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg flex items-center",children:[r.jsx(hh,{size:18,className:"mr-2"}),"Refresh"]}),r.jsxs("button",{onClick:E,disabled:!e,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center disabled:opacity-50",children:[r.jsx(Vn,{size:18,className:"mr-2"}),"Export CSV"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),r.jsxs("select",{value:o,onChange:$=>l($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"3months",children:"Last 3 Months"}),r.jsx("option",{value:"6months",children:"Last 6 Months"}),r.jsx("option",{value:"12months",children:"Last 12 Months"}),r.jsx("option",{value:"24months",children:"Last 24 Months"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Category"}),r.jsxs("select",{value:c,onChange:$=>d($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"overview",children:"Overview"}),r.jsx("option",{value:"financial",children:"Financial"}),r.jsx("option",{value:"clients",children:"Clients"}),r.jsx("option",{value:"marketing",children:"Marketing"}),r.jsx("option",{value:"vouchers",children:"Vouchers"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"flex space-x-2 w-full",children:[r.jsx("button",{onClick:()=>d("overview"),className:`flex-1 px-3 py-2 rounded-md text-sm ${c==="overview"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Overview"}),r.jsx("button",{onClick:()=>d("financial"),className:`flex-1 px-3 py-2 rounded-md text-sm ${c==="financial"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Financial"})]})})]})}),K()]})})},JIe=()=>{const{t:e}=ia(),t=Vy(),n=[{title:"Knowledge & Documentation",description:"Manage your knowledge base and documentation",items:[{icon:G4,title:e("nav.knowledgeBase"),description:"Access and manage your knowledge base articles",path:"/admin/knowledge-base",color:"bg-blue-500"}]},{title:"System Configuration",description:"Configure core system settings",items:[{icon:go,title:"Price List Management",description:"Manage price list items and import CSV files",path:"/admin/settings/price-list",color:"bg-emerald-500"},{icon:o1,title:"Database Settings",description:"Manage database connections and migrations",path:"/admin/settings/database",color:"bg-green-500"},{icon:pr,title:"Email & Lead Notifications",description:"Configure SMTP settings and the lead notification email address",path:"/admin/settings/email",color:"bg-red-500"},{icon:Mi,title:"Website Settings",description:"Manage website configuration and SEO",path:"/admin/settings/website",color:"bg-purple-500"}]},{title:"Security & Access",description:"Manage security settings and user access",items:[{icon:aS,title:"Security Settings",description:"Configure authentication and security policies",path:"/admin/settings/security",color:"bg-orange-500"},{icon:ln,title:"User Management",description:"Manage user accounts and permissions",path:"/admin/settings/users",color:"bg-indigo-500"},{icon:sY,title:"API Keys",description:"Manage API keys and integrations",path:"/admin/settings/api-keys",color:"bg-yellow-500"}]},{title:"Appearance & Notifications",description:"Customize appearance and notification preferences",items:[{icon:Oi,title:"Theme Settings",description:"Customize colors, fonts, and layouts",path:"/admin/settings/theme",color:"bg-pink-500"},{icon:eh,title:"Notifications",description:"Configure notification preferences",path:"/admin/settings/notifications",color:"bg-teal-500"}]}];return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(aa,{className:"h-8 w-8 text-gray-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure your CRM system settings and preferences"})]})]})}),r.jsx("div",{className:"space-y-8",children:n.map((s,a)=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.title}),r.jsx("p",{className:"text-gray-600",children:s.description})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.items.map((i,o)=>{const l=i.icon,c=t.pathname===i.path;return r.jsx(Vt,{to:i.path,className:`group p-4 rounded-lg border-2 transition-all duration-200 ${c?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`${i.color} p-2 rounded-lg`,children:r.jsx(l,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-600",children:i.title}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.description})]})]})},o)})})]},a))}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors",children:[r.jsx(o1,{className:"h-6 w-6 text-blue-600 mb-2"}),r.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Test Database"})]}),r.jsxs("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors",children:[r.jsx(pr,{className:"h-6 w-6 text-green-600 mb-2"}),r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Test Email"})]}),r.jsxs("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors",children:[r.jsx(aS,{className:"h-6 w-6 text-purple-600 mb-2"}),r.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Security Check"})]}),r.jsxs("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors",children:[r.jsx(Mi,{className:"h-6 w-6 text-orange-600 mb-2"}),r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Clear Cache"})]})]})]})]})})},QIe=()=>{const[e,t]=j.useState({notificationEmail:"",smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",emailSignature:`Best regards,
New Age Fotografie Team`}),[n,s]=j.useState(!0),[a,i]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState(!1);j.useEffect(()=>{u()},[]);const u=async()=>{try{const f=await fetch("/api/admin/email-settings");if(f.ok){const x=await f.json();t(g=>({...g,...x}))}}catch(f){console.error("Failed to fetch email settings:",f)}finally{s(!1)}},h=async()=>{i(!0),l(null);try{if((await fetch("/api/admin/email-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)l({type:"success",text:"Email settings saved successfully!"});else throw new Error("Failed to save settings")}catch{l({type:"error",text:"Failed to save email settings. Please try again."})}finally{i(!1)}},p=async()=>{try{if((await fetch("/api/admin/test-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.notificationEmail,subject:"Test Email - New Age Fotografie CRM",message:"This is a test email to verify your email settings are working correctly."})})).ok)l({type:"success",text:`Test email sent to ${e.notificationEmail}!`});else throw new Error("Failed to send test email")}catch{l({type:"error",text:"Failed to send test email. Please check your settings."})}};return n?r.jsx(Nr,{children:r.jsx("div",{className:"flex items-center justify-center min-h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})}):r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Email Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure email notifications and SMTP settings"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(pr,{size:16,className:"mr-2"}),"Send Test Email"]}),r.jsxs("button",{onClick:h,disabled:a,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center disabled:opacity-50",children:[r.jsx(Go,{size:16,className:"mr-2"}),a?"Saving...":"Save Settings"]})]})]}),o&&r.jsx("div",{className:`rounded-lg p-4 ${o.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:r.jsxs("div",{className:"flex items-center",children:[o.type==="success"?r.jsx(jr,{size:20,className:"text-green-600 mr-2"}):r.jsx(Dr,{size:20,className:"text-red-600 mr-2"}),r.jsx("span",{className:`text-sm font-medium ${o.type==="success"?"text-green-800":"text-red-800"}`,children:o.text})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(eh,{size:20,className:"text-purple-600 mr-2"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Email Address"}),r.jsx("input",{type:"email",value:e.notificationEmail,onChange:f=>t(x=>({...x,notificationEmail:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"admin@yourcompany.com"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This email will receive notifications for new leads, contact forms, and waitlist submissions."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Signature"}),r.jsx("textarea",{value:e.emailSignature,onChange:f=>t(x=>({...x,emailSignature:f.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Best regards,\\nYour Company Name"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This signature will be added to all automated emails."})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(aa,{size:20,className:"text-purple-600 mr-2"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SMTP Configuration"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host"}),r.jsx("input",{type:"text",value:e.smtpHost,onChange:f=>t(x=>({...x,smtpHost:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"smtp.gmail.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),r.jsx("input",{type:"number",value:e.smtpPort,onChange:f=>t(x=>({...x,smtpPort:parseInt(f.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"587"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Username"}),r.jsx("input",{type:"text",value:e.smtpUser,onChange:f=>t(x=>({...x,smtpUser:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"your-email@domain.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",value:e.smtpPassword,onChange:f=>t(x=>({...x,smtpPassword:f.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"••••••••"}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:c?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep current password unchanged."})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Notifications sent to:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:e.notificationEmail})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"SMTP Server:"}),r.jsxs("span",{className:"ml-2 text-gray-900",children:[e.smtpHost,":",e.smtpPort]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"SMTP User:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:e.smtpUser})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),r.jsx("span",{className:"ml-2 text-green-600",children:"Active"})]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Dr,{size:20,className:"text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Important Information"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Changes to the notification email will affect all new lead notifications"}),r.jsx("li",{children:"• SMTP settings are used for sending all automated emails from the system"}),r.jsx("li",{children:'• Use the "Send Test Email" button to verify your configuration'}),r.jsx("li",{children:"• Make sure to save your settings before testing"})]})]})]})})]})})},eMe=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,i]=j.useState("");j.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0),i("");const l=await fetch("/api/debug/photography-sessions");if(l.ok){const c=await l.json();t(c),console.log("✅ Sessions loaded:",c)}else{const c=await l.text();i(`API Error: ${l.status} - ${c}`),console.error("❌ API Error:",l.status,c)}}catch(l){i(`Network Error: ${l.message}`),console.error("❌ Network Error:",l)}finally{s(!1)}};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendar Test Page"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Testing calendar functionality and API connections"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"API Connection Test"}),n&&r.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{children:"Loading sessions..."})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:[r.jsx("strong",{children:"Error:"})," ",a]}),!n&&!a&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[r.jsx(dn,{className:"h-5 w-5"}),r.jsx("span",{children:"✅ API connection successful"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Found ",e.length," photography sessions"]}),r.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Refresh Data"})]})]}),e.length>0&&r.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Photography Sessions"}),r.jsx("div",{className:"space-y-3",children:e.map(l=>r.jsx("div",{className:"border rounded p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:l.title}),r.jsx("p",{className:"text-sm text-gray-600",children:l.description}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[r.jsxs("span",{children:["Type: ",l.sessionType]}),r.jsxs("span",{children:["Status: ",l.status]}),l.basePrice&&r.jsxs("span",{children:["Price: $",l.basePrice]})]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-600",children:[r.jsxs("div",{children:["Start: ",new Date(l.startTime).toLocaleDateString()]}),r.jsxs("div",{children:["Time: ",new Date(l.startTime).toLocaleTimeString()]})]})]})},l.id))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Next Steps"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("p",{children:"1. ✅ Test API connection"}),r.jsx("p",{children:"2. ✅ Load photography sessions data"}),r.jsx("p",{children:"3. 🔄 Test calendar component integration"}),r.jsx("p",{children:"4. 🔄 Test session creation"}),r.jsx("p",{children:"5. 🔄 Test calendar navigation"})]})]})]})})},tMe=()=>{const[e,t]=j.useState("theme"),[n,s]=j.useState({primaryColor:"#8b5cf6",secondaryColor:"#4f46e5",accentColor:"#ec4899",fontFamily:"Poppins",logoUrl:"/frontend-logo.jpg",headerStyle:"light",footerStyle:"dark"}),[a,i]=j.useState({senderName:"TogNinja",senderEmail:"info@togninja.com",emailSignature:"<p>Best regards,<br>The TogNinja Team</p>",emailLogo:"/frontend-logo.jpg"}),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,h]=j.useState(null),p="asst_customization_helper_v1",f=w=>{w.theme&&s(S=>({...S,...w.theme})),w.email&&i(S=>({...S,...w.email})),w.activeTab&&["theme","email","templates","wizard","analyzer"].includes(w.activeTab)&&t(w.activeTab),d(!0),setTimeout(()=>d(!1),3e3)},x=w=>{const{name:S,value:A}=w.target;s(L=>({...L,[S]:A}))},g=w=>{const{name:S,value:A}=w.target;i(L=>({...L,[S]:A}))},v=async()=>{try{l(!0),h(null),await new Promise(w=>setTimeout(w,1e3)),d(!0),setTimeout(()=>d(!1),3e3)}catch{h("Failed to save theme settings. Please try again.")}finally{l(!1)}},b=async()=>{try{l(!0),h(null),await new Promise(w=>setTimeout(w,1e3)),d(!0),setTimeout(()=>d(!1),3e3)}catch{h("Failed to save email settings. Please try again.")}finally{l(!1)}},_=()=>{s({primaryColor:"#8b5cf6",secondaryColor:"#4f46e5",accentColor:"#ec4899",fontFamily:"Poppins",logoUrl:"/frontend-logo.jpg",headerStyle:"light",footerStyle:"dark"})};return r.jsx(Nr,{children:r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Customization"}),r.jsx("p",{className:"text-gray-600",children:"Manage website themes, templates, and customization tools"})]}),c&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(sa,{className:"h-5 w-5 text-green-400 mt-0.5 mr-2"}),r.jsx("span",{children:"Settings saved successfully!"})]}),u&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:u})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>t("theme"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="theme"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Oi,{className:"inline-block mr-2 h-5 w-5"}),"Theme Settings"]}),r.jsxs("button",{onClick:()=>t("email"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="email"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(pr,{className:"inline-block mr-2 h-5 w-5"}),"Email Settings"]}),r.jsxs("button",{onClick:()=>t("templates"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="templates"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Hn,{className:"inline-block mr-2 h-5 w-5"}),"Studio Templates"]}),r.jsxs("button",{onClick:()=>t("wizard"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="wizard"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Ap,{className:"inline-block mr-2 h-5 w-5"}),"Website Wizard"]}),r.jsxs("button",{onClick:()=>t("analyzer"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="analyzer"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Va,{className:"inline-block mr-2 h-5 w-5"}),"Website Analyzer"]})]})}),e==="theme"&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(Oi,{className:"mr-2 h-5 w-5 text-purple-600"}),"Color Scheme"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"color",id:"primaryColor",name:"primaryColor",value:n.primaryColor,onChange:x,className:"h-10 w-10 border-0 p-0 mr-2"}),r.jsx("input",{type:"text",value:n.primaryColor,onChange:x,name:"primaryColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"secondaryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"color",id:"secondaryColor",name:"secondaryColor",value:n.secondaryColor,onChange:x,className:"h-10 w-10 border-0 p-0 mr-2"}),r.jsx("input",{type:"text",value:n.secondaryColor,onChange:x,name:"secondaryColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"accentColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"color",id:"accentColor",name:"accentColor",value:n.accentColor,onChange:x,className:"h-10 w-10 border-0 p-0 mr-2"}),r.jsx("input",{type:"text",value:n.accentColor,onChange:x,name:"accentColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(iS,{className:"mr-2 h-5 w-5 text-purple-600"}),"Typography & Branding"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"fontFamily",className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Family"}),r.jsxs("select",{id:"fontFamily",name:"fontFamily",value:n.fontFamily,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"Poppins",children:"Poppins"}),r.jsx("option",{value:"Roboto",children:"Roboto"}),r.jsx("option",{value:"Open Sans",children:"Open Sans"}),r.jsx("option",{value:"Montserrat",children:"Montserrat"}),r.jsx("option",{value:"Lato",children:"Lato"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"logoUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),r.jsx("input",{type:"text",id:"logoUrl",name:"logoUrl",value:n.logoUrl,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),n.logoUrl&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:n.logoUrl,alt:"Logo Preview",className:"h-12 object-contain"})})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(nS,{className:"mr-2 h-5 w-5 text-purple-600"}),"Layout Settings"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"headerStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Header Style"}),r.jsxs("select",{id:"headerStyle",name:"headerStyle",value:n.headerStyle,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"dark",children:"Dark"}),r.jsx("option",{value:"transparent",children:"Transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"footerStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Footer Style"}),r.jsxs("select",{id:"footerStyle",name:"footerStyle",value:n.footerStyle,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"dark",children:"Dark"})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(ka,{className:"mr-2 h-5 w-5 text-purple-600"}),"Preview"]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:`p-4 ${n.headerStyle==="light"?"bg-white text-gray-900":n.headerStyle==="dark"?"bg-gray-800 text-white":"bg-gradient-to-r from-purple-600 to-pink-500 text-white"}`,style:{fontFamily:n.fontFamily},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-8 w-8 bg-white rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{style:{color:n.primaryColor},children:"NA"})}),r.jsx("span",{className:"font-bold",children:"New Age Fotografie"})]})}),r.jsxs("div",{className:"p-4 bg-white",style:{fontFamily:n.fontFamily},children:[r.jsx("div",{className:"p-2 rounded-lg text-white text-center font-medium",style:{backgroundColor:n.primaryColor},children:"Primary Button"}),r.jsx("div",{className:"mt-2 text-sm",style:{color:n.secondaryColor},children:"Secondary Text Color"}),r.jsx("div",{className:"mt-2 text-xs",style:{color:n.accentColor},children:"Accent Text Color"})]}),r.jsx("div",{className:`p-4 text-center text-sm ${n.footerStyle==="light"?"bg-gray-100 text-gray-700":"bg-gray-800 text-white"}`,style:{fontFamily:n.fontFamily},children:"© 2025 New Age Fotografie"})]})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsxs("button",{onClick:_,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[r.jsx(hh,{className:"inline-block mr-2 h-4 w-4"}),"Reset to Default"]}),r.jsx("button",{onClick:v,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Go,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})]})]}),e==="email"&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(pr,{className:"mr-2 h-5 w-5 text-purple-600"}),"Sender Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"senderName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name"}),r.jsx("input",{type:"text",id:"senderName",name:"senderName",value:a.senderName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"senderEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Email"}),r.jsx("input",{type:"email",id:"senderEmail",name:"senderEmail",value:a.senderEmail,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(ka,{className:"mr-2 h-5 w-5 text-purple-600"}),"Email Branding"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"emailLogo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Logo URL"}),r.jsx("input",{type:"text",id:"emailLogo",name:"emailLogo",value:a.emailLogo,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.emailLogo&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:a.emailLogo,alt:"Email Logo Preview",className:"h-12 object-contain"})})]})})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Signature"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"emailSignature",className:"block text-sm font-medium text-gray-700 mb-1",children:"HTML Signature"}),r.jsx("textarea",{id:"emailSignature",name:"emailSignature",value:a.emailSignature,onChange:g,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Signature Preview"}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["From: ",a.senderName," <",a.senderEmail,">"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"To: client@example.com"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Subject: Thank you for your inquiry"})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"Dear Client,"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for your message. This is how your email signature will appear."}),r.jsx("div",{className:"border-t border-gray-200 pt-4 text-gray-700",dangerouslySetInnerHTML:{__html:a.emailSignature}}),a.emailLogo&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:a.emailLogo,alt:"Email Logo",className:"h-12 object-contain"})})]})]})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:b,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Go,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})})]}),e==="templates"&&r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(Hn,{className:"mr-2 h-5 w-5 text-purple-600"}),"Studio Templates"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Pre-designed templates for your photography studio website"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:"Modern Portfolio"})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Modern Portfolio"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Clean, minimalist design perfect for showcasing photography portfolios"}),r.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Use Template"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:"Wedding Studio"})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Wedding Studio"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Elegant design specifically crafted for wedding photographers"}),r.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Use Template"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-green-400 to-teal-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:"Portrait Studio"})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Portrait Studio"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Professional layout for portrait and headshot photographers"}),r.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Use Template"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create Custom Template"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Need a custom template? Use our AI assistant to generate a personalized website template based on your requirements."}),r.jsx(u1,{assistantId:p,onCRMAction:f,height:"400px",title:"Template Assistant",className:"w-full"})]})]})]})}),e==="wizard"&&r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(Ap,{className:"mr-2 h-5 w-5 text-purple-600"}),"Website Wizard"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Step-by-step guide to create your perfect photography website"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:"1"}),r.jsx("h4",{className:"ml-3 text-lg font-medium text-gray-900",children:"Business Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Studio Name"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Your Studio Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Photography Style"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{children:"Wedding Photography"}),r.jsx("option",{children:"Portrait Photography"}),r.jsx("option",{children:"Commercial Photography"}),r.jsx("option",{children:"Event Photography"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-sm font-medium",children:"2"}),r.jsx("h4",{className:"ml-3 text-lg font-medium text-gray-900",children:"Design Preferences"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-400 to-pink-500 rounded mb-2"}),r.jsx("p",{className:"text-sm font-medium text-center",children:"Modern & Clean"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-600 rounded mb-2"}),r.jsx("p",{className:"text-sm font-medium text-center",children:"Dark & Elegant"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-amber-400 to-orange-500 rounded mb-2"}),r.jsx("p",{className:"text-sm font-medium text-center",children:"Warm & Inviting"})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-sm font-medium",children:"3"}),r.jsx("h4",{className:"ml-3 text-lg font-medium text-gray-900",children:"Features & Content"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:"Essential Features"}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:!0}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Portfolio Gallery"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:!0}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Contact Form"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Online Booking"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:"Additional Features"}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Client Portal"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"E-commerce Store"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Blog Section"})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous Step"}),r.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700",children:"Generate Website"})]})]})}),e==="analyzer"&&r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(Va,{className:"mr-2 h-5 w-5 text-purple-600"}),"Website Analyzer"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Analyze your website performance and get optimization recommendations"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Analyze Website"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("input",{type:"url",placeholder:"Enter your website URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"}),r.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Analyze"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-800",children:"Performance"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:"92"})]}),r.jsx("div",{className:"text-green-600",children:r.jsx(Va,{className:"h-8 w-8"})})]})}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-800",children:"SEO"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"78"})]}),r.jsx("div",{className:"text-blue-600",children:r.jsx(Va,{className:"h-8 w-8"})})]})}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Accessibility"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:"85"})]}),r.jsx("div",{className:"text-yellow-600",children:r.jsx(Va,{className:"h-8 w-8"})})]})}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Best Practices"}),r.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"94"})]}),r.jsx("div",{className:"text-purple-600",children:r.jsx(Va,{className:"h-8 w-8"})})]})})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Recommendations"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-red-500 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Optimize Images"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Reduce image file sizes to improve loading speed. Consider using WebP format."})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-500 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Add Alt Text"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Include descriptive alt text for all images to improve accessibility and SEO."})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Meta Descriptions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add unique meta descriptions to all pages to improve click-through rates."})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"AI-Powered Analysis"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Get detailed insights and personalized recommendations from our AI assistant."}),r.jsx(u1,{assistantId:p,onCRMAction:f,height:"400px",title:"Website Analysis Assistant",className:"w-full"})]})]})]})})]})})})},rMe=({currentTemplate:e,onTemplateSelect:t,onPreview:n})=>{const[s,a]=j.useState([]),[i,o]=j.useState("all"),[l,c]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{a([{id:"template-01-modern-minimal",name:"Modern Minimal",description:"Clean, minimalist design focusing on your photography",category:"minimal",previewImage:"/templates/previews/modern-minimal.jpg",demoUrl:"/demo/modern-minimal",features:["Clean Layout","Fast Loading","Mobile First","SEO Optimized"],colorScheme:{primary:"#1a1a1a",secondary:"#f5f5f5",accent:"#007acc",background:"#ffffff"},isPremium:!1},{id:"template-02-elegant-classic",name:"Elegant Classic",description:"Timeless elegance with sophisticated typography",category:"classic",previewImage:"/templates/previews/elegant-classic.jpg",demoUrl:"/demo/elegant-classic",features:["Elegant Typography","Sophisticated Layout","Gallery Focus","Contact Integration"],colorScheme:{primary:"#2c2c2c",secondary:"#d4af37",accent:"#8b4513",background:"#faf8f5"},isPremium:!1},{id:"template-03-bold-artistic",name:"Bold Artistic",description:"Creative layout for artistic photographers",category:"artistic",previewImage:"/templates/previews/bold-artistic.jpg",demoUrl:"/demo/bold-artistic",features:["Creative Layouts","Animation Effects","Artistic Focus","Portfolio Showcase"],colorScheme:{primary:"#ff6b35",secondary:"#2a2d34",accent:"#ffd23f",background:"#1a1a1a"},isPremium:!0},{id:"template-04-wedding-romance",name:"Wedding Romance",description:"Romantic design perfect for wedding photographers",category:"classic",previewImage:"/templates/previews/wedding-romance.jpg",demoUrl:"/demo/wedding-romance",features:["Romantic Elements","Couple Focus","Elegant Gallery","Booking System"],colorScheme:{primary:"#d4a574",secondary:"#f7f3f0",accent:"#9b5a42",background:"#fff"},isPremium:!0},{id:"template-05-family-warm",name:"Family Warmth",description:"Warm, inviting design for family photographers",category:"modern",previewImage:"/templates/previews/family-warm.jpg",demoUrl:"/demo/family-warm",features:["Family Focused","Warm Colors","Child Friendly","Session Booking"],colorScheme:{primary:"#7c3aed",secondary:"#fbbf24",accent:"#10b981",background:"#fefefe"},isPremium:!1}]),c(!1)}catch{c(!1)}},u=i==="all"?s:s.filter(p=>p.category===i),h=[{id:"all",name:"All Templates",icon:nS},{id:"minimal",name:"Minimal",icon:Y4},{id:"classic",name:"Classic",icon:Oi},{id:"modern",name:"Modern",icon:nS},{id:"artistic",name:"Artistic",icon:Oi}];return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Template"}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select from 25 professionally designed templates to match your photography style. Each template is fully customizable and optimized for performance."})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:h.map(p=>{const f=p.icon;return r.jsxs("button",{onClick:()=>o(p.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${i===p.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(f,{size:16}),p.name]},p.id)})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>r.jsxs(Rt,{className:`relative overflow-hidden transition-all hover:shadow-lg ${e===p.id?"ring-2 ring-purple-500 shadow-lg":"hover:shadow-md"}`,children:[p.isPremium&&r.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.jsxs(ra,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[r.jsx(i1,{size:12,className:"mr-1"}),"Premium"]})}),e===p.id&&r.jsx("div",{className:"absolute top-3 left-3 z-10",children:r.jsxs(ra,{className:"bg-green-100 text-green-800",children:[r.jsx(sa,{size:12,className:"mr-1"}),"Active"]})}),r.jsx("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200",children:r.jsx("img",{src:p.previewImage,alt:p.name,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.innerHTML=`
                        <div class="w-full h-full flex items-center justify-center bg-gradient-to-br" style="background: linear-gradient(135deg, ${p.colorScheme.primary}, ${p.colorScheme.secondary})">
                          <div class="text-center text-white">
                            <h3 class="text-lg font-bold">${p.name}</h3>
                            <p class="text-sm opacity-90">${p.category}</p>
                          </div>
                        </div>
                      `}})}),r.jsxs(Or,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(zr,{className:"text-lg",children:p.name}),r.jsx("div",{className:"flex gap-1",children:Object.values(p.colorScheme).slice(0,3).map((f,x)=>r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:f}},x))})]}),r.jsx(_a,{className:"text-sm",children:p.description})]}),r.jsxs(Jt,{className:"pt-0",children:[r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:p.features.slice(0,3).map(f=>r.jsx(ra,{variant:"outline",className:"text-xs",children:f},f))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($t,{variant:"outline",size:"sm",onClick:()=>n(p.id),className:"flex-1",children:[r.jsx(Mn,{size:14,className:"mr-1"}),"Preview"]}),r.jsx($t,{size:"sm",onClick:()=>t(p.id),disabled:e===p.id,className:"flex-1",children:e===p.id?"Active":"Select"})]})]})]},p.id))})]}),u.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No templates found in this category."})})]})},nMe=()=>{const[e,t]=j.useState({studioName:"New Age Fotografie",ownerEmail:"hallo@newagefotografie.com",activeTemplate:"template-01-modern-minimal",primaryColor:"#7C3AED",secondaryColor:"#F59E0B",businessName:"New Age Fotografie",address:"Schönbrunner Str. 25",city:"Wien",phone:"+43 677 633 99210",email:"hallo@newagefotografie.com"});j.useState(!1);const[n,s]=j.useState(!1),[a,i]=j.useState("template");j.useEffect(()=>{document.title="Studio Customization - Template & Design Management";let u=document.querySelector('meta[name="description"]');return u||(u=document.createElement("meta"),u.setAttribute("name","description"),document.head.appendChild(u)),u.setAttribute("content","Customize your photography studio website with professional templates, branding, and business settings."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const o=async u=>{s(!0);try{t(h=>({...h,activeTemplate:u}))}catch{}finally{s(!1)}},l=u=>{const h=`/preview/${u}`;window.open(h,"_blank","width=1200,height=800")},c=async()=>{s(!0);try{}catch{}finally{s(!1)}},d=(u,h)=>{t(p=>({...p,[u]:h}))};return r.jsx(Wn,{children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Studio Customization"}),r.jsx("p",{className:"text-gray-600",children:"Customize your photography studio website template, branding, and business information."})]}),r.jsxs(Rt,{className:"mb-6",children:[r.jsx(Or,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(ta,{className:"h-5 w-5 text-purple-600"}),"Current Template"]}),r.jsx(_a,{children:"Your active website design"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($t,{variant:"outline",size:"sm",children:[r.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Preview Live Site"]}),r.jsxs($t,{variant:"outline",size:"sm",children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),r.jsx(Jt,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center",children:r.jsx(ta,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Modern Minimal"}),r.jsx("p",{className:"text-gray-600",children:"Clean, minimalist design focusing on your photography"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx(ra,{variant:"secondary",children:"Active"}),r.jsx(ra,{variant:"outline",children:"Free Template"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.primaryColor}}),r.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.secondaryColor}})]})]})})]}),r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>i("template"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="template"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Oi,{className:"h-4 w-4 inline mr-2"}),"Templates"]}),r.jsxs("button",{onClick:()=>i("branding"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="branding"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(aa,{className:"h-4 w-4 inline mr-2"}),"Branding"]}),r.jsxs("button",{onClick:()=>i("business"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="business"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Mi,{className:"h-4 w-4 inline mr-2"}),"Business Info"]}),r.jsxs("button",{onClick:()=>i("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="settings"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(aa,{className:"h-4 w-4 inline mr-2"}),"Settings"]})]})}),a==="template"&&r.jsx("div",{className:"mt-6",children:r.jsx(rMe,{currentTemplate:e.activeTemplate,onTemplateSelect:o,onPreview:l})}),a==="branding"&&r.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsx(zr,{children:"Brand Colors"}),r.jsx(_a,{children:"Customize your brand colors to match your style"})]}),r.jsxs(Jt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:e.primaryColor,onChange:u=>d("primaryColor",u.target.value),className:"w-20 h-10 border border-gray-300 rounded-md"}),r.jsx("input",{type:"text",value:e.primaryColor,onChange:u=>d("primaryColor",u.target.value),placeholder:"#7C3AED",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:e.secondaryColor,onChange:u=>d("secondaryColor",u.target.value),className:"w-20 h-10 border border-gray-300 rounded-md"}),r.jsx("input",{type:"text",value:e.secondaryColor,onChange:u=>d("secondaryColor",u.target.value),placeholder:"#F59E0B",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsx(zr,{children:"Logo & Assets"}),r.jsx(_a,{children:"Upload your studio logo and brand assets"})]}),r.jsx(Jt,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Studio Logo"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx(ta,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload your logo"}),r.jsx($t,{variant:"outline",size:"sm",children:"Choose File"})]})]})})})]})]}),a==="business"&&r.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(Mi,{className:"h-5 w-5"}),"Studio Information"]}),r.jsx(_a,{children:"Basic information about your photography studio"})]}),r.jsxs(Jt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Studio Name"}),r.jsx("input",{type:"text",value:e.studioName,onChange:u=>d("studioName",u.target.value),placeholder:"Your Studio Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),r.jsx("input",{type:"text",value:e.businessName,onChange:u=>d("businessName",u.target.value),placeholder:"Legal Business Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(Xf,{className:"h-5 w-5"}),"Contact Details"]}),r.jsx(_a,{children:"How clients can reach you"})]}),r.jsxs(Jt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:e.email,onChange:u=>d("email",u.target.value),placeholder:"studio@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:e.phone,onChange:u=>d("phone",u.target.value),placeholder:"+43 123 456 789",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsx("input",{type:"text",value:e.address,onChange:u=>d("address",u.target.value),placeholder:"Street Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:e.city,onChange:u=>d("city",u.target.value),placeholder:"City, Country",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),a==="settings"&&r.jsx("div",{className:"mt-6",children:r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsx(zr,{children:"Advanced Settings"}),r.jsx(_a,{children:"Additional configuration options for your studio website"})]}),r.jsx(Jt,{children:r.jsx("p",{className:"text-gray-600",children:"Advanced settings coming soon..."})})]})})]}),r.jsx("div",{className:"flex justify-end mt-8",children:r.jsx($t,{onClick:c,disabled:n,size:"lg",children:n?r.jsxs(r.Fragment,{children:[r.jsx(hh,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Go,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})})})]})})})},sMe=()=>{const[e,t]=j.useState(1),[n,s]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState(null);j.useState(null),j.useState({});const c=[{id:1,title:"Website URL",icon:Mi,description:"Enter your current website URL"},{id:2,title:"Data Analysis",icon:Ap,description:"AI analyzes your content and SEO"},{id:3,title:"Template Selection",icon:Hn,description:"Choose your new design template"},{id:4,title:"Content Optimization",icon:Hn,description:"Review and approve SEO improvements"},{id:5,title:"Image Integration",icon:ka,description:"Import and organize your photos"},{id:6,title:"Final Setup",icon:aa,description:"Configure forms and launch"}],d=async()=>{if(n){i(!0);try{const g=await(await fetch("/api/scrape-website",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n})})).json();l(g),t(2)}catch{}finally{i(!1)}}},u=()=>r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsxs(zr,{className:"flex items-center",children:[r.jsx(Mi,{className:"mr-2"}),"Enter Your Current Website URL"]}),r.jsx(_a,{children:"Our AI will analyze your existing website content, images, and SEO to create an optimized photography website"})]}),r.jsxs(Jt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Website URL"}),r.jsx(gs,{type:"url",placeholder:"https://your-photography-website.com",value:n,onChange:x=>s(x.target.value),className:"w-full"})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What we'll analyze:"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Content and copy for SEO optimization"}),r.jsx("li",{children:"• Portfolio images and galleries"}),r.jsx("li",{children:"• Contact information and services"}),r.jsx("li",{children:"• Current SEO performance"}),r.jsx("li",{children:"• Brand colors and styling"})]})]}),r.jsx($t,{onClick:d,disabled:!n||a,className:"w-full",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing Website..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Analyze Website"]})})]})]})}),h=()=>r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsxs(zr,{className:"flex items-center",children:[r.jsx(Ap,{className:"mr-2"}),"Website Analysis Complete"]}),r.jsx(_a,{children:"Here's what we found on your current website"})]}),r.jsxs(Jt,{children:[r.jsxs(K2,{defaultValue:"content",className:"w-full",children:[r.jsxs(Y2,{className:"grid w-full grid-cols-4",children:[r.jsx(Ga,{value:"content",children:"Content"}),r.jsx(Ga,{value:"images",children:"Images"}),r.jsx(Ga,{value:"seo",children:"SEO Analysis"}),r.jsx(Ga,{value:"contact",children:"Contact Info"})]}),r.jsx(Ka,{value:"content",className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Title"}),r.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:o?.title})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"About Section"}),r.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:o?.content.aboutText})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Services Detected"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:o?.content.services.map((x,g)=>r.jsx(ra,{variant:"secondary",children:x},g))})]})]})}),r.jsx(Ka,{value:"images",className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Logo"}),o?.images.logo?r.jsx("img",{src:o.images.logo,alt:"Logo",className:"h-12 w-auto"}):r.jsx("p",{className:"text-sm text-gray-500",children:"No logo detected"})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-2",children:["Gallery Images (",o?.images.gallery.length||0,")"]}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:o?.images.gallery.slice(0,12).map((x,g)=>r.jsx("img",{src:x,alt:`Gallery ${g+1}`,className:"w-full h-20 object-cover rounded"},g))})]})]})}),r.jsx(Ka,{value:"seo",className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium",children:"SEO Score"}),r.jsxs(ra,{variant:o?.seoAnalysis.score>=80?"default":"secondary",children:[o?.seoAnalysis.score,"/100"]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Issues Found"}),r.jsx("ul",{className:"space-y-1",children:o?.seoAnalysis.issues.map((x,g)=>r.jsxs("li",{className:"text-sm text-red-600 flex items-center",children:[r.jsx(Dr,{className:"mr-2 h-4 w-4"}),x]},g))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2 text-green-600",children:"Recommendations"}),r.jsx("ul",{className:"space-y-1",children:o?.seoAnalysis.recommendations.map((x,g)=>r.jsxs("li",{className:"text-sm text-green-600 flex items-center",children:[r.jsx(jr,{className:"mr-2 h-4 w-4"}),x]},g))})]})]})}),r.jsx(Ka,{value:"contact",className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Phone:"})," ",o?.content.contactInfo.phone||"Not found"]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Email:"})," ",o?.content.contactInfo.email||"Not found"]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Address:"})," ",o?.content.contactInfo.address||"Not found"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Social Links"}),r.jsx("div",{className:"space-y-1",children:o?.content.socialLinks.map((x,g)=>r.jsxs("a",{href:x,className:"text-sm text-blue-600 hover:underline flex items-center",children:[r.jsx(Yf,{className:"mr-1 h-3 w-3"}),x]},g))})]})]})})]}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[r.jsxs($t,{variant:"outline",onClick:()=>t(1),children:[r.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Back"]}),r.jsxs($t,{onClick:()=>t(3),children:["Choose Template",r.jsx(Kf,{className:"ml-2 h-4 w-4"})]})]})]})]})}),p=()=>r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsx(zr,{children:"Choose Your Template"}),r.jsx(_a,{children:"Select a template that matches your photography style"})]}),r.jsx(Jt,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})})]})}),f=()=>{switch(e){case 1:return u();case 2:return h();case 3:return p();default:return u()}};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:c.map((x,g)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${e>=x.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>x.id?r.jsx(jr,{className:"h-5 w-5"}):r.jsx(x.icon,{className:"h-5 w-5"})}),r.jsx("div",{className:"ml-2 hidden sm:block",children:r.jsx("p",{className:`text-sm font-medium ${e>=x.id?"text-blue-600":"text-gray-500"}`,children:x.title})}),g<c.length-1&&r.jsx("div",{className:`w-12 h-0.5 ml-4 ${e>x.id?"bg-blue-600":"bg-gray-200"}`})]},x.id))}),f()]})})},aMe=({sessions:e,clients:t,onSessionClick:n,onCreateSession:s,onUpdateSession:a,onDeleteSession:i,onDuplicateSession:o,onExportCalendar:l,onImportCalendar:c,onSyncExternalCalendar:d})=>{const[u,h]=j.useState(new Date),[p,f]=j.useState(null),[x,g]=j.useState("month"),[v,b]=j.useState(""),[_,w]=j.useState("all"),[S,A]=j.useState("");j.useState([]);const[L,P]=j.useState(null),[k,C]=j.useState(!1),[R,E]=j.useState("asc"),[I,B]=j.useState(""),[z,V]=j.useState(""),U=xe.useMemo(()=>{const le=new Map;for(const se of t||[]){const Se=se.name||`${se.firstName||""} ${se.lastName||""}`.trim();se.id&&le.set(se.id,{name:Se,email:se.email})}return le},[t]),[K,$]=j.useState(new Map);j.useEffect(()=>{const le=async()=>{const se=new Map,Se=Array.from(new Set(e.map(Pe=>Pe.clientId).filter(Boolean)));await Promise.all(Se.map(async Pe=>{try{const $e=await fetch(`/api/crm/clients/${Pe}/gallery-cover`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if($e.ok){const He=await $e.json();He.coverImage&&se.set(Pe,He.coverImage)}}catch($e){console.warn(`Failed to fetch gallery cover for client ${Pe}:`,$e)}})),$(se)};e.length>0&&le()},[e]);const W=le=>{if(le.clientName&&le.clientName.trim())return le.clientName;if(le.clientId){const se=U.get(le.clientId);if(se?.name)return se.name}return""},te=le=>{if(le.clientEmail&&le.clientEmail.trim())return le.clientEmail;if(le.clientId){const se=U.get(le.clientId);if(se?.email)return se.email}return""},J=le=>{const se=le.trim().split(/\s+/).filter(Boolean);return(se[0]?.[0]||"").toUpperCase()+(se[1]?.[0]||"").toUpperCase()},M=({session:le})=>{const se=W(le);if(!se)return null;const Se=te(le),Pe=le.clientId,$e=Pe?K.get(Pe):null;return r.jsxs("div",{className:"flex items-center gap-1 truncate opacity-80",children:[r.jsxs("div",{className:"w-4 h-4 rounded-full bg-gray-200 text-[9px] leading-none flex items-center justify-center text-gray-700 overflow-hidden",children:[$e?r.jsx("img",{src:$e,alt:`${se} avatar`,className:"w-full h-full object-cover rounded-full",onError:He=>{const je=He.target;je.style.display="none";const Fe=je.nextElementSibling;Fe&&(Fe.style.display="flex")}}):null,r.jsx("span",{className:`${$e?"hidden":"flex"} items-center justify-center w-full h-full`,children:J(se)||"👤"})]}),Pe?r.jsx(Vt,{to:`/admin/clients/${Pe}`,className:"underline hover:text-blue-700 truncate",title:Se||se,onClick:He=>He.stopPropagation(),children:se}):r.jsx("span",{className:"truncate",title:Se||se,children:se})]})},G=e.filter(le=>{if(v){const se=v.toLowerCase();if(!(le.title.toLowerCase().includes(se)||le.clientName?.toLowerCase().includes(se)||le.locationName?.toLowerCase().includes(se)||le.sessionType.toLowerCase().includes(se)))return!1}if(I||z){const se=le.startTime?kn(le.startTime):le.endTime?kn(le.endTime):null;if(!se)return!1;const Se=I?jn(se,"MM")===I.padStart(2,"0"):!0,Pe=z?jn(se,"yyyy")===z:!0;if(!(Se&&Pe))return!1}if(_!=="all"&&S)switch(_){case"sessionType":if(le.sessionType!==S)return!1;break;case"status":if(le.status!==S)return!1;break;case"client":if(le.clientName!==S)return!1;break;case"paymentStatus":if(le.paymentStatus!==S)return!1;break;case"priority":if(le.priority!==S)return!1;break}return!0}),X=Array.from(new Set(e.map(le=>le.sessionType))),ie=Array.from(new Set(e.map(le=>le.status))),re=Array.from(new Set(e.map(le=>le.clientName).filter(Boolean))),fe=Array.from(new Set(e.map(le=>le.paymentStatus))),we=Array.from(new Set(e.map(le=>le.priority))),Z=le=>({wedding:"bg-pink-100 border-pink-300 text-pink-800",portrait:"bg-blue-100 border-blue-300 text-blue-800",commercial:"bg-green-100 border-green-300 text-green-800",event:"bg-purple-100 border-purple-300 text-purple-800",family:"bg-orange-100 border-orange-300 text-orange-800",fashion:"bg-indigo-100 border-indigo-300 text-indigo-800"})[le]||"bg-gray-100 border-gray-300 text-gray-800",Q=le=>{switch(le){case"completed":return r.jsx(jr,{className:"w-3 h-3 text-green-600"});case"in-progress":return r.jsx(ta,{className:"w-3 h-3 text-blue-600"});case"scheduled":return r.jsx(bs,{className:"w-3 h-3 text-orange-600"});case"cancelled":return r.jsx(Gf,{className:"w-3 h-3 text-red-600"});default:return r.jsx(bs,{className:"w-3 h-3 text-gray-600"})}},pe=le=>{switch(le){case"urgent":return r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"});case"high":return r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"});case"medium":return r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"});case"low":return r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"});default:return r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}},ge=(le,se)=>{P(se),le.dataTransfer.effectAllowed="move"},Ae=le=>{le.preventDefault(),le.dataTransfer.dropEffect="move"},Ne=(le,se)=>{if(le.preventDefault(),L){const Se={...L,startTime:jn(se,"yyyy-MM-dd'T'HH:mm:ss"),endTime:jn(R5e(se,0),"yyyy-MM-dd'T'HH:mm:ss")};a(Se),P(null)}},Y=()=>{const le=V5e(u),se=W5e(u),Se=am(le),Pe=lO(se),$e=oO({start:Se,end:Pe});return r.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(He=>r.jsx("div",{className:"p-2 text-center font-medium text-gray-700 bg-gray-50",children:He},He)),$e.map(He=>{const je=G.filter(it=>{const lt=it.startTime?kn(it.startTime):null,jt=!lt&&it.endTime?kn(it.endTime):null;return lt&&sd(lt,He)||jt&&sd(jt,He)}),Fe=HSe(He,u),Ze=sd(He,new Date),tt=p&&sd(He,p);return r.jsxs("div",{className:`min-h-[120px] p-1 border border-gray-200 cursor-pointer transition-colors ${Fe?"bg-white":"bg-gray-50 text-gray-400"} ${Ze?"bg-blue-50":""} ${tt?"bg-blue-100":""} hover:bg-gray-50`,onClick:()=>f(He),onDragOver:Ae,onDrop:it=>Ne(it,He),onDoubleClick:()=>s(He),children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:`text-sm ${Ze?"font-bold text-blue-600":""}`,children:jn(He,"d")}),je.length>3&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",je.length-3]})]}),r.jsx("div",{className:"space-y-1",children:je.slice(0,3).map(it=>r.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer ${Z(it.sessionType)}`,draggable:!0,onDragStart:lt=>ge(lt,it),onClick:lt=>{lt.stopPropagation(),n(it)},children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"truncate flex-1",children:it.title}),r.jsxs("div",{className:"flex items-center space-x-1",children:[pe(it.priority),Q(it.status)]})]}),r.jsx(M,{session:it})]},it.id))})]},He.toISOString())})]})},ke=()=>{const le=am(u),se=lO(u),Se=oO({start:le,end:se}),Pe=Array.from({length:24},($e,He)=>He);return r.jsx("div",{className:"overflow-auto max-h-[600px]",children:r.jsxs("div",{className:"grid grid-cols-8 gap-1 min-w-[800px]",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsx("div",{className:"h-12 border-b border-gray-200"}),Pe.map($e=>r.jsx("div",{className:"h-16 border-b border-gray-100 p-1 text-xs text-gray-500",children:jn(new Date().setHours($e,0,0,0),"HH:mm")},$e))]}),Se.map($e=>{const He=G.filter(Fe=>{const Ze=Fe.startTime?kn(Fe.startTime):null,tt=!Ze&&Fe.endTime?kn(Fe.endTime):null;return Ze&&sd(Ze,$e)||tt&&sd(tt,$e)}),je=sd($e,new Date);return r.jsxs("div",{className:"col-span-1",children:[r.jsxs("div",{className:`h-12 border-b border-gray-200 p-2 text-center ${je?"bg-blue-50":""}`,children:[r.jsx("div",{className:"font-medium",children:jn($e,"EEE")}),r.jsx("div",{className:`text-sm ${je?"text-blue-600 font-bold":""}`,children:jn($e,"d")})]}),r.jsxs("div",{className:"relative",children:[Pe.map(Fe=>r.jsx("div",{className:"h-16 border-b border-gray-100 cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{const Ze=new Date($e);Ze.setHours(Fe,0,0,0),s(Ze)}},Fe)),He.map(Fe=>{const Ze=kn(Fe.startTime),tt=kn(Fe.endTime),it=Ze.getHours()+Ze.getMinutes()/60,lt=(tt.getTime()-Ze.getTime())/(1e3*60*60);return r.jsxs("div",{className:`absolute left-1 right-1 rounded p-1 text-xs border cursor-pointer ${Z(Fe.sessionType)}`,style:{top:`${it*64}px`,height:`${Math.max(lt*64,32)}px`},draggable:!0,onDragStart:jt=>ge(jt,Fe),onClick:()=>n(Fe),children:[r.jsx("div",{className:"font-medium truncate",children:Fe.title}),r.jsx(M,{session:Fe}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[pe(Fe.priority),Q(Fe.status)]})]},Fe.id)})]})]},$e.toISOString())})]})})},We=()=>{const le=Array.from({length:24},(Se,Pe)=>Pe),se=G.filter(Se=>{const Pe=Se.startTime?kn(Se.startTime):null,$e=!Pe&&Se.endTime?kn(Se.endTime):null;return Pe&&sd(Pe,u)||$e&&sd($e,u)});return r.jsx("div",{className:"overflow-auto max-h-[600px]",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 min-w-[600px]",children:[r.jsxs("div",{children:[r.jsx("div",{className:"h-12 border-b border-gray-200 p-2 text-center bg-gray-50",children:r.jsx("div",{className:"font-medium",children:jn(u,"EEEE, MMMM d, yyyy")})}),r.jsxs("div",{className:"relative",children:[le.map(Se=>r.jsx("div",{className:"h-16 border-b border-gray-100 p-2 cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{const Pe=new Date(u);Pe.setHours(Se,0,0,0),s(Pe)},children:r.jsx("div",{className:"text-sm text-gray-500",children:jn(new Date().setHours(Se,0,0,0),"HH:mm")})},Se)),se.map(Se=>{const Pe=kn(Se.startTime),$e=kn(Se.endTime),He=Pe.getHours()+Pe.getMinutes()/60,je=($e.getTime()-Pe.getTime())/(1e3*60*60);return r.jsxs("div",{className:`absolute left-2 right-2 rounded p-2 border cursor-pointer ${Z(Se.sessionType)}`,style:{top:`${He*64}px`,height:`${Math.max(je*64,48)}px`},onClick:()=>n(Se),children:[r.jsx("div",{className:"font-medium",children:Se.title}),r.jsx(M,{session:Se}),r.jsxs("div",{className:"text-sm",children:[jn(Pe,"HH:mm")," - ",jn($e,"HH:mm")]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[pe(Se.priority),Q(Se.status)]})]},Se.id)})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4",children:[r.jsx("h3",{className:"font-medium mb-4",children:"Sessions Today"}),r.jsx("div",{className:"space-y-3",children:se.map(Se=>r.jsxs("div",{className:"bg-white p-3 rounded border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium",children:Se.title}),r.jsxs("div",{className:"flex items-center space-x-2",children:[pe(Se.priority),Q(Se.status)]})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("div",{children:Se.clientName}),r.jsxs("div",{children:[jn(kn(Se.startTime),"HH:mm")," - ",jn(kn(Se.endTime),"HH:mm")]}),Se.locationName&&r.jsxs("div",{children:["📍 ",Se.locationName]}),Se.paymentStatus!=="fully_paid"&&r.jsxs("div",{className:"text-orange-600",children:["💰 Payment: ",Se.paymentStatus]})]}),r.jsxs("div",{className:"flex space-x-2 mt-2",children:[r.jsx("button",{onClick:()=>n(Se),className:"text-xs text-blue-600 hover:text-blue-800",children:r.jsx(Mn,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>a(Se),className:"text-xs text-green-600 hover:text-green-800",children:r.jsx(Aa,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>o(Se),className:"text-xs text-purple-600 hover:text-purple-800",children:r.jsx(rh,{className:"w-3 h-3"})})]})]},Se.id))})]})]})})},Ie=()=>{const le=G.filter(se=>VSe(kn(se.startTime),new Date)).sort((se,Se)=>kn(se.startTime).getTime()-kn(Se.startTime).getTime()).slice(0,50);return r.jsxs("div",{className:"space-y-4",children:[le.map(se=>{const Se=kn(se.startTime),Pe=kn(se.endTime);return r.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${Z(se.sessionType)}`,children:se.sessionType}),r.jsx("h3",{className:"font-medium",children:se.title}),r.jsxs("div",{className:"flex items-center space-x-2",children:[pe(se.priority),Q(se.status)]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>n(se),className:"p-1 text-blue-600 hover:text-blue-800",children:r.jsx(Mn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>a(se),className:"p-1 text-green-600 hover:text-green-800",children:r.jsx(Aa,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>o(se),className:"p-1 text-purple-600 hover:text-purple-800",children:r.jsx(rh,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>i(se.id),className:"p-1 text-red-600 hover:text-red-800",children:r.jsx(Ts,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:jn(Se,"MMM d, yyyy")})]}),r.jsxs("div",{className:"ml-6",children:[jn(Se,"HH:mm")," - ",jn(Pe,"HH:mm")]})]}),r.jsxs("div",{children:[W(se)&&r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(ln,{className:"w-4 h-4"}),r.jsx(M,{session:se})]}),se.locationName&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pm,{className:"w-4 h-4"}),r.jsx("span",{children:se.locationName})]})]}),r.jsxs("div",{children:[se.basePrice&&r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(go,{className:"w-4 h-4"}),r.jsxs("span",{children:["$",se.basePrice," (",se.paymentStatus,")"]})]}),se.equipmentList&&se.equipmentList.length>0&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ta,{className:"w-4 h-4"}),r.jsxs("span",{children:[se.equipmentList.length," items"]})]})]})]}),se.notes&&r.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:se.notes}),r.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[se.weatherDependent&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Gu,{className:"w-3 h-3"}),r.jsx("span",{children:"Weather dependent"})]}),se.goldenHourOptimized&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(h0,{className:"w-3 h-3"}),r.jsx("span",{children:"Golden hour"})]}),se.portfolioWorthy&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(El,{className:"w-3 h-3"}),r.jsx("span",{children:"Portfolio worthy"})]}),se.externalCalendarSync&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Yf,{className:"w-3 h-3"}),r.jsx("span",{children:"Synced"})]})]}),se.conflictDetected&&r.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[r.jsx(Gf,{className:"w-3 h-3"}),r.jsx("span",{children:"Conflict detected"})]})]})]},se.id)}),le.length===0&&r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(dn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No upcoming sessions found"})]})]})},ze=()=>{const se=[...G].sort((Pe,$e)=>{const He=kn(Pe.startTime).getTime(),je=kn($e.startTime).getTime();return R==="asc"?He-je:je-He}).reduce((Pe,$e)=>{const He=jn(kn($e.startTime),"yyyy-MM-dd");return Pe[He]||(Pe[He]=[]),Pe[He].push($e),Pe},{}),Se=Object.keys(se).sort((Pe,$e)=>R==="asc"?Pe.localeCompare($e):$e.localeCompare(Pe));return r.jsx("div",{className:"space-y-6",children:Se.map(Pe=>r.jsxs("div",{className:"bg-white border rounded-lg",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:r.jsx("h3",{className:"font-medium",children:jn(kn(Pe),"EEEE, MMMM d, yyyy")})}),r.jsx("div",{className:"divide-y",children:se[Pe].map($e=>r.jsx("div",{className:"p-4 hover:bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${Z($e.sessionType)}`,children:$e.sessionType}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:$e.title}),W($e)&&r.jsx("div",{className:"text-sm text-gray-600",children:r.jsx(M,{session:$e})})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[jn(kn($e.startTime),"HH:mm")," - ",jn(kn($e.endTime),"HH:mm")]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[pe($e.priority),Q($e.status)]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>n($e),className:"p-1 text-blue-600 hover:text-blue-800",children:r.jsx(Mn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>a($e),className:"p-1 text-green-600 hover:text-green-800",children:r.jsx(Aa,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>o($e),className:"p-1 text-purple-600 hover:text-purple-800",children:r.jsx(rh,{className:"w-4 h-4"})})]})]})]})},$e.id))})]},Pe))})};return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[r.jsxs("div",{className:"border-b p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Photography Calendar"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>h(l_e(u,1)),className:"p-2 hover:bg-gray-100 rounded",children:r.jsx(Hy,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>h(new Date),className:"px-3 py-1 text-sm hover:bg-gray-100 rounded font-medium",children:"Today"}),r.jsx("button",{onClick:()=>h(s9(u,1)),className:"p-2 hover:bg-gray-100 rounded",children:r.jsx(vc,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"text-lg font-medium",children:jn(u,"MMMM yyyy")})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50",title:"Sync with external calendars",children:[r.jsx(hh,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Sync"})]}),r.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50",title:"Export calendar",children:[r.jsx(Vn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Export"})]}),r.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx(Ko,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Import"}),r.jsx("input",{type:"file",accept:".ics,.csv",className:"hidden",onChange:le=>le.target.files?.[0]&&c(le.target.files[0])})]}),r.jsxs("button",{onClick:()=>s(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsx("span",{children:"New Session"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex border rounded",children:["month","week","day","agenda","list"].map(le=>r.jsx("button",{onClick:()=>g(le),className:`px-3 py-1 text-sm capitalize ${x===le?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:le},le))}),r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search sessions...",value:v,onChange:le=>b(le.target.value),className:"pl-9 pr-3 py-2 border rounded-md w-64 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("button",{onClick:()=>C(!k),className:`flex items-center space-x-2 px-3 py-2 border rounded ${k?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,children:[r.jsx(rg,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Filters"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("select",{value:I,onChange:le=>B(le.target.value),className:"px-2 py-1 border rounded text-sm",children:[r.jsx("option",{value:"",children:"All months"}),Array.from({length:12},(le,se)=>se+1).map(le=>r.jsx("option",{value:String(le).padStart(2,"0"),children:String(le).padStart(2,"0")},le))]}),r.jsxs("select",{value:z,onChange:le=>V(le.target.value),className:"px-2 py-1 border rounded text-sm",children:[r.jsx("option",{value:"",children:"All years"}),Array.from({length:7},(le,se)=>new Date().getFullYear()-3+se).map(le=>r.jsx("option",{value:String(le),children:le},le))]})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[G.length," of ",e.length," sessions"]})]}),k&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded border",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by"}),r.jsxs("select",{value:_,onChange:le=>{w(le.target.value),A("")},className:"w-full px-3 py-2 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"sessionType",children:"Session Type"}),r.jsx("option",{value:"status",children:"Status"}),r.jsx("option",{value:"client",children:"Client"}),r.jsx("option",{value:"paymentStatus",children:"Payment Status"}),r.jsx("option",{value:"priority",children:"Priority"})]})]}),_!=="all"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),r.jsxs("select",{value:S,onChange:le=>A(le.target.value),className:"w-full px-3 py-2 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select..."}),_==="sessionType"&&X.map(le=>r.jsx("option",{value:le,children:le},le)),_==="status"&&ie.map(le=>r.jsx("option",{value:le,children:le},le)),_==="client"&&re.map(le=>r.jsx("option",{value:le,children:le},le)),_==="paymentStatus"&&fe.map(le=>r.jsx("option",{value:le,children:le},le)),_==="priority"&&we.map(le=>r.jsx("option",{value:le,children:le},le))]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{w("all"),A(""),b(""),B(""),V("")},className:"px-3 py-2 border rounded text-sm hover:bg-gray-100",children:"Clear Filters"})})]}),x==="list"&&r.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"List sort:"}),r.jsxs("select",{value:R,onChange:le=>E(le.target.value),className:"px-2 py-1 border rounded text-sm",children:[r.jsx("option",{value:"asc",children:"Ascending"}),r.jsx("option",{value:"desc",children:"Descending"})]})]})]})]}),r.jsxs("div",{className:"p-4",children:[x==="month"&&Y(),x==="week"&&ke(),x==="day"&&We(),x==="agenda"&&Ie(),x==="list"&&ze()]})]})},iMe=({onImportComplete:e})=>{const[t,n]=j.useState(!1),[s,a]=j.useState(null),[i,o]=j.useState(""),[l,c]=j.useState(null),[d,u]=j.useState(null),[h,p]=j.useState(20),[f,x]=j.useState(20),[g,v]=j.useState(""),[b,_]=j.useState(!0),[w,S]=j.useState(null),[A,L]=j.useState(!0),P=j.useRef(null),k=async V=>{if(!V.name.endsWith(".ics")){a({success:!1,error:"Please select a valid .ics calendar file"});return}n(!0),a(null);try{const U=await V.text(),K=await fetch("/api/calendar/import/ics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsContent:U,fileName:V.name})});if(!K.ok)throw new Error("Import failed");const $=await K.json();a({success:!0,count:$.imported}),e($.imported)}catch{a({success:!1,error:"Failed to import calendar file. Please check the file format."})}finally{n(!1)}},C=async()=>{if(!i.trim()){a({success:!1,error:"Please enter a valid .ics URL"});return}n(!0),a(null);try{const V=await fetch("/api/calendar/import/ics-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsUrl:i.trim()})});if(!V.ok)throw new Error("Import failed");const U=await V.json();a({success:!0,count:U.imported}),e(U.imported)}catch{a({success:!1,error:"Failed to import from URL. Please check the URL is accessible."})}finally{n(!1)}},R=async()=>{try{n(!0),c(null),u(null);const V=new URLSearchParams({threshold:String(h),limit:String(f)}),U=await fetch(`/api/admin/calendar/stacked-clusters?${V.toString()}`);if(!U.ok)throw new Error("Failed to fetch clusters");const K=await U.json();c(K.clusters||[]),u(K.sample||[]),(K.clusters||[]).length>0&&v(K.clusters[0].start_time_iso)}catch{a({success:!1,error:"Failed to load stacked clusters."})}finally{n(!1)}},E=async()=>{if(!g){a({success:!1,error:"Select a target ISO timestamp from clusters first."});return}try{n(!0),S(null);const V=await fetch("/api/admin/calendar/cleanup-stacked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetStartTimeIso:g,onlyNullIcalUid:b,dryRun:!0})});if(!V.ok)throw new Error("Dry-run failed");const U=await V.json();S(U)}catch{a({success:!1,error:"Cleanup dry-run failed."})}finally{n(!1)}},I=async()=>{if(!g){a({success:!1,error:"Select a target ISO timestamp from clusters first."});return}try{n(!0);const V=await fetch("/api/admin/calendar/cleanup-stacked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetStartTimeIso:g,onlyNullIcalUid:b,dryRun:!1})});if(!V.ok)throw new Error("Cleanup failed");const U=await V.json();if(A&&i.trim())try{const K=await fetch("/api/calendar/import/ics-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsUrl:i.trim()})});if(K.ok){const $=await K.json();a({success:!0,count:$.imported}),e($.imported||0)}else a({success:!1,error:"Cleanup done, but re-import failed."})}catch{a({success:!1,error:"Cleanup done, but re-import failed."})}else a({success:!0,count:0});R()}catch{a({success:!1,error:"Cleanup failed."})}finally{n(!1)}},B=()=>{P.current?.click()},z=V=>{const U=V.target.files?.[0];U&&k(U)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Import Existing Calendar Events"}),r.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Import your existing Google Calendar bookings into the photography CRM system."}),r.jsxs("div",{className:"bg-white p-4 rounded border",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Import from .ics URL"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Paste your Google Calendar .ics URL:"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"url",placeholder:"https://calendar.google.com/calendar/ical/...",value:i,onChange:V=>o(V.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm"}),r.jsx("button",{onClick:C,disabled:t||!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 text-sm",children:t?"Importing...":"Import"})]})]}),r.jsxs("div",{className:"bg-white p-4 rounded border",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Upload .ics File"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Or upload a downloaded .ics calendar file:"}),r.jsx("input",{ref:P,type:"file",accept:".ics",onChange:z,className:"hidden"}),r.jsxs("button",{onClick:B,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[r.jsx(Ko,{size:16}),r.jsx("span",{children:"Choose .ics File"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"How to get your .ics URL from Google Calendar:"}),r.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Open Google Calendar"}),r.jsx("li",{children:"Click the gear icon → Settings"}),r.jsx("li",{children:"Select your calendar from the left sidebar"}),r.jsx("li",{children:'Scroll to "Integrate calendar"'}),r.jsx("li",{children:'Copy the "Secret address in iCal format" URL'}),r.jsx("li",{children:"Paste it above and click Import"})]})]})]}),s&&r.jsxs("div",{className:`p-4 rounded-lg ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[s.success?r.jsx(sa,{className:"h-5 w-5 text-green-600"}):r.jsx(Dr,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:`font-medium ${s.success?"text-green-900":"text-red-900"}`,children:s.success?`Successfully imported ${s.count} events!`:"Import failed"})]}),s.error&&r.jsx("p",{className:"text-sm text-red-800 mt-2",children:s.error})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Admin: Cleanup legacy stacked entries"}),r.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"Detect clusters of sessions sharing the exact same UTC start time and remove the broken ones (typically rows without iCal UID)."}),r.jsxs("div",{className:"bg-white p-4 rounded border space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-sm text-gray-700",children:"Threshold"}),r.jsx("input",{type:"number",className:"w-24 p-1 border rounded text-sm",value:h,onChange:V=>p(parseInt(V.target.value||"0",10))}),r.jsx("label",{className:"text-sm text-gray-700",children:"Limit"}),r.jsx("input",{type:"number",className:"w-24 p-1 border rounded text-sm",value:f,onChange:V=>x(parseInt(V.target.value||"0",10))}),r.jsx("button",{onClick:R,disabled:t,className:"ml-auto px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:"Scan"})]}),l&&l.length>0&&r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-600",children:[r.jsx("th",{className:"py-1 pr-3",children:"Start Time (UTC ISO)"}),r.jsx("th",{className:"py-1 pr-3",children:"Count"}),r.jsx("th",{className:"py-1 pr-3",children:"with iCal UID"}),r.jsx("th",{className:"py-1 pr-3",children:"without iCal UID"}),r.jsx("th",{className:"py-1",children:"Select"})]})}),r.jsx("tbody",{children:l.map(V=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-1 pr-3 font-mono",children:V.start_time_iso}),r.jsx("td",{className:"py-1 pr-3",children:V.count}),r.jsx("td",{className:"py-1 pr-3",children:V.with_ical_uid}),r.jsx("td",{className:"py-1 pr-3",children:V.without_ical_uid}),r.jsx("td",{className:"py-1",children:r.jsx("button",{onClick:()=>v(V.start_time_iso),className:`px-2 py-1 rounded text-xs ${g===V.start_time_iso?"bg-purple-700 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Target"})})]},V.start_time_iso))})]})}),d&&d.length>0&&r.jsxs("div",{className:"text-xs text-gray-700",children:[r.jsx("div",{className:"font-medium mb-1",children:"Sample of latest rows in top cluster:"}),r.jsx("ul",{className:"list-disc list-inside",children:d.map(V=>r.jsxs("li",{className:"truncate",children:[V.id," — ",V.title||"(untitled)"," — ",V.ical_uid||"(no iCal UID)"," — ",V.created_at]},V.id))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm text-gray-700",children:"Target ISO"}),r.jsx("input",{value:g,onChange:V=>v(V.target.value),placeholder:"2025-09-08T16:36:48Z",className:"flex-1 p-2 border rounded text-sm font-mono"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-1",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:V=>_(V.target.checked)}),"Delete only rows without iCal UID"]}),r.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-1 ml-auto",children:[r.jsx("input",{type:"checkbox",checked:A,onChange:V=>L(V.target.checked)}),"Re-import from .ics URL after cleanup"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:E,disabled:t||!g,className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:"Dry-run"}),r.jsx("button",{onClick:I,disabled:t||!g,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:"Delete now"})]}),w&&r.jsxs("div",{className:"text-sm text-gray-800 bg-yellow-50 border border-yellow-200 p-2 rounded",children:[r.jsx("div",{className:"font-medium",children:"Dry-run summary"}),r.jsxs("div",{children:["Target: ",r.jsx("span",{className:"font-mono",children:w.targetStartTimeIso})]}),r.jsxs("div",{children:["Total at target: ",w.summary?.total??0]}),r.jsxs("div",{children:["With iCal UID: ",w.summary?.with_ical_uid??0]}),r.jsxs("div",{children:["Without iCal UID: ",w.summary?.without_ical_uid??0]})]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Alternative: Manual Entry"}),r.jsx("p",{className:"text-sm text-amber-800",children:"You can also manually create photography sessions in the CRM for your existing bookings. This gives you full control over client details, pricing, and session information."})]})]})},oMe=({isOpen:e,onClose:t,onConnectionSuccess:n})=>{const[s,a]=j.useState("ical"),i=l=>{navigator.clipboard.writeText(l),alert("Copied to clipboard!")},o=()=>{window.open(`${window.location.origin}/api/calendar/photography-sessions.ics`,"_blank")};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(dn,{className:"h-6 w-6 text-blue-600 mr-3"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Google Calendar Integration"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[r.jsx("button",{onClick:()=>a("ical"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="ical"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"iCal Subscription"}),r.jsx("button",{onClick:()=>a("import"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="import"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Import Existing Events"}),r.jsx("button",{onClick:()=>a("oauth"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="oauth"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"OAuth Integration"})]}),s==="ical"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"✨ Simple Google Calendar Integration"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-green-800",children:"Subscribe to your photography sessions calendar directly in Google Calendar using iCal feed."}),r.jsxs("div",{className:"bg-white p-3 rounded border",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Photography Calendar iCal URL:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:`${window.location.origin}/api/calendar/photography-sessions.ics`,readOnly:!0,className:"flex-1 p-2 border border-gray-300 rounded bg-gray-50 text-sm"}),r.jsxs("button",{onClick:()=>i(`${window.location.origin}/api/calendar/photography-sessions.ics`),className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[r.jsx(rh,{size:14}),r.jsx("span",{children:"Copy"})]})]})]}),r.jsxs("div",{className:"text-sm text-green-800",children:[r.jsx("p",{children:r.jsx("strong",{children:"How to add to Google Calendar:"})}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mt-2",children:[r.jsx("li",{children:"Open Google Calendar on your computer"}),r.jsx("li",{children:'On the left side, click "+" next to "Other calendars"'}),r.jsx("li",{children:'Select "From URL"'}),r.jsx("li",{children:"Paste the iCal URL above"}),r.jsx("li",{children:'Click "Add calendar"'})]}),r.jsxs("p",{className:"mt-2 text-green-700",children:[r.jsx("strong",{children:"✓ Your photography sessions will automatically appear in Google Calendar"}),r.jsx("br",{}),r.jsx("strong",{children:"✓ Updates sync every few hours"}),r.jsx("br",{}),r.jsx("strong",{children:"✓ No complex OAuth setup required"})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-3",children:[r.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[r.jsx(Vn,{size:16}),r.jsx("span",{children:"Download .ics File"})]}),r.jsxs("button",{onClick:()=>window.open("https://calendar.google.com","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[r.jsx(Yf,{size:16}),r.jsx("span",{children:"Open Google Calendar"})]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What's Included in Your Calendar Feed"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Photography session titles and descriptions"}),r.jsx("li",{children:"• Client names and session types"}),r.jsx("li",{children:"• Location details for each session"}),r.jsx("li",{children:"• Session status (confirmed, tentative, cancelled)"}),r.jsx("li",{children:"• Priority levels for important sessions"}),r.jsx("li",{children:"• Automatic updates when you modify sessions"})]})]})]}),s==="import"&&r.jsx("div",{className:"space-y-6",children:r.jsx(iMe,{onImportComplete:l=>{alert(`Successfully imported ${l} events!`)}})}),s==="oauth"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Advanced Integration (OAuth 2.0)"}),r.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[r.jsx("p",{children:"For two-way sync and advanced features, OAuth integration is available:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Two-way synchronization (Google Calendar ↔ Photography CRM)"}),r.jsx("li",{children:"Real-time updates"}),r.jsx("li",{children:"Create sessions directly from Google Calendar"}),r.jsx("li",{children:"Automatic conflict detection"}),r.jsx("li",{children:"Multiple calendar support"})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Requires:"})," Google Cloud Console setup with OAuth credentials"]}),r.jsxs("p",{className:"mt-2",children:["See ",r.jsx("code",{children:"docs/google-calendar-setup.md"})," for OAuth setup instructions."]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[r.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"OAuth Setup Required"}),r.jsxs("div",{className:"text-sm text-amber-800 space-y-2",children:[r.jsx("p",{children:"To enable OAuth integration, you need to:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Create a Google Cloud Console project"}),r.jsx("li",{children:"Enable the Google Calendar API"}),r.jsx("li",{children:"Create OAuth 2.0 credentials"}),r.jsx("li",{children:"Configure redirect URIs for your domain"}),r.jsx("li",{children:"Add credentials to environment variables"})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Environment variables needed:"}),r.jsx("br",{}),r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_CLIENT_ID"}),r.jsx("br",{}),r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_CLIENT_SECRET"}),r.jsx("br",{}),r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_REDIRECT_URI"})]})]})]})]})]}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Close"})})]})}):null},U5=(e,t=52.52,n=13.405)=>{const s=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),a=23.45*Math.sin(2*Math.PI*(284+s)/365)*Math.PI/180,i=t*Math.PI/180,o=Math.acos(-Math.tan(i)*Math.tan(a)),l=12-n/15,c=l-o*12/Math.PI,d=l+o*12/Math.PI,u=c,h=c+1,p=d-1,f=d,x=v=>{const b=Math.floor(v),_=Math.floor((v-b)*60);return`${b.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},g=(v,b)=>{const _=new Date(v),w=Math.floor(b),S=Math.floor((b-w)*60);return _.setHours(w,S,0,0),_};return{morning:`${x(u)} - ${x(h)}`,evening:`${x(p)} - ${x(f)}`,windows:{morning:{start:g(e,u),end:g(e,h)},evening:{start:g(e,p),end:g(e,f)}}}},zI=()=>{const[e,t]=j.useState([]),[n,s]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(!0);j.useState(new Date);const[c,d]=j.useState(8);j.useState(null),j.useState("calendar");const[u,h]=j.useState(!1),[p,f]=j.useState(localStorage.getItem("preferredDateFormat")||"MM/dd/yyyy"),[x,g]=j.useState([]),[v,b]=j.useState(!1),[_,w]=j.useState(""),[S,A]=j.useState({title:"",description:"",sessionType:"portrait",status:"scheduled",startTime:"",endTime:"",clientId:"",clientName:"",clientEmail:"",locationName:"",locationAddress:"",locationCoordinates:"",basePrice:"",depositAmount:"",equipmentList:[],weatherDependent:!1,goldenHourOptimized:!1,portfolioWorthy:!1}),[L,P]=j.useState({firstName:"",lastName:"",email:"",phone:""}),[k,C]=j.useState(!1),[R,E]=j.useState(!1),[I,B]=j.useState(!1),[z,V]=j.useState([]),[U,K]=j.useState({totalSessions:0,upcomingSessions:0,completedSessions:0,totalRevenue:0,pendingDeposits:0,equipmentConflicts:0,newLeads:0}),[$,W]=j.useState(!1),[te,J]=j.useState(null),[M,G]=j.useState("week"),X=x.map(le=>({id:le.id,name:`${le.firstName} ${le.lastName}`.trim(),email:le.email||"",phone:le.phone}));j.useEffect(()=>{fe(),ie(),Z(),re()},[]),j.useEffect(()=>{Q(M)},[M]);const ie=async()=>{try{const le=await fetch("/api/leads/list?status=new");if(!le.ok)return;const se=await le.json();d(se.count||(se.rows?.length??0))}catch{}},re=async()=>{try{b(!0);const le=await fetch("/api/crm/clients",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!le.ok)return g([]);const se=await le.json(),Se=(Array.isArray(se)?se:[]).map(Pe=>({id:Pe.id,firstName:Pe.first_name??Pe.firstName??"",lastName:Pe.last_name??Pe.lastName??"",email:Pe.email,phone:Pe.phone}));g(Se)}catch{g([])}finally{b(!1)}},fe=async()=>{try{l(!0);const Se=await fetch(!1?"/api/debug/photography-sessions":"/api/photography/sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(Se.ok){const Pe=await Se.json();t(Pe)}else t([])}catch{t([])}finally{l(!1)}},we=le=>{const se=new Date,Se=new Date;Se.setDate(Se.getDate()+30);let Pe=0,$e=0,He=0,je=0,Fe=0;const Ze={};return le.forEach(tt=>{tt.basePrice&&typeof tt.basePrice=="number"&&(Pe+=tt.basePrice);const it=tt.startTime?new Date(tt.startTime):null;if(tt.endTime&&new Date(tt.endTime),it&&it>=se&&it<=Se&&$e++,tt.status==="completed"&&it&&it.getFullYear()===se.getFullYear()&&it.getMonth()===se.getMonth()&&He++,tt.depositAmount&&!tt.depositPaid&&je++,it){const lt=it.toISOString().slice(0,10);Ze[lt]=Ze[lt]||[],Ze[lt].push(tt)}}),Object.values(Ze).forEach(tt=>{for(let it=0;it<tt.length;it++)for(let lt=it+1;lt<tt.length;lt++){const jt=tt[it],Lt=tt[lt];if(!jt.equipmentList||!Lt.equipmentList)continue;if(jt.equipmentList.filter(qt=>Lt.equipmentList.includes(qt)).length){const qt=new Date(jt.startTime).getTime(),Ur=new Date(jt.endTime).getTime(),It=new Date(Lt.startTime).getTime(),Sr=new Date(Lt.endTime).getTime();qt<Sr&&It<Ur&&Fe++}}}),{totalSessions:le.length,upcomingSessions:$e,completedSessions:He,totalRevenue:Pe,pendingDeposits:je,equipmentConflicts:Fe}},Z=async()=>{try{const le=await fetch("/api/admin/dashboard-stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!le.ok)return;const se=await le.json();K({totalSessions:se.totalSessions??0,upcomingSessions:se.upcomingSessions??0,completedSessions:se.completedSessions??0,totalRevenue:se.totalRevenue??0,pendingDeposits:se.pendingDeposits??0,equipmentConflicts:se.equipmentConflicts??0,newLeads:se.newLeads??0}),W(!0),typeof se.newLeads=="number"&&d(se.newLeads)}catch{}},Q=async le=>{try{const se=await fetch(`/api/admin/calendar-analytics?period=${le}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!se.ok)return J(null);const Se=await se.json();J(Se)}catch{J(null)}};j.useEffect(()=>{$||K(we(e))},[e,$]);const pe=le=>({wedding:"bg-pink-100 border-pink-300 text-pink-800",portrait:"bg-blue-100 border-blue-300 text-blue-800",commercial:"bg-green-100 border-green-300 text-green-800",event:"bg-purple-100 border-purple-300 text-purple-800",family:"bg-orange-100 border-orange-300 text-orange-800",fashion:"bg-indigo-100 border-indigo-300 text-indigo-800"})[le]||"bg-gray-100 border-gray-300 text-gray-800",ge=le=>{switch(le){case"completed":return r.jsx(jr,{className:"w-3 h-3 text-green-600"});case"in-progress":return r.jsx(ta,{className:"w-3 h-3 text-blue-600"});case"scheduled":return r.jsx(bs,{className:"w-3 h-3 text-orange-600"});case"cancelled":return r.jsx(Gf,{className:"w-3 h-3 text-red-600"});default:return r.jsx(bs,{className:"w-3 h-3 text-gray-600"})}},Ae=le=>{const se=le.getTimezoneOffset()*6e4;return new Date(le.getTime()-se).toISOString().slice(0,16)},Ne=()=>{re(),A(le=>{if(!le.startTime){const se=Ae(new Date),Se=new Date;Se.setHours(Se.getHours()+1);const Pe=Ae(Se);return{...le,startTime:se,endTime:le.sessionType==="portrait"?Pe:le.endTime}}if(le.sessionType==="portrait"&&le.startTime&&!le.endTime){const se=new Date(le.startTime),Se=new Date(se.getTime()+60*6e4);return{...le,endTime:Ae(Se)}}return le}),h(!0)},Y=async le=>{le.preventDefault();try{const se={...S,basePrice:S.basePrice?parseFloat(S.basePrice):void 0,depositAmount:S.depositAmount?parseFloat(S.depositAmount):void 0,equipmentList:S.equipmentList.filter(Pe=>Pe.trim()!==""),startTime:S.startTime?new Date(S.startTime).toISOString():void 0,endTime:S.endTime?new Date(S.endTime).toISOString():void 0};(await fetch("/api/photography/sessions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(se)})).ok?(h(!1),A({title:"",description:"",sessionType:"portrait",status:"scheduled",startTime:"",endTime:"",clientId:"",clientName:"",clientEmail:"",locationName:"",locationAddress:"",locationCoordinates:"",basePrice:"",depositAmount:"",equipmentList:[],weatherDependent:!1,goldenHourOptimized:!1,portfolioWorthy:!1}),fe()):alert("Failed to create session. Please try again.")}catch{alert("Error creating session. Please try again.")}},ke=(le,se)=>{if(le==="endTime"&&E(!0),le==="startTime"&&B(!0),le==="clientName"){const Se=(se||"").toLowerCase();if(Se.length>=2){const Pe=x.filter($e=>`${$e.firstName} ${$e.lastName}`.trim().toLowerCase().includes(Se)).slice(0,5);V(Pe)}else V([])}A(Se=>({...Se,[le]:se}))};j.useEffect(()=>{if(S.sessionType==="portrait"&&S.startTime&&(!R||!S.endTime)){const le=new Date(S.startTime),se=new Date(le.getTime()+60*6e4),Se=se.getTimezoneOffset()*6e4,Pe=new Date(se.getTime()-Se).toISOString().slice(0,16);A($e=>({...$e,endTime:Pe}))}},[S.sessionType,S.startTime]),j.useEffect(()=>{if(S.goldenHourOptimized&&(!S.startTime||!I)){const le=S.startTime?new Date(S.startTime):new Date;let se=52.52,Se=13.405;if(S.locationCoordinates&&S.locationCoordinates.includes(",")){const[tt,it]=S.locationCoordinates.split(",").map(parseFloat);!isNaN(tt)&&!isNaN(it)&&(se=tt,Se=it)}const Pe=U5(le,se,Se),$e=new Date;let He=Pe.windows.evening.start>$e?Pe.windows.evening.start:Pe.windows.morning.start;if(Pe.windows.evening.end<$e){const tt=new Date;tt.setDate(tt.getDate()+1),He=U5(tt,se,Se).windows.morning.start}const je=He.getTimezoneOffset()*6e4,Fe=new Date(He.getTime()-je).toISOString().slice(0,16),Ze=new Date(He.getTime()+60*6e4-je).toISOString().slice(0,16);A(tt=>({...tt,startTime:Fe,endTime:Ze}))}},[S.goldenHourOptimized]),j.useEffect(()=>{if(S.clientName){const le=S.clientName.trim().toLowerCase(),se=x.find(Se=>`${Se.firstName} ${Se.lastName}`.trim().toLowerCase()===le);se&&(S.clientId||ke("clientId",se.id),!S.clientEmail&&se.email&&ke("clientEmail",se.email))}},[S.clientName,x]);const We=()=>{const le=prompt("Enter equipment item:");le&&A(se=>({...se,equipmentList:[...se.equipmentList,le]}))},Ie=le=>{A(se=>({...se,equipmentList:se.equipmentList.filter((Se,Pe)=>Pe!==le)}))},ze=le=>{i(le)};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Photography Calendar"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced photography session management system with equipment tracking and client workflow tools"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Date Format:"}),r.jsxs("select",{value:p,onChange:le=>{f(le.target.value),localStorage.setItem("preferredDateFormat",le.target.value)},className:"text-sm border rounded px-2 py-1",children:[r.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),r.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),r.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"}),r.jsx("option",{value:"dd.MM.yyyy",children:"DD.MM.YYYY"})]})]}),r.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[r.jsx(aa,{size:18}),r.jsx("span",{children:"Calendar Sync"})]}),r.jsxs("button",{onClick:Ne,className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:[r.jsx(ta,{className:"w-4 h-4"}),r.jsx("span",{children:"New Session"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Key Business Metrics"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Period:"}),r.jsxs("select",{value:M,onChange:le=>G(le.target.value),className:"text-sm border rounded px-2 py-1",children:[r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-purple-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),r.jsx(go,{className:"h-5 w-5 text-purple-500"})]}),r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["€",U.totalRevenue.toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te?r.jsxs("span",{children:[te.revenue.delta>=0?"↗":"↘"," ",Math.abs(Math.round(te.revenue.deltaPct)),"% vs previous ",M]}):"Based on session base prices"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"New Leads"}),r.jsx(_s,{className:"h-5 w-5 text-blue-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te?r.jsxs("span",{children:[te.leads.delta>=0?"↗":"↘"," ",Math.abs(Math.round(te.leads.deltaPct)),"% vs previous ",M]}):"Last 7 days"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upcoming Bookings"}),r.jsx(dn,{className:"h-5 w-5 text-green-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:U.upcomingSessions}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te?r.jsxs("span",{children:[te.sessionsBooked.delta>=0?"↗":"↘"," ",Math.abs(Math.round(te.sessionsBooked.deltaPct)),"% booked vs previous ",M]}):"Next 30 days"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),r.jsx(jr,{className:"h-5 w-5 text-orange-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:te?`${Math.round(te.conversion.currentPct)}%`:(()=>{const le=U.newLeads??c??0,se=U.upcomingSessions+U.completedSessions;return le<=0?"—":`${Math.min(100,Math.round(se/le*100))}%`})()}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te?r.jsxs("span",{children:[te.conversion.deltaPct>=0?"↗":"↘"," ",Math.abs(Math.round(te.conversion.deltaPct)),"% vs previous ",M]}):"Booked sessions vs new leads"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Sessions"}),r.jsx(dn,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-bold",children:U.totalSessions}),r.jsx("p",{className:"text-xs text-gray-500",children:"All time"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),r.jsx(bs,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-bold",children:U.upcomingSessions}),r.jsx("p",{className:"text-xs text-gray-500",children:"Next 30 days"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"}),r.jsx(jr,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-bold",children:U.completedSessions}),r.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),r.jsx(go,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs("div",{className:"text-2xl font-bold",children:["$",U.totalRevenue.toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending Deposits"}),r.jsx(_s,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-bold",children:U.pendingDeposits}),r.jsx("p",{className:"text-xs text-gray-500",children:U.pendingDeposits>0?"Need attention":"All current"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Equipment Conflicts"}),r.jsx(Gf,{className:"h-4 w-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-bold",children:U.equipmentConflicts}),r.jsx("p",{className:"text-xs text-gray-500",children:U.equipmentConflicts>0?"Needs resolution":"All clear"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:Ne,className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[r.jsx(ta,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Schedule Session"})]}),r.jsxs("button",{onClick:()=>{const le=prompt("Location to scout (opens Google Maps search):");le&&window.open(`https://www.google.com/maps/search/${encodeURIComponent(le)}`,"_blank")},className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[r.jsx(pm,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Location Scouting"})]}),r.jsxs("button",{onClick:()=>{alert("Equipment checklist coming soon. For now, add items per session in the form.")},className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[r.jsx(jr,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Equipment Check"})]}),r.jsxs("button",{onClick:()=>{window.location.href="/admin/reports"},className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Revenue Report"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"New Photography Calendar Features"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(h0,{className:"w-5 h-5 text-yellow-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Golden Hour Optimization"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Automatically suggests optimal shooting times based on location and season"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Gu,{className:"w-5 h-5 text-blue-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Weather Integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Real-time weather monitoring with automatic backup planning"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ta,{className:"w-5 h-5 text-purple-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Equipment Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Smart conflict detection and rental coordination"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(El,{className:"w-5 h-5 text-orange-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Portfolio Tracking"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Identify portfolio gaps and high-value sessions"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(_s,{className:"w-5 h-5 text-green-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"AI-Powered Analytics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Booking patterns and revenue forecasting insights"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(jr,{className:"w-5 h-5 text-blue-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Workflow Automation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Post-shoot pipeline with editing and delivery tracking"})]})]})]})]}),r.jsx(aMe,{sessions:e,clients:X,onSessionClick:ze,onCreateSession:Ne,onUpdateSession:()=>{},onDeleteSession:()=>{},onDuplicateSession:()=>{},onExportCalendar:()=>{},onImportCalendar:()=>{},onSyncExternalCalendar:()=>{}}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Session Types & Indicators"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-pink-200 rounded border border-pink-300"}),r.jsx("span",{children:"Wedding"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-200 rounded border border-blue-300"}),r.jsx("span",{children:"Portrait"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-200 rounded border border-green-300"}),r.jsx("span",{children:"Commercial"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-200 rounded border border-purple-300"}),r.jsx("span",{children:"Event"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(h0,{className:"w-3 h-3 text-yellow-600"}),r.jsx("span",{children:"Golden Hour"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gu,{className:"w-3 h-3 text-blue-600"}),r.jsx("span",{children:"Weather Dependent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(El,{className:"w-3 h-3 text-purple-600"}),r.jsx("span",{children:"Portfolio Worthy"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jr,{className:"w-3 h-3 text-green-600"}),r.jsx("span",{children:"Completed"})]})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"Create New Photography Session"}),r.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Title"}),r.jsx("input",{type:"text",value:S.title,onChange:le=>ke("title",le.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx("textarea",{value:S.description,onChange:le=>ke("description",le.target.value),className:"w-full border rounded px-3 py-2",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Type"}),r.jsxs("select",{value:S.sessionType,onChange:le=>ke("sessionType",le.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"portrait",children:"Portrait"}),r.jsx("option",{value:"wedding",children:"Wedding"}),r.jsx("option",{value:"commercial",children:"Commercial"}),r.jsx("option",{value:"event",children:"Event"}),r.jsx("option",{value:"family",children:"Family"}),r.jsx("option",{value:"fashion",children:"Fashion"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-medium mb-2 text-gray-800",children:"Start Time"}),r.jsx("input",{type:"datetime-local",value:S.startTime,onChange:le=>{if(ke("startTime",le.target.value),le.target.value){const se=new Date(le.target.value),Se=S.sessionType==="wedding"?480:60,Pe=new Date(se.getTime()+Se*6e4),$e=Ae(Pe);S.sessionType==="portrait"?ke("endTime",$e):S.endTime||ke("endTime",$e)}},className:"w-full border rounded px-4 py-3 text-lg font-medium",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-medium mb-2 text-gray-800",children:"End Time"}),r.jsx("input",{type:"datetime-local",value:S.endTime,onChange:le=>ke("endTime",le.target.value),className:"w-full border rounded px-4 py-3 text-lg font-medium",required:!0})]})]}),S.goldenHourOptimized&&S.startTime&&r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(h0,{className:"w-4 h-4 text-yellow-600"}),r.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Golden Hour Optimization"})]}),(()=>{const le=new Date(S.startTime),se=U5(le,52.52,13.405);return r.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Morning Golden Hour:"})," ",se.morning]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Evening Golden Hour:"})," ",se.evening]}),r.jsx("p",{className:"text-yellow-600 mt-2",children:"💡 Consider weather conditions for optimal lighting"})]})})()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link Client (optional)"}),r.jsx("input",{type:"text",placeholder:"Search clients by name or email",value:_,onChange:le=>w(le.target.value),className:"w-full border rounded px-3 py-2 mb-2"}),r.jsxs("select",{value:S.clientId,onChange:le=>{const se=le.target.value;ke("clientId",se);const Se=x.find(Pe=>Pe.id===se);Se&&(ke("clientName",`${Se.firstName} ${Se.lastName}`.trim()),Se.email&&ke("clientEmail",Se.email))},className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"— No linked client —"}),(v?[]:x).filter(le=>{const se=_.trim().toLowerCase();return se?`${le.firstName} ${le.lastName}`.toLowerCase().includes(se)||(le.email?.toLowerCase().includes(se)??!1):!0}).slice(0,100).map(le=>r.jsxs("option",{value:le.id,children:[le.firstName," ",le.lastName,le.email?` — ${le.email}`:""]},le.id))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecting a client will auto-fill name and email."}),r.jsxs("div",{className:"mt-3 p-2 border rounded bg-gray-50",children:[r.jsx("div",{className:"text-xs font-medium mb-2",children:"Quick create client"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[r.jsx("input",{type:"text",placeholder:"First name",value:L.firstName,onChange:le=>P({...L,firstName:le.target.value}),className:"border rounded px-2 py-1 text-sm"}),r.jsx("input",{type:"text",placeholder:"Last name",value:L.lastName,onChange:le=>P({...L,lastName:le.target.value}),className:"border rounded px-2 py-1 text-sm"}),r.jsx("input",{type:"email",placeholder:"Email",value:L.email,onChange:le=>P({...L,email:le.target.value}),className:"border rounded px-2 py-1 text-sm col-span-2"}),r.jsx("input",{type:"text",placeholder:"Phone (optional)",value:L.phone,onChange:le=>P({...L,phone:le.target.value}),className:"border rounded px-2 py-1 text-sm col-span-2"})]}),r.jsx("button",{type:"button",disabled:k||!L.firstName||!L.lastName||!L.email,onClick:async()=>{try{C(!0);const le=await fetch("/api/crm/clients",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({firstName:L.firstName,lastName:L.lastName,email:L.email,phone:L.phone||void 0})});if(!le.ok){alert("Failed to create client");return}const se=await le.json();await re(),ke("clientId",se.id),ke("clientName",`${se.first_name||se.firstName} ${se.last_name||se.lastName}`.trim()),se.email&&ke("clientEmail",se.email),P({firstName:"",lastName:"",email:"",phone:""})}catch{alert("Error creating client")}finally{C(!1)}},className:`text-xs px-3 py-1 rounded ${k?"bg-gray-300 text-gray-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:k?"Creating…":"Create & Link Client"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Name"}),r.jsx("input",{type:"text",value:S.clientName,onChange:le=>ke("clientName",le.target.value),className:"w-full border rounded px-3 py-2"}),z.length>0&&r.jsx("ul",{className:"mt-1 border rounded bg-white shadow divide-y max-h-40 overflow-auto text-sm",children:z.map(le=>r.jsx("li",{children:r.jsxs("button",{type:"button",onClick:()=>{ke("clientName",`${le.firstName} ${le.lastName}`.trim()),ke("clientId",le.id),le.email&&ke("clientEmail",le.email),V([])},className:"w-full text-left px-2 py-1 hover:bg-gray-50",children:[le.firstName," ",le.lastName,le.email?` — ${le.email}`:""]})},le.id))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Base Price ($)"}),r.jsx("input",{type:"number",step:"0.01",value:S.basePrice,onChange:le=>ke("basePrice",le.target.value),className:"w-full border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deposit ($)"}),r.jsx("input",{type:"number",step:"0.01",value:S.depositAmount,onChange:le=>ke("depositAmount",le.target.value),className:"w-full border rounded px-3 py-2"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium",children:"Equipment List"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S.equipmentList.map((le,se)=>r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center",children:[le,r.jsx("button",{type:"button",onClick:()=>Ie(se),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},se))}),r.jsx("button",{type:"button",onClick:We,className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Equipment"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:S.weatherDependent,onChange:le=>ke("weatherDependent",le.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Weather Dependent"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:S.goldenHourOptimized,onChange:le=>ke("goldenHourOptimized",le.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Golden Hour Optimized"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:S.portfolioWorthy,onChange:le=>ke("portfolioWorthy",le.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Portfolio Worthy"})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Create Session"}),r.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-400",children:"Cancel"})]})]})]})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:a.title}),r.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Session Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${pe(a.sessionType)}`,children:a.sessionType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[ge(a.status),r.jsx("span",{children:a.status})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Start:"}),r.jsx("span",{children:jn(kn(a.startTime),"MMM d, yyyy h:mm a")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"End:"}),r.jsx("span",{children:jn(kn(a.endTime),"MMM d, yyyy h:mm a")})]}),a.clientName&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Client:"}),r.jsx("span",{children:a.clientName})]}),a.clientEmail&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{children:a.clientEmail})]}),a.locationName&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("span",{children:a.locationName})]})]})]}),a.description&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Description"}),r.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),r.jsxs("div",{className:"space-y-4",children:[(a.basePrice||a.depositAmount)&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Pricing"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[a.basePrice&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Base Price:"}),r.jsxs("span",{children:["$",a.basePrice]})]}),a.depositAmount&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Deposit:"}),r.jsxs("span",{children:["$",a.depositAmount]})]})]})]}),a.equipmentList&&a.equipmentList.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Equipment List"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:a.equipmentList.map((le,se)=>r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:le},se))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Special Features"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[a.goldenHourOptimized&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(h0,{className:"w-4 h-4 text-yellow-600"}),r.jsx("span",{children:"Golden Hour Optimized"})]}),a.weatherDependent&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gu,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{children:"Weather Dependent"})]}),a.portfolioWorthy&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(El,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{children:"Portfolio Worthy"})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t",children:[r.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Close"}),r.jsx("button",{onClick:()=>{},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit Session"})]})]})}),r.jsx(oMe,{isOpen:n,onClose:()=>s(!1),onConnectionSuccess:()=>{fe()}})]})})},lMe=()=>{const e=[{icon:r.jsx(b0,{className:"h-8 w-8 text-blue-600"}),title:"Advanced Survey Builder",description:"Drag-and-drop interface with 20+ question types, real-time preview, and multi-page support."},{icon:r.jsx(ln,{className:"h-8 w-8 text-green-600"}),title:"Response Management",description:"Collect, analyze, and export responses with advanced filtering and real-time tracking."},{icon:r.jsx(Va,{className:"h-8 w-8 text-purple-600"}),title:"Analytics & Insights",description:"Comprehensive analytics with completion rates, drop-off points, and visual reporting."},{icon:r.jsx(aa,{className:"h-8 w-8 text-orange-600"}),title:"Flexible Configuration",description:"Custom settings, access controls, time limits, and branded survey experiences."},{icon:r.jsx(Tl,{className:"h-8 w-8 text-yellow-600"}),title:"Smart Logic",description:"Skip logic, branching, and conditional questions for dynamic survey flows."},{icon:r.jsx(aS,{className:"h-8 w-8 text-red-600"}),title:"Security & Privacy",description:"Anonymous responses, data encryption, and GDPR-compliant data handling."}],t=["Text Input","Multiple Choice","Checkboxes","Dropdown","Email","Phone","Date & Time","Rating","Scale","Ranking","Matrix","Slider","Image Choice","File Upload","NPS","Contact Info","Address","Net Promoter Score"];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Survey Monkey-Style",r.jsx("br",{}),r.jsx("span",{className:"text-blue-200",children:"Questionnaire System"})]}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Create powerful surveys with advanced question types, real-time analytics, and enterprise-grade features built right into your admin panel."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Vt,{to:"/admin/questionnaires",className:"inline-flex items-center px-8 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[r.jsx(b0,{className:"mr-2 h-5 w-5"}),"Start Building Surveys",r.jsx(Kf,{className:"ml-2 h-5 w-5"})]}),r.jsxs("button",{className:"inline-flex items-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:[r.jsx(Mi,{className:"mr-2 h-5 w-5"}),"View Demo Survey"]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need for Professional Surveys"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From simple feedback forms to complex research studies, our system provides all the tools you need to create, distribute, and analyze surveys effectively."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,s)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"mb-4",children:n.icon}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.title}),r.jsx("p",{className:"text-gray-600",children:n.description})]},s))})]}),r.jsx("div",{className:"bg-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"20+ Question Types"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From basic text inputs to advanced matrix questions, we support all the question types you need for comprehensive data collection."})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:t.map((n,s)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm hover:shadow-md transition-shadow",children:[r.jsx(jr,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:n})]},s))})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Builder Interface"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Intuitive drag-and-drop survey builder with real-time preview and advanced customization options."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Survey Builder Features"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{children:"Drag-and-drop question reordering"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{children:"Real-time preview as you build"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{children:"Question categorization and search"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{children:"Conditional logic and branching"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{children:"Custom styling and branding"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{children:"Mobile-responsive design"})]})]})]}),r.jsxs("div",{className:"bg-gray-200 rounded-lg p-8 text-center",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[r.jsx("div",{className:"h-4 bg-blue-200 rounded mb-3"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-8 bg-gray-100 rounded"}),r.jsx("div",{className:"h-8 bg-gray-100 rounded"}),r.jsx("div",{className:"h-8 bg-gray-100 rounded"})]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Survey Builder Interface Preview"})]})]})]}),r.jsx("div",{className:"bg-gray-900 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Advanced Analytics & Reporting"}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get deep insights into your survey performance with comprehensive analytics, real-time reporting, and data export capabilities."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(Va,{className:"h-8 w-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Real-Time Analytics"}),r.jsx("p",{className:"text-gray-300",children:"Monitor responses as they come in with live dashboards and instant notifications."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(ln,{className:"h-8 w-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Response Tracking"}),r.jsx("p",{className:"text-gray-300",children:"Track completion rates, drop-off points, and user behavior patterns."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(Y4,{className:"h-8 w-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Device Analytics"}),r.jsx("p",{className:"text-gray-300",children:"Understand how users interact with your surveys across different devices."})]})]})]})}),r.jsx("div",{className:"bg-blue-600 text-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Creating Surveys?"}),r.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of organizations using our survey system to collect valuable feedback and insights from their audience."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(Vt,{to:"/admin/questionnaires",className:"inline-flex items-center px-8 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[r.jsx(b0,{className:"mr-2 h-5 w-5"}),"Access Survey Builder",r.jsx(Kf,{className:"ml-2 h-5 w-5"})]}),r.jsxs(Vt,{to:"/survey/demo",className:"inline-flex items-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:[r.jsx(Mi,{className:"mr-2 h-5 w-5"}),"Try Demo Survey"]})]})]})})}),r.jsx("div",{className:"bg-gray-800 text-gray-300",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{children:"© 2024 NEWAGEFrntEUI Survey System. Built with React, TypeScript, and Supabase."})})})})]})},cMe={async getSurveys(){try{const e=await fetch("/api/surveys");if(!e.ok)throw new Error(`Failed to fetch surveys: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching surveys:",e),e}},async getSurvey(e){try{const t=await fetch(`/api/surveys/${e}`);if(!t.ok)throw new Error(`Failed to fetch survey: ${t.status}`);return(await t.json()).survey}catch(t){throw console.error("Error fetching survey:",t),t}},async createSurvey(e){try{const t=await fetch("/api/surveys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create survey: ${t.status}`);return(await t.json()).survey}catch(t){throw console.error("Error creating survey:",t),t}},async updateSurvey(e,t){try{const n=await fetch(`/api/surveys/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to update survey: ${n.status}`);return(await n.json()).survey}catch(n){throw console.error("Error updating survey:",n),n}},async deleteSurvey(e){try{const t=await fetch(`/api/surveys/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete survey: ${t.status}`)}catch(t){throw console.error("Error deleting survey:",t),t}},async duplicateSurvey(e){try{const t=await fetch(`/api/surveys/${e}/duplicate`,{method:"POST"});if(!t.ok)throw new Error(`Failed to duplicate survey: ${t.status}`);return(await t.json()).survey}catch(t){throw console.error("Error duplicating survey:",t),t}},async publishSurvey(e){return this.updateSurvey(e,{status:"active"})},async pauseSurvey(e){return this.updateSurvey(e,{status:"paused"})},async archiveSurvey(e){return this.updateSurvey(e,{status:"archived"})},async getSurveyResponses(e){try{const t=await fetch(`/api/surveys/${e}/responses`);if(!t.ok)throw new Error(`Failed to fetch responses: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching survey responses:",t),t}},async getSurveyAnalytics(e){try{const t=await fetch(`/api/surveys/${e}/analytics`);if(!t.ok)throw new Error(`Failed to fetch analytics: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching survey analytics:",t),t}}},dMe={async submitResponse(e){try{const t={...e,startedAt:new Date().toISOString()},n=await fetch("/api/survey-responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to submit response: ${n.status}`);return(await n.json()).response}catch(t){throw console.error("Error submitting response:",t),t}}},uMe=()=>{const{id:e}=Ri(),t=un(),[n,s]=j.useState(null),[a,i]=j.useState(!0),[o,l]=j.useState(null),[c,d]=j.useState(0),[u,h]=j.useState({}),[p,f]=j.useState(!1),[x,g]=j.useState(!1);j.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{if(i(!0),l(null),!e)throw new Error("Survey ID is required");const I=await cMe.getSurvey(e);if(I.status!=="active")throw new Error("This survey is not currently active");s(I)}catch(I){l(I instanceof Error?I.message:"Failed to load survey")}finally{i(!1)}},b=(I,B)=>{h(z=>({...z,[I]:B}))},_=()=>{if(!n)return!1;const B=n.pages[c].questions.filter(z=>z.required);for(const z of B){const V=u[z.id];if(!V||Array.isArray(V)&&V.length===0||V==="")return!1}return!0},w=()=>{if(n){if(!_()){alert("Please answer all required questions before continuing.");return}c<n.pages.length-1&&d(I=>I+1)}},S=()=>{c>0&&d(I=>I-1)},A=async()=>{if(!(!n||!e)){if(!_()){alert("Please answer all required questions before submitting.");return}try{f(!0);const I={surveyId:e,respondentId:void 0,status:"completed",completedAt:new Date().toISOString(),ipAddress:void 0,userAgent:navigator.userAgent,answers:Object.entries(u).map(([B,z])=>({questionId:B,value:z})),metadata:{timeSpent:0,device:"desktop",browser:"unknown",os:"unknown"}};await dMe.submitResponse(I),g(!0)}catch{l("Failed to submit response. Please try again.")}finally{f(!1)}}},L=I=>{const B=u[I.id];switch(I.type){case"text":return r.jsx("input",{type:"text",value:B||"",onChange:z=>b(I.id,z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."});case"email":return r.jsx("input",{type:"email",value:B||"",onChange:z=>b(I.id,z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"});case"number":return r.jsx("input",{type:"number",value:B||"",onChange:z=>b(I.id,z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter a number..."});case"date":return r.jsx("input",{type:"date",value:B||"",onChange:z=>b(I.id,z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"});case"multiple_choice":return r.jsx("div",{className:"space-y-3",children:I.options?.map(z=>r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"radio",name:`question_${I.id}`,value:z.id,checked:B===z.id,onChange:V=>b(I.id,V.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),r.jsx("span",{className:"text-gray-900",children:z.text})]},z.id))});case"checkboxes":return r.jsx("div",{className:"space-y-3",children:I.options?.map(z=>r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",value:z.id,checked:Array.isArray(B)&&B.includes(z.id),onChange:V=>{const U=Array.isArray(B)?B:[];V.target.checked?b(I.id,[...U,z.id]):b(I.id,U.filter(K=>K!==z.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-gray-900",children:z.text})]},z.id))});case"dropdown":return r.jsxs("select",{value:B||"",onChange:z=>b(I.id,z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select an option..."}),I.options?.map(z=>r.jsx("option",{value:z.id,children:z.text},z.id))]});case"rating":return r.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(z=>r.jsx("button",{type:"button",onClick:()=>b(I.id,z),className:`${B>=z?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:r.jsx(El,{size:24,fill:"currentColor"})},z))});default:return r.jsx("input",{type:"text",value:B||"",onChange:z=>b(I.id,z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."})}};if(a)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading survey..."})]})});if(o)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"max-w-md w-full mx-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx(Dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Unable to Load Survey"}),r.jsx("p",{className:"text-gray-600 mb-4",children:o}),r.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Home"})]})})});if(x)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"max-w-md w-full mx-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx(jr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You!"}),r.jsx("p",{className:"text-gray-600 mb-4",children:n?.thankYouMessage||"Your response has been submitted successfully."}),r.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Home"})]})})});if(!n)return null;const P=n.pages[c],k=c===n.pages.length-1,C=n.pages.reduce((I,B)=>I+B.questions.length,0),R=Object.keys(u).length,E=C>0?R/C*100:0;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-2xl mx-auto py-8 px-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),n.description&&r.jsx("p",{className:"text-gray-600",children:n.description}),n.settings.progressBar&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[Math.round(E),"% Complete"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${E}%`}})})]})]}),r.jsx("div",{className:"px-6 py-6",children:r.jsx("div",{className:"space-y-8",children:P.questions.map((I,B)=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[B+1,". ",I.title,I.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),I.description&&r.jsx("p",{className:"text-gray-600 mb-4",children:I.description})]}),L(I)]},I.id))})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:S,disabled:c===0,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Hy,{size:16}),r.jsx("span",{children:"Previous"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",c+1," of ",n.pages.length]}),k?r.jsxs("button",{onClick:A,disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[p?r.jsx(Mr,{size:16,className:"animate-spin"}):r.jsx(Ii,{size:16}),r.jsx("span",{children:p?"Submitting...":"Submit"})]}):r.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r.jsx("span",{children:"Next"}),r.jsx(vc,{size:16})]})]})})]})})})},UI=()=>{const{t:e}=ia(),[t,n]=j.useState([]),[s,a]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!0),[d,u]=j.useState(null),[h,p]=j.useState(null),[f,x]=j.useState(0),[g,v]=j.useState(1),[b,_]=j.useState(1),w=j.useCallback(async()=>{try{c(!0),u(null);const k=new URLSearchParams;i!=="all"&&(i==="published"?k.append("published","true"):i==="draft"&&k.append("published","false"));const C=await fetch(`/api/blog/posts?${k.toString()}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch blog posts");const E=(await C.json()).posts.map(B=>({id:B.id,title:B.title,slug:B.slug,excerpt:B.excerpt,content_html:B.contentHtml||B.content,cover_image:B.imageUrl,status:B.published?"PUBLISHED":"DRAFT",published:B.published,author_id:B.authorId,published_at:B.publishedAt,created_at:B.createdAt,updated_at:B.updatedAt,seo_title:B.seoTitle,meta_description:B.metaDescription,tags:B.tags||[]})),I=s?E.filter(B=>B.title.toLowerCase().includes(s.toLowerCase())||B.content_html.toLowerCase().includes(s.toLowerCase())||B.excerpt&&B.excerpt.toLowerCase().includes(s.toLowerCase())):E;n(I),x(I.length),_(Math.ceil(I.length/10))}catch{u("Failed to load blog posts. Please try again.")}finally{c(!1)}},[i,g,s]);j.useEffect(()=>{w()},[w]);const S=()=>{v(1),w()},A=async k=>{try{if(c(!0),!(await fetch(`/api/blog/posts/${k}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete post");w(),p(null)}catch{u("Failed to delete post. Please try again."),c(!1)}},L=async k=>{try{c(!0);const C=!k.published;if(!(await fetch(`/api/blog/posts/${k.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({published:C,publishedAt:C?new Date().toISOString():null})})).ok)throw new Error("Failed to update post status");w()}catch{u("Failed to update post status. Please try again."),w()}},P=k=>{switch(k.status){case"PUBLISHED":return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(jr,{size:12,className:"mr-1"})," ",e("status.published")]});case"SCHEDULED":return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[r.jsx(bs,{size:12,className:"mr-1"})," ",e("status.scheduled")]});default:return r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[r.jsx(bs,{size:12,className:"mr-1"})," ",e("status.draft")]})}};return r.jsxs(Nr,{children:[r.jsxs("div",{className:"space-y-6",children:["        ",r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.blog")}),r.jsx("p",{className:"text-gray-600",children:e("blog.manage_content")})]}),r.jsxs(Vt,{to:"/admin/blog/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[r.jsx(Cr,{size:20,className:"mr-2"}),e("blog.create")]})]}),d&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:d})]}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),"              ",r.jsx("input",{type:"text",placeholder:e("blog.search_posts"),value:s,onChange:k=>a(k.target.value),onKeyDown:k=>k.key==="Enter"&&S(),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),r.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"all",children:e("filter.all_statuses")}),r.jsx("option",{value:"published",children:e("status.published")}),r.jsx("option",{value:"draft",children:e("status.draft")}),r.jsx("option",{value:"scheduled",children:e("status.scheduled")})]}),r.jsxs("button",{onClick:S,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(rg,{size:20,className:"mr-2"}),e("action.filter")]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:["          ",l?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Mr,{className:"animate-spin h-8 w-8 text-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:e("message.loading")})]}):t.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("blog.post")}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("form.status")}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("form.date")}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.actions")})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(k=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["                        ",r.jsxs("div",{className:"flex items-center",children:[k.cover_image?r.jsx("img",{src:k.cover_image,alt:k.title,className:"h-10 w-10 rounded-md object-cover mr-3"}):r.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 mr-3 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500 text-xs",children:e("blog.no_image")})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:k.excerpt||e("blog.no_excerpt")})]})]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P(k)}),"                      ",r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.status==="PUBLISHED"&&k.published_at?new Date(k.published_at).toLocaleDateString():k.status==="SCHEDULED"&&k.scheduled_for?`${e("status.scheduled")}: ${new Date(k.scheduled_for).toLocaleDateString()}`:new Date(k.created_at).toLocaleDateString()+` (${e("status.draft")})`}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(Vt,{to:`/admin/blog/edit/${k.id}`,className:"text-indigo-600 hover:text-indigo-900",title:e("action.edit"),children:r.jsx(Aa,{size:16})}),r.jsx("a",{href:`/blog/${k.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",title:e("action.view"),children:r.jsx(Mn,{size:16})}),r.jsx("button",{onClick:()=>L(k),className:`${k.status==="PUBLISHED"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:k.status==="PUBLISHED"?e("blog.unpublish"):e("blog.publish"),children:k.status==="PUBLISHED"?r.jsx(bs,{size:16}):r.jsx(jr,{size:16})}),r.jsx("button",{onClick:()=>p(k.id),className:"text-red-600 hover:text-red-900",title:e("action.delete"),children:r.jsx(Ts,{size:16})})]})})]},k.id))})]})}):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("p",{className:"text-gray-500",children:e("blog.no_posts_found")}),r.jsxs(Vt,{to:"/admin/blog/new",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[r.jsx(Cr,{size:16,className:"mr-2"}),e("blog.create_first_post")]})]})]}),"        ",b>1&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:[e("pagination.showing")," ",r.jsx("span",{className:"font-medium",children:t.length})," ",e("pagination.of")," ",r.jsx("span",{className:"font-medium",children:f})," ",e("pagination.results")]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>v(k=>Math.max(k-1,1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50",children:e("action.previous")}),Array.from({length:b},(k,C)=>C+1).map(k=>r.jsx("button",{onClick:()=>v(k),className:`px-3 py-1 border rounded-md text-sm ${g===k?"bg-purple-600 text-white border-purple-600":"border-gray-300 text-gray-700"}`,children:k},k)),r.jsx("button",{onClick:()=>v(k=>Math.min(k+1,b)),disabled:g===b,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50",children:e("action.next")})]})]})]}),"      ",h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e("modal.confirm_deletion")}),r.jsx("p",{className:"text-gray-500 mb-6",children:e("modal.delete_post_warning")}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),r.jsx("button",{onClick:()=>h&&A(h),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:e("action.delete")})]})]})})]})},hMe=({value:e,onChange:t,placeholder:n="Start writing your blog post content..."})=>{const s=j.useRef(null),[a,i]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,h]=j.useState(!1),[p,f]=j.useState(!1),[x,g]=j.useState(!1),[v,b]=j.useState(!1),[_,w]=j.useState(!1),[S,A]=j.useState(""),[L,P]=j.useState(""),[k,C]=j.useState(!1),[R,E]=j.useState(!1),[I,B]=j.useState(!1),[z,V]=j.useState(""),[U,K]=j.useState([e]),[$,W]=j.useState(0),te=["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF","#980000","#FF0000","#FF9900","#FFFF00","#00FF00","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF","#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#741B47","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"],J=[{name:"Default",value:""},{name:"Arial",value:"Arial, sans-serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Times New Roman",value:'"Times New Roman", serif'},{name:"Courier New",value:'"Courier New", monospace'},{name:"Verdana",value:"Verdana, sans-serif"},{name:"Trebuchet MS",value:'"Trebuchet MS", sans-serif'},{name:"Comic Sans MS",value:'"Comic Sans MS", cursive'},{name:"Impact",value:"Impact, sans-serif"},{name:"Palatino",value:"Palatino, serif"},{name:"Tahoma",value:"Tahoma, sans-serif"},{name:"Century Gothic",value:'"Century Gothic", sans-serif'},{name:"Lucida Console",value:'"Lucida Console", monospace'},{name:"Book Antiqua",value:'"Book Antiqua", serif'},{name:"Calibri",value:"Calibri, sans-serif"},{name:"Cambria",value:"Cambria, serif"},{name:"Garamond",value:"Garamond, serif"}],M=[{label:"8px",value:"1"},{label:"10px",value:"2"},{label:"12px",value:"3"},{label:"14px",value:"4"},{label:"18px",value:"5"},{label:"24px",value:"6"},{label:"36px",value:"7"}],G=[{label:"Normal Text",value:"div"},{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Paragraph",value:"p"},{label:"Preformatted",value:"pre"}];j.useEffect(()=>{I&&V(e)},[e,I]),j.useEffect(()=>{s.current&&!I&&!R&&(s.current.innerHTML=e||`<p>${n}</p>`)},[e,I,R,n]);const X=j.useCallback(Y=>{const ke=U.slice(0,$+1);ke.push(Y),K(ke),W(ke.length-1)},[U,$]),ie=j.useCallback((Y,ke)=>{if(document.execCommand(Y,!1,ke),s.current?.focus(),s.current){const We=s.current.innerHTML;t(We),X(We)}},[t,X]),re=j.useCallback(()=>{if($>0){const Y=$-1,ke=U[Y];W(Y),t(ke),s.current&&(s.current.value=ke)}},[U,$,t]),fe=j.useCallback(()=>{if($<U.length-1){const Y=$+1,ke=U[Y];W(Y),t(ke),s.current&&(s.current.value=ke)}},[U,$,t]),we=async Y=>{try{C(!0);const ke=Y.name.split(".").pop(),We=`blog/content/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${ke}`,{error:Ie}=await Fs.storage.from("images").upload(We,Y);if(Ie)throw Ie;const{data:{publicUrl:ze}}=Fs.storage.from("images").getPublicUrl(We),le=`<img src="${ze}" alt="${Y.name}" style="max-width: 100%; height: auto; margin: 15px auto; display: block; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);" />`;if(document.execCommand("insertHTML",!1,le),s.current){const se=s.current.innerHTML;t(se),X(se)}g(!1)}catch{alert("Failed to upload image. Please try again.")}finally{C(!1)}},Z=()=>{if(S&&L){const Y=`<a href="${S}" target="_blank" rel="noopener noreferrer" style="color: #3B82F6; text-decoration: underline;">${L}</a>`;if(document.execCommand("insertHTML",!1,Y),s.current){const ke=s.current.innerHTML;t(ke),X(ke)}A(""),P(""),b(!1)}},Q=(Y,ke)=>{let We='<table style="border-collapse: collapse; width: 100%; margin: 15px 0;">';for(let Ie=0;Ie<Y;Ie++){We+="<tr>";for(let ze=0;ze<ke;ze++)We+=`<td style="border: 1px solid #ddd; padding: 12px; ${Ie===0?"background-color: #f8f9fa; font-weight: bold;":""}">${Ie===0?`Header ${ze+1}`:"Cell content"}</td>`;We+="</tr>"}if(We+="</table>",document.execCommand("insertHTML",!1,We),s.current){const Ie=s.current.innerHTML;t(Ie),X(Ie)}w(!1)},pe=()=>{E(!R),B(!1)},ge=()=>{I?(t(z),s.current&&(s.current.innerHTML=z)):V(e),B(!I),E(!1)},Ae=({onClick:Y,active:ke,children:We,title:Ie,disabled:ze=!1})=>r.jsx("button",{type:"button",onClick:Y,title:Ie,disabled:ze,className:`p-2 rounded transition-colors ${ze?"text-gray-400 cursor-not-allowed":ke?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:We}),Ne=({children:Y,title:ke,isOpen:We,onClick:Ie})=>r.jsxs("button",{type:"button",onClick:Ie,title:ke,className:`p-2 rounded transition-colors flex items-center ${We?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[Y,r.jsx(tg,{size:12,className:"ml-1"})]});return r.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",style:{direction:"ltr"},children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-300 p-2",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ae,{onClick:re,title:"Undo",disabled:$<=0,children:r.jsx(LY,{size:16})}),r.jsx(Ae,{onClick:fe,title:"Redo",disabled:$>=U.length-1,children:r.jsx(vY,{size:16})})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ae,{onClick:pe,title:"Toggle Preview",active:R,children:R?r.jsx(GK,{size:16}):r.jsx(Mn,{size:16})}),r.jsx(Ae,{onClick:ge,title:"HTML Source",active:I,children:r.jsx(YK,{size:16})})]}),!R&&!I&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ne,{onClick:()=>d(!c),title:"Font Family",isOpen:c,children:r.jsx(iS,{size:16})}),c&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-48 max-h-64 overflow-y-auto",children:J.map(Y=>r.jsx("button",{type:"button",onClick:()=>{ie("fontName",Y.value),d(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",style:{fontFamily:Y.value},children:Y.name},Y.value))})]}),r.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ne,{onClick:()=>f(!p),title:"Heading",isOpen:p,children:r.jsx("span",{className:"text-sm font-medium",children:"H"})}),p&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-40",children:G.map(Y=>r.jsx("button",{type:"button",onClick:()=>{ie("formatBlock",Y.value),f(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",children:Y.value.startsWith("h")?r.jsx("span",{className:`font-bold ${Y.value==="h1"?"text-2xl":Y.value==="h2"?"text-xl":Y.value==="h3"?"text-lg":Y.value==="h4"?"text-base":Y.value==="h5"?"text-sm":"text-xs"}`,children:Y.label}):r.jsx("span",{children:Y.label})},Y.value))})]}),r.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ne,{onClick:()=>h(!u),title:"Font Size",isOpen:u,children:r.jsx("span",{className:"text-xs",children:"Aa"})}),u&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-24",children:M.map(Y=>r.jsx("button",{type:"button",onClick:()=>{ie("fontSize",Y.value),h(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",style:{fontSize:Y.label},children:Y.label},Y.value))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ae,{onClick:()=>ie("bold"),title:"Bold",children:r.jsx(UK,{size:16})}),r.jsx(Ae,{onClick:()=>ie("italic"),title:"Italic",children:r.jsx(nY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("underline"),title:"Underline",children:r.jsx(OY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("strikeThrough"),title:"Strikethrough",children:r.jsx(_Y,{size:16})}),r.jsx(Ae,{onClick:()=>ie("superscript"),title:"Superscript",children:r.jsx(AY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("subscript"),title:"Subscript",children:r.jsx(kY,{size:16})})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{onClick:()=>i(!a),title:"Text Color",children:r.jsxs("div",{className:"relative",children:[r.jsx(iS,{size:16}),r.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-red-500 rounded"})]})}),a&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-10",children:r.jsx("div",{className:"grid grid-cols-10 gap-1",children:te.map(Y=>r.jsx("button",{type:"button",onClick:()=>{ie("foreColor",Y),i(!1)},className:"w-5 h-5 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:Y},title:Y},Y))})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{onClick:()=>l(!o),title:"Background Color",children:r.jsxs("div",{className:"relative",children:[r.jsx(Oi,{size:16}),r.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-yellow-400 rounded"})]})}),o&&r.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-10",children:r.jsx("div",{className:"grid grid-cols-10 gap-1",children:te.map(Y=>r.jsx("button",{type:"button",onClick:()=>{ie("backColor",Y),l(!1)},className:"w-5 h-5 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:Y},title:Y},Y))})})]})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ae,{onClick:()=>ie("justifyLeft"),title:"Align Left",children:r.jsx(FK,{size:16})}),r.jsx(Ae,{onClick:()=>ie("justifyCenter"),title:"Align Center",children:r.jsx(DK,{size:16})}),r.jsx(Ae,{onClick:()=>ie("justifyRight"),title:"Align Right",children:r.jsx($K,{size:16})}),r.jsx(Ae,{onClick:()=>ie("justifyFull"),title:"Justify",children:r.jsx(RK,{size:16})})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[r.jsx(Ae,{onClick:()=>ie("insertUnorderedList"),title:"Bullet List",children:r.jsx(oY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("insertOrderedList"),title:"Numbered List",children:r.jsx(iY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("outdent"),title:"Decrease Indent",children:r.jsx(pY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("indent"),title:"Increase Indent",children:r.jsx(eY,{size:16})})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ae,{onClick:()=>b(!0),title:"Insert Link",children:r.jsx(K4,{size:16})}),r.jsx(Ae,{onClick:()=>g(!0),title:"Insert Image",children:r.jsx(ka,{size:16})}),r.jsx(Ae,{onClick:()=>w(!0),title:"Insert Table",children:r.jsx(CY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("formatBlock","blockquote"),title:"Quote",children:r.jsx(yY,{size:16})}),r.jsx(Ae,{onClick:()=>ie("formatBlock","pre"),title:"Code Block",children:r.jsx(AM,{size:16})})]})]})]})}),r.jsx("div",{className:"relative",children:R?r.jsx("div",{className:"min-h-96 p-6 prose max-w-none",dangerouslySetInnerHTML:{__html:e}}):I?r.jsx("textarea",{value:z,onChange:Y=>V(Y.target.value),className:"w-full min-h-96 p-4 font-mono text-sm border-0 outline-none resize-none",style:{direction:"ltr",textAlign:"left"},placeholder:"Edit HTML source..."}):r.jsx("div",{ref:s,contentEditable:!0,suppressContentEditableWarning:!0,onInput:Y=>{const ke=Y.currentTarget.innerHTML;t(ke),X(ke)},onKeyDown:Y=>{(Y.ctrlKey||Y.metaKey)&&(Y.key==="z"&&!Y.shiftKey?(Y.preventDefault(),re()):(Y.key==="z"&&Y.shiftKey||Y.key==="y")&&(Y.preventDefault(),fe()))},className:"min-h-96 p-6 outline-none w-full border-0 focus:ring-0 prose max-w-none",style:{lineHeight:"1.7",fontSize:"16px",direction:"ltr",textAlign:"left",unicodeBidi:"embed",writingMode:"horizontal-tb",fontFamily:"inherit"},dangerouslySetInnerHTML:{__html:e||`<p>${n}</p>`}})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Insert Link"}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text"}),r.jsx("input",{type:"text",value:L,onChange:Y=>P(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter link text"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),r.jsx("input",{type:"url",value:S,onChange:Y=>A(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"https://example.com"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),r.jsx("button",{onClick:Z,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Insert Link"})]})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Insert Image"}),r.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:20})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:Y=>{const ke=Y.target.files?.[0];ke&&we(ke)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",disabled:k}),k&&r.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[r.jsx(Ko,{className:"animate-pulse mr-2",size:16}),"Uploading image..."]})]})})]})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 max-w-90vw",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Insert Table"}),r.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Click to select table size:"}),r.jsx("div",{className:"grid grid-cols-8 gap-1 p-2 border border-gray-300 rounded",children:Array.from({length:64},(Y,ke)=>{const We=Math.floor(ke/8)+1,Ie=ke%8+1;return r.jsx("button",{onClick:()=>Q(We,Ie),className:"w-6 h-6 border border-gray-300 hover:bg-purple-100 transition-colors",title:`${We} x ${Ie}`},ke)})})]})]})})]})},VU=({post:e,isEditing:t=!1})=>{const n=un(),[s,a]=j.useState("content"),[i,o]=j.useState({title:"",slug:"",excerpt:"",content_html:"",status:"DRAFT",seo_title:"",meta_description:"",tags:[],scheduled_for:"",cover_image:""}),[l,c]=j.useState([]),[d,u]=j.useState([]),[h,p]=j.useState(""),[f,x]=j.useState(!1),[g,v]=j.useState(null),[b,_]=j.useState(!1),[w,S]=j.useState(null),A=[{id:"content",label:"Content",icon:Hn,description:"Write your blog post content"},{id:"media",label:"Media",icon:ka,description:"Add cover image and media"},{id:"meta",label:"Meta",icon:aa,description:"SEO and publishing settings"},{id:"preview",label:"Preview",icon:Mn,description:"Review and publish"}];j.useEffect(()=>{if(L(),e&&t){const ie={title:e.title||"",slug:e.slug||"",excerpt:e.excerpt||"",content_html:e.content_html||"",status:e.status||"DRAFT",seo_title:e.seo_title||"",meta_description:e.meta_description||"",tags:e.tags||[],scheduled_for:e.scheduled_for||"",cover_image:e.cover_image||"",id:e.id,author_id:e.author_id,published_at:e.published_at,created_at:e.created_at,updated_at:e.updated_at};o(ie),u(e.tags||[])}},[e,t]);const L=async()=>{try{const{data:ie,error:re}=await Fs.from("blog_tags").select("id, name").order("name");if(re)throw re;c(ie||[])}catch{}},P=ie=>ie.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,60),k=(ie,re)=>{o(fe=>({...fe,[ie]:re}))},C=async ie=>{const re=ie.target.files?.[0];if(re)try{_(!0),v(null);const fe=re.name.split(".").pop(),we=`blog/covers/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${fe}`,{error:Z}=await Fs.storage.from("images").upload(we,re);if(Z)throw Z;const{data:{publicUrl:Q}}=Fs.storage.from("images").getPublicUrl(we);k("cover_image",Q)}catch{v("Failed to upload image. Please try again.")}finally{_(!1)}},R=()=>{if(h?.trim()&&!d.includes(h.trim())){const ie=[...d,h.trim()];u(ie),k("tags",ie),p("")}},E=ie=>{const re=d.filter(fe=>fe!==ie);u(re),k("tags",re)},I=ie=>{if(!d.includes(ie)){const re=[...d,ie];u(re),k("tags",re)}},B=ie=>{switch(ie){case"content":return!!(i.title?.trim()&&i.content_html?.trim());case"media":return!0;case"meta":return!!i.excerpt?.trim();case"preview":return!0;default:return!1}},z=()=>B(s),V=ie=>A.findIndex(re=>re.id===ie),U=()=>{const ie=V(s);ie<A.length-1&&z()&&a(A[ie+1].id)},K=()=>{const ie=V(s);ie>0&&a(A[ie-1].id)},$=async(ie=!1)=>{x(!0),v(null);try{const re={title:i.title||"",slug:i.slug||P(i.title||""),excerpt:i.excerpt||"",content:i.content_html||"",contentHtml:i.content_html||"",imageUrl:i.cover_image||"",published:ie||i.status==="PUBLISHED",metaDescription:i.meta_description||"",seoTitle:i.seo_title||"",tags:i.tags||[]};(ie||i.status==="PUBLISHED")&&(re.publishedAt=new Date().toISOString());const fe=await fetch(t&&e?.id?`/api/blog/posts/${e.id}`:"/api/blog/posts",{method:t&&e?.id?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(re)});if(!fe.ok){const we=await fe.json();throw new Error(we.error||"Failed to save post")}S(t?"Post updated successfully!":"Post created successfully!"),setTimeout(()=>{n("/admin/blog")},1500)}catch(re){v(re instanceof Error?re.message:"An error occurred while saving the post")}finally{x(!1)}},W=()=>r.jsx("div",{className:"flex items-center justify-between mb-8",children:A.map((ie,re)=>{const fe=ie.id===s,we=B(ie.id)&&V(s)>re,Z=ie.icon;return r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors
                ${fe?"bg-purple-600 border-purple-600 text-white":we?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
              `,children:we?r.jsx(sa,{size:20}):r.jsx(Z,{size:20})}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("div",{className:`text-sm font-medium ${fe?"text-purple-600":"text-gray-600"}`,children:ie.label}),r.jsx("div",{className:"text-xs text-gray-500 max-w-24",children:ie.description})]})]}),re<A.length-1&&r.jsx("div",{className:`w-16 h-0.5 mx-4 ${we?"bg-green-600":"bg-gray-300"}`})]},ie.id)})}),te=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Post Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:i.title,onChange:ie=>{k("title",ie.target.value),(!i.slug||i.slug===P(i.title||""))&&k("slug",P(ie.target.value))},className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your post title..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL Slug ",r.jsx("span",{className:"text-red-500",children:"*"}),r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Used in the post URL)"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-500 px-3 py-3 bg-gray-50 border border-gray-300 rounded-l-lg",children:"/blog/"}),r.jsx("input",{type:"text",value:i.slug||"",onChange:ie=>k("slug",ie.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")),className:"flex-1 px-4 py-3 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"post-url-slug"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and hyphens allowed. Auto-generated from title if left empty."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(hMe,{value:i.content_html,onChange:ie=>k("content_html",ie),placeholder:"Start writing your blog post content..."})]})]}),J=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image"}),i.cover_image?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:i.cover_image,alt:"Cover preview",className:"w-full h-64 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>k("cover_image",""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:r.jsx(gn,{size:16})})]}):r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ko,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium",children:"Upload a cover image"}),r.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),r.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"sr-only",disabled:b})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PNG, JPG, GIF up to 10MB"}),b&&r.jsxs("div",{className:"mt-4 flex items-center justify-center text-purple-600",children:[r.jsx(Mr,{className:"animate-spin mr-2",size:20}),"Uploading..."]})]})})]})}),M=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Excerpt ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:i.excerpt,onChange:ie=>k("excerpt",ie.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Brief summary of your post (recommended: 280 characters)"}),r.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.excerpt.length,"/280 characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:h,onChange:ie=>p(ie.target.value),onKeyPress:ie=>ie.key==="Enter"&&(ie.preventDefault(),R()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Add a tag..."}),r.jsxs("button",{type:"button",onClick:R,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(Cr,{size:16,className:"mr-1"}),"Add"]})]}),d.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(ie=>r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[ie,r.jsx("button",{type:"button",onClick:()=>E(ie),className:"ml-2 text-purple-600 hover:text-purple-800",children:r.jsx(gn,{size:14})})]},ie))}),l.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or select from existing tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.filter(ie=>!d.includes(ie.name)).slice(0,10).map(ie=>r.jsx("button",{type:"button",onClick:()=>I(ie.name),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50",children:ie.name},ie.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publishing Status"}),r.jsxs("select",{value:i.status,onChange:ie=>k("status",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"DRAFT",children:"Draft"}),r.jsx("option",{value:"PUBLISHED",children:"Published"}),r.jsx("option",{value:"SCHEDULED",children:"Scheduled"})]})]}),i.status==="SCHEDULED"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publish Date"}),r.jsx("input",{type:"datetime-local",value:i.scheduled_for?new Date(i.scheduled_for).toISOString().slice(0,16):"",onChange:ie=>k("scheduled_for",ie.target.value?new Date(ie.target.value).toISOString():""),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Title"}),r.jsx("input",{type:"text",value:i.seo_title||"",onChange:ie=>k("seo_title",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"SEO optimized title (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),r.jsx("textarea",{value:i.meta_description||"",onChange:ie=>k("meta_description",ie.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"SEO meta description (optional)"})]})]}),G=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Preview"}),i.cover_image&&r.jsx("img",{src:i.cover_image,alt:"Cover",className:"w-full h-64 object-cover rounded-lg mb-6"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),i.excerpt&&r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:i.excerpt}),d.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:d.map(ie=>r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:ie},ie))}),r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:i.content_html}})]})}),X=()=>{switch(s){case"content":return te();case"media":return J();case"meta":return M();case"preview":return G();default:return te()}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[g&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-6",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:g})]}),w&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:w}),W(),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[X(),r.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[r.jsxs("button",{type:"button",onClick:K,disabled:V(s)===0,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Pn,{size:16,className:"mr-2"}),"Previous"]}),r.jsx("div",{className:"flex space-x-3",children:s==="preview"?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:()=>$(!1),disabled:f,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:f?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin mr-2 h-4 w-4"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Go,{className:"mr-2 h-4 w-4"}),"Save Draft"]})}),r.jsx("button",{type:"button",onClick:()=>$(!0),disabled:f,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:f?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin mr-2 h-4 w-4"}),"Publishing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),"Publish Post"]})})]}):r.jsxs("button",{type:"button",onClick:U,disabled:!z(),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",r.jsx(Kf,{size:16,className:"ml-2"})]})})]})]})]})},fMe=()=>r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vt,{to:"/admin/blog",className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Pn,{size:20})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create New Blog Post"}),r.jsx("p",{className:"text-gray-600",children:"Create and publish a new blog article with our advanced editor"})]})]})}),r.jsx(VU,{})]})}),mMe=()=>{const{id:e}=Ri(),[t,n]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState(null);j.useEffect(()=>{e&&l(e)},[e]);const l=async c=>{try{a(!0);const d=await fetch(`/api/blog/posts/${c}`);if(!d.ok)throw new Error("Failed to fetch post");const u=await d.json(),h={id:u.id,title:u.title||"",slug:u.slug||"",excerpt:u.excerpt||"",content_html:u.contentHtml||u.content_html||u.content||"",cover_image:u.imageUrl||u.cover_image||"",tags:u.tags||[],status:u.published?"PUBLISHED":"DRAFT",seo_title:u.seoTitle||u.seo_title||"",meta_description:u.metaDescription||u.meta_description||"",author_id:u.authorId||u.author_id||"",published_at:u.publishedAt||u.published_at||"",scheduled_for:u.scheduled_for||"",created_at:u.createdAt||u.created_at||"",updated_at:u.updatedAt||u.updated_at||""};n(h)}catch(d){console.error("Error fetching post:",d),o("Failed to load blog post. Please try again.")}finally{a(!1)}};return s?r.jsx(Nr,{children:r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"animate-spin h-8 w-8 text-purple-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading post..."})]})}):!t&&!s?r.jsx(Nr,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Post Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),r.jsxs(Vt,{to:"/admin/blog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[r.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Back to Blog Posts"]})]})}):i?r.jsx(Nr,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Error Loading Post"}),r.jsx("p",{className:"text-gray-600 mb-6",children:i}),r.jsxs(Vt,{to:"/admin/blog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[r.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Back to Blog Posts"]})]})}):r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs(Vt,{to:"/admin/blog",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[r.jsx(Pn,{size:16,className:"mr-1"})," Back to posts"]}),r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Edit Blog Post"}),r.jsx("p",{className:"text-gray-600",children:"Update your blog post with the advanced editor"})]})}),"        ",t&&r.jsx(VU,{post:t,isEditing:!0})]})})},pMe=()=>{const[e,t]=j.useState("knowledge"),[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(""),[c,d]=j.useState("all"),[u,h]=j.useState(!1),[p,f]=j.useState(!1),[x,g]=j.useState(null);j.useState(null);const[v,b]=j.useState(!1),[_,w]=j.useState(null),[S,A]=j.useState({title:"",content:"",category:"",tags:""}),[L,P]=j.useState({name:"",description:"",model:"gpt-4o",instructions:"",knowledgeBaseIds:[]}),k=["General FAQ","Booking Process","Pricing & Packages","Photography Services","Technical Support","Policies & Terms","Equipment & Setup","Post-Processing","Gallery Access","Payment & Invoicing"];j.useEffect(()=>{C(),R()},[]);const C=async()=>{try{b(!0);const M=await fetch("/api/knowledge-base",{credentials:"include"});if(M.ok){const G=await M.json();s(G)}}catch{s([{id:"1",title:"How to book a photo session?",content:"To book a photo session, clients can visit our booking page, select their preferred package, choose available dates, and complete the booking form with their contact details.",category:"Booking Process",tags:["booking","session","calendar"],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"},{id:"2",title:"What are your photography packages?",content:"We offer several packages: Family Session (€299), Newborn Session (€399), Maternity Session (€349), and Business Headshots (€199). All packages include professional editing and digital gallery access.",category:"Pricing & Packages",tags:["pricing","packages","family","newborn"],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"}])}finally{b(!1)}},R=async()=>{try{const M=await fetch("/api/openai/assistants",{credentials:"include"});if(M.ok){const G=await M.json();i(G)}}catch{i([{id:"asst_support_chat_v1",name:"Support Chat Assistant",description:"Handles customer support inquiries using knowledge base",model:"gpt-4o",instructions:"You are a helpful photography studio assistant. Use the knowledge base to answer questions about booking, pricing, and services.",isActive:!0,knowledgeBaseIds:["1","2"],createdAt:new Date().toISOString()}])}},E=async()=>{if(!S.title||!S.content){w("Title and content are required");return}try{b(!0);const M=await fetch("/api/knowledge-base",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:S.title,content:S.content,category:S.category||"General FAQ",tags:S.tags.split(",").map(G=>G.trim()).filter(Boolean),isActive:!0})});if(M.ok){const G=await M.json();s([...n,G]),h(!1),z()}else w("Failed to create knowledge base entry")}catch{w("Failed to create knowledge base entry")}finally{b(!1)}},I=async()=>{if(!x||!S.title||!S.content){w("Title and content are required");return}try{b(!0);const M=await fetch(`/api/knowledge-base/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:S.title,content:S.content,category:S.category||x.category,tags:S.tags.split(",").map(G=>G.trim()).filter(Boolean),isActive:!0})});if(M.ok){const G=await M.json(),X=n.map(ie=>ie.id===x.id?G:ie);s(X),g(null),z()}else w("Failed to update knowledge base entry")}catch{w("Failed to update knowledge base entry")}finally{b(!1)}},B=async M=>{if(confirm("Are you sure you want to delete this knowledge base entry?"))try{(await fetch(`/api/knowledge-base/${M}`,{method:"DELETE",credentials:"include"})).ok?s(n.filter(X=>X.id!==M)):w("Failed to delete knowledge base entry")}catch{w("Failed to delete knowledge base entry")}},z=()=>{A({title:"",content:"",category:"",tags:""}),w(null)},V=()=>{P({name:"",description:"",model:"gpt-4o",instructions:"",knowledgeBaseIds:[]}),w(null)},U=async()=>{if(!L.name||!L.instructions){w("Name and instructions are required");return}try{b(!0);const M=await fetch("/api/openai/assistants",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:L.name,description:L.description,model:L.model,instructions:L.instructions,knowledgeBaseIds:L.knowledgeBaseIds,isActive:!0})});if(M.ok){const G=await M.json();i([...a,G]),f(!1),V()}else w("Failed to create assistant")}catch{w("Failed to create assistant")}finally{b(!1)}},K=async M=>{if(confirm("Are you sure you want to delete this assistant?"))try{(await fetch(`/api/openai/assistants/${M}`,{method:"DELETE",credentials:"include"})).ok?i(a.filter(X=>X.id!==M)):w("Failed to delete assistant")}catch{w("Failed to delete assistant")}},$=M=>{g(M),A({title:M.title,content:M.content,category:M.category,tags:M.tags.join(", ")}),h(!0)},W=n.filter(M=>{const G=M.title?.toLowerCase()?.includes(o?.toLowerCase()||"")||M.content?.toLowerCase()?.includes(o?.toLowerCase()||""),X=c==="all"||M.category===c;return G&&X}),te=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage support articles and FAQ content for your chat assistant"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx(Cr,{size:20}),"Add Article"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Li,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:o,onChange:M=>l(M.target.value)})]}),r.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:c,onChange:M=>d(M.target.value),children:[r.jsx("option",{value:"all",children:"All Categories"}),k.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hn,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Articles"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jr,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Articles"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.filter(M=>M.isActive).length})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(mc,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categories"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:new Set(n.map(M=>M.category)).size})]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(th,{className:"h-8 w-8 text-indigo-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"AI Assistants"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.length})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Knowledge Base Articles"})}),v?r.jsx("div",{className:"p-8 text-center",children:"Loading..."}):W.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No articles found. Create your first knowledge base article to get started."}):r.jsx("div",{className:"divide-y divide-gray-200",children:W.map(M=>r.jsx("div",{className:"p-6 hover:bg-gray-50",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900",children:M.title}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${M.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:M.isActive?"Active":"Inactive"})]}),r.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:M.content}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mc,{size:14}),M.category]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(bs,{size:14}),new Date(M.updatedAt).toLocaleDateString()]}),r.jsx("div",{className:"flex items-center gap-1",children:M.tags.map(G=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:G},G))})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("button",{onClick:()=>$(M),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:r.jsx(Aa,{size:16})}),r.jsx("button",{onClick:()=>B(M.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:r.jsx(Ts,{size:16})})]})]})},M.id))})]})]}),J=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Assistants"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage OpenAI assistants and their knowledge base connections"})]}),r.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx(Cr,{size:20}),"Create Assistant"]})]}),r.jsx("div",{className:"grid gap-6",children:a.map(M=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:r.jsx(th,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),r.jsx("p",{className:"text-gray-600",children:M.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${M.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:M.isActive?"Active":"Inactive"}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:r.jsx(aa,{size:16})}),r.jsx("button",{onClick:()=>K(M.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:r.jsx(Ts,{size:16})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-500",children:"Model:"}),r.jsx("p",{className:"text-gray-900",children:M.model})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-500",children:"Knowledge Articles:"}),r.jsxs("p",{className:"text-gray-900",children:[M.knowledgeBaseIds.length," connected"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-500",children:"Created:"}),r.jsx("p",{className:"text-gray-900",children:new Date(M.createdAt).toLocaleDateString()})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded text-sm",children:[r.jsx("span",{className:"font-medium text-gray-500",children:"Instructions:"}),r.jsx("p",{className:"text-gray-700 mt-1",children:M.instructions})]})]},M.id))})]});return r.jsx(Nr,{children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"knowledge",label:"Knowledge Base",icon:G4},{id:"assistants",label:"AI Assistants",icon:th},{id:"settings",label:"Chat Settings",icon:aa}].map(M=>{const G=M.icon;return r.jsxs("button",{onClick:()=>t(M.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===M.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(G,{size:16}),M.label]},M.id)})})}),e==="knowledge"&&te(),e==="assistants"&&J(),e==="settings"&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chat settings configuration coming soon..."}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:x?"Edit Article":"Create New Article"}),r.jsx("button",{onClick:()=>{h(!1),g(null),z()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:24})})]}),_&&r.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:_}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:S.title,onChange:M=>A({...S,title:M.target.value}),placeholder:"Enter article title..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:S.category,onChange:M=>A({...S,category:M.target.value}),children:[r.jsx("option",{value:"",children:"Select category..."}),k.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:S.tags,onChange:M=>A({...S,tags:M.target.value}),placeholder:"booking, pricing, faq"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),r.jsx("textarea",{rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:S.content,onChange:M=>A({...S,content:M.target.value}),placeholder:"Enter article content..."})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>{h(!1),g(null),z()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),r.jsxs("button",{onClick:x?I:E,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx(Go,{size:16}),x?"Update":"Create"," Article"]})]})]})})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create AI Assistant"}),r.jsx("button",{onClick:()=>{f(!1),V()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{size:24})})]}),_&&r.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:_}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assistant Name *"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.name,onChange:M=>P({...L,name:M.target.value}),placeholder:"e.g., Support Chat Assistant"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.description,onChange:M=>P({...L,description:M.target.value}),placeholder:"Brief description of the assistant's purpose"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Model"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.model,onChange:M=>P({...L,model:M.target.value}),children:[r.jsx("option",{value:"gpt-4o",children:"GPT-4o (Latest, Recommended)"}),r.jsx("option",{value:"gpt-4",children:"GPT-4"}),r.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Instructions *"}),r.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.instructions,onChange:M=>P({...L,instructions:M.target.value}),placeholder:"Define how the assistant should behave and respond to users..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Knowledge Base Articles"}),r.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-3 space-y-2",children:n.map(M=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:L.knowledgeBaseIds.includes(M.id),onChange:G=>{G.target.checked?P({...L,knowledgeBaseIds:[...L.knowledgeBaseIds,M.id]}):P({...L,knowledgeBaseIds:L.knowledgeBaseIds.filter(X=>X!==M.id)})}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:M.title})]},M.id))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select which knowledge base articles this assistant can access"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{onClick:U,disabled:v,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:v?"Creating...":r.jsxs(r.Fragment,{children:[r.jsx(Go,{size:16}),"Create Assistant"]})}),r.jsx("button",{onClick:()=>{f(!1),V()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})})})]})})},gMe=()=>{const[e,t]=j.useState([]),n=i=>{console.log("CRM Action performed:",i),t(o=>[i,...o.slice(0,4)])},s=i=>{switch(i){case"email":return r.jsx(pr,{className:"h-4 w-4"});case"booking":case"calendar":return r.jsx(dn,{className:"h-4 w-4"});case"client":return r.jsx(Bb,{className:"h-4 w-4"});case"invoice":return r.jsx(Hn,{className:"h-4 w-4"});case"data":return r.jsx(Va,{className:"h-4 w-4"});default:return r.jsx(Tl,{className:"h-4 w-4"})}},a=i=>{switch(i){case"email":return"bg-blue-100 text-blue-800";case"booking":case"calendar":return"bg-green-100 text-green-800";case"client":return"bg-purple-100 text-purple-800";case"invoice":return"bg-orange-100 text-orange-800";case"data":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx(Vt,{to:"/admin",children:r.jsxs($t,{variant:"outline",size:"sm",children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(th,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CRM Operations Assistant"}),r.jsx("p",{className:"text-gray-600",children:"AI-powered automation for your photography business"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(Rt,{children:r.jsx(Jt,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pr,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email Automations"}),r.jsx("p",{className:"text-2xl font-bold",children:"Active"})]})]})})}),r.jsx(Rt,{children:r.jsx(Jt,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dn,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Booking Management"}),r.jsx("p",{className:"text-2xl font-bold",children:"Ready"})]})]})})}),r.jsx(Rt,{children:r.jsx(Jt,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bb,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Client Management"}),r.jsx("p",{className:"text-2xl font-bold",children:"Online"})]})]})})}),r.jsx(Rt,{children:r.jsx(Jt,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Va,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Analytics"}),r.jsx("p",{className:"text-2xl font-bold",children:"Live"})]})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Rt,{className:"h-[700px]",children:[r.jsxs(Or,{children:[r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(th,{className:"h-5 w-5 text-purple-600"}),"AI Assistant Chat"]}),r.jsx(_a,{children:"Get help with CRM operations, automation, and business management"})]}),r.jsx(Jt,{className:"h-[600px] p-0",children:r.jsx(u1,{assistantId:"asst_CH4vIbZPs7gUD36Lxf7vlfIV",onCRMAction:n,height:"100%",title:"CRM Operations Assistant",className:"border-0 rounded-none"})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsx(zr,{className:"text-lg",children:"Recent Actions"}),r.jsx(_a,{children:"Actions performed by the AI assistant"})]}),r.jsx(Jt,{children:e.length===0?r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No actions performed yet"}):r.jsx("div",{className:"space-y-3",children:e.map((i,o)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsxs(ra,{className:a(i.type),children:[s(i.type),r.jsx("span",{className:"ml-1",children:i.type})]}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.action})})]},o))})})]}),r.jsxs(Rt,{children:[r.jsxs(Or,{children:[r.jsx(zr,{className:"text-lg",children:"Capabilities"}),r.jsx(_a,{children:"What the assistant can help you with"})]}),r.jsx(Jt,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(pr,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Email Management"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Send confirmations & replies"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(dn,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Schedule Management"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Book & manage appointments"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Bb,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Client Records"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Create & update client data"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Hn,{className:"h-5 w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Invoice Generation"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Create & send invoices"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Va,{className:"h-5 w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Analytics & Reports"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Generate business insights"})]})]})]})})]}),r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsx(zr,{className:"text-lg",children:"Assistant Info"})}),r.jsx(Jt,{children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx(ra,{className:"bg-green-100 text-green-800",children:"Active"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Model:"}),r.jsx("span",{children:"GPT-4"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Assistant ID:"}),r.jsx("span",{className:"font-mono text-xs",children:"asst_CH4v...f7vlfIV"})]})]})})]})]})]})]})},xMe=({value:e,className:t})=>r.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2.5 ${t}`,children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${e}%`}})});function yMe(){const[e,t]=j.useState(""),[n,s]=j.useState(!1),[a,i]=j.useState(null),[o,l]=j.useState(0),c=async()=>{if(e){s(!0),l(0);try{const u=setInterval(()=>{l(f=>Math.min(f+10,90))},500),h=await fetch("/api/website-wizard/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});clearInterval(u),l(100);const p=await h.json();p.error?i({status:"error",error:p.error,message:p.message||"Analysis failed"}):p.status==="success"?i({status:"success",url:p.url,timestamp:p.timestamp,lighthouse:p.lighthouse,content:p.content,profile:p.profile,message:"Website analyzed successfully"}):i({status:"error",error:"Unknown response format",message:"Please try again"})}catch(u){i({status:"error",error:"Network error",message:u instanceof Error?u.message:"Unknown error"})}finally{s(!1)}}},d=u=>!u||u.length===0?null:r.jsx("div",{className:"flex flex-wrap gap-2",children:u.slice(0,8).map((h,p)=>r.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300 flex items-center justify-center text-xs font-mono",style:{backgroundColor:h},title:h,children:h.length<=4&&r.jsx("span",{className:"text-white mix-blend-difference",children:h})},p))});return r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Website Wizard"}),r.jsx("p",{className:"text-gray-600",children:"Analyze any website to extract content, images, and SEO data for optimized photography website creation"})]}),r.jsxs(K2,{defaultValue:"analyze",className:"w-full",children:[r.jsxs(Y2,{className:"grid w-full grid-cols-4",children:[r.jsxs(Ga,{value:"analyze",className:"flex items-center gap-2",children:[r.jsx(Mi,{className:"w-4 h-4"}),"Website URL"]}),r.jsxs(Ga,{value:"analysis",className:"flex items-center gap-2",children:[r.jsx(Li,{className:"w-4 h-4"}),"Data Analysis"]}),r.jsxs(Ga,{value:"template",className:"flex items-center gap-2",children:[r.jsx(Oi,{className:"w-4 h-4"}),"Template Selection"]}),r.jsxs(Ga,{value:"optimization",className:"flex items-center gap-2",children:[r.jsx(Va,{className:"w-4 h-4"}),"Content Optimization"]})]}),r.jsxs(Ka,{value:"analyze",className:"space-y-6",children:[r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(Mi,{className:"w-5 h-5"}),"Enter Your Current Website URL"]})}),r.jsxs(Jt,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Website URL"}),r.jsx(gs,{value:e,onChange:u=>t(u.target.value),placeholder:"https://your-photography-website.com",type:"url"})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"What we'll analyze:"}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("li",{children:"• Content and copy for SEO optimization"}),r.jsx("li",{children:"• Portfolio images and galleries"}),r.jsx("li",{children:"• Contact information and services"}),r.jsx("li",{children:"• Current SEO performance"}),r.jsx("li",{children:"• Brand colors and styling"})]})]}),n&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(xMe,{value:o,className:"w-full"}),r.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Analyzing website... ",o,"%"]})]}),r.jsx($t,{onClick:c,disabled:!e||n,className:"w-full",size:"lg",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyze Website"]}):r.jsxs(r.Fragment,{children:[r.jsx(Li,{className:"w-4 h-4 mr-2"}),"Analyze Website"]})})]})]}),a&&r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[a.status==="success"?r.jsx(jr,{className:"w-5 h-5 text-green-600"}):r.jsx(Gf,{className:"w-5 h-5 text-red-600"}),"Analysis Result"]})}),r.jsx(Jt,{children:a.status==="success"?r.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded-lg",children:[r.jsx(jr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-green-800 dark:text-green-200",children:a.message})]}):r.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-950/50 border border-red-200 dark:border-red-800 rounded-lg",children:[r.jsx(Gf,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{className:"text-red-800 dark:text-red-200",children:[a.error,": ",a.message]})]})})]})]}),r.jsx(Ka,{value:"analysis",className:"space-y-6",children:a?.profile?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"w-5 h-5"}),"Content Analysis"]})}),r.jsxs(Jt,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Page Title"}),r.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:a.profile.title||"No title found"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:a.profile.description||"No description found"})]}),a.profile.keywords&&a.profile.keywords.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Keywords"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.profile.keywords.map((u,h)=>r.jsx(ra,{variant:"secondary",children:u},h))})]})]})]}),r.jsxs(Rt,{children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(Oi,{className:"w-5 h-5"}),"Brand Colors"]})}),r.jsxs(Jt,{children:[d(a.profile.colors),(!a.profile.colors||a.profile.colors.length===0)&&r.jsx("p",{className:"text-sm text-gray-500",children:"No brand colors detected"})]})]}),a.profile.images&&a.profile.images.length>0&&r.jsxs(Rt,{className:"md:col-span-2",children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"w-5 h-5"}),"Images Found (",a.profile.images.length,")"]})}),r.jsx(Jt,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:a.profile.images.slice(0,8).map((u,h)=>r.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:r.jsx(ka,{className:"w-8 h-8 text-gray-400"})},h))})})]})]}):r.jsx(Rt,{children:r.jsxs(Jt,{className:"text-center py-12",children:[r.jsx(Li,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Analyze a website first to see the data analysis"})]})})}),r.jsx(Ka,{value:"template",className:"space-y-6",children:r.jsx(Rt,{children:r.jsxs(Jt,{className:"text-center py-12",children:[r.jsx(Oi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Template selection will be available after analysis"})]})})}),r.jsx(Ka,{value:"optimization",className:"space-y-6",children:r.jsx(Rt,{children:r.jsxs(Jt,{className:"text-center py-12",children:[r.jsx(Va,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Content optimization will be available after analysis"})]})})})]})]})}const vMe=()=>{ia();const[e,t]=j.useState([]),[n,s]=j.useState(!0),[a,i]=j.useState(""),[o,l]=j.useState("ALL"),[c,d]=j.useState(!1),[u,h]=j.useState(!1),[p,f]=j.useState(null),[x,g]=j.useState(null),[v,b]=j.useState(""),[_,w]=j.useState(null),[S,A]=j.useState(()=>localStorage.getItem("ADMIN_TOKEN")||""),[L,P]=j.useState(!1),[k,C]=j.useState(null),[R,E]=j.useState(!1),[I,B]=j.useState(""),[z,V]=j.useState({name:"",description:"",category:"",price:"",currency:"EUR",taxRate:"19.00",unit:"piece",notes:"",isActive:!0}),U=["ALL","DIGITAL","CANVAS","LUXURY_FRAME","PRINT","EXTRAS"];j.useEffect(()=>{te()},[]);const K=Z=>{A(Z),Z?localStorage.setItem("ADMIN_TOKEN",Z):localStorage.removeItem("ADMIN_TOKEN")},$=async()=>{try{E(!0),B("");const Z=await fetch("/__admin/coupons/status",{headers:{"x-admin-token":S||""}});if(Z.status===401){B("Unauthorized: please enter a valid admin token."),C(null);return}const Q=await Z.json();if(!Q?.success){B("Failed to load coupon status"),C(null);return}C(Q)}catch(Z){B(Z?.message||"Error fetching coupon status"),C(null)}finally{E(!1)}},W=async()=>{try{if(E(!0),B(""),(await fetch("/__admin/refresh-coupons",{method:"POST",headers:{"x-admin-token":S||""}})).status===401){B("Unauthorized: please enter a valid admin token.");return}await $()}catch(Z){B(Z?.message||"Error refreshing coupons")}finally{E(!1)}},te=async()=>{try{s(!0);const Z=await mp.getPriceListItems();t(Z)}catch(Z){console.error("Failed to fetch price list:",Z)}finally{s(!1)}},J=e.filter(Z=>{const Q=Z.name?.toLowerCase().includes(a.toLowerCase())||Z.description?.toLowerCase().includes(a.toLowerCase())||Z.category?.toLowerCase().includes(a.toLowerCase()),pe=o==="ALL"||Z.category===o;return Q&&pe}),M=async()=>{if(x)try{b("Processing CSV file...");const Q=(await x.text()).split("\\n").filter(Ne=>Ne.trim()),pe=Q[0].split(",").map(Ne=>Ne.trim()),ge=[];for(let Ne=1;Ne<Q.length;Ne++){const Y=Q[Ne].split(",").map(We=>We.trim());if(Y.length<2)continue;const ke={name:Y[0]||"",description:Y[1]||"",category:Y[2]||"GENERAL",price:parseFloat(Y[3]?.replace(/[^0-9.,]/g,"").replace(",","."))||0,currency:Y[4]||"EUR",taxRate:parseFloat(Y[5])||19,unit:Y[6]||"piece",notes:Y[7]||"",isActive:!0};ke.name&&ke.price>0&&ge.push(ke)}if(ge.length===0){b("No valid items found in CSV");return}b(`Importing ${ge.length} items...`);const Ae=await mp.importPriceList(ge);w(Ae),b(`Successfully imported ${Ae.length} items!`),await te(),setTimeout(()=>{d(!1),g(null),b(""),w(null)},3e3)}catch(Z){console.error("Import failed:",Z),b(`Import failed: ${Z.message}`)}},G=async()=>{try{const Z={name:z.name,description:z.description,category:z.category,price:parseFloat(z.price||"0"),currency:z.currency,tax_rate:parseFloat(z.taxRate||"0"),unit:z.unit,notes:z.notes,is_active:!!z.isActive};await mp.createPriceListItem(Z),h(!1),re(),te()}catch(Z){console.error("Failed to add item:",Z)}},X=async()=>{if(p)try{const Z={name:z.name,description:z.description,category:z.category,price:parseFloat(z.price||"0"),currency:z.currency,tax_rate:parseFloat(z.taxRate||"0"),unit:z.unit,notes:z.notes,is_active:!!z.isActive};await mp.updatePriceListItem(p.id,Z),f(null),re(),te()}catch(Z){console.error("Failed to update item:",Z)}},ie=async Z=>{if(confirm("Are you sure you want to delete this item?"))try{await mp.deletePriceListItem(Z),te()}catch(Q){console.error("Failed to delete item:",Q)}},re=()=>{V({name:"",description:"",category:"",price:"",currency:"EUR",taxRate:"19.00",unit:"piece",notes:"",isActive:!0})},fe=Z=>{f(Z),V({name:Z.name||"",description:Z.description||"",category:Z.category||"",price:Z.price?.toString?.()||String(Z.price??""),currency:Z.currency||"EUR",taxRate:(Z.taxRate??Z.tax_rate??19).toString(),unit:Z.unit||"piece",notes:Z.notes||"",isActive:Z.isActive!==!1&&Z.is_active!==!1})},we=()=>{const Z=[["Name","Description","Category","Price","Currency","Tax Rate","Unit","Notes"].join(","),...J.map(Ae=>[Ae.name,Ae.description,Ae.category,String(Ae.price),Ae.currency,Ae.taxRate??Ae.tax_rate,Ae.unit,Ae.notes].map(Ne=>`"${Ne||""}"`).join(","))].join("\\n"),Q=new Blob([Z],{type:"text/csv"}),pe=URL.createObjectURL(Q),ge=document.createElement("a");ge.href=pe,ge.download=`price-list-${new Date().toISOString().split("T")[0]}.csv`,ge.click(),URL.revokeObjectURL(pe)};return r.jsx(Nr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(go,{className:"h-8 w-8 text-emerald-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Price List Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage your photography services and product pricing"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:we,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(mc,{className:"h-5 w-5 text-purple-600 mr-2"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Coupons Status"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-start",children:[r.jsxs("div",{className:"col-span-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Token"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:L?"text":"password",value:S,onChange:Z=>K(Z.target.value),placeholder:"Enter admin token",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("button",{onClick:()=>P(Z=>!Z),className:"px-3 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:L?"Hide":"Show"})]}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{onClick:$,disabled:!S||R,className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200 disabled:opacity-50",children:"Check Status"}),r.jsxs("button",{onClick:W,disabled:!S||R,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:[r.jsx(bY,{className:"h-4 w-4 mr-2"})," Refresh Cache"]})]}),I&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:I})]}),r.jsx("div",{className:"col-span-2",children:r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[!k&&!R&&r.jsx("p",{className:"text-sm text-gray-500",children:"No status loaded yet."}),R&&r.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}),k&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(SY,{className:"h-3.5 w-3.5 mr-1"})," Active: ",k.count]}),r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Source: ",k.source]}),r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[r.jsx(bs,{className:"h-3.5 w-3.5 mr-1"})," TTL: ",Math.ceil((k?.cache?.millisRemaining||0)/1e3),"s"]})]}),r.jsx("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-md",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-3 py-2 text-gray-600",children:"Code"}),r.jsx("th",{className:"text-left px-3 py-2 text-gray-600",children:"Type"}),r.jsx("th",{className:"text-left px-3 py-2 text-gray-600",children:"Value"}),r.jsx("th",{className:"text-left px-3 py-2 text-gray-600",children:"Allowed SKUs"})]})}),r.jsx("tbody",{children:(k.coupons||[]).map(Z=>r.jsxs("tr",{className:"border-t border-gray-100",children:[r.jsx("td",{className:"px-3 py-1.5 font-medium text-gray-900",children:Z.code}),r.jsx("td",{className:"px-3 py-1.5 text-gray-700",children:Z.type||"-"}),r.jsx("td",{className:"px-3 py-1.5 text-gray-700",children:Z.percent??Z.amount??"-"}),r.jsx("td",{className:"px-3 py-1.5 text-gray-700 truncate max-w-[260px]",children:(Z.allowedSkus||["*"]).join(", ")})]},Z.code))})]})})]})]})})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"Search price list items...",value:a,onChange:Z=>i(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),r.jsx("div",{children:r.jsx("select",{value:o,onChange:Z=>l(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:U.map(Z=>r.jsx("option",{value:Z,children:Z==="ALL"?"All Categories":Z},Z))})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Price List Items (",J.length,")"]})}),n?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading price list..."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(Z=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.name}),r.jsx("div",{className:"text-sm text-gray-500",children:Z.description})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Z.category})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",Z.price?.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Z.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z.isActive??Z.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.isActive??Z.is_active?"Active":"Inactive"})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:()=>fe(Z),className:"text-purple-600 hover:text-purple-900 mr-3",children:r.jsx(Aa,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>ie(Z.id),className:"text-red-600 hover:text-red-900",children:r.jsx(Ts,{className:"h-4 w-4"})})]})]},Z.id))})]})})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Import CSV File"}),r.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV File"}),r.jsx("input",{type:"file",accept:".csv",onChange:Z=>g(Z.target.files?.[0]||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV format: Name, Description, Category, Price, Currency, Tax Rate, Unit, Notes"})]}),v&&r.jsxs("div",{className:`p-3 rounded-md flex items-center ${v.includes("Success")||v.includes("imported")?"bg-green-50 text-green-700":v.includes("failed")||v.includes("error")?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}`,children:[v.includes("Success")||v.includes("imported")?r.jsx(jr,{className:"h-4 w-4 mr-2"}):v.includes("failed")||v.includes("error")?r.jsx(Dr,{className:"h-4 w-4 mr-2"}):r.jsx(Hn,{className:"h-4 w-4 mr-2"}),v]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:M,disabled:!x||v.includes("Processing"),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Import"}),r.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})]})}),(u||p)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:p?"Edit Item":"Add New Item"}),r.jsx("button",{onClick:()=>{h(!1),f(null),re()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gn,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:z.name,onChange:Z=>V({...z,name:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:z.description,onChange:Z=>V({...z,description:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),r.jsxs("select",{value:z.category,onChange:Z=>V({...z,category:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select..."}),U.filter(Z=>Z!=="ALL").map(Z=>r.jsx("option",{value:Z,children:Z},Z))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),r.jsx("input",{type:"number",step:"0.01",value:z.price,onChange:Z=>V({...z,price:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsxs("select",{value:z.currency,onChange:Z=>V({...z,currency:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"EUR",children:"EUR"}),r.jsx("option",{value:"USD",children:"USD"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate %"}),r.jsx("input",{type:"number",step:"0.01",value:z.taxRate,onChange:Z=>V({...z,taxRate:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),r.jsx("input",{type:"text",value:z.unit,onChange:Z=>V({...z,unit:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:z.notes,onChange:Z=>V({...z,notes:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:z.isActive,onChange:Z=>V({...z,isActive:Z.target.checked}),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:p?X:G,disabled:!z.name||!z.category||!z.price,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?"Update":"Add"," Item"]}),r.jsx("button",{onClick:()=>{h(!1),f(null),re()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})]})})]})})},bMe=({children:e})=>{const{user:t,isAdmin:n,loading:s}=Yw();return s?r.jsx("div",{children:"Loading..."}):!t||!n?r.jsx(U4,{to:"/admin/login"}):r.jsx(r.Fragment,{children:e})},mr=({children:e,requireAdmin:t=!1})=>{const{user:n,isAdmin:s,loading:a}=TK();return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-pink-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?t&&!s?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:r.jsx("div",{className:"max-w-md w-full mx-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"})})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this area."}),r.jsx("button",{onClick:()=>window.location.href="/admin/dashboard",className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})}):r.jsx(r.Fragment,{children:e}):(window.location.href="/admin/login",null)},wMe=()=>{const[e,t]=j.useState(null);return j.useEffect(()=>{const n=new URLSearchParams(window.location.search),s=n.get("preview"),a=n.get("session_id"),i="";s==="1"?(n.get("sku"),n.get("name"),n.get("from"),n.get("message"),n.get("amount")):a&&(async()=>{try{const c=await fetch(`${window.location.origin}/api/vouchers/signed-link?session_id=${encodeURIComponent(a)}`);if(c.ok){const d=await c.json();if(d?.success&&d.url){t(d.url);const u=document.createElement("a");u.href=d.url,u.download="",document.body.appendChild(u),u.click(),u.remove();return}}}catch{}const o=`${i}/voucher/pdf?session_id=${encodeURIComponent(a)}`;t(o);const l=document.createElement("a");l.href=o,l.download="",document.body.appendChild(l),l.click(),l.remove()})()},[]),r.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:r.jsxs("div",{className:"max-w-md w-full bg-white p-6 rounded-lg shadow",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Vielen Dank für Ihren Kauf!"}),r.jsx("p",{className:"mb-4",children:"Ihr personalisierter Gutschein steht zum Download bereit."}),r.jsx("a",{id:"download-again",href:e||"#",onClick:n=>{e||n.preventDefault()},className:`inline-flex items-center justify-center px-4 py-2 rounded ${e?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Gutschein herunterladen"})]})})},l3=class l3{static async validateVoucherCode(t,n){await new Promise(i=>setTimeout(i,500));const s=this.voucherCodes.find(i=>i.code.toLowerCase()===t.toLowerCase()&&i.isActive);if(!s)return{success:!1,message:"Ungültiger Gutscheincode"};if(s.expiresAt&&s.expiresAt<new Date)return{success:!1,message:"Dieser Gutscheincode ist abgelaufen"};if(s.usageLimit&&s.usedCount>=s.usageLimit)return{success:!1,message:"Dieser Gutscheincode wurde bereits zu oft verwendet"};if(s.minAmount&&n<s.minAmount)return{success:!1,message:`Mindestbestellwert von €${(s.minAmount/100).toFixed(2)} erforderlich`};let a=0;return s.type==="percentage"?(a=Math.round(n*(s.value/100)),s.maxDiscount&&a>s.maxDiscount&&(a=s.maxDiscount)):a=Math.min(s.value,n),{success:!0,voucher:s,discount:a,message:`Gutscheincode erfolgreich angewendet! ${s.type==="percentage"?`${s.value}% Rabatt`:`€${(a/100).toFixed(2)} Rabatt`}`}}static async createStripePromotionCode(t){return`promo_${t}_${Date.now()}`}static calculateDiscountedTotal(t,n){return n?Math.max(0,t-n.discount):t}static formatDiscount(t){return t.type==="percentage"?`${t.discount}% Rabatt`:`€${(t.discount/100).toFixed(2)} Rabatt`}};l3.voucherCodes=[{id:"1",code:"WELCOME20",type:"percentage",value:20,isActive:!0,usageLimit:100,usedCount:0,minAmount:5e3,maxDiscount:5e3,description:"20% Rabatt für Neukunden",createdAt:new Date},{id:"2",code:"PHOTO50",type:"fixed",value:5e3,isActive:!0,usageLimit:50,usedCount:0,minAmount:1e4,description:"€50 Rabatt ab €100 Bestellwert",createdAt:new Date},{id:"3",code:"EARLYBIRD",type:"percentage",value:15,isActive:!0,usageLimit:200,usedCount:0,expiresAt:new Date("2025-12-31"),description:"15% Frühbucherrabatt",createdAt:new Date}];let z4=l3;const jMe=()=>{const{items:e,removeItem:t,updateQuantity:n,total:s,clearCart:a}=Ug(),i=un(),[o,l]=j.useState(),[c,d]=j.useState(!1),[u,h]=j.useState(null),p=(w,S)=>{S>0&&S<=10&&n(w,S)},f=async w=>{const S=await fetch("/api/vouchers/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:w,orderAmount:Math.round(s*100)/100,items:e.map(L=>({productId:L.productId,productSlug:L.productSlug,sku:L.sku||L.productSlug,name:L.title||L.name,price:L.price,quantity:L.quantity}))})}),A=await S.json();if(S.ok&&A.valid&&A.coupon){const L=Math.round(parseFloat(A.coupon.discountAmount)*100);return l({code:A.coupon.code,discount:L,type:A.coupon.discountType==="percentage"?"percentage":"fixed"}),{success:!0,discount:L,message:"Gutscheincode erfolgreich angewendet!"}}return{success:!1,message:A.error||"Ungültiger Gutscheincode"}},x=()=>{l(void 0)},g=z4.calculateDiscountedTotal(Math.round(s*100),o)/100,v=w=>{const S=w?e.find(P=>P.id===w):null;if((S?.type==="voucher"||S?.name?.toLowerCase().includes("gutschein")||S?.name?.toLowerCase().includes("voucher"))&&S){h(S),d(!0);return}if(!w){const P=e.filter(k=>k.type==="voucher"||k.name?.toLowerCase().includes("gutschein")||k.title?.toLowerCase().includes("voucher"));if(P.length>0){h(P[0]),d(!0);return}}const L={items:e,total:g,appliedVoucher:o};sessionStorage.setItem("checkoutData",JSON.stringify(L)),i("/checkout")},b=w=>{console.log("Voucher purchase completed:",w),u&&t(u.id),d(!1),h(null),alert("Vielen Dank! Ihr personalisierter Gutschein wurde erfolgreich bestellt.")},_=()=>{d(!1),h(null)};if(c&&u){const w=u.productSlug,S=o?{code:o.code,discountCents:o.discount}:void 0;return r.jsx(mS,{voucherType:u.name,baseAmount:u.price,productSlug:w,initialVoucher:S,onComplete:b,onBack:_})}return e.length===0?r.jsx(Wn,{children:r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[r.jsx(j0,{size:64,className:"text-gray-400 mx-auto mb-6"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Ihr Warenkorb ist leer"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Entdecken Sie unsere Fotografie-Pakete und fügen Sie sie Ihrem Warenkorb hinzu."}),r.jsx("button",{onClick:()=>i("/vouchers"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Pakete ansehen"})]})})}):r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("button",{onClick:()=>i(-1),className:"flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[r.jsx(Pn,{size:20,className:"mr-2"}),"Zurück"]}),r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Warenkorb"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.map(w=>{const S=w.type==="voucher"||w.name?.toLowerCase().includes("gutschein")||w.title?.toLowerCase().includes("voucher");return r.jsxs("div",{className:"flex items-center py-4 border-b border-gray-200 last:border-0",children:[r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:w.title}),S&&r.jsx(w0,{size:16,className:"text-purple-600"})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:w.packageType}),S&&r.jsx("p",{className:"text-purple-600 text-sm font-medium",children:"Personalisierung verfügbar"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[!S&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>p(w.id,w.quantity-1),className:"text-gray-500 hover:text-gray-700",children:"-"}),r.jsx("input",{type:"number",min:"1",max:"10",value:w.quantity,onChange:A=>p(w.id,parseInt(A.target.value)),className:"w-16 text-center border border-gray-300 rounded-lg"}),r.jsx("button",{onClick:()=>p(w.id,w.quantity+1),className:"text-gray-500 hover:text-gray-700",children:"+"})]}),S&&r.jsx("button",{onClick:()=>v(w.id),className:"bg-purple-600 hover:bg-purple-700 text-white text-sm px-4 py-2 rounded-lg transition-colors",children:"Personalisieren"}),r.jsxs("div",{className:"text-right min-w-[100px]",children:[r.jsxs("div",{className:"font-semibold text-gray-800",children:["€",(w.price*w.quantity).toFixed(2)]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["€",w.price.toFixed(2)," pro Stück"]})]}),r.jsx("button",{onClick:()=>t(w.id),className:"text-red-500 hover:text-red-700",children:r.jsx(Ts,{size:20})})]})]},w.id)})})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Zusammenfassung"}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Zwischensumme"}),r.jsxs("span",{children:["€",s.toFixed(2)]})]}),o&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:["Rabatt (",o.code,")"]}),r.jsxs("span",{children:["-€",(o.discount/100).toFixed(2)]})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:r.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800",children:[r.jsx("span",{children:"Gesamt"}),r.jsxs("span",{children:["€",g.toFixed(2)]})]})}),r.jsx("div",{className:"mb-6",children:r.jsx(gD,{onApplyVoucher:f,appliedVoucher:o,onRemoveVoucher:x})}),r.jsxs("div",{className:"space-y-4",children:[(()=>{const w=e.some(S=>S.type==="voucher"||S.name?.toLowerCase().includes("gutschein")||S.title?.toLowerCase().includes("voucher"));return r.jsx("button",{onClick:()=>v(),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:w?"Gutschein personalisieren":"Zur Kasse"})})(),r.jsx("button",{onClick:a,className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium py-3 px-6 rounded-lg transition-colors",children:"Warenkorb leeren"})]})]})})]})]})})},ux=({children:e,title:t,subtitle:n,image:s})=>r.jsxs(Wn,{children:[r.jsx("section",{className:"relative h-[60vh] bg-cover bg-center",style:{backgroundImage:`url(${s})`},children:r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t}),r.jsx("p",{className:"text-xl md:text-2xl",children:n})]})})}),r.jsx("section",{className:"py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:e})})]}),NMe=()=>{const{addItem:e}=Ug(),t=un();j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const n=[{title:"Family Basic",subtitle:"Perfect for Small Families",price:95,originalPrice:195,features:["60 Minuten Shooting","1 bearbeitetes Foto als A3 Leinwand (40x30cm) + gleiches Portrait digital","2 Outfits"]},{title:"Family Premium",subtitle:"Ideal für größere Familien",price:195,originalPrice:295,features:["5 bearbeitete Fotos digital (Porträts nach Wahl)","A3 Leinwand (40x30cm)"],isFeatured:!0},{title:"Family Deluxe",subtitle:"Das komplette Familienerlebnis",price:295,originalPrice:395,features:["A2 Leinwand (60x40cm)","10 bearbeitete Fotos digital (Porträts nach Wahl)"]}],s=[{url:"https://i.postimg.cc/qRZCsv3s/00007581.jpg",title:"Familienshooting im Studio",description:"Professionelle Aufnahmen in unserem modernen Studio"},{url:"https://i.postimg.cc/hvdhVbgn/00480020.jpg",title:"Festive Familienshooting",description:"Natürliche Momente in schöner Umgebung"},{url:"https://i.imgur.com/puVF0cD.jpg",title:"Generationen Fotoshooting",description:"Besondere Momente mit der ganzen Familie"}],a=[{url:"https://i.postimg.cc/7LZM86Sz/expo-image.jpg",title:"Hobbie shooting",description:"Blühende Landschaften als perfekte Kulisse"},{url:"https://i.postimg.cc/BZK5GRPm/JAGSCHTITZ-A2-L.jpg",title:"Familenshooting",description:"Goldene Stunden im warmen Sonnenlicht"},{url:"https://i.postimg.cc/m2WYZVQB/m9-n1214.jpg",title:"Babyshooting",description:"Warme Farben und gemütliche Atmosphäre"}],i=[{url:"https://i.postimg.cc/6QbV9Xhm/F-HRER-70x50-L.jpg",title:"Geburtstag",description:"Unvergessliche Geburtstagsmomente"},{url:"https://i.postimg.cc/tRwx77yy/00009094.jpg",title:"Familientreffen",description:"Große Familientreffen festhalten"},{url:"https://i.postimg.cc/Y2GRChZf/00508819.jpg",title:"Jubiläen",description:"Besondere Meilensteine feiern"}],o=[{url:"https://i.postimg.cc/3RyXNcSJ/Mechtler-A3-Lein.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Fotoshooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Familie wirklich kennenlernen. Zusätzlich erhalten Sie hilfreiche Hinweise zur Vorbereitung – inklusive Tipps zur Kleidung und Inspiration, persönliche Gegenstände wie Sportausrüstung oder Musikinstrumente mitzubringen. So entstehen Aufnahmen, die Ihre Persönlichkeit zum Ausdruck bringen."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/KzWLNZWy/zjezrez.jpg",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({name:`Family ${c.title}`,productSlug:c.title.toLowerCase().includes("basic")?"family-basic":c.title.toLowerCase().includes("premium")?"family-premium":"family-deluxe",title:`Familien Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),t("/cart")};return r.jsx(ux,{title:"Familien Fotoshooting",subtitle:"Unvergessliche Momente für die ganze Familie",image:"https://i.imgur.com/o9HCqp0.jpg",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:r.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[r.jsxs("div",{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Ihr Moment, Ihr Zauber! ✨"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Bei New Age Fotografie entstehen keine gestellten Posen – sondern Bilder, die eure Geschichte erzählen. Ob im hellen Studio in Wien oder draußen an eurem Lieblingsort – wir halten fest, was euch als Familie ausmacht: Lachen, Nähe, kleine Gesten."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Entspannte Atmosphäre für natürliche Aufnahmen"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Moderne Studios & ausgewählte Outdoor-Locations"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Flexible Terminvereinbarung, auch am Wochenende"]})]})]}),r.jsxs("div",{className:"relative h-96 md:h-full",children:[r.jsx("img",{src:"https://i.postimg.cc/GpjM3s5h/4-S8-A8377-2.jpg",alt:"Familie beim Fotoshooting",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:n.map((c,d)=>r.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&r.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:r.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),r.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),r.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((u,h)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx(sa,{size:20,className:"text-green-500 mr-2"}),r.jsx("span",{children:u})]},h))}),r.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},d))}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),r.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(bs,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),r.jsx("p",{className:"text-gray-600",children:"Termine auch am Wochenende verfügbar"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ln,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Für die ganze Familie"}),r.jsx("p",{className:"text-gray-600",children:"Alle Familienmitglieder willkommen"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ta,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),r.jsx("p",{className:"text-gray-600",children:"Beste Qualität für bleibende Erinnerungen"})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),r.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Anlässe"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,d)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white p-4",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),r.jsx("p",{className:"text-sm",children:c.description})]})})]},d))})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:r.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[r.jsxs("div",{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Warum ein Familienportrait mit New Age Fotografie? 📸"}),r.jsx("p",{className:"text-gray-700 mb-6"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Individuell & persönlich: Jedes Shooting wird auf Ihre Familie zugeschnitten – mit Platz für bis zu 16 Personen und Haustiere."]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Zeitlose Portraits: Hochwertige Bilder, die Ihr Zuhause schmücken und sich ideal als Geschenke oder für Social Media eignen."]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Unvergessliches Erlebnis: Ein entspanntes Fotoshooting, das Spaß macht – mit Erinnerungen, die ein Leben lang halten."]})]})]}),r.jsxs("div",{className:"relative h-96 md:h-full",children:[r.jsx("img",{src:"https://i.postimg.cc/L82CcTx0/E70I9183.jpg",alt:"Familie im Stadtpark",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},d))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 2 Jahre gültig"}),r.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),r.jsx("li",{children:"• Termine flexibel vereinbar"}),r.jsx("li",{children:"• Shooting-Locations in Wien und Umgebung"}),r.jsx("li",{children:"• Beratung zur Outfit-Wahl inklusive"})]})]})]})})},SMe=()=>{const{addItem:e}=Ug(),t=un();j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const n=[{title:"Basic",subtitle:"Erste Erinnerungen",price:95,originalPrice:195,features:["60 Minuten Shooting","1 bearbeitetes Foto als A3 Leinwand (40x30cm) + gleiches Portrait digital","2 Outfits"]},{title:"Premium",subtitle:"Umfangreiche Erinnerungen",price:195,originalPrice:295,features:["5 bearbeitete Fotos digital (Porträts nach Wahl)","A3 Leinwand (40x30cm)"],isFeatured:!0},{title:"Deluxe",subtitle:"Das komplette Erlebnis",price:295,originalPrice:395,features:["A2 Leinwand (60x40cm)","10 bearbeitete Fotos digital (Porträts nach Wahl)"]}],s=[{url:"https://i.postimg.cc/7LWyk5JJ/DX4A3342.jpg",title:"Neugeborenen Studio",description:"Professionelle Aufnahmen in warmer Atmosphäre"},{url:"https://i.postimg.cc/0NQqFYjq/00371608.jpg",title:"Familien Shooting",description:"Die ganze Familie willkommen"},{url:"https://i.postimg.cc/BZ1JJBgS/4-S8-A7739-1024x683.jpg",title:"Geschwister Shooting",description:"Besondere Momente mit Geschwistern"}],a=[{url:"https://i.postimg.cc/mDPBzYWS/0a9a256b76eacc28798f22b9d58219e5.jpg",title:"Baby shooting"},{url:"https://i.postimg.cc/SsHqWnyb/E70I3814.jpg",title:"New born shooting"},{url:"https://i.postimg.cc/Hss3QBhH/00023276.jpg",title:"Kinder Fotosshooting"}],i=[{url:"https://i.postimg.cc/TY70Qgzb/00124146.jpg",title:"Geschwistershooting",description:"Besondere Geschwistermomente"},{url:"https://i.postimg.cc/T1Q9zDhZ/3W5K2689.jpg",title:"Familienshooting",description:"Die ganze Familie vereint"},{url:"https://i.postimg.cc/NMqpmtWP/4S8A2156.jpg",title:"Generationenshooting",description:"Drei Generationen zusammen"}],o=[{url:"https://i.postimg.cc/T2cCLZQC/OPLATEK-70x50-L.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Fotoshooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Familie wirklich kennenlernen. Zusätzlich erhalten Sie hilfreiche Hinweise zur Vorbereitung – inklusive Tipps zur Kleidung und Inspiration, persönliche Gegenstände wie Sportausrüstung oder Musikinstrumente mitzubringen. So entstehen Aufnahmen, die Ihre Persönlichkeit zum Ausdruck bringen."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/cJXfv7MC/classic-living-room-with-an-upholstered-bench-1-480x480.webp",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({name:`Newborn ${c.title}`,productSlug:c.title.toLowerCase()==="basic"?"newborn-basic":c.title.toLowerCase()==="premium"?"newborn-premium":"newborn-deluxe",title:`Neugeborenen Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),t("/cart")};return r.jsx(ux,{title:"Neugeborenen Fotoshooting",subtitle:"Die ersten kostbaren Momente Ihres Babys",image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:r.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[r.jsxs("div",{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Die ersten Tage für immer festgehalten ✨"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Die ersten Tage mit Ihrem Neugeborenen sind kostbar und einzigartig. In unserem speziell eingerichteten, warmen Studio schaffen wir eine sichere und gemütliche Atmosphäre für zauberhafte Babyfotos."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Spezialisiert auf Neugeborenen-Fotografie"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Beste Zeit: 5-14 Tage nach der Geburt"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Professionelle Requisiten inklusive"]})]})]}),r.jsxs("div",{className:"relative h-96 md:h-full",children:[r.jsx("img",{src:"https://i.postimg.cc/7LsqZBd6/IMG-6736.jpg",alt:"Neugeborenen-Shooting",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:n.map((c,d)=>r.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&r.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:r.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),r.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),r.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((u,h)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx(sa,{size:20,className:"text-green-500 mr-2"}),r.jsx("span",{children:u})]},h))}),r.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},d))}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),"description"in c&&r.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(bs,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),r.jsx("p",{className:"text-gray-600",children:"Termine nach der Geburt flexibel planbar"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Un,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sanfte Betreuung"}),r.jsx("p",{className:"text-gray-600",children:"Spezialisiert auf Neugeborenen-Fotografie"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ta,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Studio-Ausstattung"}),r.jsx("p",{className:"text-gray-600",children:"Professionelle Requisiten und Accessoires"})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),c.description&&r.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Momente"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,d)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white p-4",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),r.jsx("p",{className:"text-sm",children:c.description})]})})]},d))})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:r.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[r.jsxs("div",{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Perfekte Umgebung für Ihr Baby 📸"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Unser speziell eingerichtetes Neugeborenen-Studio bietet die perfekte, sichere Umgebung für die ersten Fotos Ihres Babys. Mit beheizbarem Raum und professioneller Ausstattung schaffen wir optimale Bedingungen für entspannte Aufnahmen."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Beheizbares, sicheres Studio"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Professionelle Baby-Requisiten"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Stillbereich für Mütter"]})]})]}),r.jsxs("div",{className:"relative h-96 md:h-full",children:[r.jsx("img",{src:"https://i.postimg.cc/GtbKgQ3F/Herbaczek-3-W5-K3552.jpg",alt:"Neugeborenen-Studio",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studios"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},d))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 2 Jahre gültig"}),r.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),r.jsx("li",{children:"• Termine flexibel vereinbar"}),r.jsx("li",{children:"• Beheiztes Studio für das Wohlbefinden des Babys"})]})]})]})})},_Me=()=>{const{addItem:e}=Ug(),t=un();j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const n=[{title:"Basic",subtitle:"Schöne Erinnerungen",price:95,originalPrice:195,features:["60 Minuten Shooting","1 bearbeitetes Foto als A3 Leinwand (40x30cm) + gleiches Portrait digital","2 Outfits"]},{title:"Premium",subtitle:"Umfangreiche Erinnerungen",price:195,originalPrice:295,features:["5 bearbeitete Fotos digital (Porträts nach Wahl)","A3 Leinwand (40x30cm)"],isFeatured:!0},{title:"Deluxe",subtitle:"Das komplette Erlebnis",price:295,originalPrice:295,features:["A2 Leinwand (60x40cm)","10 bearbeitete Fotos digital (Porträts nach Wahl)"]}],s=[{url:"https://i.imgur.com/Vd6xtPg.jpg",title:"Studio Schwangerschaft",description:"Professionelle Aufnahmen in unserem modernen Studio"},{url:"https://i.imgur.com/AMnhw6w.jpg",title:"Partner + Schwangerschaft",description:"Natürliche Momente in schöner Umgebung"},{url:"https://i.postimg.cc/MHLVSbbf/E70-I3383-scaled.jpg",title:"Partner Shooting",description:"Gemeinsame Momente festhalten"}],a=[{url:"https://i.postimg.cc/T3gmzbyh/sw-6408.jpg",title:"Fun shooting",description:"Blühende Kulissen für strahlende Momente"},{url:"https://i.postimg.cc/X7Z9gm4f/E70I4421.jpg",title:"Maternity shooting",description:"Warmes Licht für zauberhafte Bilder"},{url:"https://i.postimg.cc/G2hyTSXs/E70I2880.jpg",title:"Bauch Shooting",description:"Stimmungsvolle Atmosphäre"}],i=[{url:"https://i.postimg.cc/VNwMmNMg/4S8A1454.jpg",title:"Paarshooting",description:"Gemeinsame Vorfreude festhalten"},{url:"https://i.postimg.cc/vTTfkS9d/DX4A9734.jpg",title:"Geschwistershooting",description:"Die wachsende Familie"},{url:"https://i.postimg.cc/jdGP3cSG/R8G5393.jpg",title:"Generationenshooting",description:"Drei Generationen vereint"}],o=[{url:"https://i.postimg.cc/cCvtXtyx/4-S8-A7529-58-2-2048x1365.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Babybauch-Shooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Geschichte und Wünsche wirklich verstehen. Sie erhalten hilfreiche Hinweise zur Vorbereitung – von Outfit-Tipps bis hin zu Inspirationen für persönliche Accessoires wie Ultraschallbilder, kleine Babyschuhe oder Erinnerungsstücke. So entstehen Aufnahmen, die Ihre Vorfreude und Ihre Persönlichkeit liebevoll widerspiegeln."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/KzWLNZWy/zjezrez.jpg",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{const d=`maternity-${c.title.toLowerCase()}`;e({title:`Schwangerschafts Fotoshooting - ${c.title}`,name:`Schwangerschafts Fotoshooting - ${c.title}`,productSlug:d,price:c.price,quantity:1,packageType:c.subtitle,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),t("/cart")};return r.jsx(ux,{title:"Schwangerschafts Fotoshooting",subtitle:"Magische Momente Ihrer Schwangerschaft",image:"https://i.postimg.cc/xjZzq5Mc/4S8A5701.jpg",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:r.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[r.jsxs("div",{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Ihre schönsten Momente festgehalten ✨"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Ihre Schwangerschaft ist eine besondere Zeit voller Vorfreude und Emotionen. Wir fangen diese einzigartigen Momente in stilvollen, zeitlosen Bildern ein – ob im Studio oder an Ihrem Wunschort."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Professionelle Betreuung & Styling-Beratung"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Beste Zeit: 32.-36. Schwangerschaftswoche"]}),r.jsxs("li",{className:"flex items-center text-gray-700",children:[r.jsx(Un,{className:"text-purple-600 mr-3",size:20}),"Partner & Familie können einbezogen werden"]})]})]}),r.jsxs("div",{className:"relative h-96 md:h-full",children:[r.jsx("img",{src:"https://i.postimg.cc/9XgGZC5X/NIEFERGALL-A4-L-683x1024.jpg",alt:"Schwangerschaftsshooting",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:n.map((c,d)=>r.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&r.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:r.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),r.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),r.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((u,h)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx(sa,{size:20,className:"text-green-500 mr-2"}),r.jsx("span",{children:u})]},h))}),r.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},d))}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),r.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(bs,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),r.jsx("p",{className:"text-gray-600",children:"Termine auch am Wochenende verfügbar"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Un,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Betreuung"}),r.jsx("p",{className:"text-gray-600",children:"Spezialisiert auf Schwangerschaftsfotografie"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ta,{size:48,className:"text-purple-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),r.jsx("p",{className:"text-gray-600",children:"Beste Qualität für bleibende Erinnerungen"})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),r.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Momente"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,d)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white p-4",children:[r.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),r.jsx("p",{className:"text-sm",children:c.description})]})})]},d))})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:r.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[r.jsxs("div",{className:"p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Persönliche Vorbereitung für authentische Ergebnisse 📸"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Individuell & persönlich: Jedes Schwangerschaftsshooting wird liebevoll auf Sie abgestimmt – gern auch mit Partner, Geschwistern oder zukünftigen Großeltern. Zeitlose Erinnerungen: Stilvolle, emotionale Bilder, die diese besondere Zeit festhalten – ideal als Dekoration, Geschenk oder für Ihre Social Media Profile. Einfühlsames Erlebnis: In entspannter Atmosphäre entstehen authentische Aufnahmen, die Ihre Vorfreude und Verbundenheit spürbar machen – ganz ohne Hektik."}),r.jsxs("ul",{className:"space-y-4",children:[r.jsx("li",{className:"flex items-center text-gray-700"}),r.jsx("li",{className:"flex items-center text-gray-700"}),r.jsx("li",{className:"flex items-center text-gray-700"})]})]}),r.jsxs("div",{className:"relative h-96 md:h-full",children:[r.jsx("img",{src:"https://i.postimg.cc/HLtMxC9g/E70I2700.jpg",alt:"Schwangerschaftsshooting Location",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,d)=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},d))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 2 Jahre gültig"}),r.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),r.jsx("li",{children:"• Termine flexibel vereinbar"}),r.jsx("li",{children:"• Styling-Beratung inklusive"})]})]})]})})},kMe=()=>{const e=[{url:"https://i.postimg.cc/RZjf8FsX/Whats-App-Image-2025-05-24-at-2-38-45-PM-1.jpg",title:"Professional Headshots"},{url:"https://i.postimg.cc/tRKspft4/19-L9686-683x1024.jpg",title:"Corporate Portraits"},{url:"https://imgur.com/2EsZmcP.jpg",title:"Team Photos"}],t=[{url:"https://i.postimg.cc/6QqWdLLP/Whats-App-Image-2025-05-24-at-2-38-46-PM.jpg",title:"Executive Portraits"},{url:"https://i.postimg.cc/rFg2QRm2/Whats-App-Image-2025-05-24-at-2-38-45-PM.jpg",title:"Business Casual"},{url:"https://i.postimg.cc/CMGgnQp1/11082260-883838491675315-8361533607387200890-o.jpg",title:"Corporate Events"},{url:"https://imgur.com/OvQtkkB.jpg",title:"Team Building"},{url:"https://imgur.com/XF8OK3q.jpg",title:"Office Culture"},{url:"https://imgur.com/L3gwSlu.jpg",title:"Professional Environment"}];return r.jsx(ux,{title:"Businessportraits, die Eindruck machen",subtitle:"Professionell. Authentisch. Unvergesslich.",image:"https://i.postimg.cc/6Q2c2gS1/Whats-App-Image-2025-05-24-at-2-38-45-PM-2.jpg",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"✅ Starker Auftritt für Sie und Ihre Marke"}),r.jsx("p",{className:"text-gray-700 text-lg",children:"Ob für LinkedIn, Website oder Pitchdeck – Ihre Businessfotos sagen mehr als Worte. In unserem Studio in Wien (und Zürich) setzen wir Sie professionell in Szene: klar, sympathisch und markengerecht."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((n,s)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:r.jsx("img",{src:n.url,alt:n.title,className:"w-full h-full object-cover"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsx("div",{className:"text-white",children:r.jsx("h3",{className:"font-bold text-lg mb-1",children:n.title})})})]},s))}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Was Sie erwartet:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Entspannte Atmosphäre"}),r.jsx("p",{className:"text-gray-600",children:"Kein Stress, keine steifen Posen, einfach Sie in Bestform."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Professionelles Licht & Posing"}),r.jsx("p",{className:"text-gray-600",children:"Wir zeigen Ihnen, wie Sie authentisch & souverän wirken."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Individuelle Bildsprache"}),r.jsx("p",{className:"text-gray-600",children:"Auf Ihre Branche und Zielgruppe abgestimmt."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Schnelle & einfache Buchung"}),r.jsx("p",{className:"text-gray-600",children:"Auch abends oder am Wochenende möglich."})]})]})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-6",children:"❌ Unscharfes Selfie statt souveränem Auftritt?"}),r.jsxs("ul",{className:"space-y-4 text-red-700",children:[r.jsx("li",{children:'• Ihre Website wirkt hochwertig – bis man Ihr „Über uns"-Foto sieht?'}),r.jsx("li",{children:"• Ihr LinkedIn-Profil überzeugt inhaltlich, aber das Bild wirkt wie ein Schnappschuss?"}),r.jsx("li",{children:"• Ihre Mitbewerber wirken präsent – Sie fragen sich, woran's liegt?"})]})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"📸 Professionelle Businessportraits"}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Zeigen auf den ersten Blick, was Sie können. Sie schaffen Nähe, Vertrauen und bleiben im Gedächtnis."}),r.jsx("p",{className:"text-lg font-semibold text-purple-800",children:"Für Selbstständige, Gründer:innen, Teams & Führungskräfte"})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((n,s)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:n.url,alt:n.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"text-white text-lg font-semibold",children:n.title})})]},s))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Perfekt für LinkedIn & PR – endlich Fotos, die mich wirklich repräsentieren."'})}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Professionell, entspannt & effizient – ein Shooting, das Spaß macht."'})}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Die Bilder haben sofort Wirkung gezeigt – auf Website, Socials und in Gesprächen."'})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum unsere Kunden wiederkommen:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"💼 Starke Bildsprache"}),r.jsx("p",{className:"text-gray-600",children:"Die Vertrauen schafft"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🤝 Locker & professionell"}),r.jsx("p",{className:"text-gray-600",children:"Für Einzelpersonen & große Teams"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"📐 Vorteilhafte Darstellung"}),r.jsx("p",{className:"text-gray-600",children:"Aller Körpertypen"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🎯 Klare Anleitung"}),r.jsx("p",{className:"text-gray-600",children:"Auch wenn Sie sich vor der Kamera unwohl fühlen"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🖼️ Langfristige Nutzung"}),r.jsx("p",{className:"text-gray-600",children:"Bilder für alle Kanäle"})]})]})]}),r.jsxs("div",{className:"bg-purple-600 text-white rounded-lg p-8 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Jetzt Shooting buchen und Eindruck hinterlassen."}),r.jsx("p",{className:"text-lg mb-6",children:"Businessfotos in Wien & Zürich – New Age Fotografie"}),r.jsx("a",{href:"/warteliste",className:"inline-block bg-white text-purple-600 font-bold py-3 px-8 rounded-lg hover:bg-gray-100 transition-colors",children:"Termin vereinbaren"})]})]})})})},AMe=()=>{const e=[{url:"https://i.postimg.cc/907tz7nR/21469528-10155302675513124-226449768-n.jpg",title:"Corporate Event"},{url:"https://i.postimg.cc/QdHN7Jqy/121588004-364470784911600-8688844506532345601-n.jpg",title:"Conference"},{url:"https://i.postimg.cc/vBdGpFwJ/COS-1254.jpg",title:"Team Building"}],t=[{url:"https://i.postimg.cc/wTDQpDNn/IMG-2582.jpg",title:"Business Conference"},{url:"https://i.postimg.cc/bY79WmZQ/K36C7261.jpg",title:"Team Events"},{url:"https://i.postimg.cc/Y9kwd61k/4S8A8486.jpg",title:"Networking Events"},{url:"https://i.postimg.cc/gj2bWGST/IGEPHA-Park-Hyatt-6003.jpg",title:"Corporate Celebrations"},{url:"https://i.postimg.cc/Y9XyQYRd/COS-1203.jpg",title:"Product Presentations"},{url:"https://i.postimg.cc/Tw24yCVy/K36C8454.jpg",title:"Company Milestones"}],n=[{url:"https://i.postimg.cc/QMxS8Vks/Ball-des-Sports-2025-www-newagefotografie-com-5590.jpg",title:"Elegant Moments",description:"Capturing the grace of formal events"},{url:"https://i.postimg.cc/bwP35mZZ/Ball-des-Sports-2025-www-newagefotografie-com-5766.jpg",title:"Social Gatherings",description:"Networking in style"},{url:"https://i.postimg.cc/mrXjtR89/Ball-des-Sports-2025-www-newagefotografie-com-5825.jpg",title:"Event Highlights",description:"Key moments from the evening"},{url:"https://i.postimg.cc/FRYZSqBB/Ball-des-Sports-2025-www-newagefotografie-com-5855.jpg",title:"Candid Interactions",description:"Natural moments between guests"},{url:"https://i.postimg.cc/FFJpsMcf/Ball-des-Sports-2025-www-newagefotografie-com-5878.jpg",title:"Event Atmosphere",description:"The ambiance of the ball"},{url:"https://i.postimg.cc/yd2TyjqY/Ball-des-Sports-2025-www-newagefotografie-com-6331.jpg",title:"Distinguished Guests",description:"VIP moments captured"},{url:"https://i.postimg.cc/8cWmKvDd/Ball-des-Sports-2025-www-newagefotografie-com-6382.jpg",title:"Dance Floor",description:"Celebration in motion"},{url:"https://i.postimg.cc/RV5R3gQg/Ball-des-Sports-2025-www-newagefotografie-com-6459.jpg",title:"Evening Entertainment",description:"Performances and shows"},{url:"https://i.postimg.cc/SN6Gccgk/Ball-des-Sports-2025-www-newagefotografie-com-7025.jpg",title:"Formal Portraits",description:"Professional event photography"},{url:"https://i.postimg.cc/7b8TftF0/Ball-des-Sports-2025-www-newagefotografie-com-7789.jpg",title:"Event Details",description:"The finer points of the evening"},{url:"https://i.postimg.cc/3xZnQ2Gn/Ball-des-Sports-2025-www-newagefotografie-com-7920.jpg",title:"Social Moments",description:"Connections and conversations"},{url:"https://i.postimg.cc/Nfmdb3jh/Ball-des-Sports-2025-www-newagefotografie-com-7978.jpg",title:"Grand Finale",description:"Memorable closing moments"}];return r.jsx(ux,{title:"Eventfotografie in Wien & Zürich",subtitle:"New Age Fotografie – Authentisch. Professionell. Unvergesslich.",image:"https://i.postimg.cc/rwtMhFtV/Ball-des-Sports-2025-www-newagefotografie-com-5513.jpg",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Ihre Veranstaltung. Ihre Emotionen. Perfekt eingefangen."}),r.jsxs("p",{className:"text-gray-700 text-lg",children:["Sie planen ein Event und möchten sich darauf verlassen können, dass alle wichtigen Momente eingefangen werden?",r.jsx("br",{}),"Wir sind auf natürliche, stimmungsvolle Eventfotografie spezialisiert – ohne gestellte Posen, ohne steife Atmosphäre."]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((s,a)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsx("div",{className:"text-white",children:r.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum Kunden uns wählen:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Unauffällig & präsent"}),r.jsx("p",{className:"text-gray-600",children:"Wir bewegen uns dezent im Hintergrund und fangen echte Emotionen ein."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Authentisch & natürlich"}),r.jsx("p",{className:"text-gray-600",children:"Keine gestellten Bilder. Wir zeigen Sie, wie Sie wirklich sind – entspannt und sympathisch."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Ruhig in jeder Situation"}),r.jsx("p",{className:"text-gray-600",children:"Selbst in stressigen Momenten behalten wir den Überblick und dokumentieren jedes Detail."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Schmeichelhafte Perspektiven"}),r.jsx("p",{className:"text-gray-600",children:"Wir kennen die besten Blickwinkel, damit sich alle auf den Bildern wiedererkennen und mögen."})]})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((s,a)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsx("div",{className:"text-white",children:r.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Eleganz & Stil"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map((s,a)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),r.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Flexibel buchbar – auch an Wochenenden & Feiertagen"}),r.jsx("p",{className:"text-gray-700",children:"Unser einfacher Buchungsprozess ist 7 Tage die Woche verfügbar – so passt sich Ihr Fotograf Ihrem Zeitplan an, nicht umgekehrt."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Perfekt für jedes Event."'}),r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Unauffällig, professionell, sympathisch."'})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Fotos, die man wirklich gerne teilt."'}),r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Einfach zu buchen, zuverlässig und herzlich."'})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"📍 Verfügbar in Wien & Zürich"}),r.jsxs("p",{className:"text-lg mb-4",children:["📅 Jetzt Termin sichern: ",r.jsx("a",{href:"/warteliste",className:"text-purple-600 hover:text-purple-700",children:"Termin planen"})]}),r.jsx("p",{className:"text-lg",children:"📸 New Age Fotografie – Für bleibende Erinnerungen."})]})]})})})},CMe=()=>{const e=[{url:"https://i.postimg.cc/P5Y6qBwf/4S8A7472.jpg",title:"Wedding Ceremony"},{url:"https://i.postimg.cc/3R6QYX2s/00134022.jpg",title:"Wedding Portraits"},{url:"https://i.postimg.cc/zG15yF45/00371059.jpg",title:"Wedding Reception"}],t=[{url:"https://i.postimg.cc/VvWyM3x8/00145408.jpg",title:"Getting Ready"},{url:"https://i.postimg.cc/4Nwk3Rvv/00371294.jpg",title:"First Look"},{url:"https://i.postimg.cc/fyNnVwgC/events1.jpg",title:"Ceremony"},{url:"https://i.postimg.cc/t4T0ZvDK/HOFBAUER-70x50-L.jpg",title:"Bridal Portraits"},{url:"https://i.postimg.cc/YqtBkCFq/IMG-6997.jpg",title:"Reception"},{url:"https://i.postimg.cc/CMGpWqzQ/IMG-7898.jpg",title:"Party"}],n=[{url:"https://i.postimg.cc/85wB64ZY/4-S8-A0596aaa.jpg",title:"Romantic Moments",description:"Capturing intimate moments between newlyweds"},{url:"https://i.postimg.cc/k53c3BVT/COS-0308.jpg",title:"Wedding Details",description:"Beautiful wedding day details"},{url:"https://i.postimg.cc/bvxRzpkp/KULHAVY13032020-194-of-671-ddd.jpg",title:"Candid Moments",description:"Natural and spontaneous celebrations"},{url:"https://i.postimg.cc/4yS68dkb/Pic-9.jpg",title:"Venue Photography",description:"Stunning wedding venues"},{url:"https://i.postimg.cc/pTPJr4J8/TN-Post-wedding-portraits-168.jpg",title:"Portrait Sessions",description:"Professional wedding portraits"},{url:"https://i.postimg.cc/Gt2PJDNm/Villa-Antoinette-Gl-serstra-e-9-2680-Semmering-Kurort-Austria.jpg",title:"Location Shots",description:"Beautiful wedding locations"}];return r.jsx(ux,{title:"Hochzeitsfotografie in Wien & Zürich",subtitle:"New Age Fotografie – Eure Geschichte. Echt. Berührend. Für immer.",image:"https://i.postimg.cc/vBxS7p6K/DSC-0318-01299.jpg",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Eure Liebe, authentisch eingefangen."}),r.jsxs("p",{className:"text-gray-700 text-lg",children:["Euer Hochzeitstag ist einzigartig – ein Tag voller Emotionen, Lachen und bedeutungsvoller Momente.",r.jsx("br",{}),"Wir sorgen dafür, dass ihr ihn nie vergesst. Mit Bildern, die nicht gestellt wirken – sondern echt."]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((s,a)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsx("div",{className:"text-white",children:r.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum Paare uns wählen:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Natürlich & unaufdringlich"}),r.jsx("p",{className:"text-gray-600",children:"Wir halten echte Emotionen fest, ohne zu stören."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Professionell & herzlich"}),r.jsx("p",{className:"text-gray-600",children:"Ihr fühlt euch bei uns wohl, auch wenn ihr keine Kameraprofis seid."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Detailverliebt & kreativ"}),r.jsx("p",{className:"text-gray-600",children:"Vom kleinen Blick bis zur großen Geste – nichts geht verloren."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Nachhaltige Erinnerungen"}),r.jsx("p",{className:"text-gray-600",children:"Eure Fotos werden zum visuellen Erbe eurer Liebesgeschichte."})]})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((s,a)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),r.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Flexible Buchung – Auch an Wochenenden und Feiertagen"}),r.jsx("p",{className:"text-gray-700",children:"Ganz nach eurem Zeitplan – wir passen uns euch an, nicht umgekehrt."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Unvergesslich! Matt und sein Team haben jeden Moment eingefangen – kreativ, entspannt und mit einem tollen Gespür für Timing."'}),r.jsx("p",{className:"font-semibold",children:"– Sasha & Marten ⭐⭐⭐⭐⭐"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Einfühlsam, professionell und einfach top. Wir würden sie jederzeit wieder buchen!"'}),r.jsx("p",{className:"font-semibold",children:"– Christina M. ⭐⭐⭐⭐⭐"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Die Bilder sind magisch – so viele echte Emotionen. Und der Service war von Anfang bis Ende perfekt."'}),r.jsx("p",{className:"font-semibold",children:"– Tina & Robin ⭐⭐⭐⭐⭐"})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Hochzeitsmomente für die Ewigkeit"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((s,a)=>r.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[r.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),r.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Eure Hochzeit. Euer Moment. Unser Versprechen."}),r.jsx("p",{className:"text-gray-700 mb-6",children:"Ob Standesamt, Gartenhochzeit oder großes Fest – wir begleiten euch mit Erfahrung, Gefühl und einem Blick für das, was wirklich zählt."}),r.jsxs("p",{className:"text-lg mb-4",children:["📅 Jetzt Termin sichern: ",r.jsx("a",{href:"/warteliste",className:"text-purple-600 hover:text-purple-700",children:"Hochzeitsfotografie in Wien & Zürich"})]}),r.jsx("p",{className:"text-lg",children:"📸 New Age Fotografie – Für bleibende Erinnerungen."})]})]})})})},PMe=({gallerySlug:e,isPasswordProtected:t,onAuthenticated:n})=>{const[s,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState(""),[h,p]=j.useState(!1),[f,x]=j.useState(null),g=async v=>{if(v.preventDefault(),!s){x("Email is required");return}if(t&&!d){x("Password is required");return}try{p(!0),x(null);const{token:b}=await q3e(e,{email:s,firstName:i,lastName:l,password:t?d:void 0});localStorage.setItem(`gallery_token_${e}`,b),n(b)}catch(b){x(b instanceof Error?b.message:"Authentication failed. Please try again.")}finally{p(!1)}};return r.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-purple-100 text-purple-600 rounded-full p-3 inline-block",children:t?r.jsx(Zf,{className:"h-8 w-8"}):r.jsx(pr,{className:"h-8 w-8"})}),r.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:t?"Protected Gallery":"Welcome to the Gallery"}),r.jsx("p",{className:"mt-2 text-gray-600",children:t?"Please enter the password to view this gallery":"Please enter your information to continue"})]}),f&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:f})]}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pr,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"email",type:"email",value:s,onChange:v=>a(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"you@example.com",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("input",{id:"firstName",type:"text",value:i,onChange:v=>o(v.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"First Name"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{id:"lastName",type:"text",value:l,onChange:v=>c(v.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Last Name"})]})]}),t&&r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Zf,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{id:"password",type:"password",value:d,onChange:v=>u(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Enter gallery password",required:!0})]})]}),r.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Authenticating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(PM,{className:"-ml-1 mr-2 h-5 w-5"}),"Enter Gallery"]})})]})]})},qI=()=>{const{slug:e}=Ri(),[t,n]=j.useState(null),[s,a]=j.useState([]),[i,o]=j.useState(!1),[l,c]=j.useState(""),[d,u]=j.useState(!1),[h,p]=j.useState(!0),[f,x]=j.useState(null);j.useEffect(()=>{if(e){g(e);const P=localStorage.getItem(`gallery_token_${e}`);P&&(c(P),o(!0))}else p(!1)},[e]),j.useEffect(()=>{document.title="Foto-Galerie Wien - Familienfotos & Porträts | New Age Fotografie";let P=document.querySelector('meta[name="description"]');P||(P=document.createElement("meta"),P.setAttribute("name","description"),document.head.appendChild(P)),P.setAttribute("content","Exklusive Foto-Galerie mit passwortgeschütztem Zugang. Familienfotos, Porträts und Hochzeitsbilder vom Wiener Familienfotograf.");let k=document.querySelector('meta[property="og:title"]');return k||(k=document.createElement("meta"),k.setAttribute("property","og:title"),document.head.appendChild(k)),k.setAttribute("content","Foto-Galerie - New Age Fotografie Wien"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]),j.useEffect(()=>{i&&e&&l&&v(e,l)},[i,e,l]);const g=async P=>{try{p(!0);const k=await L3e(P);n(k)}catch{x("Failed to load gallery. Please try again.")}finally{p(!1)}},v=async(P,k)=>{try{p(!0);const C=await W3e(P,k);a(C)}catch(C){x("Failed to load gallery images. Please try again."),C instanceof Error&&C.message.includes("Invalid token")&&(localStorage.removeItem(`gallery_token_${P}`),o(!1),c(""))}finally{p(!1)}},b=P=>{c(P),o(!0),_()},_=async P=>{},w=()=>{if(!t||!e||!l)return;if(!t.downloadEnabled){alert("Downloads are disabled for this gallery.");return}const P=document.createElement("a");P.href=`/api/galleries/${e}/download`,P.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.zip`,fetch(P.href,{headers:{Authorization:`Bearer ${l}`}}).then(k=>k.blob()).then(k=>{const C=window.URL.createObjectURL(k);P.href=C,document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(C)}).catch(k=>{alert("Failed to download gallery. Please try again.")})},S=()=>{if(!t||!e)return;const P=`${window.location.origin}/gallery/${e}`;navigator.share?navigator.share({title:t.title,url:P}).catch(k=>{A(P)}):A(P)},A=P=>{navigator.clipboard?navigator.clipboard.writeText(P).then(()=>{alert("Gallery link copied to clipboard!")}).catch(k=>{prompt("Copy this link:",P)}):prompt("Copy this link:",P)},L=d?s.filter(P=>P.isFavorite):s;return e?r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs(Vt,{to:"/galleries",className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[r.jsx(Pn,{size:16,className:"mr-1"}),"Zurück zu allen Galerien"]}),h&&!t?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):f&&!t?r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:f})]}):t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),t.description&&r.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t.description})]}),i?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 flex flex-wrap items-center justify-between gap-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>u(!d),className:`inline-flex items-center px-4 py-2 border ${d?"border-red-300 bg-red-50 text-red-700 hover:bg-red-100":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"} rounded-lg shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors`,children:[r.jsx(Un,{size:16,className:`mr-2 ${d?"fill-current":""}`}),d?"Alle anzeigen":"Favoriten anzeigen"]}),t.downloadEnabled&&r.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:[r.jsx(Vn,{size:16,className:"mr-2"}),"Alle herunterladen"]})]}),r.jsxs("button",{onClick:S,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:[r.jsx(kp,{size:16,className:"mr-2"}),"Galerie teilen"]})]}),h?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading images..."})]}):f?r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:f})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[r.jsx(fB,{images:L,galleryId:t.id,isPublic:!0,authToken:l,downloadEnabled:t.downloadEnabled}),d&&L.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Un,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Noch keine Favoriten"}),r.jsx("p",{className:"text-gray-500",children:"Sie haben noch keine Bilder zu Ihren Favoriten hinzugefügt."}),r.jsx("button",{onClick:()=>u(!1),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Alle Bilder anzeigen"})]})]})]}):r.jsx(PMe,{gallerySlug:e||"",isPasswordProtected:t.isPasswordProtected||!!t.password,onAuthenticated:b})]}):r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:r.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Gallery not found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The gallery you're looking for doesn't exist or has been removed."}),r.jsx("div",{className:"mt-6",children:r.jsx(Vt,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Return to home"})})]})]})}):r.jsx(U4,{to:"/galleries",replace:!0})},WI=()=>{const{t:e}=ia(),[t,n]=j.useState([]),[s,a]=j.useState([]),[i,o]=j.useState(""),[l,c]=j.useState(!0),[d,u]=j.useState(null);j.useEffect(()=>{h()},[]),j.useEffect(()=>{p()},[t,i]);const h=async()=>{try{c(!0);const g=await Y3e();n(g)}catch{u("Failed to load galleries. Please try again.")}finally{c(!1)}},p=()=>{if(!i.trim()){a(t);return}const g=i.toLowerCase(),v=t.filter(b=>b.title.toLowerCase().includes(g)||b.description&&b.description.toLowerCase().includes(g)||b.clientEmail&&b.clientEmail.toLowerCase().includes(g));a(v)},f=g=>g.coverImage||"/placeholder-gallery.jpg",x=g=>new Date(g).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:e("gallery.publicTitle")}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("gallery.publicDescription")})]}),r.jsx("div",{className:"max-w-md mx-auto mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:i,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),d&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-8",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),r.jsx("span",{children:d})]}),l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx(Mr,{className:"h-8 w-8 text-purple-600 animate-spin"}),r.jsx("span",{className:"ml-2 text-gray-600",children:e("gallery.loading")})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-600",children:[s.length," ",s.length===1?e("gallery.galleryFound"):e("gallery.galleriesFound")," ",e("gallery.found"),i&&` für "${i}"`]})}),s.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(g=>r.jsxs("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-purple-300 overflow-hidden",children:[r.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-purple-50 to-pink-50 overflow-hidden",children:[g.coverImage?r.jsx("img",{src:f(g),alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(ta,{className:"w-8 h-8 text-purple-600"})}),r.jsx("p",{className:"text-sm text-gray-500",children:e("gallery.noPreview")})]})}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:r.jsxs(Vt,{to:`/gallery/${g.slug}`,className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-800 px-6 py-3 rounded-full font-semibold transition-all duration-200 transform hover:scale-110 flex items-center",children:[r.jsx(Mn,{size:18,className:"mr-2"}),e("gallery.viewGallery")]})}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-50",children:r.jsx("img",{src:"/frontend-logo.jpg",alt:"New Age Fotografie",className:"h-8 w-auto opacity-75"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-1",children:g.title}),g.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:g.description}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[r.jsx(dn,{size:14,className:"mr-2"}),x(g.createdAt)]}),r.jsx(Vt,{to:`/gallery/${g.slug}`,className:"block w-full text-center bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:e("gallery.openGallery")})]})]},g.id))}):r.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400 mb-6",children:r.jsx(ta,{className:"w-full h-full"})}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:e(i?"gallery.noGalleriesFound":"gallery.noGalleriesAvailable")}),r.jsx("p",{className:"text-gray-500 mb-6",children:i?`${e("gallery.noGalleriesDescription")} "${i}".`:e("gallery.noGalleriesAvailableDescription")}),i&&r.jsx("button",{onClick:()=>o(""),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:e("gallery.showAllGalleries")})]})]}),r.jsxs("div",{className:"mt-16 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e("gallery.notFoundTitle")}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:e("gallery.notFoundDescription")}),r.jsx(Vt,{to:"/kontakt",className:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:e("gallery.contactUs")})]})]})})},EMe=({invoice:e})=>{const t=s=>new Date(s).toLocaleDateString("de-DE"),n=(s,a="EUR")=>new Intl.NumberFormat("de-DE",{style:"currency",currency:a}).format(s);return r.jsxs("div",{className:"invoice-template",style:{maxWidth:"800px",margin:"0 auto",padding:"40px",fontFamily:"Arial, sans-serif",color:"#333",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.1)"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"40px",borderBottom:"2px solid #333",paddingBottom:"20px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("img",{src:"https://i.postimg.cc/ncJ85X8v/frontend-logo.jpg",alt:"New Age Fotografie Logo",style:{maxHeight:"80px",marginBottom:"20px",objectFit:"contain"}}),r.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.5",color:"#666"},children:[r.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:"NEW AGE FOTOGRAFIE"}),r.jsx("div",{children:"Office and Correspondence Address:"}),r.jsx("div",{children:"Julius Tandler Platz 5 / 13, 1090 Wien, Austria"}),r.jsx("div",{children:"Entrance corner Schönbrunnerstraße"}),r.jsx("div",{style:{marginTop:"5px"},children:"Studio: Wehrgasse 11A/2+5, 1050 Wien"}),r.jsx("div",{style:{marginTop:"5px"},children:"hallo@newagefotografie.com"})]})]}),r.jsxs("div",{style:{textAlign:"right"},children:[r.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",margin:"0",letterSpacing:"2px"},children:"INVOICE"}),r.jsxs("div",{style:{fontSize:"14px",marginTop:"10px",color:"#666"},children:[r.jsxs("div",{children:["No. ",e.invoice_number]}),r.jsxs("div",{children:["Date: ",t(e.created_at)]}),r.jsxs("div",{children:["Due Date: ",t(e.due_date)]})]})]})]}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"1px"},children:"INVOICE TO:"}),r.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.5"},children:[r.jsx("div",{style:{fontWeight:"bold"},children:e.client?.name}),r.jsx("div",{children:e.client?.email}),e.client?.address1&&r.jsx("div",{children:e.client.address1}),e.client?.city&&e.client?.country&&r.jsxs("div",{children:[e.client.city,", ",e.client.country]})]})]}),r.jsx("div",{style:{marginBottom:"30px"},children:r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{backgroundColor:"#333",color:"white"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"QTY"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"ITEM DESCRIPTION"}),r.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"PRICE"}),r.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"TOTAL"})]})}),r.jsx("tbody",{children:e.items?.map((s,a)=>r.jsxs("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:a%2===0?"#f9f9f9":"white"},children:[r.jsx("td",{style:{padding:"12px"},children:s.quantity}),r.jsxs("td",{style:{padding:"12px"},children:[r.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:s.description}),r.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Professional photography service with post-processing"})]}),r.jsx("td",{style:{padding:"12px",textAlign:"right"},children:n(s.unit_price,e.currency)}),r.jsx("td",{style:{padding:"12px",textAlign:"right"},children:n(s.line_total,e.currency)})]},a))})]})}),r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"30px"},children:r.jsxs("div",{style:{minWidth:"250px"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",fontSize:"14px"},children:[r.jsx("span",{children:"Sub-Total:"}),r.jsx("span",{children:n(e.subtotal_amount,e.currency)})]}),e.discount_amount>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",fontSize:"14px"},children:[r.jsx("span",{children:"Discount (5%):"}),r.jsxs("span",{children:["-",n(e.discount_amount,e.currency)]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",fontSize:"14px"},children:[r.jsx("span",{children:"Tax Vat (19%):"}),r.jsx("span",{children:n(e.tax_amount,e.currency)})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 0",fontSize:"16px",fontWeight:"bold",backgroundColor:"#333",color:"white",marginTop:"10px",paddingLeft:"12px",paddingRight:"12px"},children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:n(e.total_amount,e.currency)})]})]})}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"1px"},children:"PAYMENT METHOD:"}),r.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.5"},children:[r.jsx("div",{children:"Bank Transfer"}),r.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:["Payment Terms: ",e.payment_terms]})]})]}),r.jsxs("div",{style:{marginBottom:"30px"},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"1px"},children:"TERMS & CONDITIONS:"}),r.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.5",color:"#666"},children:["Invoice is payable within ",e.payment_terms," from invoice date. Late payment may result in suspension of services and additional charges. All images remain the property of New Age Fotografie until payment is received in full."]})]}),r.jsxs("div",{style:{textAlign:"center",borderTop:"1px solid #eee",paddingTop:"20px",fontSize:"14px"},children:[r.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:"Thank You For Your Business !"}),r.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"NEW AGE FOTOGRAFIE - VIENNA SPECIALISTS"})]}),r.jsx("div",{style:{position:"absolute",bottom:"20px",right:"20px",fontSize:"10px",color:"#ccc",transform:"rotate(-45deg)",transformOrigin:"center"},children:"IMAGES NOT INCLUDED"})]})},TMe=()=>{const{invoiceId:e}=Ri(),[t,n]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState(null);j.useEffect(()=>{e&&(async()=>{try{a(!0);const h=await fetch(`/api/invoices/public/${e}`);if(!h.ok)throw new Error("Invoice not found");const p=await h.json();n(p)}catch(h){o(h.message||"Failed to load invoice")}finally{a(!1)}})()},[e]);const l=async()=>{if(t)try{const u=await fetch(`/api/invoices/${t.id}/download`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!u.ok)throw new Error(`PDF generation failed: ${u.status}`);const h=await u.blob(),p=window.URL.createObjectURL(h),f=document.createElement("a");f.style.display="none",f.href=p,f.download=`Rechnung-${t.invoice_number||t.id}.pdf`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(p),document.body.removeChild(f)}catch(u){console.error("PDF download failed:",u),alert("PDF download failed. Please try again.")}},c=()=>{const u=`Hello! I have a question about invoice #${t?.invoice_number}`,h=`https://wa.me/4367763399210?text=${encodeURIComponent(u)}`;window.open(h,"_blank")},d=()=>{window.print()};return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading invoice..."})]})}):i||!t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-600 text-6xl mb-4",children:"⚠️"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invoice Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:i||"The invoice you are looking for does not exist or has been removed."}),r.jsx("a",{href:"https://newagefotografie.com",className:"text-blue-600 hover:text-blue-800 underline",children:"Return to New Age Fotografie"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Invoice #",t.invoice_number]}),r.jsx("p",{className:"text-sm text-gray-600",children:"From New Age Fotografie"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Zw,{className:"w-4 h-4"}),r.jsx("span",{children:"Contact Us"})]}),r.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[r.jsx(OM,{className:"w-4 h-4"}),r.jsx("span",{children:"Print"})]}),r.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Vn,{className:"w-4 h-4"}),r.jsx("span",{children:"Download PDF"})]})]})]})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:r.jsx(EMe,{invoice:t})})}),r.jsx("div",{className:"bg-white border-t",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:r.jsxs("div",{className:"text-center text-sm text-gray-600",children:[r.jsxs("p",{className:"mb-2",children:["Questions about this invoice? Contact us on WhatsApp or email us at"," ",r.jsx("a",{href:"mailto:hallo@newagefotografie.com",className:"text-blue-600 hover:text-blue-800",children:"hallo@newagefotografie.com"})]}),r.jsx("p",{children:"© 2025 New Age Fotografie - Professional Photography Services in Vienna"})]})})}),r.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          
          body {
            margin: 0;
            padding: 0;
          }
          
          .print-only {
            display: block !important;
          }
        }
      `})]})},OMe=()=>{const[e,t]=j.useState(!1),[n,s]=j.useState([{text:`Hallo! Ich bin Alex von New Age Fotografie Wien. 📸

Bevor wir starten, darf ich nach Ihrer WhatsApp Nummer oder E-Mail fragen? So kann ich Sie besser beraten und bei Interesse direkt kontaktieren.`,isUser:!1}]),[a,i]=j.useState(""),[o,l]=j.useState(!1);j.useState(null);const[c,d]=j.useState(!1),[u,h]=j.useState({name:"",email:"",phone:""}),[p,f]=j.useState(!1),x=j.useRef(null),g=()=>{x.current?.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{g()},[n]);const v=async()=>{if(!a.trim()||o)return;const S=a;if(s(A=>[...A,{text:S,isUser:!0}]),i(""),l(!0),!p){const A=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,L=/(\+43|0043|0)?[\s\-]?[0-9]{3,4}[\s\-]?[0-9]{3,4}[\s\-]?[0-9]{2,4}/;if(A.test(S)){h(P=>({...P,email:S.match(A)?.[0]||""})),f(!0),s(P=>[...P,{text:`Perfekt! Vielen Dank für Ihre E-Mail: ${S.match(A)?.[0]}. Wie kann ich Ihnen bei Ihrem Fotoshooting helfen?`,isUser:!1}]),l(!1);return}if(L.test(S)){h(P=>({...P,phone:S.match(L)?.[0]||""})),f(!0),s(P=>[...P,{text:`Super! Vielen Dank für Ihre Nummer: ${S.match(L)?.[0]}. Wie kann ich Ihnen bei Ihrem Fotoshooting helfen?`,isUser:!1}]),l(!1);return}}s(A=>[...A,{text:"Alex schreibt...",isUser:!1,loading:!0}]);try{const L=await(await fetch("/api/openai/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:S,threadId:"fallback-mode"})})).json();s(P=>[...P.filter(C=>!C.loading),{text:L.response||"Entschuldigung, ich konnte Ihre Anfrage nicht bearbeiten.",isUser:!1}]),p&&n.filter(P=>P.isUser).length>=2&&setTimeout(()=>{w()},3e3)}catch{s(L=>[...L.filter(k=>!k.loading),{text:"Entschuldigung, es gab ein technisches Problem. Bitte kontaktieren Sie uns direkt unter +43 677 633 99210.",isUser:!1}])}finally{l(!1)}},b=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),v())},_=async()=>{try{const S=n.filter(L=>L.isUser).pop();(await fetch("/api/chat/save-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,message:S?.text||"Chat conversation",conversation:n})})).ok&&(s(L=>[...L,{text:"Vielen Dank! Ihre Kontaktdaten wurden gespeichert. Wir melden uns bald bei Ihnen!",isUser:!1}]),d(!1),h({name:"",email:"",phone:""}))}catch{}},w=async()=>{if(p)try{const S=n.filter(L=>L.isUser).pop();(await fetch("/api/chat/save-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Chat Visitor",email:u.email,phone:u.phone,message:S?.text||"Website Chat Interest",conversation:n})})).ok}catch{}};return r.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[r.jsx(Zb,{children:e&&r.jsxs(mf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-16 right-0 w-80 bg-white rounded-lg shadow-xl",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-500 p-4 rounded-t-lg",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:"Alex - Photo Consultant"}),r.jsx("p",{className:"text-purple-100 text-sm",children:"New Age Fotografie Wien"})]}),r.jsx("button",{onClick:()=>t(!1),className:"text-white hover:text-gray-200 transition-colors",children:r.jsx(gn,{size:20})})]})}),r.jsxs("div",{className:"h-96 flex flex-col",children:[r.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[n.map((S,A)=>r.jsx("div",{className:`mb-4 ${S.isUser?"text-right":"text-left"}`,children:r.jsx("div",{className:`inline-block p-3 rounded-lg max-w-[280px] ${S.isUser?"bg-gradient-to-r from-purple-600 to-pink-500 text-white":"bg-gray-100 text-gray-800"}`,children:S.loading?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{size:16,className:"animate-spin"}),S.text]}):S.text})},A)),r.jsx("div",{ref:x})]}),c&&r.jsxs("div",{className:"border-t p-4 bg-purple-50",children:[r.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Kontakt hinterlassen"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"text",placeholder:"Ihr Name",value:u.name,onChange:S=>h(A=>({...A,name:S.target.value})),className:"w-full p-2 border rounded text-sm"}),r.jsx("input",{type:"email",placeholder:"E-Mail",value:u.email,onChange:S=>h(A=>({...A,email:S.target.value})),className:"w-full p-2 border rounded text-sm"}),r.jsx("input",{type:"tel",placeholder:"Telefon (optional)",value:u.phone,onChange:S=>h(A=>({...A,phone:S.target.value})),className:"w-full p-2 border rounded text-sm"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:_,className:"flex-1 bg-purple-600 text-white p-2 rounded text-sm hover:bg-purple-700",children:"Senden"}),r.jsx("button",{onClick:()=>d(!1),className:"px-4 bg-gray-300 text-gray-700 p-2 rounded text-sm hover:bg-gray-400",children:"Später"})]})]})]}),r.jsx("div",{className:"border-t p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:a,onChange:S=>i(S.target.value),onKeyPress:b,placeholder:"Type your message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),r.jsx("button",{onClick:v,disabled:o,className:"p-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:o?r.jsx(Mr,{size:20,className:"animate-spin"}):r.jsx(Ii,{size:20})})]})})]})]})}),r.jsx("button",{onClick:()=>t(!e),className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white p-4 rounded-full shadow-lg hover:opacity-90 transition-opacity",children:r.jsx(Zw,{size:24})})]})};function LMe({galleryId:e,clientId:t,isOpen:n,onClose:s}){const[a,i]=j.useState([]),{toast:o}=qJ(),{data:l,isLoading:c}=v0({queryKey:["/api/gallery/print-catalog"],enabled:n}),d=_p({mutationFn:async g=>{const v=await fetch("/api/gallery/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok)throw new Error("Checkout failed");return v.json()},onSuccess:g=>{g.checkout_url?window.location.href=g.checkout_url:o({title:"Order Created",description:`Order #${g.order_id} created for €${g.total}`})},onError:()=>{o({title:"Checkout Failed",description:"Unable to process your order. Please try again.",variant:"destructive"})}}),u=g=>{const v=a.find(b=>b.product_sku===g.sku);i(v?a.map(b=>b.product_sku===g.sku?{...b,qty:b.qty+1}:b):[...a,{product_sku:g.sku,qty:1,variant:{},product_name:g.name,unit_price:Number(g.base_price)}]),o({title:"Added to Cart",description:`${g.name} added to your cart`})},h=g=>{i(a.filter(v=>v.product_sku!==g))},p=(g,v)=>{v<=0?h(g):i(a.map(b=>b.product_sku===g?{...b,qty:v}:b))},f=()=>a.reduce((g,v)=>g+(v.unit_price||0)*v.qty,0),x=()=>{d.mutate({gallery_id:e,client_id:t,items:a})};return n?r.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),r.jsxs("div",{className:"ml-auto w-96 bg-white shadow-xl flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_d,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Buy Prints"})]}),r.jsx($t,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(gn,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:c?r.jsx("div",{className:"text-center py-8",children:"Loading products..."}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium",children:"Available Products"}),l?.map(g=>r.jsx(Rt,{className:"p-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-medium",children:g.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["€",g.base_price]})]}),r.jsx($t,{size:"sm",onClick:()=>u(g),className:"ml-2",children:r.jsx(Cr,{className:"h-3 w-3"})})]})},g.sku))]}),a.length>0&&r.jsxs("div",{className:"space-y-3 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium",children:"Your Cart"}),r.jsxs(ra,{variant:"secondary",children:[a.length," items"]})]}),a.map(g=>r.jsx(Rt,{className:"p-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"text-sm font-medium",children:g.product_name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["€",g.unit_price," each"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{size:"sm",variant:"outline",onClick:()=>p(g.product_sku,g.qty-1),children:r.jsx(uY,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm font-medium min-w-[20px] text-center",children:g.qty}),r.jsx($t,{size:"sm",variant:"outline",onClick:()=>p(g.product_sku,g.qty+1),children:r.jsx(Cr,{className:"h-3 w-3"})})]})]})},g.product_sku))]})]})}),a.length>0&&r.jsxs("div",{className:"border-t p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["€",f().toFixed(2)]})]}),r.jsx($t,{className:"w-full",onClick:x,disabled:d.isPending,children:d.isPending?"Processing...":"Proceed to Checkout"})]})]})]}):null}function IMe(){const[e,t]=j.useState(!1);return r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsxs(Rt,{className:"max-w-4xl mx-auto",children:[r.jsx(Or,{children:r.jsxs(zr,{className:"flex items-center gap-2",children:[r.jsx(_d,{className:"h-6 w-6"}),"Gallery Shop Test Page"]})}),r.jsxs(Jt,{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>r.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsxs("span",{className:"text-gray-500",children:["Gallery Image ",a]})},a))}),r.jsxs("div",{className:"text-center",children:[r.jsxs($t,{onClick:()=>t(!0),className:"bg-purple-600 hover:bg-purple-700",size:"lg",children:[r.jsx(_d,{className:"h-5 w-5 mr-2"}),"Buy Prints"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Click to test the Gallery Shop functionality"})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Gallery Shop Features:"}),r.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[r.jsx("li",{children:"✅ Print catalog with 7 products"}),r.jsx("li",{children:"✅ Shopping cart functionality"}),r.jsx("li",{children:"✅ Order creation and tracking"}),r.jsx("li",{children:"✅ Stripe checkout integration (ready)"}),r.jsx("li",{children:"✅ CRM agent tool registered (#7)"})]})]})]})]}),r.jsx(LMe,{galleryId:"123e4567-e89b-12d3-a456-426614174000",clientId:"456e7890-e89b-12d3-a456-426614174001",isOpen:e,onClose:()=>t(!1)})]})}const MMe=()=>{const e=[{name:"crm_clients.csv",description:"Complete Client Database (2,153 records)",size:"520KB",icon:r.jsx(ln,{className:"h-6 w-6"}),priority:"high"},{name:"blog_posts.csv",description:"Published Blog Posts (15 posts)",size:"185KB",icon:r.jsx(Hn,{className:"h-6 w-6"}),priority:"medium"},{name:"photography_sessions.csv",description:"Photography Sessions (9 sessions)",size:"6KB",icon:r.jsx(dn,{className:"h-6 w-6"}),priority:"medium"},{name:"knowledge_base.csv",description:"CRM Agent Knowledge (5 entries)",size:"34KB",icon:r.jsx(o1,{className:"h-6 w-6"}),priority:"low"},{name:"crm_leads.csv",description:"Sales Leads (2 prospects)",size:"1KB",icon:r.jsx(Xw,{className:"h-6 w-6"}),priority:"medium"},{name:"users.csv",description:"Admin Users (2 accounts)",size:"1KB",icon:r.jsx(ln,{className:"h-6 w-6"}),priority:"low"}],t=n=>{const s=document.createElement("a");s.href=`/${n}`,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Database Export - CSV Downloads"}),r.jsx("p",{className:"text-gray-600",children:"Download your complete database as CSV files"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total: 2,186 records across 6 main tables"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(n=>r.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow ${n.priority==="high"?"ring-2 ring-purple-200 bg-purple-50":""}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${n.priority==="high"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:n.icon}),n.priority==="high"&&r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Priority"})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:n.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n.description}),r.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Size: ",n.size]}),r.jsxs("button",{onClick:()=>t(n.name),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-md font-medium transition-colors ${n.priority==="high"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[r.jsx(Vn,{className:"h-4 w-4"}),"Download"]})]},n.name))}),r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Download Instructions"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Most Important:"})," ",r.jsx("code",{children:"crm_clients.csv"})," contains your 2,153 client records - your main business database."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Usage:"})," Open CSV files in Excel, Google Sheets, or import into any database system."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Migration:"})," Use these files to migrate your data to any new system that accepts CSV imports."]})]})]}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Alternative Download Methods:"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:'• Right-click any CSV file in the Replit Files panel and select "Download"'}),r.jsxs("li",{children:["• Files are also available in the ",r.jsx("code",{children:"public/"})," folder"]}),r.jsxs("li",{children:["• Complete archive available as ",r.jsx("code",{children:"database-csv-export.tar.gz"})]})]})]})]})})},VI=()=>{const e=un();return j.useEffect(()=>{window.scrollTo(0,0)},[]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"TN"})}),r.jsx("span",{className:"font-semibold",children:"TogNinja"})]}),r.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[r.jsx(Pn,{size:20}),r.jsx("span",{children:"Zurück zur Startseite"})]})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(jr,{size:48,className:"text-green-600"})})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Bestellung erfolgreich! (Demo Modus)"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Vielen Dank für Ihren Kauf! Dies ist eine Demo-Bestätigung, da Stripe im Entwicklungsmodus läuft."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Bestelldetails"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Bestellnummer:"}),r.jsxs("span",{className:"font-mono text-sm",children:["DEMO-",Date.now()]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx("span",{className:"bg-green-100 text-green-800 text-sm px-2 py-1 rounded",children:"Bezahlt (Demo)"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Produkt:"}),r.jsx("span",{children:"Fotoshooting Gutschein"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Nächste Schritte"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(pr,{size:20,className:"text-blue-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"E-Mail Bestätigung"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"Sie erhalten in Kürze eine Bestätigungs-E-Mail mit allen Details (im echten System)."})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Vn,{size:20,className:"text-blue-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Gutschein Download"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"Ihr personalisierter Gutschein wird entsprechend der gewählten Versandart bereitgestellt."})]})]})]})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"}),r.jsx("h4",{className:"font-medium text-yellow-800",children:"Demo Hinweis"})]}),r.jsx("p",{className:"text-yellow-700 text-sm mt-2",children:"Dies ist eine Demo-Umgebung. Es wurde keine echte Zahlung verarbeitet. Um echte Zahlungen zu akzeptieren, konfigurieren Sie gültige Stripe-Schlüssel in den Umgebungsvariablen."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Zur Startseite"}),r.jsx("button",{onClick:()=>e("/gutschein/family"),className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-8 py-3 rounded-lg font-semibold transition-colors",children:"Weiteren Gutschein kaufen"})]})]})]})},DMe=()=>{const[e,t]=j.useState("send"),[n,s]=j.useState([]),[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState({to:"",subject:"",content:"",autoLinkClient:!0}),[u,h]=j.useState({to:"",content:"",autoLinkClient:!0,messageType:"sms"}),[p,f]=j.useState({content:"",targetType:"all",targetPreview:[]}),[x,g]=j.useState("siparrott@yahoo.co.uk");j.useEffect(()=>{v(),b()},[]);const v=async()=>{try{const P=await fetch("/api/communications/all");if(P.ok){const k=await P.json();s(k.communications||[])}}catch(P){console.error("Failed to load communications:",P)}},b=async()=>{try{const P=await fetch("/api/crm/clients");if(P.ok){const k=await P.json();i(k.clients||[])}}catch(P){console.error("Failed to load clients:",P)}},_=async()=>{if(!c.to||!c.subject||!c.content){alert("Please fill in all required fields");return}l(!0);try{const k=await(await fetch("/api/communications/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).json();k.success?(alert(`Email sent successfully! ${k.clientId?"Linked to client record.":""}`),d({to:"",subject:"",content:"",autoLinkClient:!0}),v()):alert(`Failed to send email: ${k.error}`)}catch(P){alert(`Error sending email: ${P}`)}finally{l(!1)}},w=async()=>{if(!u.to||!u.content){alert("Please fill in all required fields");return}l(!0);try{const k=await(await fetch("/api/communications/sms/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();k.success?(alert(`SMS sent successfully! ${k.clientId?"Linked to client record.":""}`),h({to:"",content:"",autoLinkClient:!0,messageType:"sms"}),v()):alert(`Failed to send SMS: ${k.error}`)}catch(P){alert(`Error sending SMS: ${P}`)}finally{l(!1)}},S=async()=>{try{const k=await(await fetch("/api/communications/bulk/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetType:p.targetType})})).json();f(C=>({...C,targetPreview:k.clients||[]}))}catch(P){console.error("Failed to preview targets:",P)}},A=async()=>{if(!p.content){alert("Please enter SMS content");return}if(p.targetPreview.length===0){alert("No target recipients found");return}if(confirm(`Send SMS to ${p.targetPreview.length} recipients?`)){l(!0);try{const k=await(await fetch("/api/communications/sms/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:p.content,targetType:p.targetType})})).json();k.success?(alert(`Bulk SMS campaign completed! Sent: ${k.sentCount}, Failed: ${k.failedCount}`),f({content:"",targetType:"all",targetPreview:[]}),v()):alert(`Failed to send bulk SMS: ${k.errors?.join(", ")}`)}catch(P){alert(`Error sending bulk SMS: ${P}`)}finally{l(!1)}}},L=async()=>{if(!x){alert("Please enter a test email address");return}l(!0);try{const k=await(await fetch("/api/communications/email/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testEmail:x})})).json();k.success?alert("Test email sent successfully!"):alert(`Test email failed: ${k.error}`)}catch(P){alert(`Error testing email: ${P}`)}finally{l(!1)}};return r.jsx(Wn,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-purple-900 mb-8",children:"Communications Center"}),r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"send",label:"Send Messages"},{id:"bulk",label:"Bulk SMS"},{id:"history",label:"History"},{id:"test",label:"Test Config"}].map(P=>r.jsx("button",{onClick:()=>t(P.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===P.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:P.label},P.id))})}),e==="send"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Send Email"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To (Email)"}),r.jsx("input",{type:"email",value:c.to,onChange:P=>d(k=>({...k,to:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"client@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsx("input",{type:"text",value:c.subject,onChange:P=>d(k=>({...k,subject:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Email subject"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),r.jsx("textarea",{value:c.content,onChange:P=>d(k=>({...k,content:P.target.value})),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Email content..."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"autoLinkEmail",checked:c.autoLinkClient,onChange:P=>d(k=>({...k,autoLinkClient:P.target.checked})),className:"mr-2"}),r.jsx("label",{htmlFor:"autoLinkEmail",className:"text-sm text-gray-700",children:"Auto-link to client record"})]}),r.jsx("button",{onClick:_,disabled:o,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:opacity-50",children:o?"Sending...":"Send Email"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Send SMS / WhatsApp"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Type"}),r.jsxs("select",{value:u.messageType,onChange:P=>h(k=>({...k,messageType:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"sms",children:"📱 SMS Message"}),r.jsx("option",{value:"whatsapp",children:"💬 WhatsApp Message"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To (Phone)"}),r.jsx("input",{type:"tel",value:u.to,onChange:P=>h(k=>({...k,to:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+43 123 456 7890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),r.jsx("textarea",{value:u.content,onChange:P=>h(k=>({...k,content:P.target.value})),rows:4,maxLength:u.messageType==="whatsapp"?4096:160,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:u.messageType==="whatsapp"?"WhatsApp message (4096 characters max)":"SMS message (160 characters max)"}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[u.content.length,"/",u.messageType==="whatsapp"?"4096":"160"," characters"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"autoLinkSMS",checked:u.autoLinkClient,onChange:P=>h(k=>({...k,autoLinkClient:P.target.checked})),className:"mr-2"}),r.jsx("label",{htmlFor:"autoLinkSMS",className:"text-sm text-gray-700",children:"Auto-link to client record"})]}),r.jsx("button",{onClick:w,disabled:o,className:`w-full text-white py-2 px-4 rounded-md hover:opacity-80 disabled:opacity-50 ${u.messageType==="whatsapp","bg-green-600 hover:bg-green-700"}`,children:o?"Sending...":`Send ${u.messageType==="whatsapp"?"WhatsApp":"SMS"}`})]})]})]}),e==="bulk"&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-2xl",children:[r.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Bulk SMS Campaign"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),r.jsxs("select",{value:p.targetType,onChange:P=>f(k=>({...k,targetType:P.target.value,targetPreview:[]})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"all",children:"All Clients"}),r.jsx("option",{value:"leads",children:"Leads Only"}),r.jsx("option",{value:"clients",children:"Active Clients Only"})]})]}),r.jsxs("div",{children:[r.jsx("button",{onClick:S,className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Preview Recipients"}),p.targetPreview.length>0&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Found ",p.targetPreview.length," recipients with phone numbers"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message (use ","{name}"," for personalization)"]}),r.jsx("textarea",{value:p.content,onChange:P=>f(k=>({...k,content:P.target.value})),rows:4,maxLength:160,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Hello {name}, special offer just for you!"}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[p.content.length,"/160 characters"]})]}),r.jsx("button",{onClick:A,disabled:o||p.targetPreview.length===0,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-md hover:bg-orange-700 disabled:opacity-50",children:o?"Sending...":`Send to ${p.targetPreview.length} Recipients`})]})]}),e==="history"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-bold text-purple-900",children:"Communication History"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject/Content"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(P=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.messageType==="email"?"bg-blue-100 text-blue-800":P.messageType==="whatsapp"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.messageType==="email"?"📧 EMAIL":P.messageType==="whatsapp"?"💬 WHATSAPP":"📱 SMS"})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.messageType==="email"?P.subject:P.messageType==="whatsapp"?"WhatsApp Message":"SMS Message"}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.content})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:P.clientName?`${P.clientName}`:"Unknown"}),r.jsx("div",{className:"text-sm text-gray-500",children:P.clientEmail||P.phoneNumber})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="sent"?"bg-green-100 text-green-800":P.status==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.sentAt?new Date(P.sentAt).toLocaleDateString():"N/A"})]},P.id))})]})})]}),e==="test"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Test Email Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Email Address"}),r.jsx("input",{type:"email",value:x,onChange:P=>g(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"test@example.com"})]}),r.jsx("button",{onClick:L,disabled:o,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:opacity-50",children:o?"Sending...":"Send Test Email"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"This will send a test email to verify your SMTP configuration."}),r.jsx("p",{className:"mt-2",children:"Configure SMTP settings in your Heroku Config Vars:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1 text-xs",children:[r.jsx("li",{children:"SMTP_HOST"}),r.jsx("li",{children:"SMTP_PORT"}),r.jsx("li",{children:"SMTP_USER"}),r.jsx("li",{children:"SMTP_PASS"})]})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Vonage SMS/WhatsApp Setup"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-green-600 font-medium",children:"✅ API Key Configured"})}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"API Key: BPGlC0W6GktNXeO8"})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-yellow-600 font-medium",children:"⚠️ Setup Required"})}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Complete your Vonage setup:"}),r.jsxs("ol",{className:"list-decimal list-inside text-sm text-yellow-700 mt-2 space-y-1",children:[r.jsxs("li",{children:["Log into your ",r.jsx("a",{href:"https://dashboard.nexmo.com",target:"_blank",className:"underline",children:"Vonage Dashboard"})]}),r.jsx("li",{children:"Go to Settings → API Settings"}),r.jsx("li",{children:"Copy your API Secret"}),r.jsxs("li",{children:["Add these to your Heroku Config Vars:",r.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[r.jsx("li",{children:"VONAGE_API_SECRET=your-secret-here"}),r.jsx("li",{children:"VONAGE_PHONE_NUMBER=your-vonage-number"})]})]}),r.jsx("li",{children:'Click "Activate Vonage" below after adding the Config Vars'})]}),r.jsxs("div",{className:"mt-4 pt-3 border-t border-yellow-300",children:[r.jsx("button",{onClick:async()=>{l(!0);try{const k=await(await fetch("/api/communications/sms-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"vonage",apiKey:"BPGlC0W6GktNXeO8",apiSecret:"from-env",fromNumber:"TogNinja CRM"})})).json();k.success?(alert("✅ Vonage activated successfully! SMS and WhatsApp messaging is now enabled."),checkSMSConfig()):alert(`❌ Activation failed: ${k.error}`)}catch(P){alert(`❌ Error activating Vonage: ${P}`)}finally{l(!1)}},disabled:o,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50",children:o?"Activating...":"🚀 Activate Vonage Configuration"}),r.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Only click after adding VONAGE_API_SECRET to your Heroku Config Vars"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-blue-600 font-medium",children:"💡 Features Available"})}),r.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 mt-2 space-y-1",children:[r.jsx("li",{children:"📱 SMS messaging to any phone number"}),r.jsx("li",{children:"💬 WhatsApp Business messaging"}),r.jsx("li",{children:"🔗 Auto-link messages to client records"}),r.jsx("li",{children:"📊 Bulk messaging campaigns"}),r.jsx("li",{children:"📈 Delivery tracking and reporting"})]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Security Note:"})," Your API credentials are stored securely in Heroku Config Vars and never exposed in the code."]})})]})]})]})]})})},RMe=()=>{const{token:e}=Ri();un();const[t,n]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(null),[h,p]=j.useState({clientName:"",clientEmail:"",answers:{}});j.useEffect(()=>{e?f():(u("Invalid questionnaire link"),a(!1))},[e]);const f=async()=>{try{a(!0);const b=await fetch(`/api/questionnaire/${e}`);if(!b.ok)throw new Error("Questionnaire not found or expired");const _=await b.json();n(_),p(w=>({...w,clientName:_.clientName||"",clientEmail:_.clientEmail||""})),_.isUsed&&u("This questionnaire has already been completed.")}catch(b){u(b instanceof Error?b.message:"Failed to load questionnaire")}finally{a(!1)}},x=(b,_)=>{p(w=>({...w,answers:{...w.answers,[b]:_}})),d&&u(null)},g=async b=>{if(b.preventDefault(),b.stopPropagation(),!t)return;const w=t.survey.pages.flatMap(S=>S.questions).filter(S=>S.required);for(const S of w){const A=h.answers[S.id];if(!A||A.trim()===""){u(`Please answer: ${S.title}`);const L=document.getElementById(`question-${S.id}`);L&&L.scrollIntoView({behavior:"smooth",block:"center"});return}}if(!h.clientName.trim()||!h.clientEmail.trim()){u("Please provide your name and email address.");return}try{o(!0),u(null);const S=await fetch("/api/email-questionnaire",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,clientName:h.clientName.trim(),clientEmail:h.clientEmail.trim(),answers:h.answers})});if(!S.ok){const L=await S.json().catch(()=>({error:"Failed to submit questionnaire"}));throw new Error(L.error||"Failed to submit questionnaire")}const A=await S.json();console.log("✅ Questionnaire submitted successfully:",A),c(!0)}catch(S){console.error("❌ Questionnaire submission error:",S),u(S instanceof Error?S.message:"Failed to submit questionnaire. Please try again.")}finally{o(!1)}},v=b=>{const _=h.answers[b.id]||"",w=b.required&&(!_||_.trim()==="")&&d?.includes(b.title);switch(b.type){case"single_choice":case"multiple_choice":return r.jsx("div",{className:`space-y-2 ${w?"p-3 border-2 border-red-300 rounded-lg bg-red-50":""}`,children:b.options?.map(S=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:b.id,value:S.id,checked:_===S.id,onChange:A=>x(b.id,A.target.value),className:"text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm",children:S.text})]},S.id))});case"long_text":return r.jsx("textarea",{value:_,onChange:S=>x(b.id,S.target.value),rows:4,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Your answer..."});case"rating":return r.jsxs("div",{className:`space-y-2 ${w?"p-3 border-2 border-red-300 rounded-lg bg-red-50":""}`,children:[r.jsx("div",{className:"flex space-x-4 items-center",children:[1,2,3,4,5].map(S=>r.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[r.jsx("input",{type:"radio",name:b.id,value:S.toString(),checked:_===S.toString(),onChange:A=>x(b.id,A.target.value),className:"text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:S})]},S))}),b.description&&r.jsx("p",{className:"text-xs text-gray-500",children:b.description})]});case"text":default:return r.jsx("input",{type:"text",value:_,onChange:S=>x(b.id,S.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Your answer..."})}};return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading questionnaire..."})]})}):l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[r.jsx(jr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Vielen Dank!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:t?.survey.settings.thankYouMessage||"Your questionnaire has been submitted successfully. We will be in touch soon!"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Your response has been recorded and we will contact you shortly."}),r.jsx("p",{className:"text-xs text-gray-400",children:"You can safely close this page."})]})]})}):d||!t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[r.jsx(Dr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Error"}),r.jsx("p",{className:"text-gray-600 mb-6",children:d||"Questionnaire not found or has expired"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Please contact us if you continue to experience issues."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("meta",{name:"robots",content:"noindex, nofollow"}),r.jsx("div",{className:"max-w-2xl mx-auto py-8 px-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.survey.title}),t.survey.description&&r.jsx("p",{className:"text-gray-600",children:t.survey.description})]}),r.jsxs("form",{onSubmit:g,className:"space-y-6",noValidate:!0,children:[r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:h.clientName,onChange:b=>p(_=>({..._,clientName:b.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:h.clientEmail,onChange:b=>p(_=>({..._,clientEmail:b.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]})]})]}),t.survey.pages.map(b=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b pb-2",children:b.title}),b.questions.map(_=>r.jsxs("div",{id:`question-${_.id}`,className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[_.title,_.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),v(_)]},_.id))]},b.id)),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx(Dr,{className:"h-5 w-5 text-red-400"}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-red-700",children:d})})]})}),r.jsx("div",{className:"flex gap-4",children:r.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Mr,{className:"h-5 w-5 animate-spin mr-2"}),"Sending..."]}):"Submit Questionnaire"})})]})]})})]})};function FMe(){return r.jsx(uK,{client:NK,children:r.jsx(PK,{children:r.jsx(EK,{children:r.jsx(CK,{children:r.jsx(OK,{children:r.jsx(LK,{children:r.jsxs(RG,{children:[r.jsxs(FG,{children:[r.jsx(ht,{path:"/",element:r.jsx(cN,{})}),r.jsx(ht,{path:"/fotoshootings",element:r.jsx(dZ,{})}),r.jsx(ht,{path:"/fotoshootings/business",element:r.jsx(kMe,{})}),r.jsx(ht,{path:"/fotoshootings/event",element:r.jsx(AMe,{})}),r.jsx(ht,{path:"/fotoshootings/wedding",element:r.jsx(CMe,{})}),r.jsx(ht,{path:"/gutschein",element:r.jsx(uZ,{})}),r.jsx(ht,{path:"/gutschein/family",element:r.jsx(NMe,{})}),r.jsx(ht,{path:"/gutschein/newborn",element:r.jsx(SMe,{})}),r.jsx(ht,{path:"/gutschein/maternity",element:r.jsx(_Me,{})}),r.jsx(ht,{path:"/voucher/thank-you",element:r.jsx(wMe,{})}),r.jsx(ht,{path:"/blog",element:r.jsx(hZ,{})}),r.jsx(ht,{path:"/blog/:slug",element:r.jsx(oX,{})}),r.jsx(ht,{path:"/warteliste",element:r.jsx(lX,{})}),r.jsx(ht,{path:"/kontakt",element:r.jsx(cX,{})}),r.jsx(ht,{path:"/vouchers",element:r.jsx(hX,{})}),r.jsx(ht,{path:"/voucher/:slug",element:r.jsx(fX,{})}),r.jsx(ht,{path:"/vouchers/checkout/:id",element:r.jsx(VJ,{})}),r.jsx(ht,{path:"/vouchers/success",element:r.jsx(HJ,{})}),r.jsx(ht,{path:"/checkout",element:r.jsx(hN,{})}),r.jsx(ht,{path:"/checkout/:id",element:r.jsx(hN,{})}),r.jsx(ht,{path:"/checkout/voucher/:id",element:r.jsx(hN,{})}),r.jsx(ht,{path:"/checkout/success",element:r.jsx(rC,{})}),r.jsx(ht,{path:"/checkout/mock-success",element:r.jsx(VI,{})}),r.jsx(ht,{path:"/demo-success",element:r.jsx(VI,{})}),r.jsx(ht,{path:"/order-complete/:id",element:r.jsx(rC,{})}),"                ",r.jsx(ht,{path:"/account",element:r.jsx(XJ,{})}),r.jsx(ht,{path:"/account/profile",element:r.jsx(JJ,{})}),r.jsx(ht,{path:"/cart",element:r.jsx(jMe,{})}),r.jsx(ht,{path:"/galleries",element:r.jsx(WI,{})}),r.jsx(ht,{path:"/galerie",element:r.jsx(WI,{})}),r.jsx(ht,{path:"/gallery/:slug",element:r.jsx(qI,{})}),r.jsx(ht,{path:"/gallery",element:r.jsx(bMe,{children:r.jsx(qI,{})})}),r.jsx(ht,{path:"/survey-demo",element:r.jsx(lMe,{})}),r.jsx(ht,{path:"/survey/:id",element:r.jsx(uMe,{})}),r.jsx(ht,{path:"/q/:token",element:r.jsx(RMe,{})}),r.jsx(ht,{path:"/invoice/:invoiceId",element:r.jsx(TMe,{})}),r.jsx(ht,{path:"/download-data",element:r.jsx(MMe,{})}),r.jsx(ht,{path:"/admin/login",element:r.jsx(f_e,{})}),r.jsx(ht,{path:"/admin/supabase-login",element:r.jsx(d_e,{})}),r.jsx(ht,{path:"/admin/dev",element:r.jsx(c_e,{})}),r.jsx(ht,{path:"/admin",element:r.jsx(mr,{children:r.jsx(mO,{})})}),r.jsx(ht,{path:"/admin/dashboard",element:r.jsx(mr,{children:r.jsx(mO,{})})}),r.jsx(ht,{path:"/admin/leads",element:r.jsx(mr,{children:r.jsx(g_e,{})})}),r.jsx(ht,{path:"/admin/leads-simple",element:r.jsx(mr,{children:r.jsx(x_e,{})})}),r.jsx(ht,{path:"/admin/voucher-sales",element:r.jsx(mr,{children:r.jsx(b3e,{})})}),r.jsx(ht,{path:"/admin/clients",element:r.jsx(mr,{children:r.jsx(w3e,{})})}),r.jsx(ht,{path:"/admin/clients/new",element:r.jsx(mr,{children:r.jsx(QN,{})})}),r.jsx(ht,{path:"/admin/clients/:id",element:r.jsx(mr,{children:r.jsx(k3e,{})})}),r.jsx(ht,{path:"/admin/clients/:id/edit",element:r.jsx(mr,{children:r.jsx(QN,{})})}),r.jsx(ht,{path:"/admin/clients/import",element:r.jsx(mr,{children:r.jsx(C3e,{})})}),r.jsx(ht,{path:"/admin/clients/import-logs",element:r.jsx(mr,{children:r.jsx(E3e,{})})}),r.jsx(ht,{path:"/admin/high-value-clients",element:r.jsx(mr,{children:r.jsx(T3e,{})})}),r.jsx(ht,{path:"/admin/galleries",element:r.jsx(mr,{children:r.jsx(O3e,{})})}),r.jsx(ht,{path:"/admin/galleries/new",element:r.jsx(mr,{children:r.jsx(Z3e,{})})}),r.jsx(ht,{path:"/admin/galleries/:id/edit",element:r.jsx(mr,{children:r.jsx(X3e,{})})}),r.jsx(ht,{path:"/admin/galleries/:id",element:r.jsx(mr,{children:r.jsx(aAe,{})})}),r.jsx(ht,{path:"/admin/calendar",element:r.jsx(mr,{children:r.jsx(zI,{})})}),r.jsx(ht,{path:"/admin/invoices",element:r.jsx(mr,{children:r.jsx(PIe,{})})}),r.jsx(ht,{path:"/admin/files",element:r.jsx(mr,{children:r.jsx(MI,{})})}),r.jsx(ht,{path:"/admin/digital-files",element:r.jsx(mr,{children:r.jsx(MI,{})})}),r.jsx(ht,{path:"/admin/campaigns",element:r.jsx(mr,{children:r.jsx($I,{})})}),r.jsx(ht,{path:"/admin/email-campaigns",element:r.jsx(mr,{children:r.jsx($I,{})})}),r.jsx(ht,{path:"/admin/inbox",element:r.jsx(mr,{children:r.jsx(YIe,{})})}),r.jsx(ht,{path:"/admin/communications",element:r.jsx(mr,{children:r.jsx(DMe,{})})}),r.jsx(ht,{path:"/admin/questionnaires",element:r.jsx(mr,{children:r.jsx(ZIe,{})})}),r.jsx(ht,{path:"/admin/reports",element:r.jsx(mr,{children:r.jsx(XIe,{})})}),r.jsx(ht,{path:"/admin/crm-assistant",element:r.jsx(mr,{children:r.jsx(gMe,{})})}),r.jsx(ht,{path:"/admin/knowledge-base",element:r.jsx(mr,{children:r.jsx(pMe,{})})}),r.jsx(ht,{path:"/admin/settings",element:r.jsx(mr,{children:r.jsx(JIe,{})})}),r.jsx(ht,{path:"/admin/settings/email",element:r.jsx(mr,{children:r.jsx(QIe,{})})}),r.jsx(ht,{path:"/admin/settings/price-list",element:r.jsx(mr,{children:r.jsx(vMe,{})})}),r.jsx(ht,{path:"/admin/customization",element:r.jsx(mr,{children:r.jsx(tMe,{})})}),r.jsx(ht,{path:"/admin/studio-templates",element:r.jsx(mr,{children:r.jsx(nMe,{})})}),r.jsx(ht,{path:"/admin/website-wizard",element:r.jsx(mr,{children:r.jsx(sMe,{})})}),r.jsx(ht,{path:"/admin/website-analyzer",element:r.jsx(mr,{children:r.jsx(yMe,{})})}),r.jsx(ht,{path:"/",element:r.jsx(cN,{})}),r.jsx(ht,{path:"/home",element:r.jsx(cN,{})}),r.jsx(ht,{path:"/admin/calendar",element:r.jsx(mr,{children:r.jsx(zI,{})})}),r.jsx(ht,{path:"/admin/calendar-test",element:r.jsx(mr,{children:r.jsx(eMe,{})})}),r.jsx(ht,{path:"/admin/studio-calendar",element:r.jsx(U4,{to:"/admin/calendar",replace:!0})}),r.jsx(ht,{path:"/admin/blog",element:r.jsx(mr,{children:r.jsx(UI,{})})}),r.jsx(ht,{path:"/admin/blog/posts",element:r.jsx(mr,{children:r.jsx(UI,{})})}),r.jsx(ht,{path:"/admin/blog/new",element:r.jsx(mr,{children:r.jsx(fMe,{})})}),r.jsx(ht,{path:"/admin/blog/edit/:id",element:r.jsx(mr,{children:r.jsx(mMe,{})})}),r.jsx(ht,{path:"/admin/clients/new",element:r.jsx(mr,{children:r.jsx(QN,{})})}),r.jsx(ht,{path:"/gallery-shop-test",element:r.jsx(IMe,{})})]}),r.jsx(OMe,{})]})})})})})})})}{const e=console.error;console.error=(...t)=>{fetch("/api/client-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:t.join(" "),timestamp:new Date().toISOString()})}).catch(()=>{}),e.apply(console,t)}}window.addEventListener("load",()=>{document.body.style.pointerEvents="auto",document.body.style.userSelect="auto",document.body.style.overflow="auto",document.documentElement.style.overflow="auto"});const HI=()=>{try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");iM(e).render(r.jsx(j.StrictMode,{children:r.jsx(FMe,{})}))}catch(e){console.error("Failed to initialize app:",e);const t=document.getElementById("root");t&&(t.innerHTML=`
        <div style="
          display: flex; 
          align-items: center; 
          justify-content: center; 
          min-height: 100vh; 
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          text-align: center;
          font-family: system-ui, -apple-system, sans-serif;
        ">
          <div style="
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
          ">
            <h1 style="margin: 0 0 20px 0; font-size: 2rem;">NEW AGE FOTOGRAFIE</h1>
            <p style="margin: 0 0 20px 0;">Lade Anwendung...</p>
            <p style="margin: 0; opacity: 0.8;">
              Bei Problemen kontaktieren Sie uns: 
              <a href="mailto:hallo@newagefotografie.com" style="color: #fff;">hallo@newagefotografie.com</a>
            </p>
          </div>
        </div>
      `,setTimeout(()=>window.location.reload(),3e3))}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",HI):HI();export{pn as _};
